// May 28, 2023
//jshint esnext: true
var img180 = {note: "See http://tinyurl.com/KAImage4U to do your own image.",
author: "Created by Bob Lyon for Khan Academy image users.",
inflate: function(a){if(img180.img){return img180.img;}var c=function(a){var b=0,c,d,e;c=0;for(e=a.length;c<e;c++){d=a.charCodeAt(c);b=29*b+d|0;}return b&2147483647;},b=function(a){var b,c,d,e,h=256,f=[];for(b=0;256>b;b+=1){f[b]=String.fromCharCode(b);}d=c=String.fromCharCode(a[0]);for(b=1;b<a.length;b+=1){e=a[b];if(f[e]){e=f[e];}else if(e===h){e=c+c.charAt(0);}else{return null;}d+=e;f[h++]=c+e.charAt(0);c=e;}return d;},d=function(a){return this[a];}("JSON").parse(a?a:img180.csc);if(d){var e;a=(a=b(d.pix))?a:d.pix;b=255/d.digit.length;img180.img=createGraphics(d.width,d.height,JAVA2D);if(img180.img){img180.img.background(0,0,0,0);var f=img180.img.get(),k=f.sourceImg.getContext("2d"),g=k.getImageData(0,0,img180.img.width,img180.img.height),b=c(img180.note+img180.author)===d.h?b:b/4;for(e=c=0;c<a.length;){g.data[e++]=round(b*d.digit.indexOf(a[c++]));g.data[e++]=round(b*d.digit.indexOf(a[c++]));g.data[e++]=round(b*d.digit.indexOf(a[c++]));g.data[e++]=255;}k.putImageData(g,0,0);img180.img.image(f,0,0);}}return img180.img;}, 
};
{
var deflatedImage = '{"width":200,"height":20,"digit":"()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^abcdefghijklmnopqrstuvwxyz{|}~¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþ","h":1689796942,"pix":[40,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,262,204,291,292,293,294,202,296,297,294,299,300,292,205,303,301,293,303,205,302,304,291,203,312,297,312,315,203,299,315,305,319,305,301,321,204,316,312,322,328,299,307,329,314,326,332,296,305,331,329,291,307,338,204,297,333,317,291,345,305,345,326,346,325,327,339,339,342,355,339,351,349,296,324,315,350,312,341,303,324,307,324,330,303,348,311,313,336,294,364,344,344,200,382,371,375,352,318,354,306,368,334,385,380,202,335,394,358,340,310,204,357,355,379,396,293,374,397,292,108,409,260,408,409,413,414,415,416,107,418,109,420,418,107,416,424,409,420,109,425,108,422,422,105,433,422,413,422,427,427,435,425,111,442,439,418,416,106,447,429,413,447,106,433,105,440,424,455,413,427,446,447,112,462,459,415,427,442,111,464,414,437,438,438,436,445,415,457,409,455,432,434,419,420,462,484,112,474,431,455,444,107,453,477,108,469,458,472,451,493,449,476,475,494,420,467,453,496,428,425,488,431,451,413,467,495,409,512,465,472,515,449,469,510,455,514,472,484,520,525,473,478,502,429,484,413,506,500,519,429,467,500,108,467,540,500,467,527,420,541,469,519,484,422,104,554,88,556,411,291,450,448,509,482,508,521,504,442,487,492,502,466,567,426,548,541,537,574,449,451,453,453,522,418,581,577,575,573,109,534,531,107,579,433,592,105,517,456,583,433,586,503,109,467,422,529,507,547,564,427,114,610,535,481,423,501,107,554,104,479,532,615,524,443,472,507,113,626,607,480,454,620,601,507,487,451,427,589,600,575,489,566,468,585,615,550,483,463,421,598,630,107,520,553,554,510,636,647,109,629,510,417,570,643,430,662,602,572,108,596,416,520,606,657,638,576,564,429,422,90,679,260,315,507,493,671,621,502,422,102,689,619,491,613,422,103,695,536,601,605,674,604,623,676,425,469,669,686,616,654,687,649,499,615,600,629,683,488,416,546,485,486,409,569,614,698,667,493,594,712,575,706,639,631,670,641,519,529,699,470,665,523,733,674,513,442,510,697,685,424,571,642,703,664,724,507,738,723,541,694,696,613,744,111,487,429,520,656,721,753,507,427,731,750,490,413,610,114,551,462,629,89,781,558,204,770,420,596,582,692,105,541,529,538,700,740,488,580,797,767,799,663,764,713,590,617,746,593,561,753,805,665,549,641,487,729,701,751,467,115,819,544,739,724,748,560,106,729,825,743,797,650,661,107,821,718,702,607,612,580,827,415,498,665,738,832,568,761,441,667,845,500,653,618,742,822,762,748,774,743,675,825,659,710,511,447,741,431,541,731,861,502,93,872,260,297,600,705,808,600,869,562,651,663,852,787,624,518,438,792,813,516,878,675,519,622,763,887,451,842,754,425,453,689,102,729,788,773,577,750,802,565,588,657,866,714,631,862,823,646,112,652,717,841,865,854,691,840,638,909,587,788,747,919,484,529,422,596,729,697,846,595,808,688,689,723,757,891,452,847,859,940,451,810,900,769,587,467,899,832,715,803,753,91,963,783,910,750,889,912,768,927,812,752,852,684,648,954,943,102,728,631,800,752,972,484,776,834,704,641,738,929,753,490,695,103,471,666,751,734,969,987,575,982,607,921,708,617,104,519,824,893,890,753,936,892,911,990,919,819,115,1010,632,961,972,950,414,907,658,741,999,633,415,844,887,737,849,887,766,472,1033,928,1012,879,924,724,963,91,783,691,939,988,997,814,922,1025,955,1056,460,826,1054,982,640,752,991,765,577,946,1026,577,455,837,851,854,1058,723,917,1025,1021,677,1029,1037,886,1013,1054,759,103,594,856,908,735,976,660,590,830,655,1082,1053,724,1035,998,950,697,968,758,502,1040,600,1067,927,1092,597,724,978,953,625,626,858,911,672,768,1067,1046,260,307,1024,586,1027,1104,918,564,917,778,112,1001,719,920,1009,969,776,519,899,1095,888,442,1019,776,628,1054,1088,1143,896,449,510,1141,563,785,983,1023,1055,668,898,106,1128,1114,1032,1036,638,917,691,1119,1005,617,413,1071,1068,109,1139,1089,997,788,1142,999,793,1175,1078,590,999,935,418,885,969,720,1133,702,626,113,1185,1111,1125,855,1093,949,982,1107,433,86,1206,965,587,1195,750,1174,966,1039,745,563,1212,881,635,801,881,1065,973,1073,587,825,1183,1203,887,637,1164,732,954,1228,1198,590,767,985,610,1019,637,1170,1220,859,596,1174,1234,493,914,848,1151,932,1223,954,934,726,488,1197,999,422,1246,663,1197,996,832,903,510,953,645,997,1249,1022,1057,1221,590,1266,863,1159,542,1166,866,1122,259,412,1118,590,1248,418,994,1287,789,996,1038,1157,601,1238,777,1178,1099,1025,1062,1278,1222,1199,1301,956,702,1031,749,663,1087,615,596,529,552,1148,1306,1100,1055,493,1004,1091,418,1040,1168,502,1311,601,937,1189,1015,971,1051,999,1067,1128,850,601,453,1315,1129,815,854,1137,438,1147,591,1044,959,1084,916,1351,833,1307,1034,442,872,93,1208,1309,1009,940,1075,418,903,1172,409,1346,1021,1363,1129,738,1154,954,1302,1081,530,1279,1318,972,986,543,751,1344,1303,409,1103,1186,1229,462,738,1292,1069,1277,1317,910,487,994,507,830,1067,528,667,731,1110,1021,1040,1005,1344,1332,1083,1374,1201,105,736,442,1255,1151,978,1290,507,1381,751,1192,821,748,1290,1050,1272,915,1291,863,975,1253,1206,86,783,1005,1219,1253,1030,1218,1348,1165,1383,1178,723,788,1156,748,484,723,1161,1162,1388,1175,940,1342,1347,1454,1111,880,1167,1330,1460,1278,1076,425,958,722,433,1276,882,969,1293,1183,1441,1111,945,613,1021,1027,767,1430,490,453,451,1472,972,1324,488,899,427,1210,1262,1243,1264,947,634,1044,1271,1329,1412,1056,609,610,1132,1269,422,101,1510,1428,1014,1059,1459,903,697,1282,258,292,1135,1005,743,1382,1151,1375,1360,1396,1455,1079,107,903,1462,1430,1484,1243,870,867,1126,1012,1153,461,673,615,1102,1354,449,1387,1456,887,691,1366,108,1195,1217,601,1422,756,797,852,1289,563,1127,1389,485,838,1513,716,431,1448,586,1110,1467,1152,1224,822,519,776,776,429,1492,1536,1386,702,894,811,1470,650,1572,711,1352,1493,1116,472,1518,257,1284,1477,1430,1335,961,1064,1236,526,1390,702,1109,1590,1503,1062,607,968,931,949,755,1584,663,637,1293,1337,857,976,832,1545,1318,1140,1443,1273,1232,416,953,1447,1582,1504,919,1475,1633,1183,1373,1516,433,1017,1294,1570,578,942,1464,1149,1242,1028,1233,663,821,1410,806,831,1286,1464,1404,741,1521,472,1610,720,1293,467,1595,256,682,1657,977,1364,690,1105,1606,1257,420,1019,1613,790,1367,913,1674,1423,1543,753,1094,1054,1231,1573,429,453,1510,101,453,1188,789,762,1321,1294,1615,1379,887,1187,1675,523,1119,1499,106,1665,1382,1269,1489,1546,1337,1704,1445,1191,1685,1607,1006,1433,1407,1496,1575,1598,587,1417,821,1533,1571,1647,1544,599,1703,644,577,1373,1600,1272,816,1638,1044,1739,1222,607,1357,260,1666,1046,963,781,89,87,1754,1750,1751,1752,1758,1758,85,1761,1752,1756,1764,1765,1766,1750,94,1769,1770,1754,87,1763,1756,1752,1435,1777,1206,1752,97,1781,99,1783,1770,1767,1357,1357,1046,1774,1767,91,679,90,556,88,1759,89,1791,1757,1758,1764,1357,1793,1435,1793,1357,1785,1756,1793,1046,1808,1791,1793,1752,1810,963,1770,1790,1788,1800,1772,1752,1807,1769,1435,1822,781,1046,1824,94,1764,1776,1206,1820,1799,1756,1787,872,1046,1793,1772,1772,1357,1781,97,1764,1770,1838,93,1797,1764,1793,1770,1770,1845,1835,1832,1759,1795,1806,872,98,1863,1357,1752,1827,89,1849,1849,1852,679,1795,1790,1783,99,1812,1814,781,1816,91,1833,86,1797,1878,1801,1766,1797,1435,1790,1836,1857,1809,679,1819,1838,1863,98,1812,1892,1836,1765,260,422,1847,1769,1897,1835,1885,1885,1858,1798,1837,1839,1799,1882,1752,1812,1860,679,1911,1900,1818,781,1842,1754,1880,1901,1915,781,1795,1900,1802,872,1752,1931,1934,781,1761,85,1888,1206,1795,1840,1872,556,1890,1756,1848,1914,1881,1828,963,1932,1913,93,1871,90,1046,1889,1952,1951,89,1873,1930,556,1880,1752,1939,1891,1950,1767,1790,1812,1790,1793,1919,1958,1800,1928,1791,1954,91,1845,1836,1841,1754,1815,1894,781,1812,1829,872,1964,1912,91,1835,1949,93,1907,1971,1766,1877,1945,88,1811,1769,1908,679,1772,1936,1787,1992,93,1994,1435,1994,1980,1911,1910,1928,1900,1835,1795,289,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,276]}';
}

let img=img180.inflate(deflatedImage).externals.canvas;
var externals;
externals.context.imageSmoothingEnabled=false;

let s=0.125;
const g=createGraphics(width*s,height*s,P2D);
//g.scale(1/s);
const drawImage=g.externals.context.drawImage.bind(g.externals.context);//allows cropping

function button(x,y,w,h){
    const pad=2;
    let firsty=0;
    while(h>0){
        let h2=min(h,img.height-pad*2-pad*firsty);
        let pw=w,px=x;
        let firstx=0;
        //draw row
        while(w>0){
            let w2=min(w,img.width-pad*2-pad*firstx);
            drawImage(img,pad*firstx,pad*firsty,w2,h2,x,y,w2,h2);//draw row part
            w-=img.width-pad*2-pad*firstx;
            x+=w2;
            firstx=1;
        }
        drawImage(img,img.width-pad,pad*firsty,pad,h2, x-pad,y,pad,h2);//draw side pieces
        x=px;
        w=pw;
        h-=img.height-pad*2-pad*firsty;
        y+=h2;
        firsty=1;
    }
    let firstx=0;
    while(w>0){
        let w2=min(w,img.width-pad*2-pad*firstx);
        drawImage(img,pad*firstx,img.height-pad,w2,pad, x,y-pad,w2,pad);//draw bottom pieces
        w-=img.width-pad*2-pad*firstx;
        x+=w2;
        firstx=1;
    }
    drawImage(img,img.width-pad,img.height-pad,pad,pad,x-pad,y-pad,pad,pad);//draw bottom right corner piece
}
draw= function() {
    background(255, 255, 255);
    fill(255, 0, 0);
    noStroke();
    rect(0,0,mouseX,mouseY);
    g.background(255, 255, 255);
    button(0,0,round(mouseX*s),round(mouseY*s));
    image(g,0,0,width,height);
};
