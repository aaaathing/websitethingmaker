"use strict";const version="Beta 1.1.0";let win,workerCount,workerURL,isNode=!1;try{win=window}catch{win=module.exports,isNode=!0}isNode?(workerCount=require("os").cpus(),workerURL=__dirname+"/worker.js"):(workerCount=navigator.hardwareConcurrency,workerURL=URL.createObjectURL(new Blob([document.querySelector("#workerCode").text],{type:"text/javascript"}))),workerCount=(workerCount||4)-1||1;{win.workers=[],win.parent.allWorkers=win.allWorkers=[];let e=[],a=[];for(let o=0,i=workerCount;o<i;o++){let r=new win.Worker(workerURL);r.id=o,r.onmessage=t=>{let[s,o,i]=r.theJob;if(t.data.progress)return i(t.data.progress);o(t.data),win.workers.push(r),a[r.id].length?a[r.id].shift()():e.length&&e.shift()()},win.workers.push(r),win.allWorkers.push(r),a.push([])}function s(e,t){let s=[],o=new Promise((o=>{s[1]=o;let i=allWorkers[t];workers.includes(i)?(workers.splice(workers.indexOf(i),1),i.theJob=s,i.postMessage(e)):a[t].push((()=>{i=allWorkers[t],workers.splice(workers.indexOf(i),1),i.theJob=s,i.postMessage(e)}))}));return s[0]=o,o}win.doWork=function(t,a){let s=[],o=new Promise((a=>{s[1]=a;let o=win.workers.shift();o?(o.theJob=s,o.postMessage(t)):e.push((()=>{o=win.workers.shift(),o.theJob=s,o.postMessage(t)}))}));return s[0]=o,s[2]=a,o},win.sendAllWorkers=async function(e){let t=[];for(let a=0;a<allWorkers.length;a++)t.push(s(e,a));Promise.all(t)}}const{cos:cos,sin:sin,round:round,floor:floor,ceil:ceil,min:min,max:max,abs:abs,sqrt:sqrt,atan:atan,atan2:atan2}=Math,rand=function(e,t){return 2===arguments.length?Math.random()*(t-e)+e:1===arguments.length?Math.random()*e:Math.random()},avg=function(){for(var e=0,t=0,a=0;a<arguments.length;a++)(arguments[a]||0===arguments[a])&&(e+=arguments[a],t++);return e/=t},mod=function(e,t){return e-floor(e/t)*t};function xyArrayHas(e,t,a,s,o,i=e.length,r=t&&t.length){for(var n=0;n<i;n+=4)if(e[n]===a&&e[n+1]===s&&e[n+2]===o)return!0;if(t)for(n=0;n<r;n+=4)if(t[n]===a&&t[n+1]===s&&t[n+2]===o)return!0}function emptyIfNullish(e){return e||0===e?e:""}function atoarr(e){let t=atob(e),a=new Uint8Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);return a}function chunkString(e,t){const a=Math.ceil(e.length/t),s=Array(a);let o=0;for(let i=0;i<a;i++)s[i]=e.substr(o,t),o+=t;return s}function chunkArray(e,t){let a=[];for(let s=0;s<e.length;s+=t){const o=e.slice(s,s+t);a.push(o)}return a}function sleep(e){return new Promise((t=>setTimeout(t,e)))}Math.PI2=Math.PI/2,Math.PI4=Math.PI/4,Math.PId=2*Math.PI,String.prototype.hashCode=function(){var e,t=0;if(0===this.length)return t;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t},Uint8Array.prototype.toString=function(){let e="";for(let t=0;t<this.length;t++)e+=String.fromCharCode(this[t]);return btoa(e)},Uint8Array.prototype.toJSON=function(){return"BitArray("+8*this.length+")"};const generateID=()=>""+Date.now().toString(36)+(1e6*Math.random()|0).toString(36);function map(e,t,a,s,o){return s+(e-t)/(a-t)*(o-s)}function mapClamped(e,t,a){return Math.min(Math.max((e-t)/(a-t),0),1)}function lerp(e,t,a){return t+e*(a-t)}function dist2(e,t,a,s){let o=e-a,i=t-s;return sqrt(o*o+i*i)}function dist3(e,t,a,s,o,i){let r=e-s,n=t-o,l=a-i;return sqrt(r*r+n*n+l*l)}function dist3Sq(e,t,a,s,o,i){let r=e-s,n=t-o,l=a-i;return r*r+n*n+l*l}function mag(e,t,a){return sqrt(e*e+t*t+a*a)}function line3DConncected(e,t,a,s,o,i,r){for(var n=Math.round(e),l=Math.round(t),h=Math.round(a),d=Math.round(s),c=Math.round(o),p=Math.round(i),u=Math.abs(n-d),m=Math.abs(l-c),g=Math.abs(h-p),k=d<n?1:-1,y=c<l?1:-1,b=p<h?1:-1,w=Math.sqrt(u*u+m*m+g*g),f=.5*w/u,B=.5*w/m,S=.5*w/g,v=w/u,x=w/m,P=w/g;d!==n||c!==l||p!==h;)f<B?f<S?(d+=k,f+=v):f>S?(p+=b,S+=P):(d+=k,f+=v,p+=b,S+=P):f>B?B<S?(c+=y,B+=x):B>S?(p+=b,S+=P):(c+=y,B+=x,p+=b,S+=P):B<S?(c+=y,B+=x,d+=k,f+=v):B>S?(p+=b,S+=P):(d+=k,f+=v,c+=y,B+=x,p+=b,S+=P),r.push(d,c,p)}function line3D(e,t,a,s,o,i,r){s=round(s),o=round(o),i=round(i),e=round(e),t=round(t),a=round(a),r.push(s,o,i);let n,l,h,d=abs(e-s),c=abs(t-o),p=abs(a-i);if(n=e>s?1:-1,l=t>o?1:-1,h=a>i?1:-1,d>=c&&d>=p){let t=2*c-d,a=2*p-d;for(;s!=e;)s+=n,t>=0&&(o+=l,t-=2*d),a>=0&&(i+=h,a-=2*d),t+=2*c,a+=2*p,r.push(s,o,i)}else if(c>=d&&c>=p){let e=2*d-c,a=2*p-c;for(;o!=t;)o+=l,e>=0&&(s+=n,e-=2*c),a>=0&&(i+=h,a-=2*c),e+=2*d,a+=2*p,r.push(s,o,i)}else{let e=2*c-p,t=2*d-p;for(;i!=a;)i+=h,e>=0&&(o+=l,e-=2*p),t>=0&&(s+=n,t-=2*p),e+=2*c,t+=2*d,r.push(s,o,i)}}{const n=new MessageChannel;let l={},h=0;n.port1.onmessage=e=>{l[e.data](),delete l[e.data]},win.yieldThread=function(){return new Promise((e=>{let t=h++;l[t]=e,n.port2.postMessage(t)}))}}function mapFrom(e,t,a){return(e-t)/(a-t)}function preferMiddle(e,t,a,s){let o=t;return e>(t=mapFrom(t,a,s))?(e=mapFrom(e,t,1),e=lerp(e**=2,o,s)):(e=mapFrom(e,t,0),e=lerp(e**=2,o,a)),e}function preferMiddleSimple(e){return e=2*(e-.5),e=(e**=3)/2+.5}{let d,u=1e3/20;function m(e){return 3===e.length?(e[3]=e[2],e[4]=e[2],e[5]=e[2]):2===e.length?(e[2]=e[1],e[3]=e[2],e[4]=e[2],e[5]=e[2],e[1]=e[0]):4===e.length&&(e[4]=e[5]=e[3],e[3]=e[2]),e}let g={height:80,smooth:.01,extra:30,caveSize:0,biomeSmooth:.007};win.generator=g;const k=255,y=-64,w=y-40,f=127,B=62,S=[{name:"air",id:0,textures:new Array(6).fill("none"),transparent:!0,shadow:!1,hidden:!0},{name:"grass",Name:"Grass Block",textures:["dirt","grassTop","grassSide"],breakTime:.9,blastResistance:.6,drop:"dirt",type:"ground",grassSound:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l),d="snow"===S[h].name||"snowBlock"===S[h].name;s===x.grass&&d?o.setBlock(e,t,a,x.grass|$,!1,!1,!1,!1,l):s!==(x.grass|$)||d||o.setBlock(e,t,a,x.grass,!1,!1,!1,!1,l)},compostChance:.3,category:"nature"},{name:"dirt",Name:"Dirt",breakTime:.75,blastResistance:.5,type:"ground",category:"nature",digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"stone",Name:"Stone",drop:"cobblestone",type:"rock1",category:"nature",breakTime:7.5,blastResistance:6,stoneSound:!0},{name:"bedrock",Name:"Bedrock",category:"nature",breakTime:89e6,blastResistance:36e5,stoneSound:!0,pistonPush:!1,pistonPull:!1},{name:"sand",Name:"Sand",breakTime:.75,blastResistance:.5,fallingDust:[212/255,195/255,148/255],category:"nature",onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},digSound:["block.sand.dig1","block.sand.dig2","block.sand.dig3","block.sand.dig4"],stepSound:["block.sand.step1","block.sand.step2","block.sand.step3","block.sand.step4","block.sand.step5"]},{name:"gravel",Name:"Gravel",breakTime:.9,blastResistance:.6,type:"ground",category:"nature",fallingDust:[132/255,126/255,124/255],onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},drop:function(){return 1===round(Gt(10))?"flint":"gravel"},digSound:["block.gravel.dig1","block.gravel.dig2","block.gravel.dig3","block.gravel.dig4"],stepSound:["block.gravel.step1","block.gravel.step2","block.gravel.step3","block.gravel.step4"]},{name:"leaves",Name:"Leaves",transparent:!0,shadow:!1,cullFace:"never",breakTime:.3,blastResistance:.2,type:"plant2",category:"nature",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"oakSapling":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"glass",Name:"Glass",transparent:!0,shadow:!1,breakTime:.45,blastResistance:.3,type:"glass",category:"build",glassSound:!0},{name:"cobblestone",Name:"Cobblestone",breakTime:10,blastResistance:6,type:"rock1",category:"build",stoneSound:!0},{name:"mossyCobble",Name:"Mossy Cobblestone",breakTime:10,blastResistance:6,type:"rock1",category:"build",stoneSound:!0},{name:"stoneBricks",Name:"Stone Bricks",breakTime:7.5,type:"rock1",category:"build",stoneSound:!0},{name:"mossyStoneBricks",Name:"Mossy Stone Bricks",breakTime:7.5,type:"rock1",category:"build",stoneSound:!0},{name:"bricks",Name:"Bricks",breakTime:10,type:"rock1",category:"build",stoneSound:!0},{name:"coalOre",Name:"Coal Ore",breakTime:15,type:"rock1",category:"nature",drop:"coal",stoneSound:!0,experience:.1},{name:"ironOre",Name:"Iron Ore",breakTime:15,type:"rock2",category:"nature",drop:"rawIron",stoneSound:!0},{name:"goldOre",Name:"Gold Ore",breakTime:15,type:"rock3",category:"nature",drop:"rawGold",stoneSound:!0},{name:"diamondOre",Name:"Diamond Ore",breakTime:15,type:"rock3",category:"nature",drop:"diamond",stoneSound:!0,experience:1},{name:"redstoneOre",Name:"Redstone Ore",breakTime:15,type:"rock3",category:"nature",stoneSound:!0,drop:"redstone",dropAmount:[4,5],experience:.3},{name:"lapisOre",Name:"Lapis Lazuli Ore",breakTime:15,type:"rock2",category:"nature",drop:"lapisLazuli",stoneSound:!0,experience:.5},{name:"emeraldOre",Name:"Emerald Ore",breakTime:15,type:"rock3",category:"nature",drop:"emerald",stoneSound:!0,experience:1.5},{name:"coalBlock",Name:"Block of Coal",breakTime:25,type:"rock1",category:"build",stoneSound:!0,burnChance:.4,burnTime:50},{name:"ironBlock",Name:"Block of Iron",breakTime:25,type:"metal2",category:"build",stoneSound:!0},{name:"goldBlock",Name:"Block of Gold",breakTime:15,type:"metal3",category:"build",stoneSound:!0},{name:"diamondBlock",Name:"Block of Diamond",breakTime:25,type:"metal3",category:"build",stoneSound:!0},{name:"redstoneBlock",Name:"Block of Redstone",breakTime:25,type:"metal1",category:"redstone",stoneSound:!0,onset:function(e,t,a,s,o){o.setPower(e,t,a,16,!1,s),o.spreadPower(e,t,a,16,s)},ondelete:function(e,t,a,s,o,i,r){r.setPower(e,t,a,0,!1,i),r.unspreadPower(e,t,a,16,!1,i)},damage:1,dieMessage:()=>username+" died from radiation from block of redstone."},{name:"lapisBlock",Name:"Block of Lapis Lazuli",breakTime:15,type:"metal2",category:"build",stoneSound:!0},{name:"emeraldBlock",Name:"Block of Emerald",breakTime:25,type:"metal3",category:"build",stoneSound:!0},{name:"oakPlanks",Name:"Oak Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"oakLog",Name:"Oak Log",textures:["logTop","logSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"acaciaPlanks",Name:"Acacia Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"acaciaLog",Name:"Acacia Log",textures:["acaciaLogTop","acaciaLogSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"birchPlanks",Name:"Birch Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"birchLog",Name:"Birch Log",textures:["birchLogTop","birchLogSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"darkOakPlanks",Name:"Dark Oak Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"darkOakLog",Name:"Dark Oak Log",textures:["darkOakLogTop","darkOakLogSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"junglePlanks",Name:"Jungle Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"jungleLog",Name:"Jungle Log",textures:["jungleLogTop","jungleLogSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"sprucePlanks",Name:"Spruce Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"spruceLog",Name:"Spruce Log",textures:["spruceLogTop","spruceLogSide"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"whiteWool",Name:"White Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"orangeWool",Name:"Orange Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"magentaWool",Name:"Magenta Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"lightBlueWool",Name:"Light Blue Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"yellowWool",Name:"Yellow Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"limeWool",Name:"Lime Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"pinkWool",Name:"Pink Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"grayWool",Name:"Gray Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"lightGrayWool",Name:"Light Gray Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"cyanWool",Name:"Cyan Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"purpleWool",Name:"Purple Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"blueWool",Name:"Blue Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"brownWool",Name:"Brown Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"greenWool",Name:"Green Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"redWool",Name:"Red Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"blackWool",Name:"Black Wool",breakTime:1.2,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"whiteConcrete",Name:"White Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"orangeConcrete",Name:"Orange Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"magentaConcrete",Name:"Magenta Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"lightBlueConcrete",Name:"Light Blue Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"yellowConcrete",Name:"Yellow Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"limeConcrete",Name:"Lime Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"pinkConcrete",Name:"Pink Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"grayConcrete",Name:"Gray Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"lightGrayConcrete",Name:"Light Gray Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"cyanConcrete",Name:"Cyan Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"purpleConcrete",Name:"Purple Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"blueConcrete",Name:"Blue Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"brownConcrete",Name:"Brown Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"greenConcrete",Name:"Green Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"redConcrete",Name:"Red Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"blackConcrete",Name:"Black Concrete",breakTime:9,type:"rock1",category:"build",stoneSound:!0},{name:"bookshelf",Name:"Bookshelf",textures:["oakPlanks","bookshelf"],stoneSound:!0,type:"wood",category:"decoration",burnChance:.4,burnTime:30},{name:"netherrack",Name:"Netherrack",breakTime:2,type:"rock1",category:"nature",burnTime:1/0,digSound:["block.netherrack.dig1","block.netherrack.dig2","block.netherrack.dig3","block.netherrack.dig4","block.netherrack.dig5","block.netherrack.dig6"],stepSound:["block.netherrack.step1","block.netherrack.step2","block.netherrack.step3","block.netherrack.step4","block.netherrack.step5","block.netherrack.step6"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"soulSand",Name:"Soul Sand",category:"nature",speedFactor:.5,canHaveSoulFire:!0,digSound:["block.soul_sand.dig1","block.soul_sand.dig2","block.soul_sand.dig3","block.soul_sand.dig4","block.soul_sand.dig5","block.soul_sand.dig6","block.soul_sand.step7","block.soul_sand.step8","block.soul_sand.step9"],stepSound:["block.soul_sand.step1","block.soul_sand.step2","block.soul_sand.step3","block.soul_sand.step4","block.soul_sand.step5","block.soul_sand.step6"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"glowstone",Name:"Glowstone",breakTime:.45,type:"rock1",category:"decoration",lightLevel:15,glassSound:!0,shadow:!1,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"netherBricks",Name:"Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"redNetherBricks",Name:"Red Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"netherQuartzOre",Name:"Nether Quartz Ore",category:"nature",digSound:["block.nether_ore.dig1","block.nether_ore.dig2","block.nether_ore.dig3","block.nether_ore.dig4"],stepSound:["block.nether_ore.step1","block.nether_ore.step2","block.nether_ore.step3","block.nether_ore.step4","block.nether_ore.step5"],drop:"quartz",dropAmount:[1,2],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"quartzBlock",Name:"Block of Quartz",category:"build",textures:["quartzBlockBottom","quartzBlockTop","quartzBlockSide"],stoneSound:!0},{name:"quartzPillar",Name:"Pillar",category:"build",textures:["quartzPillarTop","quartzPillar"],stoneSound:!0},{name:"chiseledQuartzBlock",Name:"Chiseled Quartz Block",category:"build",textures:["chiseledQuartzBlockTop","chiseledQuartzBlock"],stoneSound:!0},{name:"chiseledStoneBricks",Name:"Chiseled Stone Bricks",category:"build",stoneSound:!0},{name:"smoothStone",Name:"Smooth Stone",category:"build",stoneSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"andesite",Name:"Andesite",stoneSound:!0,category:"nature",randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedAndesite",Name:"Polished Andesite",category:"build",stoneSound:!0},{name:"diorite",Name:"Diorite",stoneSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedDiorite",Name:"Polished Diorite",category:"build",stoneSound:!0},{name:"granite",Name:"Granite",stoneSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedGranite",Name:"Polished Granite",category:"build",stoneSound:!0},{name:"tnt",Name:"TNT",textures:["tntBottom","tntTop","tntSides"],superTntTextures:["superTntBottom","superTntTop","superTnt"],ultraTntTextures:["ultraTntBottom","ultraTntTop","ultraTnt"],explode:function(e,t,a,s,o,i){i.setBlock(e,t,a,0,!1,!1,!1,!1,o);var r=new Ve[Xe.PrimedTNT](e,t,a);if(i.addEntity(r,!1,o),i.playSound(e,t,a,"entity.tnt.fuse"),"explosion"===s)r.timeLimit=rand(10,30)},superTntExplode:function(e,t,a,s,o){o.setBlock(e,t,a,0,!1,!1,!1,!1,s);var i=new Ve[Xe.PrimedSuperTNT](e,t,a);o.addEntity(i,!1,s),o.playSound(e,t,a,"entity.tnt.fuse")},ultraTntExplode:function(e,t,a,s,o){o.setBlock(e,t,a,0,!1,!1,!1,!1,s);var i=new Ve[Xe.PrimedUltraTNT](e,t,a);o.addEntity(i,!1,s),o.playSound(e,t,a,"entity.tnt.fuse")},onpowerupdate:function(e,t,a,s,o,i,r,n,l){l.getRedstonePower(e,t,a,n)>0&&this.explode(e,t,a,null,n,l)},onset:function(e,t,a,s,o){o.getRedstonePower(e,t,a,s)>0&&this.explode(e,t,a,null,s,o)},burnChance:.6,onburn:function(e,t,a,s,o){this.explode(e,t,a,null,s,o)},category:"redstone",grassSound:!0},{name:"portal",solid:!1,shadow:!1,portal:!0,transparent:!0,cullFace:"same",lightLevel:11,flatIcon:!0,drop:"air",ontouch:function(){thisSceneCurrent&&(touchingPortal=!0,portalEffect+=2.5,portalEffect>=100&&portalFadeOutEffect<=0&&(portalFadeOutEffect=100,""===p.dimension?(p.x/=8,p.z/=8):(p.x*=8,p.z*=8),goToDimension("nether"===p.dimension?"":"nether"),playSound("block.portal.travel"),send({type:"playSound",data:"block.portal.travel",x:p.x,y:p.y,z:p.z}),achievment("Into the Nether")))},glassSound:!0,ambientSound:"block.portal.portal",pistonPush:!1,pistonPull:!1,hidden:!0,searchForPortal:function(e,t,a,s){for(let o=0;o<128;o++)for(let i=0;i<128;i++)for(let r=0;r<128;r++){let n=e+(o%2?-(o+1)/2:o/2),l=t+(i%2?-(i+1)/2:i/2),h=a+(r%2?-(r+1)/2:r/2);if("portal"===S[world.getBlock(n,l,h,s)].name)return[n,l,h]}},doneLoading:function(){let e=this.searchForPortal(round(p.x),round(p.y),round(p.z),p.dimension);if(e)p.x=e[0],p.y=e[1]+p.bottomH,p.z=e[2],p.lastY=0;else{let e=0,t=round(p.x),a=(round(p.y),round(p.z)),s=32;e:for(let o=32;o<128;o++){for(let s=t-2;s<t+2;s++)for(let t=a-2;t<a+2;t++)if(S[world.getBlock(s,o,t,p.dimension)].solid){e=0;continue e}if(e++,s=o,6===e)break e}if(6===e){let e=t,o=a,i=s;rand()>.5?(world.setBlock(e-2,i-5,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,i-5,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-5,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,i-5,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,i-4,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,i-4,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-4,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,i-4,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,i-3,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,i-3,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-3,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,i-3,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,i-2,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,i-2,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-2,o,x.portal|ne|Le,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,i-2,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,i-1,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,i-1,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-1,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,i-1,o,x.obsidian,!1,!1,!1,!1,p.dimension)):(world.setBlock(e,i-5,o-2,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-5,o-1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-5,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-5,o+1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-4,o-2,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-4,o-1,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-4,o,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-4,o+1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-3,o-2,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-3,o-1,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-3,o,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-3,o+1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-2,o-2,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-2,o-1,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-2,o,x.portal|ne|Ie,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-2,o+1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-1,o-2,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-1,o-1,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-1,o,x.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,i-1,o+1,x.obsidian,!1,!1,!1,!1,p.dimension)),p.y=s-5+p.bottomH,p.x,p.z=o,p.lastY=0}else console.log("no portal")}}},{name:"obsidian",Name:"Obsidian",stoneSound:!0,type:"rock4",category:"nature",breakTime:250,blastResistance:1200,pistonPush:!1,pistonPull:!1,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"redstone",Name:"Redstone Dust",item:!0,useAs:"redstoneDust",category:"redstone"},{name:"redstoneDust",textures:"redstoneDustDot",shadow:!1,transparent:!0,solid:!1,hidden:!0,smoothLight:!1,damage:(e,t,a,s)=>world.getPower(e,t,a,s)/15,dieMessage:()=>username+" died from radiation from redstone dust.",drop:"redstone",tagBits:{north:[0,1],south:[1,1],east:[2,1],west:[3,1],northUp:[4,1],southUp:[5,1],eastUp:[6,1],westUp:[7,1],northDown:[8,1],southDown:[9,1],eastDown:[10,1],westDown:[11,1],up:[12,1],down:[13,1]},onupdate:function(e,t,a,s,o,i,r,n,l){let h,d,c,p,u,m,g=o.getTags(e,t,a,l),k=ct(g,"northUp",this.id),y=ct(g,"southUp",this.id),b=ct(g,"eastUp",this.id),w=ct(g,"westUp",this.id),f=ct(g,"northDown",this.id),B=ct(g,"southDown",this.id),v=ct(g,"eastDown",this.id),x=ct(g,"westDown",this.id),P=k,T=y,N=b,C=w,z=f,L=B,R=v,I=x,M=o.getBlock(e,t+1,a);M&&!S[M].transparent?w=b=y=k=u=!1:(w=this.connectable(e+1,t+1,a,"westUp",l,s,o),b=this.connectable(e-1,t+1,a,"eastUp",l,s,o),y=this.connectable(e,t+1,a-1,"southUp",l,s,o),k=this.connectable(e,t+1,a+1,"northUp",l,s,o),u=this.connectable(e,t+1,a,"up",l,s,o)),x=this.connectable(e+1,t-1,a,"westDown",l,s,o),v=this.connectable(e-1,t-1,a,"eastDown",l,s,o),B=this.connectable(e,t-1,a-1,"southDown",l,s,o),f=this.connectable(e,t-1,a+1,"northDown",l,s,o),m=this.connectable(e,t-1,a,"down",l,s,o),p=w||x||this.connectable(e+1,t,a,"west",l,s,o),c=b||v||this.connectable(e-1,t,a,"east",l,s,o),d=y||B||this.connectable(e,t,a-1,"south",l,s,o),h=k||f||this.connectable(e,t,a+1,"north",l,s,o),h+d+c+p===1&&(h&&(d=!0),d&&(h=!0),c&&(p=!0),p&&(c=!0)),(u||m)&&(h=d=c=p=!0),o.setTagByName(e,t,a,"north",h,!0,l,!0),o.setTagByName(e,t,a,"south",d,!0,l,!0),o.setTagByName(e,t,a,"east",c,!0,l,!0),o.setTagByName(e,t,a,"west",p,!0,l,!0),o.setTagByName(e,t,a,"northUp",k,!0,l,!0),o.setTagByName(e,t,a,"southUp",y,!0,l,!0),o.setTagByName(e,t,a,"eastUp",b,!0,l,!0),o.setTagByName(e,t,a,"westUp",w,!0,l,!0),o.setTagByName(e,t,a,"northDown",f,!0,l,!0),o.setTagByName(e,t,a,"southDown",B,!0,l,!0),o.setTagByName(e,t,a,"eastDown",v,!0,l,!0),o.setTagByName(e,t,a,"westDown",x,!0,l,!0),o.setTagByName(e,t,a,"up",u,!0,l,!0),o.setTagByName(e,t,a,"down",m,!1,l,!1);let D=h+d+c+p,A=this.id;2===D?h&&p?A=this.id|Q|Ie:p&&d?A=this.id|Q|Re:d&&c?A=this.id|Q|Me:c&&h?A=this.id|Q|Le:((h||d)&&(A=this.id|J|Le),(c||p)&&(A=this.id|J|Ie)):3===D?c&&p?A=h?this.id|ee|Le:this.id|ee|Re:h&&d&&(A=c?this.id|ee|Me:this.id|ee|Ie):4===D&&(A=this.id|re),(s&ze)===ze&&(A|=ze),o.getBlock(e,t,a,l)!==A&&o.setBlock(e,t,a,A,!1,!1,!1,!0,l),P!=k&&(o.updateBlock(e,t+1,a+1,!1,!1,null,null,null,l),o.unspreadPower(e,t+1,a+1,o.getPower(e,t+1,a+1,l),!0,l)),T!=y&&(o.updateBlock(e,t+1,a-1,!1,!1,null,null,null,l),o.unspreadPower(e,t+1,a-1,o.getPower(e,t+1,a-1,l),!0,l)),C!=w&&(o.updateBlock(e+1,t+1,a,!1,!1,null,null,null,l),o.unspreadPower(e+1,t+1,a,o.getPower(e+1,t+1,a,l),!0,l)),N!=b&&(o.updateBlock(e-1,t+1,a,!1,!1,null,null,null,l),o.unspreadPower(e-1,t+1,a,o.getPower(e-1,t+1,a,l),!0,l)),z!=f&&(o.updateBlock(e,t-1,a+1,!1,!1,null,null,null,l),o.unspreadPower(e,t-1,a+1,o.getPower(e,t-1,a+1,l),!0,l)),L!=B&&(o.updateBlock(e,t-1,a-1,!1,!1,null,null,null,l),o.unspreadPower(e,t-1,a-1,o.getPower(e,t-1,a-1,l),!0,l)),I!=x&&(o.updateBlock(e+1,t-1,a,!1,!1,null,null,null,l),o.unspreadPower(e+1,t-1,a,o.getPower(e+1,t-1,a,l),!0,l)),R!=v&&(o.updateBlock(e-1,t-1,a,!1,!1,null,null,null,l),o.unspreadPower(e-1,t-1,a,o.getPower(e-1,t-1,a,l),!0,l)),this.onpowerupdate(e,t,a,e,t,a,!1,l,o)},onset:function(e,t,a,s,o){let i=o.getRedstoneWirePower(e,t,a,s);"strong"===o.getSurroundingBlockPower(e,t,a,s)&&(i=15),o.setTagByName(e,t,a,"power",i,!1,s),i&&o.spreadPower(e,t,a,i,s)},ondelete:function(e,t,a,s,o,i,r){const n=ct(s,"power",this.id);var l;(n&&r.unspreadPower(e,t,a,n,!1,i),ct(s,"north",this.id))&&((l=r.getBlock(e,t,a+1,i))&&!S[l].transparent&&r.setBlockPower(e,t,a+1,null,"south",i));ct(s,"south",this.id)&&((l=r.getBlock(e,t,a-1,i))&&!S[l].transparent&&r.setBlockPower(e,t,a-1,null,"north",i));ct(s,"west",this.id)&&((l=r.getBlock(e+1,t,a,i))&&!S[l].transparent&&r.setBlockPower(e+1,t,a,null,"east",i));ct(s,"east",this.id)&&((l=r.getBlock(e-1,t,a,i))&&!S[l].transparent&&r.setBlockPower(e-1,t,a,null,"west",i));(l=r.getBlock(e,t-1,a,i))&&!S[l].transparent&&r.setBlockPower(e,t-1,a,null,"top",i),ct(s,"northUp",this.id)&&(r.updateBlock(e,t+1,a+1,!1,!1,null,null,null,i),r.unspreadPower(e,t+1,a+1,r.getPower(e,t+1,a+1,i),!0,i)),ct(s,"southUp",this.id)&&(r.updateBlock(e,t+1,a-1,!1,!1,null,null,null,i),r.unspreadPower(e,t+1,a-1,r.getPower(e,t+1,a-1,i),!0,i)),ct(s,"westUp",this.id)&&(r.updateBlock(e+1,t+1,a,!1,!1,null,null,null,i),r.unspreadPower(e+1,t+1,a,r.getPower(e+1,t+1,a,i),!0,i)),ct(s,"eastUp",this.id)&&(r.updateBlock(e-1,t+1,a,!1,!1,null,null,null,i),r.unspreadPower(e-1,t+1,a,r.getPower(e-1,t+1,a,i),!0,i)),ct(s,"northDown",this.id)&&(r.updateBlock(e,t-1,a+1,!1,!1,null,null,null,i),r.unspreadPower(e,t-1,a+1,r.getPower(e,t-1,a+1,i),!0,i)),ct(s,"southDown",this.id)&&(r.updateBlock(e,t-1,a-1,!1,!1,null,null,null,i),r.unspreadPower(e,t-1,a-1,r.getPower(e,t-1,a-1,i),!0,i)),ct(s,"westDown",this.id)&&(r.updateBlock(e+1,t-1,a,!1,!1,null,null,null,i),r.unspreadPower(e+1,t-1,a,r.getPower(e+1,t-1,a,i),!0,i)),ct(s,"eastDown",this.id)&&(r.updateBlock(e-1,t-1,a,!1,!1,null,null,null,i),r.unspreadPower(e-1,t-1,a,r.getPower(e-1,t-1,a,i),!0,i))},onpowerupdate:function(e,t,a,s,o,i,r,n,l){if(e!==s||t!==o||a!==i||r){if(r){var h="strong"===l.getSurroundingBlockPower(e,t,a,n),d=l.getPower(e,t,a,n);h&&!d?(l.setPower(e,t,a,15,!1,n),l.spreadPower(e,t,a,15,n)):!h&&d&&l.unspreadPower(e,t,a,15,!0,n)}}else{var c=l.getTags(e,t,a,n);if(ct(c,"power",this.id)){if(ct(c,"north",this.id)&&"weak"!==l.getBlockPower(e,t,a+1,"south",n))(p=l.getBlock(e,t,a+1,n))&&!S[p].transparent&&l.setBlockPower(e,t,a+1,"weak","south",n);if(ct(c,"south",this.id)&&"weak"!==l.getBlockPower(e,t,a-1,"north",n))(p=l.getBlock(e,t,a-1,n))&&!S[p].transparent&&l.setBlockPower(e,t,a-1,"weak","north",n);if(ct(c,"west",this.id)&&"weak"!==l.getBlockPower(e+1,t,a,"east",n))(p=l.getBlock(e+1,t,a,n))&&!S[p].transparent&&l.setBlockPower(e+1,t,a,"weak","east",n);if(ct(c,"east",this.id)&&"weak"!==l.getBlockPower(e-1,t,a,"west",n))(p=l.getBlock(e-1,t,a,n))&&!S[p].transparent&&l.setBlockPower(e-1,t,a,"weak","west",n)}else{if(l.getBlockPower(e,t,a+1,"south",n))(p=l.getBlock(e,t,a+1,n))&&!S[p].transparent&&l.setBlockPower(e,t,a+1,null,"south",n);l.getBlockPower(e,t,a-1,"north",n)&&(p=l.getBlock(e,t,a-1,n))&&!S[p].transparent&&l.setBlockPower(e,t,a-1,null,"north",n),l.getBlockPower(e+1,t,a,"east",n)&&(p=l.getBlock(e+1,t,a,n))&&!S[p].transparent&&l.setBlockPower(e+1,t,a,null,"east",n),l.getBlockPower(e-1,t,a,"west",n)&&(p=l.getBlock(e-1,t,a,n))&&!S[p].transparent&&l.setBlockPower(e-1,t,a,null,"west",n)}var p,u=ct(c,"power",this.id)?"weak":null;if(u!==l.getBlockPower(e,t-1,a,"top",n))(p=l.getBlock(e,t-1,a,n))&&!S[p].transparent&&l.setBlockPower(e,t-1,a,u,"top",n)}},connectables:["redstoneBlock","redstoneLamp","tnt","redstoneTorch","lever","redstoneConnector","is:button","piston","pistonSticky","is:pressurePlate","dropper","dispenser","target","is:coloredRedstoneLamp","noteBlock","daylightDetector","is:commandBlock"],connectable:function(e,t,a,s,o,i,r){var n=r.getBlock(e,t,a,o);if(!n)return!1;var l=!1,h=!1;switch(s){case"northUp":case"southUp":case"eastUp":case"westUp":case"up":l=!0;break;case"northDown":case"southDown":case"eastDown":case"westDown":case"down":h=!0}if(h&&"down"!==s){var d=r.getBlock(e,t+1,a,o);if(d&&!S[d].transparent)return!1}if(l||h)return"redstoneDust"===S[n].name&&(n&ze)==(i&ze);if("redstoneDust"===S[n].name&&(n&ze)==(i&ze))return!0;if(this.connectables.includes(S[n].name))return!0;for(var c of this.connectables)if(c.startsWith("is:")&&S[n][c.replace("is:","")])return!0;if("repeater"===S[n].name||"notGate"===S[n].name){var p=!1;switch(u=S[n].getFacing(e,t,a,o,r)){case"north":case"south":p="north"===s||"south"===s;break;case"east":case"west":p="east"===s||"west"===s}return p}if("observer"===S[n].name)switch(u=S[n].getFacing(e,t,a,o,r)){case"east":return"east"===s;case"west":return"west"===s;case"north":return"south"===s;case"south":return"north"===s}else if(S[n].logicGate){switch(u=S[n].getFacing(e,t,a,o,r)){case"east":return"east"===s||"north"===s||"south"===s;case"west":return"west"===s||"north"===s||"south"===s;case"north":return"south"===s||"east"===s||"west"===s;case"south":return"north"===s||"east"===s||"west"===s}}else if("comparator"===S[n].name){var u;switch(u=S[n].getFacing(e,t,a,o,r)){case"east":p=p||"east"===s||"north"===s||"south"===s;case"west":p=p||"west"===s||"north"===s||"south"===s;case"north":p=p||"south"===s||"east"===s||"west"===s;case"south":p=p||"north"===s||"east"===s||"west"===s}switch(u){case"north":case"south":p=p||"north"===s||"south"===s;break;case"east":case"west":p=p||"east"===s||"west"===s}return p}return!1}},{name:"blueRedstone",Name:"Blue Redstone Dust",item:!0,useAs:()=>x.redstoneDust|ze,category:"redstone"},{name:"soup",category:"food"},{name:"soup2",category:"food"},{name:"soup3",transparent:!0,category:"food"},{name:"soup4",category:"food"},{name:"randomSoup",category:"food"},{name:"redStain",transparent:!0},{name:"poision potion",transparent:!0,crossShape:!0},{name:"light",textures:"none",transparent:!0,lightLevel:15,solid:!1,iconTexture:"light_15",flatIcon:!0,shadow:!1,noHitbox:!0,pistonPush:!1,pistonPull:!1,rarity:"epic"},{name:"autumnLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",decreaseLight:1},{name:"darkLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",breakTime:.3,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8)return"stick"},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"redBerryLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",breakTime:.3,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"greenGrapes":1===e?"purpleGrapes":"stick"}},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"blueBerryLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",breakTime:.3,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"greenGrapes":1===e?"purpleGrapes":"stick"}},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"yellowLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",decreaseLight:1},{name:"lilyOftheValley",Name:"Lily of The Valley",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"poppy",Name:"Poppy",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"dandelion",Name:"Dandelion",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"blueOrchid",Name:"Blue Orchid",solid:!1,transparent:!0,shadow:!1,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"pinkTulip",Name:"Pink Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"orangeTulip",Name:"Orange Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"redTulip",Name:"Red Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"whiteTulip",Name:"White Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"azureBluet",Name:"Azure Bluet",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"cornFlower",Name:"Cornflower",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"purpleFlower",Name:"Purple Flower (i don't think this exsists in minecraft)",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"allium",Name:"Allium",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"oxeyeDaisy",Name:"Oxeye Daisy",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"lilac",Name:"Lilac",solid:!1,transparent:!0,shadow:!1,textures:"lilacTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"roseBush",Name:"Rose Bush",solid:!1,transparent:!0,shadow:!1,textures:"roseBushTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"peony",Name:"Peony",solid:!1,transparent:!0,shadow:!1,textures:"peonyTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"witherRose",Name:"Wither Rose",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,ontouch:()=>{witherEffect=120,witherDamage=1,witherTime=2e3},compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"TallGrass",Name:"Grass",solid:!1,transparent:!0,shadow:!1,crossShape:!0,drop:"wheatSeeds",dropAmount:[0,1],dropSelfWhenSheared:!0,shearDropAmount:1,shade:!1,compostChance:.5,liquidBreakable:"drop",category:"nature"},{name:"oakDoor",Name:"Oak Door",transparent:!0,shadow:!1,textures:"oakDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"spruceDoor",Name:"Spruce Door",transparent:!0,shadow:!1,textures:"spruceDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"ironDoor",Name:"Iron Door",transparent:!0,shadow:!1,textures:"ironDoorBottom",door:!0,stoneSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"darkOakDoor",Name:"Dark Oak Door",transparent:!0,shadow:!1,textures:"darkOakDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"birchDoor",Name:"Birch Door",transparent:!0,shadow:!1,textures:"birchDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"jungleDoor",Name:"Jungle Door",transparent:!0,shadow:!1,textures:"jungleDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"acaciaDoor",Name:"Acacia Door",transparent:!0,shadow:!1,textures:"acaciaDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"warpedDoor",Name:"Warped Door",transparent:!0,shadow:!1,textures:"warpedDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"crimsonDoor",Name:"Crimson Door",transparent:!0,shadow:!1,textures:"crimsonDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"torch",Name:"Torch",transparent:!0,shadow:!1,torch:!0,lightLevel:13,woodSound:!0,solid:!1,category:"decoration"},{name:"soulTorch",Name:"Soul Torch",transparent:!0,shadow:!1,torch:!0,lightLevel:10,woodSound:!0,solid:!1,category:"decoration"},{name:"lantern",Name:"Lantern",transparent:!0,shadow:!1,lightLevel:13,iconTexture:"lanternIcon",lantern:!0,category:"decoration",digSound:["block.lantern.dig1","block.lantern.dig2","block.lantern.dig3","block.lantern.dig4","block.lantern.dig5","block.lantern.dig6"],placeSound:["block.lantern.place1","block.lantern.place2","block.lantern.place3","block.lantern.place4","block.lantern.place5","block.lantern.place6"]},{name:"soulLantern",Name:"Soul Lantern",transparent:!0,shadow:!1,lightLevel:10,iconTexture:"soulLanternIcon",lantern:!0,category:"decoration",digSound:["block.lantern.dig1","block.lantern.dig2","block.lantern.dig3","block.lantern.dig4","block.lantern.dig5","block.lantern.dig6"],placeSound:["block.lantern.place1","block.lantern.place2","block.lantern.place3","block.lantern.place4","block.lantern.place5","block.lantern.place6"]},{name:"beacon",Name:"Beacon",breakTime:4.5,transparent:!0,shadow:!1,beacon:!0,lightLevel:15,glassSound:!0,pistonPush:!1,pistonPull:!1,category:"decoration",rarity:"rare",tagBits:null,beaconBlocks:["ironBlock","goldBlock","emeraldBlock","diamondBlock","netheriteBlock"],getSize:function(e,t,a,s,o){let i;e:for(let s=1;s<4;s++){for(let i=e-s;i<=e+s;i++)for(let e=a-s;e<=a+s;e++){let a=o.getBlock(i,t-s,e);if(!this.beaconBlocks.includes(S[a].name))break e}i=s}return i},update:function(e,t,a,s,o){let i=this.getSize(e,t,a,s,o),r=o.getBlock(e,t,a,s);return i?r!==(this.id|oe)&&(o.setBlock(e,t,a,this.id|oe,!1,!1,!1,!0,s),this.set(e,t,a,s,o)):r!==this.id&&o.setBlock(e,t,a,this.id,!1,!1,!1,!0,s),i},onplace:function(e,t,a,s,o,i){this.update(e,t,a,s,i)}},{name:"cactus",Name:"Cactus",textures:["cactusBottom","cactusTop","cactusSide"],transparent:!0,cactus:!0,damage:1,potCross:!0,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},compostChance:.5,liquidBreakable:"drop",category:"nature"},{name:"glassPane",Name:"Glass Pane",transparent:!0,shadow:!1,breakTime:60,pane:!0,textures:["glassPaneTop","glassPaneTop","glass","glass","glassPaneSide","glassPaneSide"],glassSound:!0,category:"build"},{name:"ladder",Name:"Ladder",transparent:!0,shadow:!1,wallFlat:!0,ladder:!0,breakTime:.6,type:"wood",category:"decoration"},{name:"vine",Name:"Vine",transparent:!0,shadow:!1,wallFlat:!0,ladder:!0,drop:"air",dropSelfWhenSheared:!0,shearBreakTime:.35,liquidBreakable:"drop",solid:!1,shade:!1,onupdate:function(e,t,a,s,o,i,r,n,l){var h=e,d=a;switch(s){case this.id|le|Le:d++;break;case this.id|le|Re:d--;break;case this.id|le|Ie:h++;break;case this.id|le|Me:h--}var c=o.getBlock(h,t,d,l),p=o.getBlock(e,t+1,a,l);!o.settings.blocksFall||c&&S[c].solid||p===s||o.setTimeout((function(){var i=o.getBlock(h,t,d,l),r=o.getBlock(e,t+1,a,l);i&&S[i].solid||r===s||(o.setBlock(e,t,a,0,!1,!1,!1,!1,l),o.addItems(e,t,a,l,0,0,0,s&Ae,!0),o.blockParticles(s,e,t,a,30,"break",l),o.blockSound(s,"dig",e,t,a))}),u,e,t,a,l)},compostChance:.5,category:"nature"},{name:"Water",textures:["Water","waterFlow"],transparent:!0,liquid:!0,wet:!0,solid:!1,shadow:!1,semiTrans:!0,cullFace:"never",blastResistance:100,hidden:!0,dripThroughBlocks:[43/255,63/255,213/255],getLevelDifference:function(e){return e-1},canDuplicate:!0,drop:"air",density:1,inLiquid:1,flowSound:"liquid.water",onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l);if(h&&"Lava"===S[h].name)return o.setBlock(e,t,a,x.stone,!1,!1,!1,!1,l);var d=o.getBlock(e,t,a+1,l),c=o.getBlock(e,t,a-1,l),p=o.getBlock(e+1,t,a,l),m=o.getBlock(e-1,t,a,l);if(d&&"Lava"===S[d].name||c&&"Lava"===S[c].name||p&&"Lava"===S[p].name||m&&"Lava"===S[m].name)return o.setBlock(e,t,a,x.cobblestone,!1,!1,!1,!1,l);if(o.settings.blocksFall){var g=this;o.setTimeout((()=>g.flow(e,t,a,l,o)),5*u,e,t,a,l)}},getY:function(e,t,a,s){var o=world.getBlock(e,t,a,s);return min(2*(this.getLevel(o)||(o?8:0)),14.5)/16-.5},decreaseLight:1},{name:"Lava",textures:["Lava","lavaFlow"],transparent:!0,liquid:!0,solid:!1,lightLevel:15,damage:4,burnEnt:!0,dieMessage:()=>username+" tried to swim in lava.",shadow:!1,blastResistance:100,hidden:!0,temperature:25,dripThroughBlocks:[210/255,59/255,17/255],drop:"air",density:2,inLiquid:2,flowSound:"liquid.lava",getLevelDifference:function(e,t){return"nether"===t?e-1:e-2},tick:function(e,t,a,s,o){S[x.fire].spread(e,t,a,s,o)},onupdate:function(e,t,a,s,o,i,r,n,l){let h=o.getBlock(e,t+1,a,l);if(h&&"Water"===S[h].name)return o.setBlock(e,t,a,x.obsidian,!1,!1,!1,!1,l);const d=o.getBlock(e,t-1,a,l),c=o.getBlock(e,t,a+1,l),p=o.getBlock(e,t,a-1,l),m=o.getBlock(e+1,t,a,l),g=o.getBlock(e-1,t,a,l);if("soulSoil"===S[d].name&&("ice"===S[c].name||"packedIce"===S[c].name||"blueIce"===S[c].name||"ice"===S[p].name||"packedIce"===S[p].name||"blueIce"===S[p].name||"ice"===S[m].name||"packedIce"===S[m].name||"blueIce"===S[m].name||"ice"===S[g].name||"packedIce"===S[g].name||"blueIce"===S[g].name))return o.setBlock(e,t,a,x.basalt,!1,!1,!1,!1,l);if("honeyBlock"===S[d].name||"honeyBlock"===S[c].name||"honeyBlock"===S[p].name||"honeyBlock"===S[m].name||"honeyBlock"===S[g].name)return o.setBlock(e,t,a,x.limestone,!1,!1,!1,!1,l);if(o.settings.blocksFall){var k=this;o.setTimeout((()=>k.flow(e,t,a,l,o)),u*("nether"===l?10:30),e,t,a,l)}},getY:function(e,t,a,s){var o=world.getBlock(e,t,a,s);return min(2*this.getLevel(o),14.5)/16-.5},onspawnflow:function(e,t,a,s,o){if(o.getBlock(e,t-1,a,s)===x.Water)return o.spawnBlock(e,t-1,a,x.stone,s,!0),!0}},{name:"craftingTable",Name:"Crafting Table",textures:["oakPlanks","craftingTableTop","craftingTableFront","craftingTableSide"],onclientclick:()=>{changeScene("crafting"),releasePointer()},woodSound:!0,breakTime:3.75,type:"wood",category:"items"},{name:"crimsonNylium",Name:"Crimson Nylium",textures:["netherrack","crimsonNyliumTop","crimsonNyliumSide"],nyliumSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"warpedNylium",Name:"Warped Nylium",textures:["netherrack","warpedNyliumTop","warpedNyliumSide"],nyliumSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"crimsonStem",Name:"Crimson Stem",textures:["crimsonStemTop","crimsonStemSide"],stemSound:!0,type:"wood",category:"nature"},{name:"warpedStem",Name:"Warped Stem",textures:["warpedStemTop","warpedStemSide"],stemSound:!0,type:"wood",category:"nature"},{name:"netherWartBlock",Name:"Nether Wart Block",breaktime:1.5,compostChance:.85,category:"nature",digSound:["block.netherwart.dig1","block.netherwart.dig2","block.netherwart.dig3","block.netherwart.dig4","block.netherwart.dig5","block.netherwart.dig6"],stepSound:["block.netherwart.step1","block.netherwart.step2","block.netherwart.step3","block.netherwart.step4","block.netherwart.step5"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"warpedWartBlock",Name:"Warped Wart Block",breaktime:1.5,compostChance:.85,category:"nature",digSound:["block.netherwart.dig1","block.netherwart.dig2","block.netherwart.dig3","block.netherwart.dig4","block.netherwart.dig5","block.netherwart.dig6"],stepSound:["block.netherwart.step1","block.netherwart.step2","block.netherwart.step3","block.netherwart.step4","block.netherwart.step5"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"shroomlight",lightLevel:15,Name:"Shroomlight",breaktime:1.5,compostChance:.65,category:"nature",digSound:["block.shroomlight.dig1","block.shroomlight.dig2","block.shroomlight.dig3","block.shroomlight.dig4","block.shroomlight.dig5"],stepSound:["block.shroomlight.step1","block.shroomlight.step2","block.shroomlight.step3","block.shroomlight.step4","block.shroomlight.step5","block.shroomlight.step6"]},{name:"warpedFungus",Name:"Warped Fungus",solid:!1,shadow:!1,transparent:!0,crossShape:!0,potCross:!0,compostChance:.65,category:"nature",digSound:["block.fungus.dig1","block.fungus.dig2","block.fungus.dig3","block.fungus.dig4","block.fungus.dig5","block.fungus.dig6"]},{name:"blackstone",Name:"Blackstone",textures:["blackstoneTop","blackstone"],stoneSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"gildedBlackstone",Name:"Gilded Blackstone",category:"nature",stoneSound:!0,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedBlackstoneBricks",Name:"Polished Blackstone Bricks",category:"build",stoneSound:!0},{name:"chiseledPolishedBlackstone",Name:"Chiseled Polished Blackstone",category:"build",stoneSound:!0},{name:"netheriteBlock",Name:"Netherite Block",type:"rock4",category:"build",breakTime:250,blastResistance:1200,digSound:["block.netherite.dig1","block.netherite.dig2","block.netherite.dig3","block.netherite.dig4"],stepSound:["block.netherite.step1","block.netherite.step2","block.netherite.step3","block.netherite.step4","block.netherite.step5","block.netherite.step6"]},{name:"basalt",Name:"Basalt",category:"nature",textures:["basaltTop","basaltSide"],basaltSound:!0},{name:"polishedBasalt",Name:"Polished Basalt",category:"build",textures:["polishedBasaltTop","polishedBasaltSide"],basaltSound:!0},{name:"chain",Name:"Chain",category:"build",transparent:!0,shadow:!1,chain:!0,iconTexture:"chainIcon",digSound:["block.chain.dig1","block.chain.dig2","block.chain.dig3","block.chain.dig4"],stepSound:["block.chain.step1","block.chain.step2","block.chain.step3","block.chain.step4","block.chain.step5","block.chain.step6"]},{name:"warpedPlanks",Name:"Warped Planks",breakTime:3,type:"wood",category:"build",woodSound:!0},{name:"warpedTrapdoor",Name:"Warped Trapdoor",transparent:!0,shadow:!1,trapdoor:!0,woodSound:!0,category:"build"},{name:"magma",Name:"Magma Block",lightLevel:15,breakTime:10,type:"rock1",damage:1,dieMessage:()=>username+" discovered the floor was lava.",burnTime:1/0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"crimsonFungus",Name:"Crimson Fungus",solid:!1,shadow:!1,transparent:!0,crossShape:!0,potCross:!0,compostChance:.65,category:"nature",digSound:["block.fungus.dig1","block.fungus.dig2","block.fungus.dig3","block.fungus.dig4","block.fungus.dig5","block.fungus.dig6"]},{name:"warpedRoots",Name:"Warped Roots",transparent:!0,solid:!1,shadow:!1,crossShape:!0,rootSound:!0,compostChance:.65,category:"nature"},{name:"crimsonRoots",Name:"Crimson Roots",transparent:!0,solid:!1,shadow:!1,crossShape:!0,rootSound:!0,compostChance:.65,category:"nature"},{name:"twistingVines",transparent:!0,solid:!1,shadow:!1,transparent:!0,crossShape:!0,ladder:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l);("twistingVines"===S[h].name||"twistingVinesPlant"===S[h].name)&&o.setBlock(e,t,a,x.twistingVinesPlant|$,!1,!1,!1,!1,l)},hidden:!0,drop:"twistinVinesPlant"},{name:"twistingVinesPlant",Name:"Twisting Vines",transparent:!0,solid:!1,shadow:!1,transparent:!0,crossShape:!0,ladder:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l);"twistingVines"===S[h].name||"twistingVinesPlant"===S[h].name||o.setBlock(e,t,a,x.twistingVines|$,!1,!1,!1,!1,l)},category:"nature"},{name:"weepingVines",transparent:!0,solid:!1,shadow:!1,crossShape:!0,ladder:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);("weepingVines"===S[h].name||"weepingVinesPlant"===S[h].name)&&o.setBlock(e,t,a,x.weepingVinesPlant|$,!1,!1,!1,!1,l)},hidden:!0,drop:"weepingVinesPlant"},{name:"weepingVinesPlant",Name:"Weeping Vines",transparent:!0,solid:!1,shadow:!1,crossShape:!0,ladder:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);"weepingVines"===S[h].name||"weepingVinesPlant"===S[h].name||o.setBlock(e,t,a,x.weepingVines|$,!1,!1,!1,!1,l)},category:"nature"},{name:"netherSprouts",Name:"Nether Sprouts",solid:!1,shadow:!1,transparent:!0,crossShape:!0,compostChance:.5,category:"nature",digSound:["block.nether_sprouts.dig1","block.nether_sprouts.dig2","block.nether_sprouts.dig3","block.nether_sprouts.dig4"],stepSound:["block.nether_sprouts.step1","block.nether_sprouts.step2","block.nether_sprouts.step3","block.nether_sprouts.step4","block.nether_sprouts.step5"]},{name:"stoneButton",Name:"Stone Button",textures:"stone",category:"redstone",button:!0,transparent:!0,shadow:!1,stone:!0},{name:"RespawnAnchorOff",category:"items",textures:["respawnAnchorBottom","respawnAnchorTopOff","respawnAnchorSide0"]},{name:"RespawnAnchor1",textures:["respawnAnchorBottom","respawnAnchorTop1","respawnAnchorSide1"],hidden:!0},{name:"RespawnAnchor2",textures:["respawnAnchorBottom","respawnAnchorTop2","respawnAnchorSide2"],hidden:!0},{name:"RespawnAnchor3",textures:["respawnAnchorBottom","respawnAnchorTop3","respawnAnchorSide3"],hidden:!0},{name:"RespawnAnchor",textures:["respawnAnchorBottom","respawnAnchorTop","respawnAnchorSide4"],hidden:!0},{name:"redBed",Name:"Red Bed",textures:"bedbottom",iconTexture:"bedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"flintAndSteel",Name:"Flint & Steel",textures:"flintAndSteel",item:!0,serveronuse:(e,t,a,s,o,i,r)=>{if(s===x.tnt)S[x.tnt].explode(e,t,a,null,o,i);else if(s===(x.tnt|J))S[x.tnt].superTntExplode(e,t,a,o,i);else if(s===(x.tnt|Q))S[x.tnt].ultraTntExplode(e,t,a,o,i);else if(s===x.untnt)S[x.untnt].explode(e,t,a,null,o,i);else{var n=i.getBlock(e,t,a,o),l=x.fire;switch(n&&S[n].canHaveSoulFire&&(l=x.soulFire),hitBox.face){case"top":t++;break;case"bottom":l|=Q,t--;break;case"north":l|=J|Re,a++;break;case"south":l|=J|Le,a--;break;case"east":l|=J|Me,e++;break;case"west":l|=J|Ie,e--}if(s===x.obsidian&&S[x.fire].tryCreatePortal(e,t,a,o))return;i.setBlock(e,t,a,l,!1,!1,!1,!1,o),i.playSound(e,t,a,"block.fire.ignite")}},onentityuse:e=>{"Creeper"===e.type&&e.forceExplode()},durability:64,stackSize:1,category:"items"},{name:"barrier",Name:"That Invisible Block with a  Icon",textures:"none",iconTexture:"barrier",flatIcon:!0,transparent:!0,breakTime:1/0,pistonPush:!1,pistonPull:!1,category:"items",rarity:"epic"},{name:"oakSapling",Name:"Oak Sapling",crossShape:!0,potCross:!0,transparent:!0,solid:!1,shadow:!1,liquidBreakable:"drop",grow:function(e,t,a,s,o){let i,r=e,n=(--t,a),l=t,h=l+floor(4.5+2.5*Math.random()),d=floor(4096*Math.random()),c=x.oakLog,p=x.oakLeaves,u=x.dirt;for(let e=l+1;e<=h;e++)o.setBlock(r,e,n,c,!1,!1,!1,!1,s);o.setBlock(r,h+1,n,p,!1,!1,!1,!1,s),o.setBlock(r,l,n,u,!1,!1,!1,!1,s);for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h-2,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h-2,a+r,p,!1,!1,!1,!1,s));for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h-1,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h-1,a+r,p,!1,!1,!1,!1,s));for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++)(t||r)&&(t&r?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h,a+r,p,!1,!1,!1,!1,s));o.setBlock(e+1,h+1,a,p,!1,!1,!1,!1,s),o.setBlock(e,h+1,a-1,p,!1,!1,!1,!1,s),o.setBlock(e,h+1,a+1,p,!1,!1,!1,!1,s),o.setBlock(e-1,h+1,a,p,!1,!1,!1,!1,s)},compostChance:.3,category:"nature"},{name:"crimsonTrapdoor",Name:"Crimson Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"oakTrapdoor",Name:"Oak Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"spruceTrapdoor",Name:"Spruce Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"darkOakTrapdoor",Name:"Dark Oak Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"birchTrapdoor",Name:"Birck Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"jungleTrapdoor",Name:"Jungle Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"acaciaTrapdoor",Name:"Acaica Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"ironTrapdoor",Name:"Iron Trapdoor",transparent:!0,trapdoor:!0,stoneSound:!0,category:"build"},{name:"cryingObsidian",Name:"Obsidian: ",shadow:!1,lightLevel:10,stoneSound:!0,type:"rock4",breakTime:250,blastResistance:1200,pistonPush:!1,pistonPull:!1,drip:[106/255,6/255,187/255],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"netherGoldOre",Name:"Nether Gold Ore",digSound:["block.nether_ore.dig1","block.nether_ore.dig2","block.nether_ore.dig3","block.nether_ore.dig4"],stepSound:["block.nether_ore.step1","block.nether_ore.step2","block.nether_ore.step3","block.nether_ore.step4","block.nether_ore.step5"],drop:"goldNugget",dropAmount:[1,3],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"flowerPot",Name:"Flower Pot",transparent:!0,shadow:!1,pot:!0,iconTexture:"flowerPotIcon",flatIcon:!0,category:"decoration",liquidBreakable:"drop"},{name:"acaciaSapling",Name:"Acacia Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop"},{name:"birchSapling",Name:"Birch Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,category:"nature",liquidBreakable:"drop",grow:function(e,t,a,s,o){let i,r=e,n=(--t,a),l=t,h=l+floor(4.5+2.5*Math.random()),d=floor(4096*Math.random()),c=x.birchLog,p=x.birchLeaves,u=x.dirt;for(let e=l+1;e<=h;e++)o.setBlock(r,e,n,c,!1,!1,!1,!1,s);o.setBlock(r,h+1,n,p,!1,!1,!1,!1,s),o.setBlock(r,l,n,u,!1,!1,!1,!1,s);for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h-2,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h-2,a+r,p,!1,!1,!1,!1,s));for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h-1,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h-1,a+r,p,!1,!1,!1,!1,s));for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++)(t||r)&&(t&r?(i=1&d,d>>>=1,i&&o.setBlock(e+t,h,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,h,a+r,p,!1,!1,!1,!1,s));o.setBlock(e+1,h+1,a,p,!1,!1,!1,!1,s),o.setBlock(e,h+1,a-1,p,!1,!1,!1,!1,s),o.setBlock(e,h+1,a+1,p,!1,!1,!1,!1,s),o.setBlock(e-1,h+1,a,p,!1,!1,!1,!1,s)},compostChance:.3},{name:"darkOakSapling",Name:"Dark Oak Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop"},{name:"jungleSapling",Name:"Jungle Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop",grow:function(e,t,a,s,o){let i,r=e,n=(--t,a),l=t,h=floor(4096*Math.random()),d=l+floor(5+5*Math.random()),c=x.jungleLog,p=x.jungleLeaves;for(let e=l+1;e<=d;e++)o.setBlock(r,e,n,c,!1,!1,!1,!1,s);o.setBlock(r,d+1,n,p,!1,!1,!1,!1,s),o.setBlock(r,l,n,x.dirt,!1,!1,!1,!1,s);for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&h,h>>>=1,i&&o.setBlock(e+t,d-2,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,d-2,a+r,p,!1,!1,!1,!1,s));for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)(t||r)&&(4==(t*r&7)?(i=1&h,h>>>=1,i&&o.setBlock(e+t,d-1,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,d-1,a+r,p,!1,!1,!1,!1,s));for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++)(t||r)&&(t&r?(i=1&h,h>>>=1,i&&o.setBlock(e+t,d,a+r,p,!1,!1,!1,!1,s)):o.setBlock(e+t,d,a+r,p,!1,!1,!1,!1,s));o.setBlock(e+1,d+1,a,p,!1,!1,!1,!1,s),o.setBlock(e,d+1,a-1,p,!1,!1,!1,!1,s),o.setBlock(e,d+1,a+1,p,!1,!1,!1,!1,s),o.setBlock(e-1,d+1,a,p,!1,!1,!1,!1,s)}},{name:"spruceSapling",Name:"Spruce Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop"},{name:"blueOrchidPot",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0,drop:"blueOrchid",liquidBreakable:"drop"},{name:"warpedRootsPot",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0,drop:"warpedRoots",liquidBreakable:"drop"},{name:"crimsonRootsPot",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0,drop:"crimsonRoots",liquidBreakable:"drop"},{name:"whiteCarpet",Name:"White Carpet",textures:"whiteWool",category:"decoration",carpet:!0,clothSound:!0},{name:"orangeCarpet",Name:"Orange Carpet",textures:"orangeWool",category:"decoration",carpet:!0,clothSound:!0},{name:"magentaCarpet",Name:"Magenta Carpet",textures:"magentaWool",category:"decoration",carpet:!0,clothSound:!0},{name:"lightBlueCarpet",Name:"Light Blue Carpet",textures:"lightBlueWool",category:"decoration",carpet:!0,clothSound:!0},{name:"yellowCarpet",Name:"Yellow Carpet",textures:"yellowWool",category:"decoration",carpet:!0,clothSound:!0},{name:"limeCarpet",Name:"Lime Carpet",textures:"limeWool",category:"decoration",carpet:!0,clothSound:!0},{name:"pinkCarpet",Name:"Pink Carpet",textures:"pinkWool",category:"decoration",carpet:!0,clothSound:!0},{name:"grayCarpet",Name:"Gray Carpet",textures:"grayWool",category:"decoration",carpet:!0,clothSound:!0},{name:"lightGrayCarpet",Name:"Light Gray Carpet",textures:"lightGrayWool",category:"decoration",carpet:!0,clothSound:!0},{name:"cyanCarpet",Name:"Cyan Carpet",textures:"cyanWool",category:"decoration",carpet:!0,clothSound:!0},{name:"purpleCarpet",Name:"Purple Carpet",textures:"purpleWool",category:"decoration",carpet:!0,clothSound:!0},{name:"blueCarpet",Name:"Blue Carpet",textures:"blueWool",category:"decoration",carpet:!0,clothSound:!0},{name:"brownCarpet",Name:"Brown Carpet",textures:"brownWool",category:"decoration",carpet:!0,clothSound:!0},{name:"greenCarpet",Name:"Green Carpet",textures:"greenWool",category:"decoration",carpet:!0,clothSound:!0},{name:"redCarpet",Name:"Red Carpet",textures:"redWool",category:"decoration",carpet:!0,clothSound:!0},{name:"blackCarpet",Name:"Black Carpet",textures:"blackWool",category:"decoration",carpet:!0,clothSound:!0},{name:"polishedBlackstone",Name:"Polished Blackstone",category:"build",stoneSound:!0},{name:"chiseledNetherBricks",Name:"Chiseled Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"crackedNetherBricks",Name:"Cracked Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"smoothBasalt",Name:"Smooth Basalt",basaltSound:!0},{name:"oakLogSW",textures:["logSide","logSide","logTop","logSide"],SW:!0,woodSound:!0,hidden:!0},{name:"acaciaLogSW",textures:["acaciaLogSide","acaciaLogSide","acaciaLogTop","acaciaLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"birchLogSW",textures:["birchLogSide","birchLogSide","birchLogTop","birchLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"darkOakLogSW",textures:["darkOakLogSide","darkOakLogSide","darkOakLogTop","darkOakLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"jungleLogSW",textures:["jungleLogSide","jungleLogSide","jungleLogTop","jungleLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"spruceLogSW",textures:["spruceLogSide","spruceLogSide","spruceLogTop","spruceLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"crimsonStemSW",textures:["crimsonStemSide","crimsonStemSide","crimsonStemTop","crimsonStemSide"],SW:!0,stemSound:!0,hidden:!0},{name:"warpedStemSW",textures:["warpedStemSide","warpedStemSide","warpedStemTop","warpedStemSide"],SW:!0,stemSound:!0,hidden:!0},{name:"basaltSW",textures:["basaltSide","basaltSide","basaltTop","basaltSide"],SW:!0,basaltSound:!0,hidden:!0},{name:"polishedBasaltSW",textures:["polishedBasaltSide","polishedBasaltSide","polishedBasaltTop","polishedBasaltSide"],SW:!0,basaltSound:!0,hidden:!0},{name:"crimsonPlanks",Name:"Crimson Planks",woodSound:!0,breakTime:3,type:"wood",category:"build"},{name:"deadBush",Name:"Dead Bush",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,drop:"stick",dropAmount:[0,2],dropSelfWhenSheared:!0,shearDropAmount:1,liquidBreakable:"drop",category:"nature"},{name:"stick",Name:"Stick",category:"items",item:!0},{name:"coal",Name:"Coal",category:"items",item:!0},{name:"ironIngot",Name:"Iron Ingot",category:"items",item:!0},{name:"copperIngot",Name:"Copper Ingot",category:"items",item:!0},{name:"goldIngot",Name:"Gold Ingot",category:"items",item:!0},{name:"diamond",Name:"Diamond",category:"items",item:!0},{name:"lapisLazuli",Name:"Lapis Lazuli",category:"items",item:!0},{name:"emerald",Name:"Emerald",category:"items",item:!0},{name:"copperOre",Name:"Copper Ore",breakTime:15,drop:"rawCopper",dropAmount:[2,5],type:"rock2",category:"nature",stoneSound:!0},{name:"rawIron",Name:"Raw Iron",category:"items",item:!0},{name:"rawCopper",Name:"Raw Copper",category:"items",item:!0},{name:"rawGold",Name:"Raw Gold",category:"items",item:!0},{name:"netherWart",Name:"Nether Wart",transparent:!0,shadow:!1,solid:!1,crop:!0,flatIcon:!0,iconTexture:"netherWartIcon",compostChance:.65,category:"nature"},{name:"wheat",Name:"Wheat",transparent:!0,shadow:!1,solid:!1,crop:!0,flatIcon:!0,iconTexture:"wheatIcon",fullDrop:["wheat","wheatSeeds"],drop:"wheatSeeds",liquidBreakable:"drop",textures:new Array(6).fill("wheatStage0"),textures1:new Array(6).fill("wheatStage1"),textures2:new Array(6).fill("wheatStage2"),textures3:new Array(6).fill("wheatStage3"),textures4:new Array(6).fill("wheatStage4"),textures5:new Array(6).fill("wheatStage5"),textures6:new Array(6).fill("wheatStage6"),textures7:new Array(6).fill("wheat"),compostChance:.65,category:"nature"},{name:"lodestone",Name:"Lodestone",textures:["lodestoneTop","lodestoneSide"]},{name:"anvil",Name:"Anvil",transparent:!0,anvil:!0,digSound:"block.anvil.land",stepSound:["block.stone.step1","block.stone.step2","block.stone.step3","block.stone.step4","block.stone.step5","block.stone.step6"],onclientclick:function(e,t,a,s){changeScene("anvil"),releasePointer()},onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},category:"items"},{name:"slimeBlock",Name:"Slime Block",transparent:!0,shadow:!1,bounciness:.9,speedFactor:.5,shapeName:"slimeBlock",category:"build",sticky:!0},{name:"soulSoil",Name:"Soul Soil",speedFactor:.5,canHaveSoulFire:!0,category:"nature"},{name:"blueIce",Name:"Blue Ice",category:"nature",slide:.9,glassSound:!0,temperature:3},{name:"ice",Name:"Ice",category:"nature",transparent:!0,shadow:!1,slide:.9,glassSound:!0,temperature:3,semiTrans:!0},{name:"packedIce",Name:"Packed Ice",category:"nature",slide:.9,glassSound:!0,temperature:3},{name:"calcite",Name:"Calcite",category:"nature"},{name:"furnace",Name:"Furnace",textures:["furnaceTop","furnaceTop","furnaceSide","furnaceFront","furnaceSide","furnaceSide"],SW:!0,tagBits:null,setContents:function(e,t,a,s,o){var i={furnace:!0,input:0,fuel:0,output:0,smeltStart:0,burnStart:0,canBurn:!1,smelting:!1,xp:0};return o.setTags(e,t,a,i,!1,s),i},onclientclick:(e,t,a,s)=>{containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("furnace"),releasePointer()},stoneSound:!0,category:"items"},{name:"blastFurnace",Name:"Blast Furnace",textures:["blastFurnaceTop","blastFurnaceTop","blastFurnaceSide","blastFurnaceFront","blastFurnaceSide","blastFurnaceSide"],rotate:!0,category:"items"},{name:"smoker",Name:"Smoker",textures:["smokerBottom","smokerTop","smokerSide","smokerFront","smokerSide","smokerSide"],rotate:!0,category:"items"},{name:"noteBlock",Name:"Note Block",tagBits:{on:[0,1],note:[1,5]},onclick:function(e,t,a,s,o){var i=o.getTagByName(e,t,a,"note",s);i||0===i||(i=-1),++i>=24&&(i=0),o.setTagByName(e,t,a,"note",i,!1,s),S[x.noteBlock].playNote(e,t,a,s,o)},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=!(!l.getRedstonePower(e,t,a,n)&&!l.getSurroundingBlockPower(e,t,a,n));h!==(l.getTagByName(e,t,a,"on",n)||!1)&&(l.setTagByName(e,t,a,"on",h,!1,n),h&&this.playNote(e,t,a,n,l))},playNote:function(e,t,a,s,o){var i=o.getTagByName(e,t,a,"note",s)||0;if(i||0===i){var r=2**((i-12)/12),n="harp",l=o.getBlock(e,t-1,a,s);if(l&&this.noteTypes[S[l].name]&&(n=this.noteTypes[S[l].name]),l)for(var h in this.noteTypes)h.startsWith("type:")&&h.replace("type:","")===S[l].type&&(n=this.noteTypes[h]);o.playSound(e,t,a,"note."+n,1,r),o.sendAll({type:"particles",particleType:"NoteParticle",x:e,y:t+.5,z:a,dimension:s,data:i})}},noteTypes:function(e){var t={};for(var a in e)if("string"==typeof e[a])t[e[a]]=a;else for(var s of e[a])t[s]=a;return t}({bass:"type:wood",snare:["sand","gravel"],hat:["glass","seaLantern","beacon"],bd:["type:rock1","type:rock2","type:rock3"],bell:"goldBlock",flute:["clay","honeycombBlock"],icechime:["packedIce"],guitar:"type:wool",xylobone:["boneBlock","boneBlockSW"],iron_xylophone:["ironBlock"],cow_bell:"soulSand",didgeridoo:"pumpkin",bit:"emeraldBlock",banjo:["hayBlock","hayBlockSW"],pling:"glowstone"}),category:"redstone"},{name:"jukebox",Name:"Jukebox",textures:["jukeboxTop","jukeboxSide"],category:"items"},{name:"loom",Name:"Loom",textures:["loomBottom","loomTop","loomFront","loomSide","loomSide","loomSide"],rotate:!0,category:"items"},{name:"sandstone",Name:"Sandstone",textures:["sandstoneBottom","sandstoneTop","sandstone"],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"chiseledSandstone",Name:"Chiseled Sandstone",textures:["sandstoneBottom","sandstoneTop","chiseledSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"cutSandstone",Name:"Cut Sandstone",textures:["sandstoneBottom","sandstoneTop","cutSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"smoothSandstone",Name:"Smooth Sandstone",textures:"sandstoneTop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"DoubleTallGrass",Name:"Tall Grass",solid:!1,transparent:!0,shadow:!1,textures:"tallGrassTop",tallcrossShape:!0,drop:function(){var e=rand();return e>.9?"tomatoSeeds":e>.5?"wheatSeeds":void 0},shade:!1,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"apple",Name:"Apple",item:!0,edible:!0,eatWhenFull:!1,food:4,saturation:2.4,eatResult:"appleCore",compostChance:.65,category:"food"},{name:"woodenPickaxe",Name:"Wooden Pickaxe",item:!0,pickaxe:!0,mineSpeed:2,durability:59,attackDamage:2,category:"tools"},{name:"stonePickaxe",Name:"Stone Pickaxe",item:!0,pickaxe:!0,mineSpeed:4,durability:131,attackDamage:2,material:"cobblestone",category:"tools"},{name:"ironPickaxe",Name:"Iron Pickaxe",item:!0,pickaxe:!0,mineSpeed:6,durability:250,attackDamage:3,material:"ironIngot",category:"tools"},{name:"goldenPickaxe",Name:"Golden Pickaxe",item:!0,pickaxe:!0,mineSpeed:12,durability:32,attackDamage:4,material:"goldIngot",category:"tools"},{name:"diamondPickaxe",Name:"Diamond Pickaxe",item:!0,pickaxe:!0,mineSpeed:8,durability:1561,attackDamage:5,material:"diamond",category:"tools"},{name:"flint",Name:"Flint",item:!0,category:"items"},{name:"mossBlock",Name:"Moss Block",breakTime:.15,type:"plant2",compostChance:.65,category:"nature"},{name:"mossCarpet",Name:"Moss Carpet",textures:"mossBlock",breakTime:.15,carpet:!0,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"caveVines",Name:"Cave Vines",solid:!1,transparent:!0,shadow:!1,crossShape:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);("caveVines"===S[h].name||"caveVinesPlant"===S[h].name||"caveVinesLit"===S[h].name||"caveVinesPlantLit"===S[h].name)&&o.setBlock(e,t,a,x.caveVinesPlant|$,!1,!1,!1,!1,l)},liquidBreakable:"drop",category:"nature"},{name:"caveVinesPlant",solid:!1,transparent:!0,shadow:!1,crossShape:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);"caveVines"===S[h].name||"caveVinesPlant"===S[h].name||"caveVinesLit"===S[h].name||"caveVinesPlantLit"===S[h].name||o.setBlock(e,t,a,x.caveVines|$,!1,!1,!1,!1,l)},hidden:!0,drop:"caveVines",liquidBreakable:"drop"},{name:"caveVinesLit",Name:"Cave Vines With Glow Berries",solid:!1,transparent:!0,shadow:!1,crossShape:!0,lightLevel:14,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);("caveVines"===S[h].name||"caveVinesPlant"===S[h].name||"caveVinesLit"===S[h].name||"caveVinesPlantLit"===S[h].name)&&o.setBlock(e,t,a,x.caveVinesPlantLit|$,!1,!1,!1,!1,l)},liquidBreakable:"drop",category:"nature"},{name:"caveVinesPlantLit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,lightLevel:14,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t-1,a,l);"caveVines"===S[h].name||"caveVinesPlant"===S[h].name||"caveVinesLit"===S[h].name||"caveVinesPlantLit"===S[h].name||o.setBlock(e,t,a,x.caveVinesLit|$,!1,!1,!1,!1,l)},hidden:!0,liquidBreakable:"drop"},{name:"sporeBlossom",Name:"Spore Blossom",sporeBlossom:!0,shadow:!1,transparent:!0,compostChance:.65,category:"nature"},{name:"rootedDirt",Name:"Rooted Dirt",category:"nature",type:"ground",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"hangingRoots",Name:"Hanging Roots",solid:!1,transparent:!0,shadow:!1,crossShape:!0,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"azalea",Name:"Azalea",textures:["azaleaTop","azaleaSide"],potTex:["pottedAzaleaBushTop","pottedAzaleaBushSide"],azalea:!0,transparent:!0,potCross:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"floweringAzalea",Name:"Flowering Azalea",textures:["floweringAzaleaTop","floweringAzaleaSide"],potTex:["pottedFloweringAzaleaBushTop","pottedFloweringAzaleaBushSide"],azalea:!0,transparent:!0,potCross:!0,compostChance:.85,liquidBreakable:"drop",category:"nature",lightLevel:10},{name:"sunflower",Name:"Sunflower",textures:["sunflowerBack","sunflowerFront","sunflowerTop"],sunflower:!0,transparent:!0,shadow:!1,iconTexture:"sunflowerFront",solid:!1,category:"nature"},{name:"bucket",Name:"Bucket",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{s===x.Water&&(o(x.waterBucket),world.setBlock(e,t,a,0,!1,!1,!1,!1,n)),s===x.Lava&&(o(x.lavaBucket),world.setBlock(e,t,a,0,!1,!1,!1,!1,n)),s===x.powderSnow&&(o(x.powderSnowBucket),world.setBlock(e,t,a,0,!1,!1,!1,!1,n)),s===x.oil&&(o(x.oilBucket),world.setBlock(e,t,a,0,!1,!1,!1,!1,n))},onentityuse:(e,t,a,s)=>{if("Cow"!==e.type)return!0;t(x.milkBucket)},stackSize:1,allHitbox:!0,category:"items"},{name:"waterBucket",Name:"Water Bucket",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{survival&&o(x.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],x.Water,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"lavaBucket",Name:"Lava Bucket",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{survival&&o(x.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],x.Lava,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"spawnCow",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Cow](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Cow](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"sugarCane",Name:"Sugar Cane",iconTexture:"sugarCaneIcon",flatIcon:!0,solid:!1,transparent:!0,shadow:!1,compostChance:.5,category:"nature",shade:!1,smoothLight:!1},{name:"woodenSword",Name:"Wooden Swords aren't even sharp!",item:!0,sword:!0,durability:59,attackDamage:4,category:"tools"},{name:"stoneSword",Name:"Stone Sword",item:!0,sword:!0,durability:131,attackDamage:5,material:"cobblestone",category:"tools"},{name:"ironSword",Name:"Iron Sword",item:!0,sword:!0,durability:250,attackDamage:6,material:"ironIngot",category:"tools"},{name:"goldenSword",Name:"Golden Sword",item:!0,sword:!0,durability:32,attackDamage:4,material:"goldIngot",category:"tools"},{name:"diamondSword",Name:"Diamond Sword",item:!0,sword:!0,durability:1561,attackDamage:7,material:"diamond",category:"tools"},{name:"azaleaLeaves",Name:"Azalea Leaves",transparent:!0,cullFace:"never",breakTime:0,type:"plant2",drop:function(){if(rand()>.05){return 0===floor(rand(2))?"azalea":"floweringAzalea"}},burnChance:.2,burnTime:30,compostChance:.3,category:"nature",grassSound:!0,leaves:!0},{name:"floweringAzaleaLeaves",Name:"Flowering Azalea Leaves",transparent:!0,cullFace:"never",breakTime:0,type:"plant2",drop:function(){if(rand()>.05){return 0===floor(rand(2))?"azalea":"floweringAzalea"}},burnChance:.2,burnTime:30,compostChance:.5,category:"nature",grassSound:!0,leaves:!0},{name:"spawnPig",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Pig](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Pig](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"tuff",Name:"Tuff",category:"nature",breakTime:1.5},{name:"deepslate",Name:"Deepslate",textures:["deepslateTop","deepslate"],category:"nature",breakTime:3,deepslateSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0},{name:"cobbledDeepslate",Name:"Cobbled Deepslate",deepslateSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"chiseledDeepslate",Name:"Chiseled Deepslate",category:"build",breakTime:3.5,deepslateSound:!0},{name:"polishedDeepslate",Name:"Polished Deepslate",category:"build",breakTime:3.5,deepslateSound:!0},{name:"deepslateTiles",Name:"Deepslate Tiles",category:"build",breakTime:3.5,deepslateSound:!0},{name:"deepslateBricks",Name:"Deepslate Bricks",category:"build",breakTime:3.5,deepslateBricksSound:!0},{name:"crackedDeepslateTiles",Name:"Cracked Deepslate Tiles",category:"build",deepslateSound:!0},{name:"crackedDeepslateBricks",Name:"Cracked Deepslate Bricks",category:"build",deepslateBricksSound:!0},{name:"deepslateCoalOre",Name:"Deepslate Coal Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateIronOre",Name:"Deepslate Iron Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateCopperOre",Name:"Deepslate Copper Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateGoldOre",Name:"Deepslate Gold Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateDiamondOre",Name:"Deepslate Diamond Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateRedstoneOre",Name:"Deepslate Redstone Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateEmeraldOre",Name:"Deepslate Emerald Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"deepslateLapisOre",Name:"Deepslate Lapis Lazuli Ore",category:"nature",breakTime:22.5,deepslateSound:!0},{name:"amethystBlock",Name:"Amethyst Block",category:"nature",amethystSound:!0},{name:"amethystShard",Name:"Amythest Shard",category:"items",item:!0},{name:"buddingAmethyst",Name:"Budding Amethyst",category:"nature",amethystSound:!0},{name:"smallAmethystBud",Name:"Small Amethyst Bud",category:"nature",sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:1},{name:"mediumAmethystBud",Name:"Medium Amethyst Bud",category:"nature",sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:2},{name:"largeAmethystBud",Name:"Large Amethyst Bud",category:"nature",sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:4},{name:"amethystCluster",Name:"Amethyst Cluster",category:"nature",sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,drop:"amethystShard",lightLevel:5},{name:"snowBlock",Name:"Block of Snow",textures:"snow",breakTime:1,drop:"snowball",dropAmount:4,temperature:5,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"snow",Name:"Snow Layer",layers:!0,transparent:!0,shadow:!0,drop:"snowball",breakTime:.5,fallingDust:[248/255,253/255,253/255],onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},temperature:5,liquidBreakable:"drop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"powderSnow",Name:"Powder Snow",solid:!1,powder:!0,breakTime:.4,drop:"air",transparent:!0,temperature:5,category:"nature"},{name:"snowball",Name:"Snowball",item:!0,onuse:function(e,t,a,s,o,i,r,n){var l=p.direction;world.addEntity(new Ve[Xe.Snowball](p.x+l.x,p.y+l.y,p.z+l.z,.8*l.x,.8*l.y,.8*l.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"powderSnowBucket",Name:"Powder Snow Bucket",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{survival&&o(x.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],x.powderSnow,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"bread",Name:"Bread",edible:!0,item:!0,eatWhenFull:!1,food:6,saturation:11,compostChance:.85,category:"food"},{name:"boneBlock",Name:"Bone Block",textures:["boneBlockTop","boneBlockSide"],category:"nature"},{name:"farmland",Name:"Farmland",textures:["dirt","farmland","dirt"],_1PixLower:!0,category:"nature",tick:function(e,t,a,s,o,i){for(var r=this.id,n=t-4;n<=t+4;n++)for(var l=s-4;l<=s+4;l++){var h=i.getBlock(n,a,l,o),d=i.getBlock(n,a+1,l,o);(h&&"Water"===S[h].name||d&&"Water"===S[d].name)&&(r=this.id|J)}e!==r&&i.setBlock(t,a,s,r,!1,!1,!1,!1,o)}},{name:"glowBerries",Name:"Glow Berries",edible:!0,item:!0,eatWhenFull:!1,food:2,saturation:.4,compostChance:.3,category:"food"},{name:"hayBlock",Name:"Hay Bale",textures:["hayBlockTop","hayBlockSide"],type:"plant2",damageResistance:.8,burnChance:.2,burnTime:20,category:"decoration"},{name:"hayBlockSW",textures:["hayBlockSide","hayBlockSide","hayBlockTop","hayBlockSide"],SW:!0,type:"plant2",damageResistance:.8,compostChance:.85,hidden:!0},{name:"woodenShovel",Name:"Wooden Shovel",item:!0,shovel:!0,durability:59,mineSpeed:2,attackDamage:2,category:"tools"},{name:"stoneShovel",Name:"Stone Shovel",item:!0,shovel:!0,durability:131,mineSpeed:3.6,attackDamage:4,material:"cobblestone",category:"tools"},{name:"ironShovel",Name:"Iron Shovel",item:!0,shovel:!0,durability:250,mineSpeed:6,attackDamage:4,material:"ironIngot",category:"tools"},{name:"goldenShovel",Name:"Golden Shovel",item:!0,shovel:!0,durability:32,mineSpeed:12,attackDamage:2,material:"goldIngot",category:"tools"},{name:"diamondShovel",Name:"Diamond Shovel",item:!0,shovel:!0,durability:1561,mineSpeed:8,attackDamage:5,material:"diamond",category:"tools"},{name:"woodenAxe",Name:"Wooden Axe",item:!0,axe:!0,durability:59,mineSpeed:2,attackDamage:7,attackSpeed:.8,category:"tools"},{name:"stoneAxe",Name:"Stone Axe",item:!0,axe:!0,durability:131,mineSpeed:4,attackDamage:9,attackSpeed:.8,material:"cobblestone",category:"tools"},{name:"ironAxe",Name:"Iron Axe",item:!0,axe:!0,durability:250,mineSpeed:6,attackDamage:9,attackSpeed:.9,material:"ironIngot",category:"tools"},{name:"goldenAxe",Name:"Golden Axe",item:!0,axe:!0,durability:32,mineSpeed:12,attackDamage:7,attackSpeed:1,material:"goldIngot",category:"tools"},{name:"diamondAxe",Name:"Diamond Axe",item:!0,axe:!0,durability:1561,mineSpeed:8,attackDamage:9,attackSpeed:1,material:"diamond",category:"tools"},{name:"strippedOakLog",Name:"Stripped Oak Log",textures:["strippedOakLogTop","strippedOakLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedOakLogSW",textures:["strippedOakLog","strippedOakLog","strippedOakLogTop","strippedOakLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedBirchLog",Name:"Stripped Birch Log",textures:["strippedBirchLogTop","strippedBirchLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedBirchLogSW",textures:["strippedBirchLog","strippedBirchLog","strippedBirchLogTop","strippedBirchLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedAcaciaLog",Name:"Stripped Acacia Log",textures:["strippedAcaciaLogTop","strippedAcaciaLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedAcaciaLogSW",textures:["strippedAcaciaLog","strippedAcaciaLog","strippedAcaciaLogTop","strippedAcaciaLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedJungleLog",Name:"Stripped Jungle Log",textures:["strippedJungleLogTop","strippedJungleLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedJungleLogSW",textures:["strippedJungleLog","strippedJungleLog","strippedJungleLogTop","strippedJungleLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedSpruceLog",Name:"Stripped Spruce Log",textures:["strippedSpruceLogTop","strippedSpruceLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedSpruceLogSW",textures:["strippedSpruceLog","strippedSpruceLog","strippedSpruceLogTop","strippedSpruceLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedDarkOakLog",Name:"Stripped Dark Oak Log",textures:["strippedDarkOakLogTop","strippedDarkOakLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedDarkOakLogSW",textures:["strippedDarkOakLog","strippedDarkOakLog","strippedDarkOakLogTop","strippedDarkOakLog"],woodSound:!0,SW:!0,hidden:!0},{name:"boneBlockSW",textures:["boneBlockSide","boneBlockSide","boneBlockTop","boneBlockSide"],SW:!0,hidden:!0},{name:"redMushroom",Name:"Red Mushroom",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,lightLevel:1,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"brownMushroom",Name:"Brown Mushroom",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,lightLevel:1,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"mushroomStem",Name:"Mushroom Stem",mushroomBlock:!0,compostChance:.65,category:"nature"},{name:"redMushroomBlock",Name:"Red Mushroom Block",mushroomBlock:!0,compostChance:.85,category:"nature"},{name:"brownMushroomBlock",Name:"Brown Mushroom Block",mushroomBlock:!0,compostChance:.85,category:"nature"},{name:"mycelium",Name:"Mycelium",textures:["dirt","myceliumTop","myceliumSide"],type:"ground",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,breakTime:.9,blastResistance:.6,drop:"dirt",grassSound:!0},{name:"terracotta",Name:"Terracotta",category:"build"},{name:"redTerracotta",Name:"Terracotta with watermelon juice",category:"build"},{name:"blueTerracotta",Name:"Terracotta with blueberry juice",category:"build"},{name:"cyanTerracotta",Name:"Terracotta with cyan colored fruit punch",category:"build"},{name:"grayTerracotta",Name:"Dusty Terracotta",category:"build"},{name:"limeTerracotta",Name:"Terracotta with leaf juice",category:"build"},{name:"pinkTerracotta",Name:"Terracotta with fruit punch",category:"build"},{name:"blackTerracotta",Name:"Terracotta painted black",category:"build"},{name:"brownTerracotta",Name:"Dirty Terracotta",category:"build"},{name:"greenTerracotta",Name:"Terracotta with some other leaf juice",category:"build"},{name:"whiteTerracotta",Name:"Terracotta with flour",category:"build"},{name:"orangeTerracotta",Name:"Orange Terracotta",category:"build"},{name:"purpleTerracotta",Name:"Purple Terracotta",category:"build"},{name:"yellowTerracotta",Name:"Terracotta with lemon juice",category:"build"},{name:"magentaTerracotta",Name:"Magenta Terracotta",category:"build"},{name:"lightBlueTerracotta",Name:"Light Blue Terracotta",category:"build"},{name:"lightGrayTerracotta",Name:"Light Gray Terracotta",category:"build"},{name:"redGlazedTerracotta",Name:"Watermelon Swirl",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"blueGlazedTerracotta",Name:"Blue Fan",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"cyanGlazedTerracotta",Name:"Creeper in the skies",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"grayGlazedTerracotta",Name:"Bunch of Dust",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"limeGlazedTerracotta",Name:"Overlapping lilies",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"pinkGlazedTerracotta",Name:"Pink turtle shell",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"blackGlazedTerracotta",Name:"Red monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"brownGlazedTerracotta",Name:"Mudslide in the ocean",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"greenGlazedTerracotta",Name:"Camouflaged monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"whiteGlazedTerracotta",Name:"Sun & clouds",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"orangeGlazedTerracotta",Name:"Flower Monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"purpleGlazedTerracotta",Name:"Sword & pickaxe monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"yellowGlazedTerracotta",Name:"Some kind of bug",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"magentaGlazedTerracotta",Name:"Arrow",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"lightBlueGlazedTerracotta",Name:"Monster sticking out tongue and eyes facing opposite direction",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"lightGrayGlazedTerracotta",Name:"Monster with blue eyes and mouth",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"ancientDebris",Name:"Ancient Debris",textures:["ancientDebrisTop","ancientDebrisSide"],breakTime:150,type:"rock4",category:"nature"},{name:"wheatSeeds",Name:"Seeds",item:!0,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"wheat":void 0},compostChance:.3,category:"items"},{name:"yellowStainedGlass",Name:"Yellow Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"whiteStainedGlass",Name:"White Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"redStainedGlass",Name:"Red Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"purpleStainedGlass",Name:"Purple Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"pinkStainedGlass",Name:"Pink Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"orangeStainedGlass",Name:"Orange Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"magentaStainedGlass",Name:"Magenta Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"limeStainedGlass",Name:"Lime Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"lightGrayStainedGlass",Name:"Light Gray Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"lightBlueStainedGlass",Name:"Light Blue Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"greenStainedGlass",Name:"Green Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"grayStainedGlass",Name:"Gray Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"cyanStainedGlass",Name:"Cyan Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"brownStainedGlass",Name:"Brown Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"blueStainedGlass",Name:"Blue Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"blackStainedGlass",Name:"Black Stained Glass",transparent:!0,shadow:!1,breakTime:.3,type:"glass",glassSound:!0,category:"build"},{name:"yellowStainedGlassPane",Name:"Yellow Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["yellowStainedGlassPaneTop","yellowStainedGlassPaneTop","yellowStainedGlass","yellowStainedGlass","yellowStainedGlassPaneSide","yellowStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"whiteStainedGlassPane",Name:"White Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["whiteStainedGlassPaneTop","whiteStainedGlassPaneTop","whiteStainedGlass","whiteStainedGlass","whiteStainedGlassPaneSide","whiteStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"redStainedGlassPane",Name:"Red Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["redStainedGlassPaneTop","redStainedGlassPaneTop","redStainedGlass","redStainedGlass","redStainedGlassPaneSide","redStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"purpleStainedGlassPane",Name:"Purple Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["purpleStainedGlassPaneTop","purpleStainedGlassPaneTop","purpleStainedGlass","purpleStainedGlass","purpleStainedGlassPaneSide","purpleStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"pinkStainedGlassPane",Name:"Pink Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["pinkStainedGlassPaneTop","pinkStainedGlassPaneTop","pinkStainedGlass","pinkStainedGlass","pinkStainedGlassPaneSide","pinkStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"orangeStainedGlassPane",Name:"Orange Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["orangeStainedGlassPaneTop","orangeStainedGlassPaneTop","orangeStainedGlass","orangeStainedGlass","orangeStainedGlassPaneSide","orangeStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"magentaStainedGlassPane",Name:"Magenta Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["magentaStainedGlassPaneTop","magentaStainedGlassPaneTop","magentaStainedGlass","magentaStainedGlass","magentaStainedGlassPaneSide","magentaStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"limeStainedGlassPane",Name:"Lime Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["limeStainedGlassPaneTop","limeStainedGlassPaneTop","limeStainedGlass","limeStainedGlass","limeStainedGlassPaneSide","limeStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"lightGrayStainedGlassPane",Name:"Light Gray Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["lightGrayStainedGlassPaneTop","lightGrayStainedGlassPaneTop","lightGrayStainedGlass","lightGrayStainedGlass","lightGrayStainedGlassPaneSide","lightGrayStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"lightBlueStainedGlassPane",Name:"Light Blue Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["lightBlueStainedGlassPaneTop","lightBlueStainedGlassPaneTop","lightBlueStainedGlass","lightBlueStainedGlass","lightBlueStainedGlassPaneSide","lightBlueStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"greenStainedGlassPane",Name:"Green Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["greenStainedGlassPaneTop","greenStainedGlassPaneTop","greenStainedGlass","greenStainedGlass","greenStainedGlassPaneSide","greenStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"grayStainedGlassPane",Name:"Gray Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["grayStainedGlassPaneTop","grayStainedGlassPaneTop","grayStainedGlass","grayStainedGlass","grayStainedGlassPaneSide","grayStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"cyanStainedGlassPane",Name:"Cyan Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["cyanStainedGlassPaneTop","cyanStainedGlassPaneTop","cyanStainedGlass","cyanStainedGlass","cyanStainedGlassPaneSide","cyanStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"brownStainedGlassPane",Name:"Brown Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["brownStainedGlassPaneTop","brownStainedGlassPaneTop","brownStainedGlass","brownStainedGlass","brownStainedGlassPaneSide","brownStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"blueStainedGlassPane",Name:"Blue Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["blueStainedGlassPaneTop","blueStainedGlassPaneTop","blueStainedGlass","blueStainedGlass","blueStainedGlassPaneSide","blueStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"blackStainedGlassPane",Name:"Black Stained Glass Pane",transparent:!0,shadow:!1,breakTime:.3,pane:!0,textures:["blackStainedGlassPaneTop","blackStainedGlassPaneTop","blackStainedGlass","blackStainedGlass","blackStainedGlassPaneSide","blackStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"cobweb",Name:"Cobweb",solid:!1,transparent:!0,shadow:!1,crossShape:!0,breakTime:20,drop:"air",dropSelfWhenSheared:!0,shearBreakTime:.4,liquidBreakable:"drop",category:"decoration"},{name:"strippedCrimsonStem",Name:"Stripped Crimson Stem",textures:["strippedCrimsonStemTop","strippedCrimsonStem"],breakTime:2,stemSound:!0,category:"build"},{name:"strippedCrimsonStemSW",textures:["strippedCrimsonStem","strippedCrimsonStem","strippedCrimsonStemTop","strippedCrimsonStem"],breakTime:2,stemSound:!0,SW:!0,hidden:!0},{name:"strippedWarpedStem",Name:"Stripped Warped Stem",textures:["strippedWarpedStemTop","strippedWarpedStem"],breakTime:2,stemSound:!0,category:"build"},{name:"strippedWarpedStemSW",textures:["strippedWarpedStem","strippedWarpedStem","strippedWarpedStemTop","strippedWarpedStem"],breakTime:2,stemSound:!0,SW:!0,hidden:!0},{name:"oakPressurePlate",Name:"Oak Pressure Plate",textures:"oakPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"birchPressurePlate",Name:"Birch Pressure Plate",textures:"birchPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"sprucePressurePlate",Name:"Spruce Pressure Plate",textures:"sprucePlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"junglePressurePlate",Name:"Jungle Pressure Plate",textures:"junglePlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"acaciaPressurePlate",Name:"Acacia Pressure Plate",textures:"acaciaPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"darkOakPressurePlate",Name:"Dark Oak Pressure Plate",textures:"darkOakPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"warpedPressurePlate",Name:"Warped Pressure Plate",textures:"warpedPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"crimsonPressurePlate",Name:"Crimson Pressure Plate",textures:"crimsonPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"stonePressurePlate",Name:"Stone Pressure Plate",textures:"stone",pressurePlate:!0,type:"stone",breakTime:2.5,category:"redstone"},{name:"polishedBlackstonePressurePlate",textures:"polishedBlackstone",pressurePlate:!0,type:"stone",breakTime:2.5,category:"redstone"},{name:"lightWeightedPressurePlate",textures:"goldBlock",pressurePlate:!0,type:"stone",breakTime:2.5,lightWeighted:!0,category:"redstone"},{name:"heavyWeightedPressurePlate",textures:"ironBlock",pressurePlate:!0,type:"stone",breakTime:2.5,heavyWeighted:!0,category:"redstone"},{name:"oakButton",Name:"Oak Button",textures:"oakPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"birchButton",Name:"Birch Button",textures:"birchPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"acaciaButton",Name:"Acacia Button",textures:"acaciaPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"darkOakButton",Name:"Dark Oak Button",textures:"darkOakPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"jungleButton",Name:"Jungle Button",textures:"junglePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"spruceButton",Name:"Spruce Button",textures:"sprucePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"warpedButton",Name:"Warped Button",textures:"warpedPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"crimsonButton",Name:"Crimson Button",textures:"crimsonPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"polishedBlackstoneButton",Name:"Polished Blackstone Button",textures:"polishedBlackstone",button:!0,transparent:!0,shadow:!1,stone:!0,category:"redstone"},{name:"copperBlock",Name:"Block of Copper",category:"build"},{name:"crackedPolishedBlackstoneBricks",Name:"Cracked Polished Blackstone Bricks",category:"build"},{name:"crackedStoneBricks",Name:"Cracked Stone Bricks",category:"build"},{name:"woodenHoe",Name:"Wooden Hoe",item:!0,hoe:!0,durability:59,mineSpeed:2,attackDamage:1,attackSpeed:1,category:"tools"},{name:"stoneHoe",Name:"Stone Hoe",item:!0,hoe:!0,durability:131,mineSpeed:4,attackDamage:1,attackSpeed:2,material:"cobblestone",category:"tools"},{name:"ironHoe",Name:"Iron Hoe",item:!0,hoe:!0,durability:250,mineSpeed:6,attackDamage:1,attackSpeed:3,material:"ironIngot",category:"tools"},{name:"goldenHoe",Name:"Golden Hoe",item:!0,hoe:!0,durability:32,mineSpeed:12,attackDamage:1,attackSpeed:1,material:"goldIngot",category:"tools"},{name:"diamondHoe",Name:"Diamond Hoe",item:!0,hoe:!0,durability:1561,mineSpeed:8,attackDamage:1,attackSpeed:4,material:"diamond",category:"tools"},{name:"podzol",Name:"Podzol",textures:["dirt","podzolTop","podzolSide"],category:"nature",breakTime:.75,blastResistance:.5,type:"ground",onupdate:function(e,t,a,s,o,i,r,n,l){let h=o.getBlock(e,t+1,a,l),d="snow"===S[h].name||"snowBlock"===S[h].name;s===x.podzol&&d?o.setBlock(e,t,a,x.podzol|$,!1,!1,!1,!1,l):s!==(x.podzol|$)||d||o.setBlock(e,t,a,x.podzol,!1,!1,!1,!1,l)},compostChance:.3,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"rawIronBlock",Name:"Block of Raw Iron",type:"rock2",breakTime:25,category:"build"},{name:"rawGoldBlock",Name:"Block of Raw Gold",type:"rock3",breakTime:25,category:"build"},{name:"rawCopperBlock",Name:"Block of Raw Copper",type:"rock2",breakTime:25,category:"build"},{name:"netheriteScrap",Name:"Netherite Scrap",item:!0,category:"items"},{name:"netheriteIngot",Name:"Netherite Ingot",item:!0,category:"items"},{name:"netheritePickaxe",Name:"Netherite Pickaxe",item:!0,pickaxe:!0,mineSpeed:9,durability:2031,attackDamage:6,material:"netheriteIngot",category:"tools"},{name:"netheriteSword",Name:"Netherite Sword",item:!0,sword:!0,durability:2031,attackDamage:8,material:"netheriteIngot",category:"tools"},{name:"netheriteAxe",Name:"Netherite Axe",item:!0,axe:!0,durability:2031,mineSpeed:9,attackDamage:10,attackSpeed:1,material:"netheriteIngot",category:"tools"},{name:"netheriteShovel",Name:"Netherite Shovel",item:!0,shovel:!0,durability:2031,mineSpeed:9,attackDamage:6,material:"netheriteIngot",category:"tools"},{name:"netheriteHoe",Name:"Nethrite Hoe",item:!0,hoe:!0,durability:2031,mineSpeed:9,attackDamage:1,attackSpeed:4,material:"netheriteIngot",category:"tools"},{name:"cartographyTable",Name:"Cartograpgy Table",textures:["cartographyTableSide3","cartographyTableTop","cartographyTableSide3","cartographyTableSide1","cartographyTableSide2","cartographyTableSide3"],rotate:!0,category:"items"},{name:"cake",Name:"Cake",textures:["cakeBottom","cakeTop","cakeSide"],cake:!0,transparent:!0,flatIcon:!0,iconTexture:"cake",compostChance:1,category:"food"},{name:"smithingTable",Name:"Smithing Table",textures:["smithingTableBottom","smithingTableTop","smithingTableFront","smithingTableSide"],category:"items"},{name:"stonecutter",Name:"Stonecutter",textures:["stonecutterBottom","stonecutterTop","stonecutterSide"],transparent:!0,stonecutter:!0,category:"items"},{name:"itemFrame",Name:"Item Frame",transparent:!0,itemFrame:!0,flatIcon:!0,iconTexture:"itemFrameIcon",category:"items"},{name:"enderPearl",Name:"Ender Pearl",item:!0,onuse:function(e,t,a,s,o,i,r,n){world.addEntity(new Ve[Xe.EnderPearl](p.x,p.y,p.z,p.direction.x,p.direction.y,p.direction.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"ironNugget",Name:"Iron Nugget",item:!0,category:"items"},{name:"goldNugget",Name:"Gold Nugget",item:!0,category:"items"},{name:"pumpkin",Name:"Pumpkin",textures:["pumpkinSide","pumpkinTop","pumpkinSide"],compostChance:.65,category:"nature"},{name:"carvedPumpkin",Name:"Carved Pumpkin",textures:["pumpkinSide","pumpkinTop","pumpkinSide","carvedPumpkin","pumpkinSide","pumpkinSide"],rotate:!0,compostChance:.65,category:"nature"},{name:"jackOLantern",Name:"Jack o'Lantern",textures:["pumpkinSide","pumpkinTop","pumpkinSide","jackOLantern","pumpkinSide","pumpkinSide"],lightLevel:15,rotate:!0,compostChance:.65,category:"nature"},{name:"shears",Name:"Shears",item:!0,shears:!0,category:"items",onentityuse:function(e,t,a,s){"Sheep"===e.type&&e.shear()}},{name:"pumpkinSeeds",Name:"Pumpkin Seeds",item:!0,compostChance:.3,category:"items"},{name:"melonSeeds",Name:"Watermelon Seeds",item:!0,compostChance:.3,category:"items"},{name:"melon",Name:"Watermelon",textures:["melonSide","melonTop","melonSide"],breakTime:1.5,drop:"melonSlice",dropAmount:[3,7],compostChance:.65,category:"nature"},{name:"melonSlice",Name:"Slice of Watermelon",item:!0,edible:!0,food:2,saturation:1.2,compostChance:.5,category:"nature"},{name:"redstoneLamp",Name:"Redstone Lamp",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),d=this.id;h&&(d=this.id|J),l.getBlock(e,t,a,n)!==d&&l.setBlock(e,t,a,d,!1,!1,!1,!1,n)},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)},category:"redstone"},{name:"glowstoneDust",Name:"Glowstone Dust",item:!0,category:"items"},{name:"quartz",Name:"Quartz",item:!0,category:"items"},{name:"endPortalFrame",Name:"End Portal Frame",textures:["endStone","endPortalFrameTop","endPortalFrameSide"],category:"items",blastResistance:36e5,breakTime:1/0,lightLevel:1,glassSound:!0,eyeplace:function(e,t,a,s,o){this.findFullFrame(e+1,t,a,s,o),this.findFullFrame(e-1,t,a,s,o),this.findFullFrame(e,t,a+1,s,o),this.findFullFrame(e,t,a-1,s,o)},findFullFrame:function(e,t,a,s,o){if(S[o.getBlock(e,t,a)].solid)return;let i=[],r=[e,t,a,0],n=e,l=a,h=e,d=a;for(;r.length;){let[c,p,u]=r;if(Math.max(Math.abs(e-c),Math.abs(t-p),Math.abs(a-u))>2)return;if(n=Math.min(n,c),l=Math.min(l,u),h=Math.max(h,c),d=Math.max(d,u),!xyArrayHas(i,r,c,p,u+1)){let e=o.getBlock(c,p,u+1,s);if(S[e].solid){if(S[e].name!==this.name)return}else r.push(c,p,u+1,0)}if(!xyArrayHas(i,r,c,p,u-1)){let e=o.getBlock(c,p,u-1,s);if(S[e].solid){if(S[e].name!==this.name)return}else r.push(c,p,u-1,0)}if(!xyArrayHas(i,r,c+1,p,u)){let e=o.getBlock(c+1,p,u,s);if(S[e].solid){if(S[e].name!==this.name)return}else r.push(c+1,p,u,0)}if(!xyArrayHas(i,r,c-1,p,u)){let e=o.getBlock(c-1,p,u,s);if(S[e].solid){if(S[e].name!==this.name)return}else r.push(c-1,p,u,0)}i.push(...r.splice(0,4))}e=n-1,a=l-1,o.getBlock(e+1,t,a,s)===(this.id|J|Re)&&o.getBlock(e+2,t,a,s)===(this.id|J|Re)&&o.getBlock(e+3,t,a,s)===(this.id|J|Re)&&o.getBlock(e+4,t,a+1,s)===(this.id|J|Ie)&&o.getBlock(e+4,t,a+2,s)===(this.id|J|Ie)&&o.getBlock(e+4,t,a+3,s)===(this.id|J|Ie)&&o.getBlock(e+1,t,a+4,s)===(this.id|J|Le)&&o.getBlock(e+2,t,a+4,s)===(this.id|J|Le)&&o.getBlock(e+3,t,a+4,s)===(this.id|J|Le)&&o.getBlock(e,t,a+1,s)===(this.id|J|Me)&&o.getBlock(e,t,a+2,s)===(this.id|J|Me)&&o.getBlock(e,t,a+3,s)===(this.id|J|Me)&&(o.setBlock(e+1,t,a+1,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+2,t,a+1,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+3,t,a+1,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+1,t,a+2,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+2,t,a+2,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+3,t,a+2,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+1,t,a+3,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+2,t,a+3,x.endPortal,!1,!1,!1,!1,s),o.setBlock(e+3,t,a+3,x.endPortal,!1,!1,!1,!1,s),o.playSound(e+2,t,a+2,"block.end_portal.endportal"))}},{name:"eyeOfEnder",Name:"Eye of Ender",flatIcon:!0,item:!0,placeSound:["block.end_portal.eyeplace1","block.end_portal.eyeplace2","block.end_portal.eyeplace3"],category:"items"},{name:"endStone",Name:"End Stone",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"redSand",Name:"Red Sand",breakTime:.75,fallingDust:[178/255,94/255,26/255],onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},category:"nature",digSound:["block.sand.dig1","block.sand.dig2","block.sand.dig3","block.sand.dig4"],stepSound:["block.sand.step1","block.sand.step2","block.sand.step3","block.sand.step4","block.sand.step5"]},{name:"redSandstone",Name:"Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","redSandstone"],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"chiseledRedSandstone",Name:"Chiseled Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","chiseledRedSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"cutRedSandstone",Name:"Cut Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","cutRedSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"smoothRedSandstone",Name:"Smooth Red Sandstone",textures:"redSandstoneTop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"purpurBlock",Name:"Purpur Block",category:"build"},{name:"purpurPillar",Name:"Purpur Pillar",textures:["purpurPillarTop","purpurPillar"],category:"build"},{name:"purpurPillarSW",textures:["purpurPillar","purpurPillar","purpurPillarTop","purpurPillar"],SW:!0,hidden:!0},{name:"prismarine",Name:"Prismarine",category:"build"},{name:"prismarineBricks",Name:"Prismarine Bricks",category:"build"},{name:"darkPrismarine",Name:"Dark Prismarine",category:"build"},{name:"prismarineCrystals",Name:"Prismarine Crystals",category:"items",item:!0},{name:"prismarineShard",Name:"Prismarine Shard",item:!0,category:"items"},{name:"seaLantern",Name:"Sea Lantern",lightLevel:15,breakTime:.45,category:"decoration"},{name:"oakLeaves",Name:"Oak Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"oakSapling":rand()>.8?"orange":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"acaciaLeaves",Name:"Acacia Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"acaciaSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"birchLeaves",Name:"Birch Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"birchSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"darkOakLeaves",Name:"Dark Oak Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"darkOakSapling":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"jungleLeaves",Name:"Jungle Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"jungleSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"spruceLeaves",Name:"Spruce Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"spruceSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"spyglass",Name:"Spyglass",textures:"spyglassModel",iconTexture:"spyglass",item:!0,spyglass:!0,category:"items"},{name:"egg",Name:"Egg",item:!0,onuse:function(e,t,a,s,o,i,r,n){var l=p.direction;world.addEntity(new Ve[Xe.Egg](p.x+l.x,p.y+l.y,p.z+l.z,.8*l.x,.8*l.y,.8*l.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"noodles",Name:"Noodles",item:!0,category:"food",hidden:!0},{name:"bowl",Name:"Bowl",item:!0,category:"items"},{name:"mushroomStew",Name:"Mushroom Stew",edible:!0,item:!0,eatWhenFull:!1,food:6,saturation:7.2,eatResult:"bowl",category:"food"},{name:"ramen",Name:"Ramen! Yum!",edible:!0,item:!0,eatWhenFull:!0,food:8,saturation:10,eatResult:"bowl",category:"food",hidden:!0},{name:"orange",Name:"Orange",edible:!0,item:!0,eatWhenFull:!1,food:4,saturation:2.4,category:"food"},{name:"fern",Name:"Fern",solid:!1,transparent:!0,shadow:!1,flatIcon:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"largeFern",Name:"Large Fern",solid:!1,transparent:!0,shadow:!1,textures:"largeFernTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"fire",fire:!0,damage:1,burnEnt:!0,transparent:!0,shadow:!1,solid:!1,lightLevel:15,ambientSound:"block.fire.fire",temperature:20,shade:!1,smoothLight:!1,hidden:!0,liquidBreakable:!0,noHitbox:!0,tagBits:{age:[0,8]},getAttached:function(e,t,a,s,o,i,r){var n=e,l=t,h=a;switch(s){case this.id:l--;break;case this.id|Q:l++;break;case this.id|J|Le:h++;break;case this.id|J|Re:h--;break;case this.id|J|Ie:n++;break;case this.id|J|Me:n--}var d=r.getBlock(n,l,h,o);return i?d:[d,n,l,h]},onupdate:function(e,t,a,s,o,i,r,n,l){var h=this.getAttached(e,t,a,s,l,!0,o);h&&(S[h].solid||S[h].liquid)||o.setBlock(e,t,a,0,!1,!1,!1,!1,l)},tick:function(e,t,a,s,o){var i=o.getBlock(e,t,a,s),r=this.getAttached(e,t,a,i,s,!1,o),n=r[1],l=r[2],h=r[3];r=r[0];var d=o.getTagByName(e,t,a,"age",s);if(d||(d=0),(d+=rand(10,11))>=15&&(!r||!S[r].burnTime))return o.setBlock(e,t,a,0,!1,!1,!1,!1,s);if(r&&S[r].burnTime&&d>S[r].burnTime)return o.setBlock(e,t,a,0,!1,!1,!1,!1,s),void o.setBlock(n,l,h,0,!1,!1,!1,!1,s);if(d>255&&(d=255),o.setTagByName(e,t,a,"age",d,!1,s),"rain"===o.weather&&o.weatherAmount>.5){t>o.getSolidTop(e,a,s)&&o.setBlock(e,t,a,0,!1,!1,!1,!1,s)}this.spread(e,t,a,s,o)},spread:function(e,t,a,s,o){for(var i=e-1;i<=e+1;i++)for(var r=t-1;r<=t+4;r++)for(var n=a-1;n<=a+1;n++){if((l=o.getBlock(i,r,n,s))&&S[l].burnChance&&rand()<S[l].burnChance){var l;let e,t,a;S[l].onburn&&S[l].onburn(i,r,n,s,o);for(var h=0;h<6;h++){switch(e=i,t=r,a=n,floor(rand(6))){case 0:l=this.id,t++;break;case 1:l=this.id|Q,t--;break;case 2:l=this.id|J|Le,a--;break;case 3:l=this.id|J|Re,a++;break;case 4:l=this.id|J|Ie,e--;break;case 5:l=this.id|J|Me,e++}if(!o.getBlock(e,t,a,s))break}o.getBlock(e,t,a,s)||o.setBlock(e,t,a,l,!1,!1,!1,!1,s)}}},tryCreatePortalZ:function(e,t,a,s){let o,i=[],r=[e,t,a,0];for(;r.length;){let[n,l,h,d]=r.splice(0,4);if(i.push(n,l,h,d),max(abs(n-e),abs(l-t),abs(h-a))>23)return;if(o=world.getBlock(n,l,h+1,s),!xyArrayHas(i,r,n,l,h+1))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l,h+1,d+1);if(o=world.getBlock(n,l,h-1,s),!xyArrayHas(i,r,n,l,h-1))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l,h-1,d+1);if(o=world.getBlock(n,l+1,h,s),!xyArrayHas(i,r,n,l+1,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l+1,h,d+1);if(o=world.getBlock(n,l-1,h,s),!xyArrayHas(i,r,n,l-1,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l-1,h,d+1)}for(let e=0;e<i.length;e+=4)world.setBlock(i[e],i[e+1],i[e+2],x.portal|ne|Ie,!1,!1,!1,!1,s);return!0},tryCreatePortalX:function(e,t,a,s){let o,i=[],r=[e,t,a,0];for(;r.length;){let[n,l,h,d]=r.splice(0,4);if(i.push(n,l,h,d),max(abs(n-e),abs(l-t),abs(h-a))>23)return;if(o=world.getBlock(n+1,l,h,s),!xyArrayHas(i,r,n+1,l,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n+1,l,h,d+1);if(o=world.getBlock(n-1,l,h,s),!xyArrayHas(i,r,n-1,l,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n-1,l,h,d+1);if(o=world.getBlock(n,l+1,h,s),!xyArrayHas(i,r,n,l+1,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l+1,h,d+1);if(o=world.getBlock(n,l-1,h,s),!xyArrayHas(i,r,n,l-1,h))if(S[o].solid){if(o!==x.obsidian)return}else r.push(n,l-1,h,d+1)}for(let e=0;e<i.length;e+=4)world.setBlock(i[e],i[e+1],i[e+2],x.portal|ne|Le,!1,!1,!1,!1,s);return!0},tryCreatePortal:function(e,t,a,s){return this.tryCreatePortalZ(e,t,a,s)||this.tryCreatePortalX(e,t,a,s)}},{name:"endRod",Name:"End Rod",transparent:!0,shadow:!1,lightLevel:15,category:"decoration"},{name:"oakWood",Name:"Oak Wood",textures:"logSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"acaciaWood",Name:"Acacia Wood",textures:"acaciaLogSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"birchWood",Name:"Birch Wood",textures:"birchLogSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"darkOakWood",Name:"Dark Oak Wood",textures:"darkOakLogSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"jungleWood",Name:"Jungle Wood",textures:"jungleLogSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"spruceWood",Name:"Spruce Wood",textures:"spruceLogSide",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"crimsonHyphae",textures:"crimsonStemSide",stemSound:!0,breakTime:2,type:"wood",category:"nature"},{name:"warpedHyphae",textures:"warpedStemSide",stemSound:!0,breakTime:2,type:"wood",category:"nature"},{name:"strippedOakWood",Name:"Stripped Oak Wood",textures:"strippedOakLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedAcaciaWood",Name:"Stripped Acacia Wood",textures:"strippedAcaciaLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedBirchWood",Name:"Stripped Birch Wood",textures:"strippedBirchLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedDarkOakWood",Name:"Stripped Dark Oak Wood",textures:"strippedDarkOakLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedJungleWood",Name:"Stripped Jungle Wood",textures:"strippedJungleLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedSpruceWood",Name:"Stripped Spruce Wood",textures:"strippedSpruceLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedCrimsonHyphae",textures:"strippedCrimsonStem",stemSound:!0,breakTime:2,type:"wood",category:"build"},{name:"strippedWarpedHyphae",textures:"strippedWarpedStem",stemSound:!0,breakTime:2,type:"wood",category:"build"},{name:"oakFenceGate",Name:"Oak Fence Gate",textures:"oakPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"acaciaFenceGate",Name:"Acacia Fence Gate",textures:"acaciaPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"birchFenceGate",Name:"Birch Fence Gate",textures:"birchPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"darkOakFenceGate",Name:"Dark Oak Fence Gate",textures:"darkOakPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"jungleFenceGate",Name:"Jungle Fence Gate",textures:"junglePlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"spruceFenceGate",Name:"Spruce Fence Gate",textures:"sprucePlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"crimsonFenceGate",Name:"Crimson Fence Gate",textures:"crimsonPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"warpedFenceGate",Name:"Warped Fence Gate",textures:"warpedPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"kelp",Name:"Kelp",flatIcon:!0,iconTexture:"kelpIcon",transparent:!0,solid:!1,shadow:!1,crossShape:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l);("kelp"===S[h].name||"kelpPlant"===S[h].name)&&o.setBlock(e,t,a,x.kelpPlant|$,!1,!1,!1,!1,l)},category:"nature"},{name:"kelpPlant",transparent:!0,solid:!1,shadow:!1,crossShape:!0,onupdate:function(e,t,a,s,o,i,r,n,l){var h=o.getBlock(e,t+1,a,l);"kelp"===S[h].name||"kelpPlant"===S[h].name||o.setBlock(e,t,a,x.kelp|$,!1,!1,!1,!1,l)},hidden:!0},{name:"seagrass",Name:"Seagrass",iconTexture:"seagrassIcon",transparent:!0,solid:!1,shadow:!1,crop:!0,category:"nature"},{name:"tallSeagrass",Name:"Tall Seagrass",textures:"tallSeagrassTop",transparent:!0,solid:!1,shadow:!1,tallCrop:!0,category:"nature"},{name:"barrel",Name:"Barrel",textures:["barrelBottom","barrelTop","barrelSide"],texturesOpen:m(["barrelBottom","barrelTopOpen","barrelSide"]),texturesSW:m(["barrelSide","barrelSide","barrelTop","barrelSW"]),texturesSWOpen:m(["barrelSide","barrelSide","barrelTopOpen","barrelSW"]),texturesDown:m(["barrelTop","barrelBottom","barrelSide"]),texturesDownOpen:m(["barrelTopOpen","barrelBottom","barrelSide"]),woodSound:!0,barrel:!0,category:"items",tagBits:null,setContents:function(e,t,a,s,o){let i={chest:!0,contents:new Array(27).fill(0)};return o.setTags(e,t,a,i,!1,s),i},onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("chest"),releasePointer()},onbreak:function(e,t,a,s,o,i,r){if(o&&o.chest&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&o[n].id&&r.addItems(e,t,a,i,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}}},{name:"endStoneBricks",Name:"End Stone Bricks",stoneSound:!0,category:"build"},{name:"beeNest",Name:"Bee Nest",textures:["beeNestBottom","beeNestTop","beeNestSide","beeNestFront","beeNestSide","beeNestSide"],texturesHoney:["beeNestBottom","beeNestTop","beeNestSide","beeNestFrontHoney","beeNestSide","beeNestSide"],rotate:!0,category:"nature"},{name:"beehive",Name:"Beehive",textures:["beehiveEnd","beehiveEnd","beehiveSide","beehiveFront","beehiveSide","beehiveSide"],texturesHoney:["beehiveEnd","beehiveEnd","beehiveSide","beehiveFrontHoney","beehiveSide","beehiveSide"],rotate:!0,category:"items"},{name:"honeyBlock",Name:"Block of Honey",textures:"honeyBlockBottom",transparent:!0,shapeName:"honeyBlock",damageResistance:.8,category:"build",sticky:!0},{name:"honeycomb",Name:"Honeycomb",item:!0,category:"items"},{name:"honeycombBlock",Name:"Honeycomb Block",category:"build"},{name:"coarseDirt",Name:"Coarse Dirt",breakTime:1.5,type:"ground",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"inkSac",Name:"Ink Sac",item:!0,category:"items"},{name:"glowInkSac",Name:"Glow Ink Sac",item:!0,category:"items"},{name:"glowItemFrame",Name:"Glow Item Frame",transparent:!0,itemFrame:!0,flatIcon:!0,iconTexture:"glowItemFrameIcon",category:"items"},{name:"glowLichen",Name:"Glow Lichen",transparent:!0,shadow:!1,wallFlat:!0,flatIcon:!0,lightLevel:7,compostChance:.5,category:"nature"},{name:"sponge",Name:"Sponge",wetTexture:new Array(6).fill("wetSponge"),category:"items",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"cutCopper",Name:"Cut Copper",category:"build"},{name:"exposedCopper",Name:"Exposed Block of Copper",category:"build"},{name:"exposedCutCopper",Name:"Exposed Cut Copper",category:"build"},{name:"weatheredCopper",Name:"Weathered Block of Copper",category:"build"},{name:"weatheredCutCopper",Name:"Weathered Cut Copper",category:"build"},{name:"oxidizedCopper",Name:"Oxidized Block of Copper",category:"build"},{name:"oxidizedCutCopper",Name:"Oxidized Cut Copper",category:"build"},{name:"quartzBricks",Name:"Quartz Bricks",stoneSound:!0,category:"build"},{name:"campfire",Name:"Campfire",flatIcon:!0,iconTexture:"campfire",textures:"campfireLogLit",campfire:!0,shadow:!1,lightLevel:15,transparent:!0,woodSound:!0,drop:"campfire",category:"items",damageUp:2,burnEnt:!0,smoothLight:!1,activate:function(e,t,a,s,o,i){i.burning&&o===(this.id|J)&&onBoxEnt(e,t,a,1,1,1,i)&&world.setBlock(e,t,a,this.id,!1,!1,!1,!1,s)}},{name:"soulCampfire",Name:"Soul Campfire",flatIcon:!0,iconTexture:"soulCampfire",textures:"soulCampfireLogLit",campfire:!0,shadow:!1,lightLevel:10,transparent:!0,woodSound:!0,drop:"soulCampfire",category:"items",damageUp:4,burnEnt:!0,smoothLight:!1,activate:function(e,t,a,s,o,i){i.burning&&o===(this.id|J)&&onBoxEnt(e,t,a,1,1,1,i)&&world.setBlock(e,t,a,this.id,!1,!1,!1,!1,s)}},{name:"bambooShoot",Name:"Bamboo Shoot",textures:"bambooStage0",solid:!1,transparent:!0,shadow:!1,crossShape:!0,liquidBreakable:"drop",category:"nature",potCross:!0},{name:"bambooStalk",Name:"Bamboo",iconTexture:"bamboo",flatIcon:!0,bamboo:!0,shadow:!1,potCross:!0,transparent:!0,drop:"bambooStalk",breakTime:1.5,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},liquidBreakable:"drop",category:"nature"},{name:"chest",Name:"Chest",textures:"chestFront",transparent:!0,chest:!0,tagBits:null,setContents:function(e,t,a,s,o){let i={chest:!0,contents:new Array(27).fill(0)};return o.setTags(e,t,a,i,!1,s),i},onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("chest"),releasePointer()},onbreak:function(e,t,a,s,o,i,r){if(o&&o.chest&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&o[n].id&&r.addItems(e,t,a,i,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},category:"items"},{name:"boneMeal",Name:'Bone "Meal"',item:!0,serveronuse:function(e,t,a,s,o,i,r){if(S[s].grow)S[s].grow(e,t,a,o,i);else if("wheat"===S[s].name)i.setBlock(e,t,a,x.wheat|ae,!1,!1,!1,!1,o);else if("tomatoPlant"===S[s].name)i.setBlock(e,t,a,x.tomatoPlant|K,!1,!1,!1,!1,o);else if("beetroots"===S[s].name)i.setBlock(e,t,a,x.beetroots|$,!1,!1,!1,!1,o);else if("carrots"===S[s].name)i.setBlock(e,t,a,x.carrots|$,!1,!1,!1,!1,o);else{if("potatoes"!==S[s].name)return!0;i.setBlock(e,t,a,x.potatoes|$,!1,!1,!1,!1,o)}i.glint(e,t,a,o)},minusOnUse:!0,category:"items"},{name:"clay",Name:"Clay",breakTime:.9,type:"ground",digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"],drop:"clayBall",dropAmount:4,category:"nature"},{name:"clayBall",Name:"Clay Ball",item:!0,category:"items"},{name:"brick",Name:"Brick",item:!0,category:"items"},{name:"charcoal",Name:"Charcoal",item:!0,category:"items"},{name:"appleCore",Name:"Apple Core",item:!0,category:"items"},{name:"tintedGlass",Name:"Tinted Glass",transparent:!0,shadow:!0,breakTime:.45,type:"glass",glassSound:!0,category:"build"},{name:"tomato",Name:"Tomato",item:!0,edible:!0,eatWhenFull:!1,food:3,saturation:2,eatResult:"tomatoSeeds",category:"nature"},{name:"tomatoPlant",Name:"Tomato Plant",textures:new Array(6).fill("tomatoPlantStage0"),textures1:new Array(6).fill("tomatoPlantStage1"),textures2:new Array(6).fill("tomatoPlantStage2"),textures3:new Array(6).fill("tomatoPlantStage3"),textures4:new Array(6).fill("tomatoPlantStage4"),iconTexture:"tomatoPlantStage3",flatIcon:!0,shadow:!1,transparent:!0,solid:!1,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},category:"nature",liquidBreakable:"drop"},{name:"tomatoSeeds",Name:"Tomato Seeds",item:!0,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"tomatoPlant":(Messages.write("tomato seeds need to be planted on farmland"),void(p.lastPlace=Date.now()))},category:"nature"},{name:"newCactusFruit",Name:"New Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,cactusFruit:!0,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},compostChance:.3,liquidBreakable:!0,category:"nature"},{name:"greenCactusFruit",Name:"Green Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,cactusFruit:!0,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},compostChance:.4,liquidBreakable:!0,category:"nature"},{name:"redCactusFruit",Name:"Red Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,edible:!0,eatWhenFull:!1,food:2,saturation:1,cactusFruit:!0,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},compostChance:.5,liquidBreakable:!0,category:"food"},{name:"purpleCactusFruit",Name:"Purple Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,edible:!0,eatWhenFull:!1,food:3,saturation:2,cactusFruit:!0,onupdate:function(e,t,a,s,o,i,r,n,l){bt(e,t,a,s,o,l)},compostChance:.6,liquidBreakable:!0,category:"food"},{name:"cherry",Name:"Cherry",item:!0,edible:!0,eatWhenFull:!1,food:1,saturation:1,compostChance:.5,category:"food"},{name:"cherryLog",Name:"Cherry Log",textures:["cherryLogTop","cherryLog"],woodSound:!0,breakTime:3,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"cherryLogSW",textures:["cherryLog","cherryLog","cherryLogTop","cherryLog"],rotate:!0,woodSound:!0,hidden:!0},{name:"greenCherryLeaves",Name:"Green Cherry Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"cherrySapling":"cherry"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature",hidden:!0},{name:"cherryLeaves",Name:"Cherry Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"cherrySapling";if(rand()>.5)return"cherry"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature"},{name:"cherrySapling",Name:"Cherry Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,category:"nature"},{name:"cherryWood",Name:"Cherry Wood",textures:"cherryLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"slingshot",Name:"Slingshot",item:!0,onuse:function(e,t,a,s,o,i,r,n){var l=p.direction;world.addEntity(new Ve[Xe.SlingshotShot](p.x,p.y,p.z,l.x,l.y,l.z),!1,n)},useAnywhere:!0,stackSize:1,category:"tools"},{name:"redstoneTorch",Name:"Redstone Torch",transparent:!0,shadow:!1,redstoneTorch:!0,lightLevel:7,woodSound:!0,solid:!1,flatIcon:!0,onupdate:function(e,t,a,s,o,i,r,n,l){(this.onpowerupdate(e,t,a,null,null,null,null,l,o),16===o.getPower(e,t,a,l))&&((s=o.getBlock(e,t+1,a,l))&&!S[s].transparent&&o.setBlockPower(e,t+1,a,"strong","bottom",l),(s=o.getBlock(e,t-1,a,l))&&"redstoneDust"===S[s].name&&(o.setPower(e,t-1,a,15,!1,l),o.spreadPower(e,t-1,a,15,l)))},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=this;l.setTimeout((function(){var s=l.getBlock(e,t,a,n),o=e,i=t,r=a,d=h.id|J,c=h.id|Q;switch(s){case d|Le:case c|Le:r++;break;case d|Re:case c|Re:r--;break;case d|Ie:case c|Ie:o++;break;case d|Me:case c|Me:o--;break;default:i--}l.getBlock(o,i,r,n);var p=!l.getPower(o,i,r,n)&&!l.getBlockPower(o,i,r,null,n),u=s;if(p)switch(s){case c|Le:u=d|Le;break;case c|Re:u=d|Re;break;case c|Ie:u=d|Ie;break;case c|Me:u=d|Me;break;case h.id|$:u=h.id}else switch(s){case d|Le:u=c|Le;break;case d|Re:u=c|Re;break;case d|Ie:u=c|Ie;break;case d|Me:u=c|Me;break;case h.id:u=h.id|$}if(s!==u){l.setBlock(e,t,a,u,!1,!1,!1,!1,n),p?(l.setPower(e,t,a,16,!1,n),l.spreadPower(e,t,a,16,n)):(l.setPower(e,t,a,0,!1,n),l.unspreadPower(e,t,a,16,!1,n));var m=l.getBlock(e,t+1,a,n);m&&!S[m].transparent&&l.setBlockPower(e,t+1,a,p?"strong":null,"bottom",n),(m=l.getBlock(e,t-1,a,n))&&"redstoneDust"===S[m].name&&(p?(l.setPower(e,t-1,a,15,!1,n),l.spreadPower(e,t-1,a,15,n)):l.unspreadPower(e,t-1,a,15,!0,n))}}),2*u,e,t,a,n)},onset:function(e,t,a,s,o){o.setPower(e,t,a,16,!1,s),o.spreadPower(e,t,a,16,s)},ondelete:function(e,t,a,s,o,i,r){r.setPower(e,t,a,0,!1,i),r.unspreadPower(e,t,a,16,!1,i);var n=r.getBlock(e,t+1,a,i);n&&!S[n].transparent&&r.setBlockPower(e,t+1,a,null,"bottom",i),(n=r.getBlock(e,t-1,a,i))&&"redstoneDust"===S[n].name&&r.unspreadPower(e,t-1,a,15,!0,i)},category:"redstone"},{name:"redstoneConnector",Name:"Block That Redstone Dust Connects To",stoneSound:!0,category:"redstone"},{name:"lever",Name:"Lever",transparent:!0,shadow:!1,solid:!1,lever:!0,flatIcon:!0,onclick:function(e,t,a,s,o){var i,r,n,l=o.getBlock(e,t,a,s),h=S[x.lever],d=h.id,c=h.id|J,p=e,u=t,m=a;switch(l){case d|Le:case c|Le:m++,i="south";break;case d|Re:case c|Re:m--,i="north";break;case d|Ie:case c|Ie:p++,i="east";break;case d|Me:case c|Me:p--,i="west";break;case h.id|Q:case h.id|$:u--,i="top";break;case h.id|K:case h.id|ee:u++,i="bottom"}switch(l){case d|Le:n=!0,r=c|Le;break;case d|Re:n=!0,r=c|Re;break;case d|Ie:n=!0,r=c|Ie;break;case d|Me:n=!0,r=c|Me;break;case c|Le:n=!1,r=d|Le;break;case c|Re:n=!1,r=d|Re;break;case c|Ie:n=!1,r=d|Ie;break;case c|Me:n=!1,r=d|Me;break;case h.id|Q:n=!0,r=h.id|$;break;case h.id|$:n=!1,r=h.id|Q;break;case h.id|K:n=!0,r=h.id|ee;break;case h.id|ee:n=!1,r=h.id|K}o.setBlock(e,t,a,r,!1,!1,!1,!1,s),n?(o.setPower(e,t,a,16,!1,s),o.spreadPower(e,t,a,15,s)):(o.setPower(e,t,a,0,!1,s),o.unspreadPower(e,t,a,16,!1,s));var g=o.getBlock(p,u,m,s);g&&!S[g].transparent&&o.setBlockPower(p,u,m,n?"strong":null,i,s)},ondelete:function(e,t,a,s,o,i,r){if(ct(s,"power",this.id)){r.unspreadPower(e,t,a,16,!1,i);var n,l=o,h=S[x.lever],d=h.id,c=h.id|J,p=e,u=t,m=a;switch(l){case d|Le:case c|Le:m++,n="south";break;case d|Re:case c|Re:m--,n="north";break;case d|Ie:case c|Ie:p++,n="east";break;case d|Me:case c|Me:p--,n="west";break;case h.id|Q:case h.id|$:u--,n="top";break;case h.id|K:case h.id|ee:u++,n="bottom"}var g=r.getBlock(p,u,m,i);g&&!S[g].transparent&&r.setBlockPower(p,u,m,null,n,i)}},category:"redstone"},{name:"repeater",Name:"Redstone Repeater",flatIcon:!0,iconTexture:"repeaterIcon",repeater:!0,transparent:!0,onupdate:function(e,t,a,s,o,i,r,n,l){this.onpowerupdate(e,t,a,null,null,null,null,l,o)},ondelete:function(e,t,a,s,o,i,r){r.unspreadPower(e,t,a,16,!1,i),r.setBlockPower(e,t,a+1,null,"south",i),r.setBlockPower(e,t,a-1,null,"north",i),r.setBlockPower(e+1,t,a,null,"east",i),r.setBlockPower(e-1,t,a,null,"west",i)},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h,d,c=e,p=t,m=a,g=e,k=t,y=a,b=l.getBlock(e,t,a,n),w=this.id,f=this.id|J,B=this.id|Q,v=this.id|ee,x=this.id|re,P=this.id|ne,T=this.id|le,N=this.id|de;switch(b){case w|Le:case f|Le:case B|Le:case v|Le:case x|Le:case P|Le:case T|Le:case N|Le:m--,y++,h="south";break;case w|Re:case f|Re:case B|Re:case v|Re:case x|Re:case P|Re:case T|Re:case N|Re:m++,y--,h="north";break;case w|Ie:case f|Ie:case B|Ie:case v|Ie:case x|Ie:case P|Ie:case T|Ie:case N|Ie:c--,g++,h="east";break;case w|Me:case f|Me:case B|Me:case v|Me:case x|Me:case P|Me:case T|Me:case N|Me:c++,g--,h="west"}if(c===e&&p===t&&m===a)return console.log("doesn't match up");switch(b){case w|Le:case w|Re:case w|Ie:case w|Me:case x|Le:case x|Re:case x|Ie:case x|Me:d=1;break;case f|Le:case f|Re:case f|Ie:case f|Me:case P|Le:case P|Re:case P|Ie:case P|Me:d=2;break;case B|Le:case B|Re:case B|Ie:case B|Me:case T|Le:case T|Re:case T|Ie:case T|Me:d=3;break;case v|Le:case v|Re:case v|Ie:case v|Me:case N|Le:case N|Re:case N|Ie:case N|Me:d=4}if(!d)return console.log("delay hasn't been set");var C=!1;switch(b){case x|Le:case P|Le:case T|Le:case N|Le:case x|Re:case P|Re:case T|Re:case N|Re:case x|Ie:case P|Ie:case T|Ie:case N|Ie:case x|Me:case P|Me:case T|Me:case N|Me:C=!0}var z=l.getBlock(g,k,y,n);if(z&&"redstoneDust"===S[z].name?C&&15!==l.getPower(g,k,y,n)&&(l.setPower(g,k,y,15,!1,n),l.spreadPower(g,k,y,15,n)):z&&!S[z].transparent&&(C?l.setBlockPower(g,k,y,"strong",h,n):l.setBlockPower(g,k,y,null,h,n)),C!==!(!l.getRepeaterPower(e,t,a,c,p,m,n)&&!l.getBlockPower(c,p,m,null,n))){l.setTimeout((function(){b=l.getBlock(e,t,a,n);var s=!(!l.getRepeaterPower(e,t,a,c,p,m,n)&&!l.getBlockPower(c,p,m,null,n)),o=!1;switch(b){case x|Le:case P|Le:case T|Le:case N|Le:case x|Re:case P|Re:case T|Re:case N|Re:case x|Ie:case P|Ie:case T|Ie:case N|Ie:case x|Me:case P|Me:case T|Me:case N|Me:o=!0}if(s!==o){var i,r="north";switch(b){case w|Le:i=x;break;case f|Le:i=P;break;case B|Le:i=T;break;case v|Le:i=N;break;case x|Le:i=w;break;case P|Le:i=f;break;case T|Le:i=B;break;case N|Le:i=v;break;case w|Re:i=x,r="south";break;case f|Re:i=P,r="south";break;case B|Re:i=T,r="south";break;case v|Re:i=N,r="south";break;case x|Re:i=w,r="south";break;case P|Re:i=f,r="south";break;case T|Re:i=B,r="south";break;case N|Re:i=v,r="south";break;case w|Ie:i=x,r="east";break;case f|Ie:i=P,r="east";break;case B|Ie:i=T,r="east";break;case v|Ie:i=N,r="east";break;case x|Ie:i=w,r="east";break;case P|Ie:i=f,r="east";break;case T|Ie:i=B,r="east";break;case N|Ie:i=v,r="east";break;case w|Me:i=x,r="west";break;case f|Me:i=P,r="west";break;case B|Me:i=T,r="west";break;case v|Me:i=N,r="west";break;case x|Me:i=w,r="west";break;case P|Me:i=f,r="west";break;case T|Me:i=B,r="west";break;case N|Me:i=v,r="west"}switch(r){case"north":break;case"south":i|=Re;break;case"east":i|=Ie;break;case"west":i|=Me}b!==i&&l.setBlock(e,t,a,i,!1,!1,!1,!1,n);var d=l.getBlock(g,k,y,n);s?d&&"redstoneDust"===S[d].name?15!==l.getPower(g,k,y,n)&&(l.setPower(g,k,y,15,!1,n),l.spreadPower(g,k,y,15,n)):d&&!S[d].transparent&&l.setBlockPower(g,k,y,"strong",h,n):d&&"redstoneDust"===S[d].name?l.unspreadPower(g,k,y,15,!0,n):d&&!S[d].transparent&&l.setBlockPower(g,k,y,null,h,n)}}),u*d*2,e,t,a,n)}},onclick:function(e,t,a,s){var o,i=S[x.repeater],r=world.getBlock(e,t,a,s),n=i.id,l=i.id|J,h=i.id|Q,d=i.id|ee,c=i.id|re,p=i.id|ne,u=i.id|le,m=i.id|de;switch(r){case n|Le:o=l|Le;break;case l|Le:o=h|Le;break;case h|Le:o=d|Le;break;case d|Le:o=n|Le;break;case c|Le:o=p|Le;break;case p|Le:o=u|Le;break;case u|Le:o=m|Le;break;case m|Le:o=c|Le;break;case n|Re:o=l|Re;break;case l|Re:o=h|Re;break;case h|Re:o=d|Re;break;case d|Re:o=n|Re;break;case c|Re:o=p|Re;break;case p|Re:o=u|Re;break;case u|Re:o=m|Re;break;case m|Re:o=c|Re;break;case n|Ie:o=l|Ie;break;case l|Ie:o=h|Ie;break;case h|Ie:o=d|Ie;break;case d|Ie:o=n|Ie;break;case c|Ie:o=p|Ie;break;case p|Ie:o=u|Ie;break;case u|Ie:o=m|Ie;break;case m|Ie:o=c|Ie;break;case n|Me:o=l|Me;break;case l|Me:o=h|Me;break;case h|Me:o=d|Me;break;case d|Me:o=n|Me;break;case c|Me:o=p|Me;break;case p|Me:o=u|Me;break;case u|Me:o=m|Me;break;case m|Me:o=c|Me}world.setBlock(e,t,a,o,!1,!1,!1,!1,s)},getFacing:function(e,t,a,s,o){var i,r=o.getBlock(e,t,a,s),n=this.id,l=this.id|J,h=this.id|Q,d=this.id|ee,c=this.id|re,p=this.id|ne,u=this.id|le,m=this.id|de;switch(r){case n|Le:case l|Le:case h|Le:case d|Le:case c|Le:case p|Le:case u|Le:case m|Le:i="north";break;case n|Re:case l|Re:case h|Re:case d|Re:case c|Re:case p|Re:case u|Re:case m|Re:i="south";break;case n|Ie:case l|Ie:case h|Ie:case d|Ie:case c|Ie:case p|Ie:case u|Ie:case m|Ie:i="east";break;case n|Me:case l|Me:case h|Me:case d|Me:case c|Me:case p|Me:case u|Me:case m|Me:i="west"}return i},canHavePower:function(e,t,a,s,o,i,r,n){var l=e,h=t,d=a,c=n.getBlock(e,t,a,r),p=this.id,u=this.id|J,m=this.id|Q,g=this.id|ee,k=this.id|re,y=this.id|ne,b=this.id|le,w=this.id|de;switch(c){case p|Le:case u|Le:case m|Le:case g|Le:case k|Le:case y|Le:case b|Le:case w|Le:d++;break;case p|Re:case u|Re:case m|Re:case g|Re:case k|Re:case y|Re:case b|Re:case w|Re:d--;break;case p|Ie:case u|Ie:case m|Ie:case g|Ie:case k|Ie:case y|Ie:case b|Ie:case w|Ie:l++;break;case p|Me:case u|Me:case m|Me:case g|Me:case k|Me:case y|Me:case b|Me:case w|Me:l--}var f=!1;switch(c){case k|Le:case y|Le:case b|Le:case w|Le:case k|Re:case y|Re:case b|Re:case w|Re:case k|Ie:case y|Ie:case b|Ie:case w|Ie:case k|Me:case y|Me:case b|Me:case w|Me:f=!0}return f&&l===s&&h===o&&d===i?15:0},category:"redstone"},{name:"piston",Name:"Piston",textures:["pistonBack","pistonFront","pistonSide"],piston:!0,headSideTexture:"pistonHeadSide",frontOpenTexture:"pistonFrontOpen",headBackTexture:"pistonFront",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h,d=!1,c=!1;switch(l.getBlock(e,t,a,n)){case this.id:h="top";break;case this.id|ze:h="bottom";break;case this.id|J|Le:h="north";break;case this.id|J|Re:h="south";break;case this.id|J|Ie:h="east";break;case this.id|J|Me:h="west";break;case this.id|K:h="top",d=!0;break;case this.id|K|ze:h="bottom",d=!0;break;case this.id|ne|Le:h="north",d=!0;break;case this.id|ne|Re:h="south",d=!0;break;case this.id|ne|Ie:h="east",d=!0;break;case this.id|ne|Me:h="west",d=!0;break;default:return}if(d)switch(h){case"top":l.getBlock(e,t+1,a,n)===(this.id|Q)&&(c=!0);break;case"bottom":l.getBlock(e,t-1,a,n)===(this.id|Q|ze)&&(c=!0);break;case"north":l.getBlock(e,t,a-1,n)===(this.id|ee|Le)&&(c=!0);break;case"south":l.getBlock(e,t,a+1,n)===(this.id|ee|Re)&&(c=!0);break;case"east":l.getBlock(e-1,t,a,n)===(this.id|ee|Ie)&&(c=!0);break;case"west":l.getBlock(e+1,t,a,n)===(this.id|ee|Me)&&(c=!0)}var p=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n);p&&!d?this.extend(e,t,a,h,n,l):!p&&d&&c&&this.retract(e,t,a,h,n,l)},onupdate:function(e,t,a,s,o,i,r,n,l){this.onpowerupdate(e,t,a,null,null,null,null,l,o)},onbreak:function(e,t,a,s,o,i,r){let n=e,l=t,h=a;switch(s){case this.id|K:case this.id|Q|ze:l++;break;case this.id|K|ze:case this.id|Q:l--;break;case this.id|ne|Le:case this.id|ee|Re:h--;break;case this.id|ne|Re:case this.id|ee|Le:h++;break;case this.id|ne|Ie:case this.id|ee|Me:n--;break;case this.id|ne|Me:case this.id|ee|Ie:n++;break;default:return}r.setBlock(n,l,h,0,!1,!1,!1,!1,i)},extend:function(e,t,a,s,o,i){var r,n,l,h=e,d=t,c=a,p=0,m=0,g=0;switch(s){case"top":l=this.id|K,r=this.id|Q,n=this.id|$,d++,m=1;break;case"bottom":l=this.id|K|ze,r=this.id|Q|ze,n=this.id|$|ze,d--,m=-1;break;case"north":l=this.id|ne|Le,r=this.id|ee|Le,n=this.id|re|Le,c--,g=-1;break;case"south":l=this.id|ne|Re,r=this.id|ee|Re,n=this.id|re|Re,c++,g=1;break;case"east":l=this.id|ne|Ie,r=this.id|ee|Ie,n=this.id|re|Ie,h--,p=-1;break;case"west":l=this.id|ne|Me,r=this.id|ee|Me,n=this.id|re|Me,h++,p=1;break;default:return console.log("oh no! piston isn't facing anywhere")}var k=Qt(e,t,a,p,m,g,o,i);if(!1!==k){i.setBlock(e,t,a,l,!1,!1,!1,!1,o);var y=new Ve[Xe.MovingBlock](n,e,t,a,h,d,c,2*u,!0);y.endAs=r,i.addEntity(y,!1,o),i.setTimeout((function(){y.changeBlock(r)}),1.5*u);for(var b=0;b<k.length;b+=4){var w=k[b],f=k[b+1],B=k[b+2],S=i.getTags(w,f,B,o);i.setBlock(w,f,B,0,!1,!1,!1,!1,o),i.addEntity(new Ve[Xe.MovingBlock](k[b+3],w,f,B,w+p,f+m,B+g,2*u,!0,S),!1,o)}}},retract:function(e,t,a,s,o,i){var r,n,l,h=e,d=t,c=a;switch(s){case"top":l=this.id,r=this.id|Q,n=this.id|$,d++;break;case"bottom":l=this.id|ze,r=this.id|Q|ze,n=this.id|$|ze,d--;break;case"north":l=this.id|J|Le,r=this.id|ee|Le,n=this.id|re|Le,c--;break;case"south":l=this.id|J|Re,r=this.id|ee|Re,n=this.id|re|Re,c++;break;case"east":l=this.id|J|Ie,r=this.id|ee|Ie,n=this.id|re|Ie,h--;break;case"west":l=this.id|J|Me,r=this.id|ee|Me,n=this.id|re|Me,h++;break;default:return console.log("oh no! piston isn't facing anywhere")}i.setBlock(h,d,c,0,!1,!1,!1,!1,o);var p=new Ve[Xe.MovingBlock](r,h,d,c,e,t,a,2*u);i.addEntity(p,!1,o),i.setTimeout((function(){p.changeBlock(n)}),.5*u),i.setTimeout((function(){i.setBlock(e,t,a,l,!1,!1,!1,!1,o)}),2*u)},category:"redstone"},{name:"smoothQuartz",Name:"Smooth Quartz Block",textures:"quartzBlockBottom",stoneSound:!0,category:"build"},{name:"pistonSticky",Name:"Sticky Piston",textures:["pistonBack","pistonFrontSticky","pistonSide"],piston:!0,headSideTexture:"pistonHeadSide",frontOpenTexture:"pistonFrontOpen",headBackTexture:"pistonFront",category:"redstone",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h,d=!1,c=!1;switch(l.getBlock(e,t,a,n)){case this.id:h="top";break;case this.id|ze:h="bottom";break;case this.id|J|Le:h="north";break;case this.id|J|Re:h="south";break;case this.id|J|Ie:h="east";break;case this.id|J|Me:h="west";break;case this.id|K:h="top",d=!0;break;case this.id|K|ze:h="bottom",d=!0;break;case this.id|ne|Le:h="north",d=!0;break;case this.id|ne|Re:h="south",d=!0;break;case this.id|ne|Ie:h="east",d=!0;break;case this.id|ne|Me:h="west",d=!0;break;default:return}if(d)switch(h){case"top":l.getBlock(e,t+1,a,n)===(this.id|Q)&&(c=!0);break;case"bottom":l.getBlock(e,t-1,a,n)===(this.id|Q|ze)&&(c=!0);break;case"north":l.getBlock(e,t,a-1,n)===(this.id|ee|Le)&&(c=!0);break;case"south":l.getBlock(e,t,a+1,n)===(this.id|ee|Re)&&(c=!0);break;case"east":l.getBlock(e-1,t,a,n)===(this.id|ee|Ie)&&(c=!0);break;case"west":l.getBlock(e+1,t,a,n)===(this.id|ee|Me)&&(c=!0)}var p=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n);p&&!d?this.extend(e,t,a,h,n,l):!p&&d&&c&&this.retract(e,t,a,h,n,l)},onupdate:function(e,t,a,s,o,i,r,n,l){this.onpowerupdate(e,t,a,null,null,null,null,l,o)},onbreak:function(e,t,a,s,o,i,r){let n=e,l=t,h=a;switch(s){case this.id|K:case this.id|Q|ze:l++;break;case this.id|K|ze:case this.id|Q:l--;break;case this.id|ne|Le:case this.id|ee|Re:h--;break;case this.id|ne|Re:case this.id|ee|Le:h++;break;case this.id|ne|Ie:case this.id|ee|Me:n--;break;case this.id|ne|Me:case this.id|ee|Ie:n++;break;default:return}r.setBlock(n,l,h,0,!1,!1,!1,!1,i)},extend:function(e,t,a,s,o,i){var r,n,l,h=e,d=t,c=a,p=0,m=0,g=0;switch(s){case"top":l=this.id|K,r=this.id|Q,n=this.id|$,d++,m=1;break;case"bottom":l=this.id|K|ze,r=this.id|Q|ze,n=this.id|$|ze,d--,m=-1;break;case"north":l=this.id|ne|Le,r=this.id|ee|Le,n=this.id|re|Le,c--,g=-1;break;case"south":l=this.id|ne|Re,r=this.id|ee|Re,n=this.id|re|Re,c++,g=1;break;case"east":l=this.id|ne|Ie,r=this.id|ee|Ie,n=this.id|re|Ie,h--,p=-1;break;case"west":l=this.id|ne|Me,r=this.id|ee|Me,n=this.id|re|Me,h++,p=1;break;default:return console.log("oh no! piston isn't facing anywhere")}var k=Qt(e,t,a,p,m,g,o,i);if(!1!==k){i.setBlock(e,t,a,l,!1,!1,!1,!1,o);for(var y=new Ve[Xe.MovingBlock](n,e,t,a,h,d,c,2*u,!0),b=0;b<k.length;b+=4){var w=k[b],f=k[b+1],B=k[b+2],S=i.getTags(w,f,B,o);i.setBlock(w,f,B,0,!1,!1,!1,!1,o),i.addEntity(new Ve[Xe.MovingBlock](k[b+3],w,f,B,w+p,f+m,B+g,2*u,!0,S),!1,o)}y.endAs=r,i.addEntity(y,!1,o),i.setTimeout((function(){y.changeBlock(r)}),1.5*u)}},retract:function(e,t,a,s,o,i){var r,n,l,h=e,d=t,c=a,p=0,m=0,g=0;switch(s){case"top":l=this.id,r=this.id|Q,n=this.id|$,d++,m=1;break;case"bottom":l=this.id|ze,r=this.id|Q|ze,n=this.id|$|ze,d--,m=-1;break;case"north":l=this.id|J|Le,r=this.id|ee|Le,n=this.id|re|Le,c--,g=-1;break;case"south":l=this.id|J|Re,r=this.id|ee|Re,n=this.id|re|Re,c++,g=1;break;case"east":l=this.id|J|Ie,r=this.id|ee|Ie,n=this.id|re|Ie,h--,p=-1;break;case"west":l=this.id|J|Me,r=this.id|ee|Me,n=this.id|re|Me,h++,p=1;break;default:return console.log("oh no! piston isn't facing anywhere")}i.setBlock(h,d,c,0,!1,!1,!1,!1,o);var k=new Ve[Xe.MovingBlock](r,h,d,c,e,t,a,2*u);i.addEntity(k,!1,o),i.setTimeout((function(){k.changeBlock(n)}),.5*u),i.setTimeout((function(){i.setBlock(e,t,a,l,!1,!1,!1,!1,o)}),2*u);var y=$t(e,t,a,p,m,g,o,i);if(y)for(var b=0;b<y.length;b+=4){var w=y[b],f=y[b+1],B=y[b+2],S=i.getTags(w,f,B,o);i.setBlock(w,f,B,0,!1,!1,!1,!1,o),i.addEntity(new Ve[Xe.MovingBlock](y[b+3],w,f,B,w-p,f-m,B-g,2*u,!0,S),!1,o)}}},{name:"observer",Name:"Observer",textures:["observerTop","observerTop","observerBack","observerFront","observerSide","observerSide"],blastResistance:3.5,breakTime:17.5,getFacing:function(e,t,a,s,o){var i;switch(o.getBlock(e,t,a,s)){case this.id|Le:case this.id|Q|Le:i="north";break;case this.id|Re:case this.id|Q|Re:i="south";break;case this.id|Ie:case this.id|Q|Ie:i="east";break;case this.id|Me:case this.id|Q|Me:i="west";break;case this.id|J:case this.id|$:i="bottom";break;case this.id|J|ze:case this.id|$|ze:i="top";break;default:return}return i},detected:function(e,t,a,s,o,i,r,n=!1,l){var h,d=r.getBlock(e,t,a,l),c=0,p=0,m=0;switch(d){case this.id|Le:"north",m=-1,h=this.id|Q|Le;break;case this.id|Re:"south",m=1,h=this.id|Q|Re;break;case this.id|Ie:"east",c=-1,h=this.id|Q|Ie;break;case this.id|Me:"west",c=1,h=this.id|Q|Me;break;case this.id|J:"bottom",p=-1,h=this.id|$;break;case this.id|J|ze:"top",p=1,h=this.id|$|ze;break;default:return}(e+c===s&&t+p===o&&a+m===i||n)&&r.setTimeout((function(){var s=r.getBlock(e,t,a,l);if(s&&"observer"===S[s].name){r.setBlock(e,t,a,h,!1,!0,!1,!1,l);var o=r.getBlock(e-c,t-p,a-m,l);o&&"redstoneDust"===S[o].name&&(r.setPower(e-c,t-p,a-m,15,!1,l),r.spreadPower(e-c,t-p,a-m,15,l)),r.setTimeout((function(){var s=r.getBlock(e,t,a,l);s&&"observer"===S[s].name&&(r.setBlock(e,t,a,d,!1,!0,!1,!1,l),r.unspreadPower(e-c,t-p,a-m,15,!0,l))}),2*u)}}),u,e,t,a,l)},onupdate:function(e,t,a,s,o,i,r,n,l){this.detected(e,t,a,i,r,n,o,!1,l)},onset:function(e,t,a,s,o){this.detected(e,t,a,e,t,a,o,!0,s)},canHavePower:function(e,t,a,s,o,i,r,n){var l=0,h=0,d=0;switch(n.getBlock(e,t,a,r)){case this.id|Q|Le:d=-1;break;case this.id|Q|Re:d=1;break;case this.id|Q|Ie:l=-1;break;case this.id|Q|Me:l=1;break;case this.id|$:h=-1;break;case this.id|$|ze:h=1;break;default:return}return e-l===s&&t-h===o&&a-d===i?15:0},category:"redstone"},{name:"string",Name:"String",item:!0,category:"items"},{name:"redDye",Name:"Red Dye",item:!0,dye:"red",category:"items"},{name:"lightGrayDye",Name:"Light Gray Dye",item:!0,dye:"lightGray",category:"items"},{name:"lightBlueDye",Name:"Light Blue Dye",item:!0,dye:"lightBlue",category:"items"},{name:"magentaDye",Name:"Magenta Dye",item:!0,dye:"magenta",category:"items"},{name:"yellowDye",Name:"Yellow Dye",item:!0,dye:"yellow",category:"items"},{name:"purpleDye",Name:"Purple Dye",item:!0,dye:"purple",category:"items"},{name:"orangeDye",Name:"Orange Dye",item:!0,dye:"orange",category:"items"},{name:"whiteDye",Name:"White Dye",item:!0,dye:"white",category:"items"},{name:"greenDye",Name:"Green Dye",item:!0,dye:"green",category:"items"},{name:"brownDye",Name:"Brown Dye",item:!0,dye:"brown",category:"items"},{name:"blackDye",Name:"Black Dye",item:!0,dye:"black",category:"items"},{name:"pinkDye",Name:"Pink Dye",item:!0,dye:"pink",category:"items"},{name:"limeDye",Name:"Lime Dye",item:!0,dye:"lime",category:"items"},{name:"grayDye",Name:"Gray Dye",item:!0,dye:"gray",category:"items"},{name:"cyanDye",Name:"Cyan Dye",item:!0,dye:"cyan",category:"items"},{name:"blueDye",Name:"Blue Dye",item:!0,dye:"blue",category:"items"},{name:"endPortal",flatIcon:!0,solid:!1,transparent:!0,blastResistance:36e5,lightLevel:15,pistonPush:!1,pistonPull:!1,hidden:!0,drop:"air",ontouch:function(){if(thisSceneCurrent){if(""===p.dimension){let e=round(rand(-64,64)),t=round(rand(-64,64));p.x=e,p.z=t}else p.x=world.spawnPoint.x,p.y=world.spawnPoint.y,p.z=world.spawnPoint.z;fromEndPortal=!0,goToDimension("end"===p.dimension?"":"end"),playSound("block.portal.travel"),multiplayer&&send({type:"playSound",data:"block.portal.travel",x:p.x,y:p.y,z:p.z}),achievment("Into the End"),""!==p.dimension||didEndPoem||cheats||(doEndPoem=didEndPoem=!0,changeScene("endPoem"),releasePointer(),endPoemVideo.classList.remove("hidden"),endPoemVideo.currentTime=0,endPoemVideo.onended=()=>{doEndPoem=!1,endPoemVideo.classList.add("hidden"),endPoemVideo.pause()},endPoemVideo.play())}},doneLoading:function(){if(fromEndPortal=!1,"end"===p.dimension){p.y=world.getTop(p.x,p.z,p.dimension)+p.bottomH,p.y<25&&(p.y=25),world.getBlock(p.x,floor(p.y-p.bottomH),p.z,p.dimension)||world.setBlock(p.x,floor(p.y-p.bottomH),p.z,x.obsidian,!1,!1,!1,!1,p.dimension);let e=world.getTop(0,0,"end");world.setBlock(0,e+1,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+3,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,-1,x.torch|J|Le,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,1,x.torch|J|Re,!1,!1,!1,!1,"end"),world.setBlock(-1,e+2,0,x.torch|J|Ie,!1,!1,!1,!1,"end"),world.setBlock(1,e+2,0,x.torch|J|Me,!1,!1,!1,!1,"end"),world.setBlock(-1,e,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,-2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,-2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,-2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e+1,-3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+1,-3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e+1,-3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e+1,3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+1,3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e+1,3,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,-1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,0,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,1,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e+1,-2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e+1,-2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e+1,2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e+1,2,x.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+4,0,x.oakSign,!1,!1,!1,!1,"end");const t=atob("QmV3YXJlIHRoZQpvbmUgdGhhdApyb2xscy4=");world.setTags(0,e+4,0,{rot:0,text:t,text2:t},!1,"end")}}},{name:"thatch",Name:"Thatch",type:"plant2",burnChance:.2,burnTime:20,compostChance:.85,category:"build"},{name:"pearlescentFroglight",Name:"Pearlescent Froglight",textures:["pearlescentFroglightTop","pearlescentFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"verdantFroglight",Name:"Verdant Froglight",textures:["verdantFroglightTop","verdantFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"ochreFroglight",Name:"Ochre Froglight",textures:["ochreFroglightTop","ochreFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"mangroveLeaves",Name:"Mangrove Leaves",transparent:!0,cullFace:"never",breakTime:.3,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return""}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature"},{name:"mangroveLog",Name:"Mangrove Log",textures:["mangroveLogTop","mangroveLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"strippedMangroveLog",Name:"Stripped Mangrove Log",textures:["strippedMangroveLogTop","strippedMangroveLog"],breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"mangroveLogSW",textures:["mangroveLog","mangroveLog","mangroveLogTop","mangroveLog"],SW:!0,woodSound:!0,hidden:!0},{name:"strippedMangroveLogSW",textures:["strippedMangroveLog","strippedMangroveLog","strippedMangroveLogTop","strippedMangroveLog"],SW:!0,woodSound:!0,hidden:!0},{name:"mangrovePlanks",Name:"Mangrove Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"mangroveDoor",Name:"Mangrove Door",transparent:!0,shadow:!1,textures:"mangroveDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"mangroveTrapdoor",Name:"Mangrove Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"mangroveButton",Name:"Mangrove Button",textures:"mangrovePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"mangrovePressurePlate",Name:"Mangrove Pressure Plate",textures:"mangrovePlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"mangroveFenceGate",Name:"Mangrove Fence Gate",textures:"mangrovePlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"mangroveRoots",textures:["mangroveRootsTop","mangroveRootsSide"],transparent:!0,type:"wood",breakTime:1.05,blastResistance:.7,cullFace:"never",compostChance:.3,category:"nature"},{name:"muddyMangroveRoots",textures:["muddyMangroveRootsTop","muddyMangroveRootsSide"],type:"wood",breakTime:1.05,blastResistance:.7,category:"nature"},{name:"mangroveWood",Name:"Mangrove Wood",textures:"mangroveLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"strippedMangroveWood",Name:"Stripped Mangrove Wood",textures:"strippedMangroveLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"mud",Name:"Mud",breakTime:.75,blastResistance:.5,type:"ground",digSound:["block.mud.break1","block.mud.break2","block.mud.break3","block.mud.break4","block.mud.break5","block.mud.break6"],stepSound:["block.mud.step1","block.mud.step2","block.mud.step3","block.mud.step4","block.mud.step5","block.mud.step6"],category:"nature"},{name:"mudBricks",Name:"Mud Bricks",category:"build"},{name:"packedMud",Name:"Packed Mud",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,category:"build"},{name:"reinforcedDeepslate",textures:["reinforcedDeepslateBottom","reinforcedDeepslateTop","reinforcedDeepslateSide"],blastResistance:1200,breakTime:82.5,pistonPush:!1,pistonPull:!1,category:"build"},{name:"redRedstoneLamp",Name:"Red Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),d=this.id;h&&(d=this.id|J),l.getBlock(e,t,a,n)!==d&&l.setBlock(e,t,a,d,!1,!1,!1,!1,n)},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"yellowRedstoneLamp",Name:"Yellow Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),d=this.id;h&&(d=this.id|J),l.getBlock(e,t,a,n)!==d&&l.setBlock(e,t,a,d,!1,!1,!1,!1,n)},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"greenRedstoneLamp",Name:"Green Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),d=this.id;h&&(d=this.id|J),l.getBlock(e,t,a,n)!==d&&l.setBlock(e,t,a,d,!1,!1,!1,!1,n)},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"blueRedstoneLamp",Name:"Blue Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),d=this.id;h&&(d=this.id|J),l.getBlock(e,t,a,n)!==d&&l.setBlock(e,t,a,d,!1,!1,!1,!1,n)},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"soulFire",fire:!0,damage:2,burnEnt:!0,transparent:!0,shadow:!1,solid:!1,lightLevel:15,ambientSound:"block.fire.fire",temperature:20,shade:!1,smoothLight:!1,hidden:!0,noHitbox:!0,getAttached:function(e,t,a,s,o,i,r){var n=e,l=t,h=a;switch(s){case this.id:l--;break;case this.id|Q:l++;break;case this.id|J|Le:h++;break;case this.id|J|Re:h--;break;case this.id|J|Ie:n++;break;case this.id|J|Me:n--}var d=r.getBlock(n,l,h,o);return i?d:[d,n,l,h]},onupdate:function(e,t,a,s,o,i,r,n,l){var h=this.getAttached(e,t,a,s,l,!0,o);h&&S[h].canHaveSoulFire||o.setBlock(e,t,a,0,!1,!1,!1,!1,l)}},{name:"sweetBerries",Name:"Sweet Berries (they're spiky)",item:!0,edible:!0,food:4,saturation:1.2,eatResult:"stick",useAs:"sweetBerryBush",compostChance:.3,category:"food"},{name:"sweetBerryBush",textures:"sweetBerryBushStage0",textures1:new Array(6).fill("sweetBerryBushStage1"),textures2:new Array(6).fill("sweetBerryBushStage2"),textures3:new Array(6).fill("sweetBerryBushStage3"),flatIcon:!0,solid:!1,transparent:!0,shadow:!1,smoothLight:!1,hidden:!0,drop:"sweetBerries",liquidBreakable:"drop",category:"nature"},{name:"smallDripleaf",Name:"Small Dripleaf",textures:"smallDripleafStemBottom",shapeName:"smallDripleaf",solid:!1,transparent:!0,shadow:!1,smoothLight:!1,liquidBreakable:"drop",category:"nature"},{name:"bigDripleaf",Name:"Big Dripleaf",textures:"bigDripleafStem",shapeName:"bigDripleaf",crossShape:!0,transparent:!0,shadow:!1,smoothLight:!1,liquidBreakable:"drop",onupdate:function(e,t,a,s,o,i,r,n,l){var h=x.bigDripleaf,d=o.getBlock(e,t+1,a,l),c=d===h||d===(h|$);s===h&&c?o.setBlock(e,t,a,h|$,!1,!1,!1,!1,l):s!==(h|$)||c||o.setBlock(e,t,a,h,!1,!1,!1,!1,l)},category:"nature"},{name:"orGate",Name:"OR Gate",textures:["smoothStone","orGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,a,s,o,i,r){return!!(r.getRepeaterPower(e,t,a,e-i,t,a-o,s)||r.getBlockPower(e-i,t,a-o,null,s)||r.getRepeaterPower(e,t,a,e+i,t,a+o,s)||r.getBlockPower(e+i,t,a+o,null,s))},category:"redstone"},{name:"andGate",Name:"AND Gate",textures:["smoothStone","andGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,a,s,o,i,r){return!(!r.getRepeaterPower(e,t,a,e-i,t,a-o,s)&&!r.getBlockPower(e-i,t,a-o,null,s)||!r.getRepeaterPower(e,t,a,e+i,t,a+o,s)&&!r.getBlockPower(e+i,t,a+o,null,s))},category:"redstone"},{name:"notGate",Name:"NOT Gate",textures:["smoothStone","notGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,a,s,o,i,r){return!r.getRepeaterPower(e,t,a,e-o,t,a-i,s)&&!r.getBlockPower(e-o,t,a-i,null,s)},category:"redstone"},{name:"xorGate",Name:"XOR Gate",textures:["smoothStone","xorGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,a,s,o,i,r){var n=r.getRepeaterPower(e,t,a,e-i,t,a-o,s)||r.getBlockPower(e-i,t,a-o,null,s),l=r.getRepeaterPower(e,t,a,e+i,t,a+o,s)||r.getBlockPower(e+i,t,a+o,null,s);return!(!n&&!l||n&&l)},category:"redstone"},{name:"dripstoneBlock",Name:"Dripstone Block",type:"rock1",breakTime:7.5,blastResistance:1,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,category:"nature"},{name:"pointedDripstone",Name:"Sharp Dripstone",flatIcon:!0,iconTexture:"pointedDripstone",transparent:!0,shadow:!1,breakTime:2.25,blastResistance:3,type:"rock1",drop:"pointedDripstone",pointing:function(e,t,a,s,o){var i=o.getBlock(e,t,a,s);if(S[i].name===this.name)return(i&ze)===ze?-1:1},onupdate:function(e,t,a,s,o,i,r,n,l){var h=(s&ze)===ze,d=h?-1:1;if(h){var c=o.getBlock(e,t+1,a,l);if(o.settings.blocksFall&&(!c||!S[c].solid))return o.setBlock(e,t,a,0,!1,!1,!1,!1,l),void o.addEntity(new Ve[Xe.BlockEntity](s,e,t,a),!1,l)}else if(bt(e,t,a,this.id,o,l))return;var p=h?this.id|ze:this.id;this.pointing(e,t+d,a,l,o)===d&&this.pointing(e,t+2*d,a,l,o)!==d?p|=$:this.pointing(e,t+d,a,l,o)!==d||this.pointing(e,t-d,a,l,o)?this.pointing(e,t+d,a,l,o)===d?p|=Q:this.pointing(e,t+d,a,l,o)===-d&&(p|=K):p|=J,s!==p&&o.setBlock(e,t,a,p,!1,!1,!1,!1,l)},spawnUpdate:function(e,t,a,s,o,i){let r=(s&ze)===ze,n=r?-1:1,l=r?this.id|ze:this.id;this.pointing(e,t+n,a,i,o)===n&&this.pointing(e,t+2*n,a,i,o)!==n?l|=$:this.pointing(e,t+n,a,i,o)!==n||this.pointing(e,t-n,a,i,o)?this.pointing(e,t+n,a,i,o)===n?l|=Q:this.pointing(e,t+n,a,i,o)===-n&&(l|=K):l|=J,s!==l&&o.spawnBlock(e,t,a,l,i,!0)},category:"nature"},{name:"oakSign",Name:"Oak sign",textures:"oakPlanks",poleTop:"logTop",poleSide:"logSide",iconTexture:"oakSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"birchSign",Name:"Birch Sign",textures:"birchPlanks",poleTop:"birchLogTop",poleSide:"birchLogSide",iconTexture:"birchSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"acaciaSign",Name:"Acacia Sign",textures:"acaciaPlanks",poleTop:"acaciaLogTop",poleSide:"acaciaLogSide",iconTexture:"acaciaSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"jungleSign",Name:"Jungle Sign",textures:"junglePlanks",poleTop:"jungleLogTop",poleSide:"jungleLogSide",iconTexture:"jungleSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"spruceSign",Name:"Spruce Sign",textures:"sprucePlanks",poleTop:"spruceLogTop",poleSide:"spruceLogSide",iconTexture:"spruceSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"darkOakSign",Name:"Dark Oak Sign",textures:"darkOakPlanks",poleTop:"darkOakLogTop",poleSide:"darkOakLogSide",iconTexture:"darkOakSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",color:[.85,.7,.2],category:"decoration"},{name:"mangroveSign",Name:"Mangrove Sign",textures:"mangrovePlanks",poleTop:"mangroveLogTop",poleSide:"mangroveLog",iconTexture:"mangroveSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"composter",Name:"Make bonemeal",textures:"composterCompost",transparent:!0,blastResistance:.6,breakTime:.9,woodSound:!0,type:"wood",getLevel:function(e){var t=this.id;switch(e){case t:return 0;case t|J:return 1;case t|Q:return 2;case t|$:return 3;case t|K:return 4;case t|ee:return 5;case t|te:return 6;case t|ae:return 7}},category:"items"},{name:"cocoaBeans",Name:"Cocoa Beans",item:!0,useAs:"cocoa",category:"items"},{name:"cocoa",textures:"cocoaStage0",breakTime:.3,blastResistance:3,transparent:!0,shadow:!1,drop:"cocoaBeans",woodSound:!0,hidden:!0,liquidBreakable:"drop"},{name:"cookie",Name:"Cookie",item:!0,edible:!0,food:2,saturation:.4,compostChance:.85,category:"food"},{name:"pumpkinPie",Name:"Pumpkin Pie",item:!0,edible:!0,food:8,saturation:4.8,compostChance:1,category:"food"},{name:"rawChicken",Name:"Raw Chicken",item:!0,edible:!0,food:2,saturation:1.2,category:"food"},{name:"cookedChicken",Name:"Cooked Chicken",item:!0,edible:!0,food:6,saturation:7.2,category:"food"},{name:"rawCod",Name:"Raw Cod",item:!0,edible:!0,food:2,saturation:.4,category:"food"},{name:"cookedCod",Name:"Cooked Cod",item:!0,edible:!0,food:5,saturation:6,category:"food"},{name:"rawMutton",Name:"Raw Mutton",item:!0,edible:!0,food:2,saturation:1.2,category:"food"},{name:"cookedMutton",Name:"Cooked Mutton",item:!0,edible:!0,food:6,saturation:9.6,category:"food"},{name:"rawPorkchop",Name:"Raw Porkchop",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedPorkchop",Name:"Cooked Porkchop",item:!0,edible:!0,food:8,saturation:12.8,category:"food"},{name:"rawRabbit",Name:"Raw Rabbit",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedRabbit",Name:"Cooked Rabbit",item:!0,edible:!0,food:5,saturation:6,category:"food"},{name:"rawSalmon",Name:"Raw Salmon",item:!0,edible:!0,food:2,saturation:.4,category:"food"},{name:"cookedSalmon",Name:"Cooked Salmon",item:!0,edible:!0,food:6,saturation:9.6,category:"food"},{name:"tropicalFish",Name:"Tropical Fish",item:!0,edible:!0,food:1,saturation:.2,category:"food"},{name:"beetroot",Name:"Beetroot",item:!0,edible:!0,food:1,saturation:1.2,compostChance:.65,category:"food"},{name:"beetrootSoup",Name:"Beetroot Soup",item:!0,edible:!0,food:7.2,saturation:13.2,eatResult:"bowl",category:"food"},{name:"carrot",Name:"Carrot",item:!0,edible:!0,food:3,saturation:3.6,compostChance:.65,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"carrots":void 0},category:"food"},{name:"goldenCarrot",Name:"Golden Carrot",item:!0,edible:!0,food:6,saturation:14.4,category:"food"},{name:"rabbitStew",Name:"Rabbit Stew",item:!0,edible:!0,food:10,saturation:12,category:"food"},{name:"goldenApple",Name:"Golden Apple",item:!0,edible:!0,food:4,saturation:9.6,category:"food",rarity:"rare"},{name:"rawBeef",Name:"Raw Beef",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedBeef",Name:"stake cooked befe",item:!0,edible:!0,food:8,saturation:12.8,category:"food"},{name:"potato",Name:"Potato",item:!0,edible:!0,food:1,saturation:.6,compostChance:.85,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"potatoes":void 0},category:"food"},{name:"bakedPotato",Name:"Baked Potato",item:!0,edible:!0,food:5,saturation:6,compostChance:.85,category:"food"},{name:"sugar",Name:"Sugar",item:!0,category:"items"},{name:"milkBucket",Name:"Milk Bucket",item:!0,category:"items"},{name:"beetrootSeeds",Name:"Beetroot Seeds",item:!0,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"beetroots":void 0},category:"items"},{name:"beetroots",textures:"beetrootsStage0",textures1:new Array(6).fill("beetrootsStage1"),textures2:new Array(6).fill("beetrootsStage2"),textures3:new Array(6).fill("beetrootsStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"beetrootSeeds",hidden:!0,liquidBreakable:"drop"},{name:"potatoes",textures:"potatoesStage0",textures1:new Array(6).fill("potatoesStage1"),textures2:new Array(6).fill("potatoesStage2"),textures3:new Array(6).fill("potatoesStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"potato",hidden:!0,liquidBreakable:"drop"},{name:"carrots",textures:"carrotsStage0",textures1:new Array(6).fill("carrotsStage1"),textures2:new Array(6).fill("carrotsStage2"),textures3:new Array(6).fill("carrotsStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"carrot",hidden:!0,liquidBreakable:"drop"},{name:"mudPie",Name:"Mud Pie",item:!0,edible:!0,food:1,saturation:1,category:"food"},{name:"purpleGrapes",Name:"Purple Grapes",item:!0,edible:!0,food:3,saturation:3,category:"food"},{name:"greenGrapes",Name:"Green Grapes",item:!0,edible:!0,food:3,saturation:3,category:"food"},{name:"oakChair",Name:"Oak Chair",textures:"oakPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"lightGrayBed",Name:"Light Gray Bed",textures:"lightGrayBedbottom",iconTexture:"lightGrayBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"lightBlueBed",Name:"Light Blue Bed",textures:"lightBlueBedbottom",iconTexture:"lightBlueBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"magentaBed",Name:"Magenta Bed",textures:"magentaBedbottom",iconTexture:"magentaBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"yellowBed",Name:"Yellow Bed",textures:"yellowBedbottom",iconTexture:"yellowBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"purpleBed",Name:"Purple Bed",textures:"purpleBedbottom",iconTexture:"purpleBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"orangeBed",Name:"Orange Bed",textures:"orangeBedbottom",iconTexture:"orangeBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"whiteBed",Name:"White Bed",textures:"whiteBedbottom",iconTexture:"whiteBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"greenBed",Name:"Green Bed",textures:"greenBedbottom",iconTexture:"greenBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"brownBed",Name:"Brown Bed",textures:"brownBedbottom",iconTexture:"brownBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"blackBed",Name:"Black Bed",textures:"blackBedbottom",iconTexture:"blackBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"pinkBed",Name:"Pink Bed",textures:"pinkBedbottom",iconTexture:"pinkBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"limeBed",Name:"Lime Bed",textures:"limeBedbottom",iconTexture:"limeBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"grayBed",Name:"Gray Bed",textures:"grayBedbottom",iconTexture:"grayBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"cyanBed",Name:"Cyan Bed",textures:"cyanBedbottom",iconTexture:"cyanBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"blueBed",Name:"Blue Bed",textures:"blueBedbottom",iconTexture:"blueBedIcon",flatIcon:!0,onclientclick:(e,t,a,s)=>{clickBed(e,t,a,s)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"quicksand",Name:"Quicksand",quicksand:!0,solid:!1,category:"nature"},{name:"bow",Name:"Bow",pullTextures:["bow","bowPulling0","bowPulling1","bowPulling2"],onrelease:function(e,t,a,s,o){if(!o.pulling)return!0;if(minusOneItem(x.arrow)){var i=p.direction,r=o.pulling/3;world.addEntity(new Ve[Xe.Arrow](p.x+i.x,p.y+i.y,p.z+i.z,i.x*r,i.y*r,i.z*r,userId),!1,s)}delete o.pulling,delete o.pullStart,o.id=this.id,holding=inventory.hotbar[inventory.hotbarSlot].id,updateHUD=!0},useAnywhere:!0,canPlace:()=>!1,stackSize:1,category:"tools"},{name:"arrow",Name:"Arrow",textures:"arrowIcon",item:!0,category:"items"},{name:"glisteringMelonSlice",Name:"Slice of Watermelon With Unedible Gold",item:!0,category:"items"},{name:"untnt",Name:"UnTNT",textures:["untntBottom","untntTop","untnt"],explode:function(e,t,a,s,o,i){i.setBlock(e,t,a,0,!1,!1,!1,!1,o);var r=new Ve[Xe.PrimedUnTNT](e,t,a);if(i.addEntity(r,!1,o),i.playSound(e,t,a,"entity.tnt.fuse"),"explosion"===s)r.timeLimit=rand(10,30)},burnChance:.6,onburn:function(e,t,a,s,o){this.explode(e,t,a,null,s,o)},category:"redstone"},{name:"crimsonSign",Name:"Crimson Sign",textures:"crimsonPlanks",poleTop:"crimsonStemTop",poleSide:"crimsonStemSide",iconTexture:"crimsonSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"warpedSign",Name:"Warped Sign",textures:"warpedPlanks",poleTop:"warpedStemTop",poleSide:"warpedStemSide",iconTexture:"warpedSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"dropper",Name:"Dropper",textures:["furnaceTop","furnaceTop","furnaceSide","dropperFront","furnaceSide","furnaceSide"],upTextures:m(["furnaceTop","dropperFrontVertical","furnaceTop"]),downTextures:m(["dropperFrontVertical","furnaceTop","furnaceTop"]),stoneSound:!0,category:"redstone",tagBits:null,setContents:function(e,t,a,s,o){let i={dispenser:!0,contents:new Array(9).fill(0)};return o.setTags(e,t,a,i,!1,s),i},onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("dispenser"),releasePointer()},onbreak:function(e,t,a,s,o,i,r){if(o&&o.dispenser&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&o[n].id&&r.addItems(e,t,a,i,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getBlock(e,t,a,n),d=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),c=l.getTags(e,t,a,n);if(d!==(c&&c.on||!1)&&(l.setTagByName(e,t,a,"on",d,!1,n),d)){var p=this;l.setTimeout((function(){if(l.playSound(e,t,a,"click"),c&&c.contents){var s=c.contents.filter((e=>e&&e.id)),o=floor(rand(s.length));if(s[o]&&s[o].id){o=c.contents.indexOf(s[o]),s=c.contents;var i=0,r=0,d=0,u=e,m=t,g=a,k=e,y=t,b=a;switch(h){case p.id|Le:d=-.25,g-=.75,b--;break;case p.id|Re:d=.25,g+=.75,b++;break;case p.id|Ie:i=-.25,u-=.75,k--;break;case p.id|Me:i=.25,u+=.75,k++;break;case p.id|J:r=.25,m+=.75,y++;break;case p.id|Q:r=-.25,m-=.75,y--}wt(k,y,b,n,s[o].id,s[o].durability,s[o].customName,!1,l)||l.addItems(u,m,g,n,i,r,d,s[o].id,!1,1,s[o].durability,s[o].customName),s[o].amount--,s[o].amount<=0&&(s[o]=0),l.setTags(e,t,a,c,!1,n)}}}),4*u,e,t,a,n)}},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)}},{name:"dispenser",Name:"Dispenser",textures:["furnaceTop","furnaceTop","furnaceSide","dispenserFront","furnaceSide","furnaceSide"],upTextures:m(["furnaceTop","dispenserFrontVertical","furnaceTop"]),downTextures:m(["dispenserFrontVertical","furnaceTop","furnaceTop"]),stoneSound:!0,category:"redstone",breakTime:17.5,type:"rock2",tagBits:null,setContents:function(e,t,a,s,o){let i={dispenser:!0,contents:new Array(9).fill(0)};return o.setTags(e,t,a,i,!1,s),i},onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("dispenser"),releasePointer()},onbreak:function(e,t,a,s,o,i,r){if(o&&o.dispenser&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&o[n].id&&r.addItems(e,t,a,i,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=l.getBlock(e,t,a,n),d=l.getRedstonePower(e,t,a,n)||l.getSurroundingBlockPower(e,t,a,n),c=l.getTags(e,t,a,n);if(d!==(c&&c.on||!1)&&(l.setTagByName(e,t,a,"on",d,!1,n),d)){var p=this;l.setTimeout((function(){if(l.playSound(e,t,a,"click"),c&&c.contents){var s=c.contents.filter((e=>e&&e.id)),o=floor(rand(s.length));if(s[o]&&s[o].id){o=c.contents.indexOf(s[o]),s=c.contents;var i=0,r=0,d=0,u=e,m=t,g=a;switch(h){case p.id|Le:d=-.25,g--;break;case p.id|Re:d=.25,g++;break;case p.id|Ie:i=-.25,u--;break;case p.id|Me:i=.25,u++;break;case p.id|J:r=.25,m++;break;case p.id|Q:r=-.25,m--}var k=l.getBlock(u,m,g,n);if(!k||!S[k].solid){var y=S[s[o].id],b=!0;if("arrow"===y.name)l.addEntity(new Ve[Xe.Arrow](u,m,g,4*i,4*r,4*d),!1,n);else if("boneMeal"===y.name)y.onuse(u,m,g,k,null,null,emptyFunc,n);else if("snowball"===y.name)l.addEntity(new Ve[Xe.Snowball](u,m,g,4*i,4*r,4*d),!1,n);else if("egg"===y.name)l.addEntity(new Ve[Xe.Egg](u,m,g,4*i,4*r,4*d),!1,n);else if("bucket"===y.name){k===x.Water&&(!0,s[o].id=x.waterBucket),k===x.Lava&&(!0,s[o].id=x.lavaBucket),k===x.powderSnow&&(!0,s[o].id=x.powderSnowBucket),k===x.oil&&(!0,s[o].id=x.oilBucket),l.setBlock(u,m,g,0,!1,!1,!1,!1,n),b=!1}else"waterBucket"===y.name?(l.setBlock(u,m,g,x.Water,!1,!1,!1,!1,n),s[o].id=x.bucket,b=!1):"lavaBucket"===y.name?(l.setBlock(u,m,g,x.Lava,!1,!1,!1,!1,n),s[o].id=x.bucket,b=!1):"powderSnowBucket"===y.name?(l.setBlock(u,m,g,x.powderSnow,!1,!1,!1,!1,n),s[o].id=x.bucket,b=!1):"oilBucket"===y.name?(l.setBlock(u,m,g,x.oil,!1,!1,!1,!1,n),s[o].id=x.bucket,b=!1):"tnt"===y.name?y.explode(u,m,g,null,n,l):y.item?l.addItems(u,m,g,n,i,r,d,s[o].id,!1,1,s[o].durability,s[o].customName):l.setBlock(u,m,g,s[o].id,!1,!1,!1,!1,n);b&&s[o].amount--,s[o].amount<=0&&(s[o]=0),l.setTags(e,t,a,c,!1,n)}}}}),4*u,e,t,a,n)}},onset:function(e,t,a,s,o){this.onpowerupdate(e,t,a,null,null,null,null,s,o)}},{name:"hopper",Name:"Hopper",textures:"hopperOutside",flatIcon:!0,iconTexture:"hopperIcon",blastResistance:4.8,transparent:!0,breakTime:15,type:"metal2",stoneSound:!0,category:"redstone",tagBits:null,setContents:function(e,t,a,s,o){let i={hopper:!0,contents:new Array(5).fill(0)};return o.setTags(e,t,a,i,!1,s),i},onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("hopper"),releasePointer()},onbreak:function(e,t,a,s,o,i,r){if(o&&o.hopper&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&o[n].id&&r.addItems(e,t,a,i,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},pushItem:function(e,t,a,s,o,i){var r,n=e,l=t,h=a,d=0,c=0,p=0;switch(i.getBlock(e,t,a,s)){case this.id:l--,c=-1,r=!0;break;case this.id|J|Le:h++,p=1;break;case this.id|J|Re:h--,p=-1;break;case this.id|J|Ie:n++,d=1;break;case this.id|J|Me:n--,d=-1}for(var u=i.getBlock(n,l,h,s),m=0;m<o.contents.length;m++){var g=o.contents[m];if(g&&g.id){var k;if(u&&S[u].solid)if("furnace"===S[u].name){var y,b=i.getTags(n,l,h,s);b||(b=S[u].setContents(n,l,h,s,this.world));var w=b[y=r?"input":"fuel"];w?w.id===g.id&&(!w.customName&&!g.customName||w.customName===g.customName)&&w.amount<S[w.id].stackSize&&(w.amount++,k=!0):(w={id:g.id,amount:1,durability:g.durability,customName:g.customName},k=!0),k&&(b[y]=w,i.setTags(n,l,h,b,!1,s))}else wt(n,l,h,s,g.id,g.durability,g.customName,!1,i)&&(k=!0);else i.addItems(e+.625*d,t+.625*c,a+.625*p,s,d/8,c/8,p/8,g.id,!1,1,g.durability,g.customName),k=!0;if(k)return g.amount--,g.amount||(o.contents[m]=0),!0}}},pullItem:function(e,t,a,s,o,i){var r=i.getBlock(e,t+1,a,s),n=i.getTags(e,t+1,a,s);if(n)if("furnace"===S[r].name){if((h=n.output)&&h.id){if(!wt(e,t,a,s,h.id,h.durability,h.customName,!0,i))return;return h.amount--,h.amount||(n.output=0),i.tagsChanged(e,t,a,n,!1,s),!0}}else if(n.contents)for(var l=0;l<n.contents.length;l++){var h;if((h=n.contents[l])&&h.id){if(!wt(e,t,a,s,h.id,h.durability,h.customName,!0,i))return;return h.amount--,h.amount||(n.contents[l]=0),i.tagsChanged(e,t,a,n,!1,s),!0}}},update:function(e,t,a,s,o){if(!this.isLocked(e,t,a,s,o)){var i=o.getTags(e,t,a,s);i||(i=this.setContents(e,t,a,s,o));var r=!1;this.pushItem(e,t,a,s,i,o)&&(r=!0),this.pullItem(e,t,a,s,i,o)&&(r=!0),r&&o.setTags(e,t,a,i,!1,s)}},onupdate:function(e,t,a,s,o,i,r,n,l){var h=this;o.setTimeout((()=>h.update(e,t,a,l,o)),8*u,e,t,a,l)},onpowerupdate:function(e,t,a,s,o,i,r,n,l){this.onupdate(e,t,a,null,l,s,o,i,n,l)},ontagsupdate:function(e,t,a,s,o,i){this.onupdate(e,t,a,null,i,null,null,null,s,i)},isLocked:function(e,t,a,s,o){return o.getRedstonePower(e,t,a,s)||o.getSurroundingBlockPower(e,t,a,s)},itemOnTop(e,t,a,s,o){let i=o.world;if(!this.isLocked(e,t,a,s,i)){for(var r=o.amount;r&&wt(e,t,a,s,o.block,o.durability,o.name,!1,i);)r--;return r}}},{name:"target",Name:"Target",textures:["targetTop","targetSide"],breakTime:.75,blastResistance:.5,burnChance:.2,burnTime:20,category:"redstone",grassSound:!0,type:"plant2",cornerDist:sqrt(.75),sideDist:.5,projectileHit:function(e,t,a,s,o){let i=o.world;var r=dist3(o.x+o.direction.x/2,o.y+o.direction.y/2,o.z+o.direction.z/2,e,t,a),n=round(map(r,this.sideDist,this.cornerDist,15,0));i.setPower(e,t,a,n,!1,s),i.spreadPower(e,t,a,n,s),i.setTimeout((function(){i.setPower(e,t,a,0,!1,s),i.unspreadPower(e,t,a,n,!1,s)}),8*u,e,t,a,s)}},{name:"comparator",Name:"Redstone Comparator",textures:["smoothStone","comparator","comparator"],transparent:!0,flatIcon:!0,iconTexture:"comparatorIcon",category:"redstone",tagBits:{output:[0,4]},on:function(e,t,a,s,o,i,r,n,l){var h=e-o,d=t-i,c=a-r,p=min(max(l.getRepeaterPower(e,t,a,h,d,c,s),ceil(15*(ft(h,d,c,s,l)||0))),15);l.getBlockPower(h,d,c,null,s)&&(p=15);var u=min(max(l.getRepeaterPower(e,t,a,e-r,t-i,a-o,s),l.getRepeaterPower(e,t,a,e+r,t-i,a+o,s)),15);return n?max(p-u,0):p*(u<=p)},onupdate:function(e,t,a,s,o,i,r,n,l){this.onpowerupdate(e,t,a,null,null,null,null,l,o)},ontagsupdate:function(e,t,a,s,o,i){this.onpowerupdate(e,t,a,null,null,null,null,s,i)},ondelete:function(e,t,a,s,o,i,r){r.unspreadPower(e,t,a,16,!1,i),r.setBlockPower(e,t,a+1,null,"south",i),r.setBlockPower(e,t,a-1,null,"north",i),r.setBlockPower(e+1,t,a,null,"east",i),r.setBlockPower(e-1,t,a,null,"west",i)},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h,d=0,c=0,p=l.getBlock(e,t,a,n),m=this.id,g=this.id|J,k=this.id|Q,y=this.id|ee;switch(p){case k|Le:case y|Le:h=!0;case m|Le:case g|Le:c=1,"south";break;case k|Re:case y|Re:h=!0;case m|Re:case g|Re:c=-1,"north";break;case k|Ie:case y|Ie:h=!0;case m|Ie:case g|Ie:d=1,"east";break;case k|Me:case y|Me:h=!0;case m|Me:case g|Me:d=-1,"west"}if(!d&&!c)return console.log("doesn't match up");var b=e+d,w=t+0,f=a+c,B=l.getTagByName(e,t,a,"output",n)||0,v=this.on(e,t,a,n,d,0,c,h,l),x=l.getBlock(b,w,f,n);if(x&&"redstoneDust"===S[x].name&&B){var P=l.getPower(b,w,f,n);B<P?l.unspreadPower(b,w,f,P,!0,n):B>P&&(l.setPower(b,w,f,B,!1,n),l.spreadPower(b,w,f,B,n))}if(v!==B){var T=this;l.setTimeout((function(){if(p=l.getBlock(e,t,a,n),v=T.on(e,t,a,n,d,0,c,h,l),B=l.getTagByName(e,t,a,"output",n)||0,v!==B){l.setTagByName(e,t,a,"output",v,!1,n);var s=!1;switch(p){case y|Le:case g|Le:case y|Re:case g|Re:case y|Ie:case g|Ie:case y|Me:case g|Me:s=!0}if(!!v!==s){var o;switch(p){case m|Le:o=g|Le;break;case g|Le:o=m|Le;break;case k|Le:o=y|Le;break;case y|Le:o=k|Le;break;case m|Re:o=g|Re;break;case g|Re:o=m|Re;break;case k|Re:o=y|Re;break;case y|Re:o=k|Re;break;case m|Ie:o=g|Ie;break;case g|Ie:o=m|Ie;break;case k|Ie:o=y|Ie;break;case y|Ie:o=k|Ie;break;case m|Me:o=g|Me;break;case g|Me:o=m|Me;break;case k|Me:o=y|Me;break;case y|Me:o=k|Me}p!==o&&l.setBlock(e,t,a,o,!1,!1,!1,!0,n)}var i=l.getBlock(b,w,f,n);if(v){if(i&&"redstoneDust"===S[i].name){var r=l.getPower(b,w,f,n);v<r?l.unspreadPower(b,w,f,r,!0,n):v>r&&(l.setPower(b,w,f,v,!1,n),l.spreadPower(b,w,f,v,n))}}else i&&"redstoneDust"===S[i].name&&l.unspreadPower(b,w,f,B,!0,n)}}),2*u,e,t,a,n)}},onclick:function(e,t,a,s,o){var i,r=S[x.comparator],n=o.getBlock(e,t,a,s),l=r.id,h=r.id|J,d=r.id|Q,c=r.id|ee;switch(n){case l|Le:i=d|Le;break;case h|Le:i=c|Le;break;case d|Le:i=l|Le;break;case c|Le:i=h|Le;break;case l|Re:i=d|Re;break;case h|Re:i=c|Re;break;case d|Re:i=l|Re;break;case c|Re:i=h|Re;break;case l|Ie:i=d|Ie;break;case h|Ie:i=c|Ie;break;case d|Ie:i=l|Ie;break;case c|Ie:i=h|Ie;break;case l|Me:i=d|Me;break;case h|Me:i=c|Me;break;case d|Me:i=l|Me;break;case c|Me:i=h|Me}o.setBlock(e,t,a,i,!1,!1,!1,!0,s)},getFacing:function(e,t,a,s,o){var i,r=o.getBlock(e,t,a,s),n=this.id,l=this.id|J,h=this.id|Q,d=this.id|ee;switch(r){case n|Le:case l|Le:case h|Le:case d|Le:i="north";break;case n|Re:case l|Re:case h|Re:case d|Re:i="south";break;case n|Ie:case l|Ie:case h|Ie:case d|Ie:i="east";break;case n|Me:case l|Me:case h|Me:case d|Me:i="west"}return i},canHavePower:function(e,t,a,s,o,i,r,n){var l=e,h=t,d=a,c=n.getBlock(e,t,a,r),p=this.id,u=this.id|J,m=this.id|Q,g=this.id|ee;switch(c){case m|Le:case g|Le:case p|Le:case u|Le:d++;break;case m|Re:case g|Re:case p|Re:case u|Re:d--;break;case m|Ie:case g|Ie:case p|Ie:case u|Ie:l++;break;case m|Me:case g|Me:case p|Me:case u|Me:l--}return l===s&&h===o&&d===i&&n.getTagByName(e,t,a,"output",r)||0}},{name:"acaciaChair",Name:"Acacia Chair",textures:"acaciaPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"birchChair",Name:"Birch Chair",textures:"birchPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"jungleChair",Name:"Jungle Chair",textures:"junglePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"darkOakChair",Name:"Dark Oak Chair",textures:"darkOakPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"spruceChair",Name:"Spruce Chair",textures:"sprucePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"mangroveChair",Name:"Mangrove Chair",textures:"mangrovePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"crimsonChair",Name:"Crimson Chair",textures:"crimsonPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"warpedChair",Name:"Warped Chair",textures:"warpedPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"blackChair",Name:"Black Chair",textures:"blackWool",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"spawnCreeper",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Creeper](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Creeper](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"gunpowder",Name:"Gray exploding stuff",item:!0},{name:"rottenFlesh",Name:"Rotten Flesh",item:!0},{name:"spawnSheep",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Sheep](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Sheep](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"spawnChicken",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Chicken](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Chicken](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"feather",Name:"Feather",item:!0},{name:"spawnZombie",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Zombie](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Zombie](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"spawnSkeleton",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Skeleton](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Skeleton](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"bone",Name:"Bone",item:!0,category:"items",onentityuse:function(e,t,a,s){"Wolf"===e.type&&(e.feed(this.id),s())}},{name:"spawner",Name:"Mob Spawner",transparent:!0,blastResistance:5,breakTime:25,drop:"air",experience:15,tagBits:null,tick:function(e,t,a,s,o,i){let r=i.getTagByName(t,a,s,"spawn",o);if(r){i.sendAll({type:"particles",particleType:"flameCube",x:t,y:a,z:s,dimension:o,amount:20});for(let e=0;e<10;e++){let e=t+round(rand(-4.5,4)),n=a+round(rand(-1.5,1.5)),l=s+round(rand(-4.5,4)),h=i.getBlock(e,n,l,o);if(S[h].transparent){S[r].spawnMob(e,n,l,o,i);break}}}},onclientclick:function(e,t,a,s){if(!holding||!S[holding].spawnMob)return!0;if(world.setTagByName(e,t,a,"spawn",holding,!1,s),!settings.performanceFast)for(let o=0;o<30;o++)world.addParticle(new Ve[Xe.FlameParticle](e+rand(-.6,.6),t+rand(-.6,.6),a+rand(-.6,.6)),s);multiplayer&&send({type:"particles",particleType:"flameCube",x:e,y:t,z:a,dimension:s,amount:30})}},{name:"daylightDetector",Name:"Daylight detector",textures:["daylightDetectorSide","daylightDetectorTop","daylightDetectorSide"],invertedTextures:m(["daylightDetectorSide","daylightDetectorInvertedTop","daylightDetectorSide"]),transparent:!0,blastResistance:.2,breakTime:.3,woodSound:!0,onclick:function(e,t,a,s,o){let i=o.getBlock(e,t,a,s),r=S[x.daylightDetector];i=i===(r.id|J)?r.id:r.id|J,o.setBlock(e,t,a,i,!1,!1,!1,!1,s)},tick:function(e,t,a,s,o,i){let r=round(i.getLight(t,a,s,0,o)*i.skyLight);e===(this.id|J)&&(r=15-r);let n=i.getPower(t,a,s,o);n!==r&&(i.setPower(t,a,s,r,!1,o),r?r<n?i.unspreadPower(t,a,s,n,!1,o):r>n&&i.spreadPower(t,a,s,r,o):i.unspreadPower(t,a,s,n,!1,o))},onset:function(e,t,a,s,o){this.tick(o.getBlock(e,t,a,s),e,t,a,s,o)},ondelete:function(e,t,a,s,o,i,r){r.setPower(e,t,a,0,!1,i),r.unspreadPower(e,t,a,16,!1,i)},category:"redstone"},{name:"commandBlock",Name:"Command Block",textures:["commandBlockBack","commandBlockFront","commandBlockSide"],errorTextures:m(["commandBlockBackError","commandBlockFrontError","commandBlockSideError"]),sideTextures:["commandBlockSide","commandBlockSide","commandBlockBack","commandBlockFront","commandBlockSide","commandBlockSide"],sideErrorTextures:["commandBlockSideError","commandBlockSideError","commandBlockBackError","commandBlockFrontError","commandBlockSideError","commandBlockSideError"],flipTextures:m(["commandBlockFront","commandBlockBack","commandBlockSide"]),flipErrorTextures:m(["commandBlockFrontError","commandBlockBackError","commandBlockSideError"]),commandBlock:!0,tagBits:null,onclientclick:function(e,t,a,s){containerData.x=e,containerData.y=t,containerData.z=a,containerData.dimension=s,changeScene("commandBlock"),releasePointer()},trigger:function(e,t,a,s,o){let i=o.getTagByName(e,t,a,"data",s),r=o.getTagByName(e,t,a,"running",s);i&&!r&&(o.setTagByName(e,t,a,"running",!0,!1,s),He(i,{x:e,y:t,z:a,dimension:s},o,!0,(i=>{let r,n="none";n="";for(let e=0;e<i.length;e+=2)e&&(n+="<br>"),n+=Messages.format(i[e]);o.setTagByName(e,t,a,"output",n,!1,s);let l=o.getBlock(e,t,a,s);switch(l){case this.id:case this.id|ze:r=this.id;break;case this.id|J|Le:case this.id|J|ze|Le:r=this.id|J|Le;break;case this.id|J|Re:case this.id|J|ze|Re:r=this.id|J|Re;break;case this.id|J|Ie:case this.id|J|ze|Ie:r=this.id|J|Ie;break;case this.id|J|Me:case this.id|J|ze|Me:r=this.id|J|Me;break;case this.id|Q:case this.id|Q|ze:r=this.id|Q}i&&"error"===i[i.length-1]&&(r|=ze),l!==r&&o.setBlock(e,t,a,r,!1,!1,!1,!0,s)})).then((()=>o.setTagByName(e,t,a,"running",!1,!1,s))))},onpowerupdate:function(e,t,a,s,o,i,r,n,l){var h=!(!l.getRedstonePower(e,t,a,n)&&!l.getSurroundingBlockPower(e,t,a,n));h!==(l.getTagByName(e,t,a,"on",n)||!1)&&(l.setTagByName(e,t,a,"on",h,!1,n),h&&this.trigger(e,t,a,n,l))},rarity:"epic",category:"redstone"},{name:"spiderEye",item:!0,category:"items"},{name:"spawnSpider",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Spider](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Spider](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"spawnCaveSpider",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Spider](h[0],h[1],h[2],!0);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Spider](e,t,a,!0),!1,s)},minusOnUse:!0,category:"items"},{name:"spawnWolf",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Wolf](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Wolf](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"nameTag",Name:"Name Tag",item:!0,onentityuse:function(e,t,a,s,o){e.mob&&o.customName&&(s(),e.name=o.customName,multiplayer&&send({type:"entEvent",event:"name",data:o.customName,id:e.id}),dsujfdoneojndks(e.name))}},{name:"blazeRod",Name:"Blaze Rod",item:!0},{name:"blazePowder",Name:"Blaze Powder",item:!0},{name:"spawnBlaze",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{var h=getPosition();let d=new Ve[Xe.Blaze](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Blaze](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"fireCharge",item:!0},{name:"spawnEnderDragon",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{var l=getPosition();world.addEntity(new Ve[Xe.EnderDragon](l[0],l[1],l[2]),!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.EnderDragon](e,t,a),!1,s)},minusOnUse:!0,category:"items",hidden:!0},{name:"debugStick",Name:function(){let e;return e=blockMode===Z?"Get Tags":blockMode===J?"Change Block State":blockMode===Q?"Change Block Rotation":"No Function",e+" - Debug Stick - Press Enter to change mode"},item:!0,hidden:!0,onuse:function(e,t,a,s,o,i,r,n){let l=S[x.debugStick];blockMode===Z?l.useGetTags(e,t,a,s,n):blockMode===J?l.useChangeBlockState(e,t,a,s,n):blockMode===Q&&l.useChangeBlockRotation(e,t,a,s,n)},useGetTags:(e,t,a,s,o)=>{let i=world.getTags(e,t,a,o),r="dDEBUG<br>";if(s&&S[s].tagBits)for(let e in S[s].tagBits)r+=e+": "+ct(i,e,s)+"<br>";else r+=JSON.stringify(i);Messages.add(r)},useChangeBlockState:(e,t,a,s,o)=>{if(!s)return;let i=s&(Ae|De),r=[Z,J,Q,$,K,ee,te,ae,se,oe,ie,re,ne,le,he,de,ce,pe,ue,me,ge,ke,ye,be,we,fe],n=s&~Ae&~De,l=r.indexOf(n);do{l++,l>=r.length&&(l=0),n=r[l]}while(!S[s|n]);world.setBlock(e,t,a,i|n,!1,!0,!1,!0,o)},useChangeBlockRotation:(e,t,a,s,o)=>{if(!s)return;let i=s&~De&~ze,r=[Le,Re,Ie,Me,Le|ze,Re|ze,Ie|ze,Me|ze],n=s&(De|ze),l=r.indexOf(n);do{l++,l>=r.length&&(l=0),n=r[l]}while(!S[s|n]);world.setBlock(e,t,a,i|n,!1,!0,!1,!0,o)}},{name:"oil",textures:"oil",transparent:!0,liquid:!0,solid:!1,shadow:!1,blastResistance:100,hidden:!0,drop:"air",burnChance:1,burnTime:15,density:.1,inLiquid:3,getLevelDifference:function(e){return e-2},onupdate:function(e,t,a,s,o,i,r,n,l){if(o.settings.blocksFall){var h=this;o.setTimeout((()=>h.flow(e,t,a,l,o)),5*u,e,t,a,l)}},getY:function(e,t,a,s){var o=world.getBlock(e,t,a,s);return min(2*(this.getLevel(o)||(o?8:0)),14.5)/16-.5}},{name:"oilBucket",Name:"Oil Bucket",item:!0,onuse:(e,t,a,s,o,i,r,n)=>{survival&&o(x.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],x.oil,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"silverBlock",Name:"Block of Silver",breakTime:25,type:"metal2",category:"build",stoneSound:!0},{name:"limestone",Name:"Limestone",type:"rock1",category:"nature",breakTime:1.875,blastResistance:.8,stoneSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"spawnEnderman",item:!0,onuse:(e,t,a,s,o,i,r,n,l)=>{let h=getPosition(),d=new Ve[Xe.Enderman](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,a,s,o){o.addEntity(new Ve[Xe.Enderman](e,t,a),!1,s)},minusOnUse:!0,category:"items"},{name:"bambooBlock",Name:"Block of Bamboo",textures:["bambooBlockTop","bambooBlock"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"bambooBlockSW",textures:["bambooBlock","bambooBlock","bambooBlockTop","bambooBlock"],SW:!0,hidden:!0},{name:"strippedBambooBlock",Name:"Stripped Block of Bamboo",textures:["strippedBambooBlockTop","strippedBambooBlock"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"strippedBambooBlockSW",textures:["strippedBambooBlock","strippedBambooBlock","strippedBambooBlockTop","strippedBambooBlock"],SW:!0,hidden:!0},{name:"bambooPlanks",Name:"Bamboo Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"bambooMosaic",Name:"Bamboo Mosaic",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"bambooButton",Name:"Bamboo Button",textures:"bambooPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"bambooDoor",Name:"Bamboo Door",transparent:!0,shadow:!1,textures:"bambooDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"bambooFenceGate",Name:"Bamboo Fence Gate",textures:"bambooPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"bambooPressurePlate",Name:"Bamboo Pressure Plate",textures:"bambooPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"bambooSign",Name:"Bamboo sign",textures:"bambooPlanks",poleTop:"bambooBlockTop",poleSide:"bambooBlock",iconTexture:"bambooSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"bambooTrapdoor",Name:"Bamboo Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"strippedCherryLog",Name:"Stripped Cherry Log",textures:["strippedCherryLogTop","strippedCherryLog"],woodSound:!0,breakTime:3,type:"wood",burnChance:.1,burnTime:50,category:"nature"},{name:"strippedCherryLogSW",textures:["strippedCherryLog","strippedCherryLog","strippedCherryLogTop","strippedCherryLog"],SW:!0,hidden:!0},{name:"cherryPlanks",Name:"Cherry Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"cherryButton",Name:"Cherry Button",textures:"cherryPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"cherryDoor",Name:"Cherry Door",transparent:!0,shadow:!1,textures:"cherryDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"cherryFenceGate",Name:"Cherry Fence Gate",textures:"cherryPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"cherryPressurePlate",Name:"Cherry Pressure Plate",textures:"cherryPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"cherrySign",Name:"Cherry sign",textures:"cherryPlanks",poleTop:"cherryLogTop",poleSide:"cherryLog",iconTexture:"cherrySign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"cherryTrapdoor",Name:"Cherry Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"cherryChair",Name:"Cherry Chair",textures:"cherryPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"bambooChair",Name:"Bamboo Chair",textures:"bambooPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:d,category:"items"},{name:"suspicousSand",Name:"sussy Sand",textures:"suspiciousSand0",breakTime:.75,blastResistance:.5,onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},drop:"air"},{name:"suspicousGravel",Name:"Gravel is sus",textures:"suspiciousGravel0",breakTime:.75,blastResistance:.5,onupdate:function(e,t,a,s,o,i,r,n,l){yt(e,t,a,s,o,!1,l)},ongetexploded:function(e,t,a,s,o,i){yt(e,t,a,s,o,!0,i)},drop:"air"},{name:"pitcherPlant",Name:"Pitcher Plant",shapeName:"pitcherPlant",flatIcon:!0,solid:!1,transparent:!0,shadow:!1,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"pitcherPod",Name:"Pitcher Pod",item:!0,useAs:function(e,t,a,s,o){if(s)return"top"===o&&"farmland"===S[s].name?"pitcherCrop":void 0},category:"items"},{name:"pitcherCrop",textures:"pitcherCropSide",textures1:new Array(6).fill("pitcherCropBottomStage1"),textures2:new Array(6).fill("pitcherCropBottomStage2"),textures3:new Array(6).fill("pitcherCropBottomStage3"),textures4:new Array(6).fill("pitcherCropBottomStage4"),transparent:!0,shadow:!1,solid:!1,drop:"pitcherPod",hidden:!0,liquidBreakable:"drop"},{name:"torchflower",Name:'"Torch" flower',textures1:new Array(6).fill("torchflowerCropStage0"),textures2:new Array(6).fill("torchflowerCropStage1"),drop:"torchflowerSeeds",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"torchflowerSeeds",Name:"Torchflower seeds",item:!0,useAs:function(e,t,a,s,o){return x.torchflower|J},category:"items"},{name:"driedOakLeaves",Name:"Dried Oak Leaves",thickTexture:"driedOakLeavesThick",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,driedLeaves:!0},{name:"driedBirchLeaves",Name:"Dried Birch Leaves",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,driedLeaves:!0},{name:"driedSpruceLeaves",Name:"Dried Spruce Leaves",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,driedLeaves:!0},{name:"strippedCherryWood",Name:"Stripped Cherry Wood",textures:"strippedCherryLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"pinkPetals",Name:"Pink flowers",textures:["pinkPetalsFlower","pinkPetalsStem"],iconTexture:"pinkPetals",flowerbed:!0,solid:!1,transparent:!0,shadow:!1,liquidBreakable:"drop",category:"nature",addPetal:function(e,t,a,s,o){let i;switch(o.getBlock(e,t,a,s)){case this.id:i=this.id|J;break;case this.id|J:i=this.id|Q;break;case this.id|Q:i=this.id|$}i&&o.setBlock(e,t,a,i,!1,!1,!1,!1,s)}},{name:"lilyPad",Name:"Lily Pad",transparent:!0,shadow:!1,shapeName:"flat",flatIcon:!0,liquidBreakable:"drop",category:"nature",type:"plant2",allHitbox:!0},{name:"lightPanel",Name:"Light Panel",transparent:!0,shadow:!1,shapeName:"ceilingPanel",lightLevel:15,category:"build",glassSound:!0,flatIcon:!0}],v=S.length;console.log(v," blocks on server side"),win.emptyFunc=function(){};let x={},P={grass:!0,dirt:!0,stone:!0,gravel:!0,snowBlock:!0,snow:!0,packedIce:!0,ice:!0,Water:!0,powderSnow:!0,coarseDirt:!0,podzol:!0,sand:!0,bedrock:!0,deepslate:!0,sandstone:!0,limestone:!0,mycelium:!0,redSand:!0,rootedDirt:!0,redSandstone:!0,calcite:!0,terracotta:!0,lightGrayTerracotta:!0,whiteTerracotta:!0,yellowTerracotta:!0,orangeTerracotta:!0,glass:!0},T=[];function N(){const e=["block.stone.dig1","block.stone.dig2","block.stone.dig3","block.stone.dig4"],t=["block.stone.step1","block.stone.step2","block.stone.step3","block.stone.step4","block.stone.step5","block.stone.step6"],a=["block.wood.dig1","block.wood.dig2","block.wood.dig3","block.wood.dig4"],s=["block.wood.step1","block.wood.step2","block.wood.step3","block.wood.step4","block.wood.step5","block.wood.step6"],o=["block.cloth.dig1","block.cloth.dig2","block.cloth.dig3","block.cloth.dig4"],i=["block.cloth.step1","block.cloth.step2","block.cloth.step3","block.cloth.step4"],r=["block.glass.dig1","block.glass.dig2","block.glass.dig3"],n=["block.nylium.dig1","block.nylium.dig2","block.nylium.dig3","block.nylium.dig4","block.nylium.dig5","block.nylium.dig6"],l=["block.nylium.step1","block.nylium.step2","block.nylium.step3","block.nylium.step4","block.nylium.step5","block.nylium.step6"],h=["block.stem.dig1","block.stem.dig2","block.stem.dig3","block.stem.dig4","block.stem.dig5","block.stem.dig6"],d=["block.stem.step1","block.stem.step2","block.stem.step3","block.stem.step4","block.stem.step5","block.stem.step6"],c=["block.basalt.dig1","block.basalt.dig2","block.basalt.dig3","block.basalt.dig4","block.basalt.dig5"],p=["block.basalt.step1","block.basalt.step2","block.basalt.step3","block.basalt.step4","block.basalt.step5","block.basalt.step6"],u=["block.roots.dig1","block.roots.dig2","block.roots.dig3","block.roots.dig4","block.roots.dig5","block.roots.dig6"],m=["block.roots.step1","block.roots.step2","block.roots.step3","block.roots.step4","block.roots.step5","block.roots.step6"],g=["block.amethyst.place1","block.amethyst.place2","block.amethyst.place3","block.amethyst.place4"],k=["block.amethyst.dig1","block.amethyst.dig2","block.amethyst.dig3","block.amethyst.dig4"],y=function(){for(var e=[],t=0;t<14;t++)e.push("block.amethyst.step"+(t+1));return e}(),b=["block.amethyst_cluster.place1","block.amethyst_cluster.place2","block.amethyst_cluster.place3","block.amethyst_cluster.place4"],w=["block.amethyst_cluster.dig1","block.amethyst_cluster.dig2","block.amethyst_cluster.dig3","block.amethyst_cluster.dig4"],f=["block.deepslate.place1","block.deepslate.place2","block.deepslate.place3","block.deepslate.place4","block.deepslate.place5","block.deepslate.place6"],B=["block.deepslate.step1","block.deepslate.step2","block.deepslate.step3","block.deepslate.step4","block.deepslate.step5","block.deepslate.step6"],N=["block.deepslate.dig1","block.deepslate.dig2","block.deepslate.dig3","block.deepslate.dig4"],C=[1,2,3,4,5,6].map((e=>"block.deepslate_bricks.place"+e)),z=[1,2,3,4,5].map((e=>"block.deepslate_bricks.step"+e)),L=["block.grass.dig1","block.grass.dig2","block.grass.dig3","block.grass.dig4"],R=["block.grass.step1","block.grass.step2","block.grass.step3","block.grass.step4","block.grass.step5","block.grass.step6"],I={power:[15,5],blockPowerNorth:[20,2],blockPowerSouth:[22,2],blockPowerEast:[24,2],blockPowerWest:[26,2],blockPowerTop:[28,2],blockPowerBottom:[30,2]};for(let x=1;x<v;++x){const v=S[x];if(v.id=x,"textures"in v)if("string"==typeof v.textures)v.textures=new Array(6).fill(v.textures);else{const{textures:e}=v;3===e.length?(e[3]=e[2],e[4]=e[2],e[5]=e[2]):2===e.length?(e[2]=e[1],e[3]=e[2],e[4]=e[2],e[5]=e[2],e[1]=e[0]):4===e.length&&(e[4]=e[5]=e[3],e[3]=e[2])}else v.textures=new Array(6).fill(v.name);v.transparent=v.transparent||!1,v.shadow=void 0===v.shadow||v.shadow,v.shade=void 0===v.shade||v.shade,v.smoothLight=void 0===v.smoothLight||v.smoothLight,v.lightLevel=v.lightLevel||0,void 0===v.solid&&(v.solid=!0),v.breakTime=v.breakTime?1e3*v.breakTime:50,void 0===v.dropAmount&&(v.dropAmount=1),v.leaves&&void 0===v.decreaseLight&&(v.decreaseLight=1),(v.crossShape||v.tallcrossShape||v.sideCross||v.ladder||v.torch||v.lantern||v.chain||v.sunflower||v.crop||v.tallCrop)&&(v.smoothLight=!1),v.item&&(v.transparent=!0,v.shadow=!1),v.liquid&&(v.noHitbox=!0),v.stackSize||(v.stackSize=64),v.pickaxe&&(v.stackSize=1,v.attackTime=20/1.2),v.sword&&(v.stackSize=1,v.attackTime=12.5),v.shovel&&(v.stackSize=1,v.attackTime=20),(v.axe||v.hoe)&&(v.stackSize=1),v.tool=v.tool||v.pickaxe||v.sword||v.shovel||v.axe||v.hoe,v.attackSpeed&&(v.attackTime=20/v.attackSpeed),null!==v.tagBits&&(v.tagBits?Object.assign(v.tagBits,I):v.tagBits=I),v.stoneSound&&(v.digSound=e,v.stepSound=t),v.woodSound&&(v.digSound=a,v.stepSound=s),v.clothSound&&(v.digSound=o,v.stepSound=i),v.glassSound&&(v.digSound=r,v.placeSound=e),v.nyliumSound&&(v.digSound=n,v.stepSound=l),v.stemSound&&(v.digSound=h,v.stepSound=d),v.basaltSound&&(v.digSound=c,v.stepSound=p),v.rootSound&&(v.digSound=u,v.stepSound=m),v.amethystSound&&(v.placeSound=g,v.digSound=k,v.stepSound=y),v.amethystClusterSound&&(v.placeSound=b,v.digSound=w),v.deepslateSound&&(v.placeSound=f,v.digSound=N,v.stepSound=B),v.deepslateBricksSound&&(v.placeSound=C,v.stepSound=z),v.grassSound&&(v.digSound=L,v.stepSound=R),v.Name=v.Name||v.name,v.pistonPush=void 0===v.pistonPush||v.pistonPush,v.pistonPull=void 0===v.pistonPull||v.pistonPull}S.forEach((e=>{if(x[e.name]=e.id,e.SW&&e.name.includes("SW")){let t=e.name.replace("SW","");if(x[t]){e.drop=t;let a=S[x[t]];e.breakTime=a.breakTime,e.type=a.type,e.burnChance=a.burnChance,e.burnTime=a.burnTime,e.log=a.log,a.swId=e.id}}P[e.name]&&(P[e.name]=e.id),e.semiTrans&&T.push(e.id)}))}const C={plant:"axe",wood:"axe",metal1:"pickaxe",metal2:["stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe"],metal3:["ironPickaxe","diamondPickaxe","netheritePickaxe"],metal4:["diamondPickaxe","netheritePickaxe"],rock1:"pickaxe",rock2:["stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe"],rock3:["ironPickaxe","diamondPickaxe","netheritePickaxe"],rock4:["diamondPickaxe","netheritePickaxe"],ground:"shovel",plant2:"hoe",wool:"air"};var handBreakable=["plant","wood","plant2","ground","wool"],allPickaxes=["woodenPickaxe","stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe","goldenPickaxe"],allShovels=["woodenShovel","stoneShovel","ironShovel","diamondShovel","netheriteShovel","goldenShovel"];for(var b in C){var t=C[b];"pickaxe"===t&&(C[b]=allPickaxes),"shovel"===t&&(C[b]=allShovels)}let z={endPortal:{data:["sssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss","sssssssss\ns       s\ns sssss s\ns sllls s\ns sllls s\ns sllls s\ns sssss s\ns  sss  s\ns  sss  s\ns  ttt  s\ns       s\nsss   sss\nsls   sls\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns  sss  s\ns  ttt  s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns  ---  s\ns (   ) s\ns (   ) s\ns (   ) s\ns  ___  s\ns  ttt  s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss"],pallete:{s:"stoneBricks",_:(e,t,a,s)=>Gt()>.75?x.endPortalFrame|J|t:x.endPortalFrame|t,"-":(e,t,a,s)=>Gt()>.75?x.endPortalFrame|J|s:x.endPortalFrame|s,"(":(e,t,a,s)=>Gt()>.75?x.endPortalFrame|J|a:x.endPortalFrame|a,")":(e,t,a,s)=>Gt()>.75?x.endPortalFrame|J|e:x.endPortalFrame|e,l:"Lava"," ":"air",t:(e,t,a,s)=>x.stoneBricks|Q|s},getY:(e,t,a)=>10+Math.round(a%16)}},L=[];for(let fa in z){let Ba=z[fa],Sa={pallete:Ba.pallete,getY:Ba.getY,data:[]},va={pallete:Ba.pallete,getY:Ba.getY,data:[]},xa={pallete:Ba.pallete,getY:Ba.getY,data:[]},Pa=[],Ta=0,Na=Ba.data.length,Ca=0;for(let za=0;za<Ba.data.length;za++){let La=Ba.data[za].split("\n");Ta=Math.max(Ta,La.length);for(let Ra=0;Ra<La.length;Ra++){let Ia=La[Ra];Ca=Math.max(Ca,Ia.length);for(let Ma=0;Ma<Ia.length;Ma++)Ba.pallete[Ia[Ma]]&&(Pa.push(Ra,za,Ma,Ba.pallete[Ia[Ma]]),Sa.data.push(La.length-Ra,za,Ia.length-Ma,Ba.pallete[Ia[Ma]]),va.data.push(Ma,za,Ra,Ba.pallete[Ia[Ma]]),xa.data.push(Ia.length-Ma,za,La.length-Ra,Ba.pallete[Ia[Ma]]))}}Ba.data=Pa,Ba.w=Ta,Ba.h=Na,Ba.d=Ca,Sa.w=Ta,Sa.h=Na,Sa.d=Ca,va.w=Ca,va.h=Na,va.d=Ta,xa.w=Ca,xa.h=Na,xa.d=Ta,Ba.variants=[Ba,va,Sa,xa],L.push(fa)}function R(e,t,a,s,o,i,r,n,l,h,d,c,p){return{x:e,y:t,z:a,w:s,h:o,tx:i,ty:r,txf:n,tyf:l,rt:h,tw:d||s,th:c||o,t:p}}function I(e,t,a,s,o,i,r,n,l,h,d,c,p,u,m,g,k){return{x:e,y:t,z:a,x2:s,y2:o,z2:i,x3:r,y3:n,z3:l,x4:h,y4:d,z4:c,tx:p,ty:u,tw:m=m||16,th:g=g||16,t:k,custom:!0}}function M(){var e,t=[],a=[],s=[],o=[];for(e=0;e<16;e++)t.push(R(0,e,7.5,16,1,0,16-e-1)),a.push(R(0,e+1,8.5,16,1,0,16-e-1)),s.push(R(e+1,16,7.5,1,16,16-e-1,0)),o.push(R(e,16,8.5,1,16,16-e-1,0));return[t,a,[R(16,16,8.5,16,16,0,0,!0)],[R(0,16,7.5,16,16,0,0)],s,o]}function D(e){return[[R(0,0,0,16,16,0,0)],[R(0,e,16,16,16,0,0)],[R(16,e,16,16,e,0,16-e)],[R(0,e,0,16,e,0,16-e)],[R(16,e,0,16,e,0,16-e)],[R(0,e,16,16,e,0,16-e)]]}function A(e){return[[R(0,0,0,16,16,0,0),R(16,0,0,-16,16,16,0,!1,!1,!1,null,null,"in")],[R(0,e,16,16,16,0,0),R(16,e,16,-16,16,16,0,!1,!1,!1,null,null,"in")],[R(16,e,16,16,e,0,16-e),R(0,e,16,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[R(0,e,0,16,e,0,16-e),R(16,e,0,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[R(16,e,0,16,e,0,16-e),R(16,e,16,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[R(0,e,16,16,e,0,16-e),R(0,e,0,-16,e,16,16-e,!1,!1,!1,null,null,"in")]]}function O(e=1,t=!1){t=t?16:0;var a=[[R(0,0,0,16,16,-48,0)],[R(0,2,16,16,16,t,0),R(7,7,14,2,2,-25+t,6),R(7,7,12-2*e,2,2,-25+t,6)],[R(16,2,16,16,2,-48,14),R(9,7,14,2,5,-25+t,6),R(9,7,12-2*e,2,5,-25+t,6)],[R(0,2,0,16,2,-48,14),R(7,7,12,2,5,-25+t,6),R(7,7,10-2*e,2,5,-25+t,6)],[R(16,2,0,16,2,-48,14),R(9,7,12,2,5,-25+t,6),R(9,7,10-2*e,2,5,-25+t,6)],[R(0,2,16,16,2,-48,14),R(7,7,14,2,5,-25+t,6),R(7,7,12-2*e,2,5,-25+t,6)]];return t&&(a[0].push(R(6,7,9-2*e,4,4,-10,5)),a[1].push(R(6,5,13-2*e,4,4,-10,5)),a[2].push(R(10,8,10-2*e,4,4,-10,5)),a[3].push(R(6,8,12-2*e,4,4,-10,5)),a[4].push(R(7,8,9-2*e,4,4,-10,5)),a[5].push(R(9,8,13-2*e,4,4,-10,5)),a[0].push(R(6,7,11,4,4,-10,5)),a[1].push(R(6,5,15,4,4,-10,5)),a[2].push(R(10,8,12,4,4,-10,5)),a[3].push(R(6,8,14,4,4,-10,5)),a[4].push(R(7,8,11,4,4,-10,5)),a[5].push(R(9,8,15,4,4,-10,5))),a}function G(e,t){t=t?16:0;var a=(e=e?16:0)?1:0,s=[[R(0,0,0,16,16,0,0)],[R(0,2,16,16,16,0,0),R(7,4+a,14,2,2,-41+e,6),R(4,7,5,2,2,-41+t,6),R(10,7,5,2,2,-41+t,6)],[R(16,2,16,16,2,-64,2),R(9,4+a,14,2,2,-41+e,6),R(6,7,5,2,5,-41+t,6),R(12,7,5,2,5,-41+t,6)],[R(0,2,0,16,2,-64,2),R(7,4+a,12,2,2,-41+e,6),R(4,7,3,2,5,-41+t,6),R(10,7,3,2,5,-41+t,6)],[R(16,2,0,16,2,-64,2),R(9,4+a,12,2,2,-41+e,6),R(6,7,3,2,5,-41+t,6),R(12,7,3,2,5,-41+t,6)],[R(0,2,16,16,2,-64,2),R(7,4+a,14,2,2,-41+e,6),R(4,7,5,2,5,-41+t,6),R(10,7,5,2,5,-41+t,6)]];return e&&(s[0].push(R(6,5,11,4,4,-26,5)),s[1].push(R(6,3,15,4,4,-26,5)),s[2].push(R(10,6,12,4,4,-26,5)),s[3].push(R(6,6,14,4,4,-26,5)),s[4].push(R(7,6,11,4,4,-26,5)),s[5].push(R(9,6,15,4,4,-26,5))),t&&(s[0].push(R(3,7,2,4,4,-26,5)),s[1].push(R(3,5,6,4,4,-26,5)),s[2].push(R(7,8,3,4,4,-26,5)),s[3].push(R(3,8,5,4,4,-26,5)),s[4].push(R(4,8,2,4,4,-26,5)),s[5].push(R(6,8,6,4,4,-26,5)),s[0].push(R(9,7,2,4,4,-26,5)),s[1].push(R(9,5,6,4,4,-26,5)),s[2].push(R(13,8,3,4,4,-26,5)),s[3].push(R(9,8,5,4,4,-26,5)),s[4].push(R(10,8,2,4,4,-26,5)),s[5].push(R(12,8,6,4,4,-26,5))),s}function W(e,t,a,s){return e[2].push(I(t,s,a,t+1,s,a+1,t+1,0,a+1,t,0,a,0,4,1,s)),e[3].push(I(t+1,s,a,t,s,a+1,t,0,a+1,t+1,0,a,0,4,1,s)),e[4].push(I(t+1,s,a+1,t,s,a,t,0,a,t+1,0,a+1,0,4,1,s)),e[5].push(I(t,s,a+1,t+1,s,a,t+1,0,a,t,0,a+1,0,4,1,s)),e}let F={cube:{verts:[[R(0,0,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,16,0,0)],[R(0,16,0,16,16,0,0)],[R(16,16,0,16,16,0,0)],[R(0,16,16,16,16,0,0)]]},rotate:{verts:[[R(0,0,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,16,0,0)],[R(0,16,0,16,16,0,0)],[R(16,16,0,16,16,0,0)],[R(0,16,16,16,16,0,0)]],rotate:!0},flipped:{verts:[[R(0,0,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,16,0,0,!1,!0)],[R(0,16,0,16,16,0,0,!1,!0)],[R(16,16,0,16,16,0,0,!1,!0)],[R(0,16,16,16,16,0,0,!1,!0)]]},SW:{verts:[[R(0,0,0,16,16,0,0)],[R(0,16,16,16,16,0,0,!1,!1,2)],[R(16,16,16,16,16,0,0)],[R(0,16,0,16,16,0,0)],[R(16,16,0,16,16,0,0,!1,!1,1)],[R(0,16,16,16,16,0,0,!1,!1,-1)]],rotate:!0},_1PixLower:{verts:[[R(0,0,0,16,16,0,0)],[R(0,15,16,16,16,0,0)],[R(16,15,16,16,15,0,1)],[R(0,15,0,16,15,0,1)],[R(16,15,0,16,15,0,1)],[R(0,15,16,16,15,0,1)]]},none:{verts:[[],[],[],[],[],[]],hitbox:"cube"},slab:{verts:[[R(0,0,0,16,16,0,0)],[R(0,8,16,16,16,0,0)],[R(16,8,16,16,8,0,0)],[R(0,8,0,16,8,0,0)],[R(16,8,0,16,8,0,0)],[R(0,8,16,16,8,0,0)]],flip:!0},verticalSlab:{verts:[[R(0,0,8,16,8,0,0)],[R(0,16,16,16,8,0,0)],[R(16,16,16,16,16,0,0)],[R(0,16,8,16,16,0,0)],[R(16,16,8,8,16,0,0)],[R(0,16,16,8,16,0,0)]],rotate:!0},stair:{verts:[[R(0,0,0,16,16,0,0)],[R(0,8,8,16,8,0,8),R(0,16,16,16,8,0,0)],[R(16,16,16,16,16,0,0)],[R(0,8,0,16,8,0,0),R(0,16,8,16,8,0,0)],[R(16,8,0,8,8,8,0),R(16,16,8,8,16,0,0)],[R(0,8,8,8,8,0,0),R(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerOut:{verts:[[R(0,0,0,16,16,0,0)],[R(0,8,16,16,16,0,0),R(0,16,16,8,8,0,0)],[R(8,16,16,8,8,0,0),R(16,8,16,16,8,0,0)],[R(0,8,0,16,8,0,0),R(0,16,8,8,8,0,0)],[R(16,8,0,16,8,0,0),R(8,16,8,8,16,0,0)],[R(0,8,8,8,8,0,0),R(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerIn:{verts:[[R(0,0,0,16,16,0,0)],[R(8,8,8,8,8,0,0),R(0,16,16,16,8,0,0),R(0,16,8,8,8,0,0)],[R(16,16,16,16,16,0,0)],[R(8,16,8,8,8,0,0),R(0,16,0,8,8,0,0),R(0,8,0,16,8,0,0)],[R(8,16,0,8,8,0,0),R(16,16,8,8,8,0,0),R(16,8,0,16,8,0,0)],[R(0,16,16,16,16,0,0)]],flip:!0,rotate:!0},cross:{verts:[[],[],[I(2,16,2,14,16,14,14,0,14,2,0,2,0,0)],[I(14,16,2,2,16,14,2,0,14,14,0,2,0,0)],[I(14,16,14,2,16,2,2,0,2,14,0,14,0,0)],[I(2,16,14,14,16,2,14,0,2,2,0,14,0,0)]],hitbox:"cube"},sideCross:{verts:[[],[],[I(2,2,16,14,14,16,14,14,0,2,2,0,0,16,16,-16)],[I(14,2,16,2,14,16,2,14,0,14,2,0,0,16,16,-16)],[I(14,14,16,2,2,16,2,2,0,14,14,0,0,16,16,-16)],[I(2,14,16,14,2,16,14,2,0,2,14,0,0,16,16,-16)]],rotate:!0,hitbox:"cube"},bottomCross:{verts:[[],[],[I(2,16,2,14,16,14,14,0,14,2,0,2,0,16,16,-16)],[I(14,16,2,2,16,14,2,0,14,14,0,2,0,16,16,-16)],[I(14,16,14,2,16,2,2,0,2,14,0,14,0,16,16,-16)],[I(2,16,14,14,16,2,14,0,2,2,0,14,0,16,16,-16)]],size:6,hitbox:"cube"},tallCross:{verts:[[],[],[I(2,16,2,14,16,14,14,0,14,2,0,2,16,0),I(2,32,2,14,32,14,14,16,14,2,16,2,0,0)],[I(14,16,2,2,16,14,2,0,14,14,0,2,16,0),I(14,32,2,2,32,14,2,16,14,14,16,2,0,0)],[I(14,16,14,2,16,2,2,0,2,14,0,14,16,0),I(14,32,14,2,32,2,2,16,2,14,16,14,0,0)],[I(2,16,14,14,16,2,14,0,2,2,0,14,16,0),I(2,32,14,14,32,2,14,16,2,2,16,14,0,0)]],hitbox:"tallCube"},door:{verts:[[R(0,0,0,16,3,0,0,!1,!1,!1,null,2)],[R(0,16,3,16,3,0,0),R(0,32,3,16,3,-16,0,!1,!1,!1,null,2)],[R(16,16,3,16,16,0,0),R(16,32,3,16,16,-16,0)],[R(0,32,0,16,16,-16,0,!0),R(0,16,0,16,16,0,0,!0)],[R(16,16,0,3,16,0,0,!1,!1,!1,2),R(16,32,0,3,16,-16,0,!1,!1,!1,2)],[R(0,16,3,3,16,0,0,!1,!1,!1,2),R(0,32,3,3,16,-16,0,!1,!1,!1,2)]],rotate:!0},torchHitbox:{verts:[[R(7,0,7,2,2,7,14)],[R(7,10,9,2,2,7,6)],[R(9,10,9,2,10,7,6)],[R(7,10,7,2,10,7,6)],[R(9,10,7,2,10,7,6)],[R(7,10,9,2,10,7,6)]]},torch:{verts:[[R(7,0,7,2,2,7,14)],[R(7,10,9,2,2,7,6)],[R(16,16,9,16,16,0,0)],[R(0,16,7,16,16,0,0)],[R(9,16,0,16,16,0,0)],[R(7,16,16,16,16,0,0)]],hitbox:"torchHitbox"},wallTorch:{verts:[[I(9,4,17,7,4,17,7,3,15,9,3,15,7,14,2,2)],[I(9,13,11,7,13,11,7,14,13,9,14,13,7,6,2,2)],[I(16,20,10.6,0,20,10.6,0,4,17,16,4,17,0,0,16,16)],[I(0,19,8.6,16,19,8.6,16,3,15,0,3,15,0,0,16,16)],[I(9,15.5,1.6,9,23.5,17.6,9,7.5,24,9,-.5,8,0,0,16,16)],[I(7,23.5,17.6,7,15.5,1.6,7,-.5,8,7,7.5,24,0,0,16,16)]],rotate:!0},lantern:{verts:[[R(5,0,5,6,6,0,9)],[R(6,9,10,4,4,1,10),R(5,7,11,6,6,0,9)],[R(10,9,10,4,2,1,0),R(11,7,11,6,7,0,2),R(9.5,11,8,3,2,11,10)],[R(6,9,6,4,2,1,0),R(5,7,5,6,7,0,2),R(6.5,11,8,3,2,11,10)],[R(10,9,6,4,2,1,0),R(11,7,5,6,7,0,2)],[R(6,9,10,4,2,1,0),R(5,7,11,6,7,0,2)]],texVerts:[],varients:[],buffer:null,size:6},lanternHang:{verts:[[R(5,0,5,6,6,0,9)],[R(6,9,10,4,4,1,10),R(5,7,11,6,6,0,9)],[R(10,9,10,4,2,1,0),R(11,7,11,6,7,0,2),R(9.5,11,8,3,2,11,10),R(9.5,16,8,3,3,11,2)],[R(6,9,6,4,2,1,0),R(5,7,5,6,7,0,2),R(6.5,11,8,3,2,11,10),R(6.5,16,8,3,3,11,2)],[R(10,9,6,4,2,1,0),R(11,7,5,6,7,0,2),R(8,14,6.5,3,4,11,1)],[R(6,9,10,4,2,1,0),R(5,7,11,6,7,0,2),R(8,14,9.5,3,4,11,1)]],texVerts:[],varients:[],buffer:null,size:6},beacon:{verts:[[R(0,0,0,16,16,0,0,null,null,null,null,null,"glass"),R(2,.001,2,12,12,0,0,null,null,null,null,null,"obsidian")],[R(3,13,13,10,10,3,3),R(0,16,16,16,16,0,0,null,null,null,null,null,"glass"),R(2,3,14,12,12,0,3,null,null,null,null,null,"obsidian")],[R(13,13,13,10,10,3,3),R(16,16,16,16,16,0,0,null,null,null,null,null,"glass"),R(14,3,14,12,3,0,3,null,null,null,null,null,"obsidian")],[R(3,13,3,10,10,3,3),R(0,16,0,16,16,0,0,null,null,null,null,null,"glass"),R(2,3,2,12,3,0,3,null,null,null,null,null,"obsidian")],[R(13,13,3,10,10,3,3),R(16,16,0,16,16,0,0,null,null,null,null,null,"glass"),R(14,3,2,12,3,0,3,null,null,null,null,null,"obsidian")],[R(3,13,13,10,10,3,3),R(0,16,16,16,16,0,0,null,null,null,null,null,"glass"),R(2,3,14,12,3,0,3,null,null,null,null,null,"obsidian")]],size:6},cactus:{verts:[[R(0,0,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,15,16,16,0,0)],[R(0,16,1,16,16,0,0)],[R(15,16,0,16,16,0,0)],[R(1,16,16,16,16,0,0)]],hitbox:"cube"},pane:{verts:[[R(0,0,7,16,2,0,7)],[R(0,16,9,16,2,0,7)],[R(16,16,9,16,16,0,0)],[R(0,16,7,16,16,0,0)],[R(16,16,7,2,16,7,0)],[R(0,16,9,2,16,7,0)]],rotate:!0},horizontalPane:{verts:[[R(0,7,0,16,16,0,0)],[R(0,9,16,16,16,0,0)],[R(16,9,16,16,2,0,7)],[R(0,9,0,16,2,0,7)],[R(16,9,0,16,2,0,7)],[R(0,9,16,16,2,0,7)]]},portal:{verts:[[R(0,0,7,16,2,0,0)],[R(0,16,9,16,2,0,0)],[R(16,16,9,16,16,0,0)],[R(0,16,7,16,16,0,0)],[R(16,16,7,2,16,0,0)],[R(0,16,9,2,16,0,0)]],rotate:!0},trapdoor:{verts:[[R(0,0,0,16,16,0,0)],[R(0,3,16,16,16,0,0)],[R(16,3,16,16,3,0,0)],[R(0,3,0,16,3,0,0)],[R(16,3,0,16,3,0,0)],[R(0,3,16,16,3,0,0)]],rotate:!0,flip:!0},trapdoorOpen:{verts:[[R(0,0,13,16,3,0,0)],[R(0,16,16,16,3,0,0)],[R(16,16,16,16,16,0,0)],[R(0,16,13,16,16,0,0)],[R(16,16,13,3,16,0,0)],[R(0,16,16,3,16,0,0)]],size:6,rotate:!0},wallFlat:{verts:[[R(0,0,0,0,0,0,0)],[R(0,16,16,0,0,0,0)],[R(16,16,16,16,16,0,0)],[R(0,16,15,16,16,0,0)],[R(0,0,0,0,0,0,0)],[R(0,0,16,0,0,0,0)]],rotate:!0},fence:{verts:[[R(6,0,6,4,4,0,1)],[R(6,16,10,4,4,0,1)],[R(10,16,10,4,16,6,0)],[R(6,16,6,4,16,6,0)],[R(10,16,6,4,16,6,0)],[R(6,16,10,4,16,6,0)]],size:6},wallpost:{verts:[[R(4,0,4,8,8,4,4)],[R(4,16,12,8,8,4,4)],[R(12,16,12,8,16,4,0)],[R(4,16,4,8,16,4,0)],[R(12,16,4,8,16,4,0)],[R(4,16,12,8,16,4,0)]],size:6},wall:{verts:[[R(4,0,4,8,8,4,4),R(5,0,12,6,4,5,10)],[R(4,16,12,8,8,4,4),R(5,16,16,6,4,5,10)],[R(12,16,12,8,16,4,0),R(11,16,16,6,16,5,0)],[R(4,16,4,8,16,4,0)],[R(12,16,4,8,16,4,0),R(11,16,12,4,16,12,0)],[R(4,16,12,8,16,4,0),R(5,16,16,4,16,12,0)]],rotate:!0},wallu:{verts:[[R(4,0,4,8,8,4,4),R(5,0,12,6,4,5,10)],[R(4,16,12,8,8,4,4),R(5,13,16,6,4,5,10)],[R(12,16,12,8,16,4,0),R(11,13,16,6,13,5,3)],[R(4,16,4,8,16,4,0)],[R(12,16,4,8,16,4,0),R(11,13,12,4,13,12,3)],[R(4,16,12,8,16,4,0),R(5,13,16,4,13,12,3)]],rotate:!0},fencq:{verts:[[R(6,0,6,4,4,0,1),R(10,12,7,6,2,0,2),R(10,6,7,6,2,0,2)],[R(6,16,10,4,4,0,1),R(10,15,9,6,2,0,2),R(10,9,9,6,2,0,2)],[R(10,16,10,4,16,6,0),R(16,15,9,6,3,6,0),R(16,9,9,6,3,6,0)],[R(6,16,6,4,16,6,0),R(10,15,7,6,3,6,0),R(10,9,7,6,3,6,0)],[R(10,16,6,4,16,6,0)],[R(6,16,10,4,16,6,0)]],rotate:!0},fench:{verts:[[R(6,0,6,4,4,0,1),R(10,12,7,6,2,0,2),R(10,6,7,6,2,0,2),R(0,12,7,6,2,0,0),R(0,6,7,6,2,0,0)],[R(6,16,10,4,4,0,1),R(10,15,9,6,2,0,2),R(10,9,9,6,2,0,2),R(0,15,9,6,2,0,0),R(0,9,9,6,2,0,0)],[R(10,16,10,4,16,6,0),R(16,15,9,6,3,6,0),R(16,9,9,6,3,6,0),R(6,15,9,6,3,0,0),R(6,9,9,6,3,0,0)],[R(6,16,6,4,16,6,0),R(10,15,7,6,3,6,0),R(10,9,7,6,3,6,0),R(0,15,7,6,3,0,0),R(0,9,7,6,3,0,0)],[R(10,16,6,4,16,6,0)],[R(6,16,10,4,16,6,0)]],rotate:!0},button:{verts:[[R(5,6,14,6,2,5,6)],[R(5,10,16,6,2,5,6)],[R(11,10,16,6,4,5,6)],[R(5,10,14,6,4,5,6)],[R(11,10,14,2,4,5,6)],[R(5,10,16,2,4,5,6)]],rotate:!0},chain:{verts:[[R(8,0,8,.5,.5,0,0)],[R(8,16,8,.5,.5,0,0)],[R(9.5,16,8,3,16,3,0)],[R(6.5,16,8,3,16,3,0)],[R(8,16,6.5,3,16,0,0)],[R(8,16,9.5,3,16,0,0)]],size:6},pot:{verts:[[R(5,0,5,6,6,5,10)],[R(5,6,11,6,6,5,5),R(6,4,10,4,4,-16,0)],[R(11,6,11,6,6,5,10),R(11,6,6,6,6,5,10)],[R(5,6,5,6,6,5,10),R(5,6,10,6,6,5,10)],[R(11,6,5,6,6,5,10),R(6,6,5,6,6,5,10)],[R(5,6,11,6,6,5,10),R(10,6,11,6,6,5,10)]],size:6},potCross:{verts:[[],[],[I(2,4,2,14,4,14,14,-12,14,2,-12,2,0,0)],[I(14,4,2,2,4,14,2,-12,14,14,-12,2,0,0)],[I(14,4,14,2,4,2,2,-12,2,14,-12,14,0,0)],[I(2,4,14,14,4,2,14,-12,2,2,-12,14,0,0)]],size:6},carpet:{verts:[[R(0,0,0,16,16,0,0)],[R(0,1,16,16,16,0,0)],[R(16,1,16,16,1,0,0)],[R(0,1,0,16,1,0,0)],[R(16,1,0,16,1,0,0)],[R(0,1,16,16,1,0,0)]]},bed:{verts:[[R(0,3,0,16,16,-16,0),R(0,3,16,16,16,-16,0),R(0,0,0,3,3,38,0),R(13,0,29,3,3,38,0),R(0,0,29,3,3,38,0),R(13,0,0,3,3,38,0)],[R(0,9,32,16,16,16,0),R(0,9,16,16,16,0,0)],[R(16,9,32,16,6,80,6),R(3,3,3,3,3,38,3),R(16,3,32,3,3,32,3),R(3,3,32,3,3,35,3),R(16,3,3,3,3,41,3)],[R(0,9,0,16,6,80,0),R(0,3,0,3,3,32,3),R(13,3,29,3,3,38,3),R(0,3,29,3,3,41,3),R(13,3,0,3,3,35,3)],[R(16,9,0,16,6,48,0),R(16,9,16,16,6,64,0),R(3,3,0,3,3,41,3),R(16,3,29,3,3,35,3),R(3,3,29,3,3,38,3),R(16,3,0,3,3,32,3)],[R(0,9,32,16,6,64,6),R(0,9,16,16,6,48,6),R(0,3,3,3,3,35,3),R(13,3,32,3,3,41,3),R(0,3,32,3,3,32,3),R(13,3,3,3,3,38,3)]],rotate:!0},cactusPot:{verts:[[],[R(6,1,10,4,4,6,6)],[R(10,1,10,4,11,6,0)],[R(6,1,6,4,11,6,0)],[R(10,1,6,4,11,6,0)],[R(6,1,10,4,11,6,0)]],size:6},crop:{verts:[[R(0,0,0,0,0,0,0)],[R(0,0,0,0,0,0,0)],[R(16,16,4,16,16,0,0),R(16,16,12,16,16,0,0)],[R(0,16,12,16,16,0,0),R(0,16,4,16,16,0,0)],[R(4,16,0,16,16,0,0),R(12,16,0,16,16,0,0)],[R(12,16,16,16,16,0,0),R(4,16,16,16,16,0,0)]],varients:[]},anvil:{verts:[[R(2,0,2,12,12,0,0),R(0,10,3,16,10,0,0)],[R(2,4,14,12,12,0,0),R(3,5,12,10,8,0,0),R(0,16,13,16,10,-16,3)],[R(14,4,14,12,4,0,0),R(16,16,13,16,6,0,0),R(13,5,12,10,1,0,0),R(12,10,11,8,5,0,0)],[R(2,4,2,12,4,0,0),R(0,16,3,16,6,0,0),R(3,5,4,10,1,0,0),R(4,10,5,8,5,0,0)],[R(14,4,2,12,4,0,0),R(16,16,3,10,6,0,0),R(13,5,4,8,1,0,0),R(12,10,5,6,5,0,0)],[R(2,4,14,12,4,0,0),R(0,16,13,10,6,0,0),R(3,5,12,8,1,0,0),R(4,10,11,6,5,0,0)]],rotate:!0},sporeBlossom:{verts:[[R(1,15.9,1,14,14,-15,1)],[R(1,15.9,15,14,14,-15,1)],[I(0,15.9,8,16,15.9,8,16,11.1,-8,0,11.1,-8,16,16,-16,-16),I(16,15.9,8,0,15.9,8,0,11.1,-8,16,11.1,-8,16,16,-16,-16)],[I(0,15.9,8,16,15.9,8,16,11.1,24,0,11.1,24,16,16,-16,-16),I(16,15.9,8,0,15.9,8,0,11.1,24,16,11.1,24,16,16,-16,-16)],[I(8,15.9,0,8,15.9,16,-8,11.1,16,-8,11.1,0,16,16,-16,-16),I(8,15.9,16,8,15.9,0,-8,11.1,0,-8,11.1,16,16,16,-16,-16)],[I(8,15.9,0,8,15.9,16,24,11.1,16,24,11.1,0,16,16,-16,-16),I(8,15.9,16,8,15.9,0,24,11.1,0,24,11.1,16,16,16,-16,-16)]]},azalea:{verts:[[R(0,8,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,16,0,0),I(0,16,0,16,16,16,16,0,16,0,0,0,-32,0)],[R(0,16,0,16,16,0,0),I(16,16,0,0,16,16,0,0,16,16,0,0,-32,0)],[R(16,16,0,16,16,0,0),I(16,16,16,0,16,0,0,0,0,16,0,16,-32,0)],[R(0,16,16,16,16,0,0),I(0,16,16,16,16,0,16,0,0,0,0,16,-32,0)]]},azaleaPot:{verts:[[R(4,-7,4,8,8,4,4)],[R(4,-1,12,8,8,4,4)],[R(12,-1,12,8,11,4,5),I(4,-1,4,12,-1,12,12,-12,12,4,-12,4,-12,5,8,11)],[R(4,-1,4,8,11,4,5),I(12,-1,4,4,-1,12,4,-12,12,12,-12,4,-12,5,8,11)],[R(12,-1,4,8,11,4,5),I(12,-1,12,4,-1,4,4,-12,4,12,-12,12,-12,5,8,11)],[R(4,-1,12,8,11,4,5),I(4,-1,12,12,-1,4,12,-12,4,4,-12,12,-12,5,8,11)]],texVerts:[],varients:[],buffer:null,size:6},sunflower:{verts:[[I(0,34,7,16,34,7,16,18,11,0,18,11,0,0)],[I(16,34,7,0,34,7,0,18,11,16,18,11,0,0)],[I(2,16,2,14,16,14,14,0,14,2,0,2,-16,0),I(2,32,2,14,32,14,14,16,14,2,16,2,0,0)],[I(14,16,2,2,16,14,2,0,14,14,0,2,-16,0),I(14,32,2,2,32,14,2,16,14,14,16,2,0,0)],[I(14,16,14,2,16,2,2,0,2,14,0,14,-16,0),I(14,32,14,2,32,2,2,16,2,14,16,14,0,0)],[I(2,16,14,14,16,2,14,0,2,2,0,14,-16,0),I(2,32,14,14,32,2,14,16,2,2,16,14,0,0)]]},cake:{verts:[[R(1,0,1,14,14,1,1)],[R(1,8,15,14,14,1,1)],[R(15,8,15,14,8,1,8)],[R(1,8,1,14,8,1,8)],[R(15,8,1,14,8,1,8)],[R(1,8,15,14,8,1,8)]]},stonecutter:{verts:[[R(0,0,0,16,16,0,0)],[R(0,9,16,16,16,0,0)],[R(16,9,16,16,9,0,7),R(16,16,8,16,7,16,9)],[R(0,9,0,16,9,0,7),R(0,16,8,16,7,16,9)],[R(16,9,0,16,9,0,7)],[R(0,9,16,16,9,0,7)]]},itemFrame:{verts:[[R(2,2,15,12,1,-16,0),R(3,13,15,10,1,-16,0)],[R(2,14,16,12,1,-16,0),R(3,3,16,10,1,-16,0)],[R(14,14,16,12,12,-16,0)],[R(3,13,15.5,10,10,3,3),R(2,14,15,11,1,-14,2),R(13,14,15,1,11,-3,2),R(3,3,15,11,1,-13,13),R(2,13,15,1,11,-14,3)],[R(14,14,15,1,12,-16,0),R(3,13,15,1,10,-16,0)],[R(2,14,16,1,12,-16,0),R(13,13,16,1,10,-16,0)]],rotate:!0},endPortalFrame:{verts:[[R(0,0,0,16,16,0,0)],[R(0,13,16,16,16,0,0)],[R(16,13,16,16,13,0,3)],[R(0,13,0,16,13,0,3)],[R(16,13,0,16,13,0,3)],[R(0,13,16,16,13,0,3)]],rotate:!0},endPortalFrameWithEyeOfEnder:{verts:[[R(0,0,0,16,16,0,0)],[R(0,13,16,16,16,0,0),R(4,16,12,8,8,36,4)],[R(16,13,16,16,13,0,3),R(12,16,12,8,3,20,0)],[R(0,13,0,16,13,0,3),R(4,16,4,8,3,20,0)],[R(16,13,0,16,13,0,3),R(12,16,4,8,3,20,0)],[R(0,13,16,16,13,0,3),R(4,16,12,8,3,20,0)]],rotate:!0},fire:{verts:[[],[],[I(16,22.4,15.5,0,22.4,15.5,0,0,16,16,0,16,0,0),I(0,22.4,15.5,16,22.4,15.5,16,0,16,0,0,16,0,0),I(0,20,12,16,20,12,16,0,0,0,0,0,0,0),I(16,20,12,0,20,12,0,0,0,16,0,0,0,0)],[I(16,22.4,.5,0,22.4,.5,0,0,0,16,0,0,0,0),I(0,22.4,.5,16,22.4,.5,16,0,0,0,0,0,0,0),I(16,20,4,0,20,4,0,0,16,16,0,16,0,0),I(0,20,4,16,20,4,16,0,16,0,0,16,0,0)],[I(15.5,22.4,16,15.5,22.4,0,16,0,0,16,0,16,0,0),I(15.5,22.4,0,15.5,22.4,16,16,0,16,16,0,0,0,0),I(12,20,0,12,20,16,0,0,16,0,0,0,0,0),I(12,20,16,12,20,0,0,0,0,0,0,16,0,0)],[I(.5,22.4,16,.5,22.4,0,0,0,0,0,0,16,0,0),I(.5,22.4,0,.5,22.4,16,0,0,16,0,0,0,0,0),I(4,20,0,4,20,16,16,0,16,16,0,0,0,0),I(4,20,16,4,20,0,16,0,0,16,0,16,0,0)]],hitbox:"cube"},sideFire:{verts:[[],[],[I(16,22.4,14,0,22.4,14,0,0,16,16,0,16,0,0)],[I(0,22.4,14,16,22.4,14,16,0,16,0,0,16,0,0)],[],[]],rotate:!0,hitbox:"cube"},bottomFire:{verts:[[I(0,12,0,16,12,0,16,16,16,0,16,16,0,0),I(16,12,16,0,12,16,0,16,0,16,16,0,0,0),I(16,12,0,16,12,16,0,16,16,0,16,0,0,0),I(0,12,16,0,12,0,16,16,0,16,16,16,0,0)],[I(16,12,0,0,12,0,0,16,16,16,16,16,0,0),I(0,12,16,16,12,16,16,16,0,0,16,0,0,0),I(0,12,0,0,12,16,16,16,16,16,16,0,0,0),I(16,12,16,16,12,0,0,16,0,0,16,16,0,0)],[],[],[],[]],hitbox:"cube"},endRod:{verts:[[R(6,0,6,4,4,2,4)],[R(7,16,9,2,2,2,0),R(6,1,10,4,4,2,4)],[R(9,16,9,2,15,0,0),R(10,1,10,4,1,2,2)],[R(7,16,7,2,15,0,0),R(6,1,6,4,1,2,2)],[R(9,16,7,2,15,0,0),R(10,1,6,4,1,2,2)],[R(7,16,9,2,15,0,0),R(6,1,10,4,1,2,2)]],flip:!0},endRodSW:{verts:[[R(7,7,0,2,15,0,0),R(6,6,15,4,1,2,4)],[R(7,9,15,2,15,0,0),R(6,10,16,4,1,2,4)],[R(10,10,16,4,4,2,4)],[R(7,9,0,2,2,2,0),R(6,10,15,4,4,2,2)],[R(9,9,0,15,2,16,14),R(10,10,15,1,4,2,2)],[R(7,9,15,15,2,16,14),R(6,10,16,1,4,2,2)]],rotate:!0},door2:{verts:[[R(0,0,13,16,3,0,0,!1,!1,!1,null,2)],[R(0,32,16,16,3,0,0,!1,!1,!1,null,2)],[R(16,32,16,16,16,-16,0),R(16,16,16,16,16,0,0)],[R(0,32,13,16,16,-16,0,!0),R(0,16,13,16,16,0,0,!0)],[R(16,32,13,3,16,-3,0,!1,!1,!1,2),R(16,16,13,3,16,13,0,!1,!1,!1,2)],[R(0,32,16,3,16,-16,0,!1,!1,!1,2),R(0,16,16,3,16,0,0,!1,!1,!1,2)]],rotate:!0},fenceGate:{verts:[[R(0,5,7,2,2,0,1),R(2,12,7,12,2,0,2),R(2,6,7,12,2,0,2),R(14,5,7,2,2,0,0)],[R(0,16,9,2,2,0,1),R(2,15,9,12,2,0,2),R(2,9,9,12,2,0,2),R(14,16,9,2,2,0,0)],[R(2,16,9,2,11,0,0),R(14,15,9,12,3,2,1),R(14,9,9,12,3,2,7),R(16,16,9,2,11,14,0),R(10,12,9,4,3,6,4)],[R(0,16,7,2,11,14,0),R(2,15,7,12,3,2,1),R(2,9,7,12,3,2,7),R(14,16,7,2,11,2,0),R(6,12,7,4,3,6,4)],[R(2,16,7,2,11,6,0),R(10,12,7,2,3,0,0),R(16,16,7,2,11,0,0)],[R(0,16,9,2,11,6,0),R(14,16,9,2,11,0,0),R(6,12,9,2,3,0,0)]],flip:!1,rotate:!0},fenceGateWall:{verts:[[R(0,2,7,2,2,0,1),R(2,9,7,12,2,0,2),R(2,3,7,12,2,0,2),R(14,2,7,2,2,0,0)],[R(0,13,9,2,2,0,1),R(2,12,9,12,2,0,2),R(2,6,9,12,2,0,2),R(14,13,9,2,2,0,0)],[R(2,13,9,2,11,0,0),R(14,12,9,12,3,2,1),R(14,6,9,12,3,2,7),R(16,13,9,2,11,14,0),R(10,9,9,4,3,6,4)],[R(0,13,7,2,11,14,0),R(2,12,7,12,3,2,1),R(2,6,7,12,3,2,7),R(14,13,7,2,11,2,0),R(6,9,7,4,3,6,4)],[R(2,13,7,2,11,6,0),R(10,9,7,2,3,0,0),R(16,13,7,2,11,0,0)],[R(0,13,9,2,11,6,0),R(14,13,9,2,11,0,0),R(6,9,9,2,3,0,0)]],flip:!1,rotate:!0},fenceGateOpen:{verts:[[R(0,5,7,2,2,0,1),R(14,12,9,2,6,0,2),R(14,6,9,2,6,0,2),R(14,5,7,2,2,0,0),R(0,12,9,2,6,0,0),R(0,6,9,2,6,0,0)],[R(0,16,9,2,2,0,1),R(14,15,15,2,6,0,2),R(14,9,15,2,6,0,2),R(14,16,9,2,2,0,0),R(0,15,15,2,6,0,0),R(0,9,15,2,6,0,0)],[R(2,16,9,2,11,0,0),R(16,15,15,2,9,2,1),R(2,15,15,2,9,2,7),R(16,16,9,2,11,14,0)],[R(0,16,7,2,11,14,0),R(14,12,13,2,3,2,1),R(0,12,13,2,3,2,7),R(14,16,7,2,11,2,0)],[R(2,16,7,2,11,6,0),R(2,12,13,2,3,6,4),R(16,16,7,2,11,6,4),R(16,12,13,2,3,0,0),R(16,15,9,6,3,2,1),R(2,15,9,6,3,2,1),R(16,9,9,6,3,2,7),R(2,9,9,6,3,2,7)],[R(0,16,9,2,11,6,0),R(14,16,9,2,11,0,0),R(14,12,15,2,3,6,4),R(0,12,15,2,3,6,4),R(0,15,15,6,3,0,1),R(0,9,15,6,3,2,7),R(14,15,15,6,3,2,1),R(14,9,15,6,3,2,7)]],flip:!1,rotate:!0},fenceGateWallOpen:{verts:[[R(0,2,7,2,2,0,1),R(14,9,9,2,6,0,2),R(14,3,9,2,6,0,2),R(14,2,7,2,2,0,0),R(0,9,9,2,6,0,0),R(0,3,9,2,6,0,0)],[R(0,13,9,2,2,0,1),R(14,12,15,2,6,0,2),R(14,6,15,2,6,0,2),R(14,13,9,2,2,0,0),R(0,12,15,2,6,0,0),R(0,6,15,2,6,0,0)],[R(2,13,9,2,11,0,0),R(16,12,15,2,9,2,1),R(2,12,15,2,9,2,7),R(16,13,9,2,11,14,0)],[R(0,13,7,2,11,14,0),R(14,9,13,2,3,2,1),R(0,9,13,2,3,2,7),R(14,13,7,2,11,2,0)],[R(2,13,7,2,11,6,0),R(2,9,13,2,3,6,4),R(16,13,7,2,11,6,4),R(16,9,13,2,3,0,0),R(16,12,9,6,3,2,1),R(2,12,9,6,3,2,1),R(16,6,9,6,3,2,7),R(2,6,9,6,3,2,7)],[R(0,13,9,2,11,6,0),R(14,13,9,2,11,0,0),R(14,9,15,2,3,6,4),R(0,9,15,2,3,6,4),R(0,12,15,6,3,0,1),R(0,6,15,6,3,2,7),R(14,12,15,6,3,2,1),R(14,6,15,6,3,2,7)]],flip:!1,rotate:!0},tallCrop:{verts:[[],[],[R(16,32,4,16,16,0,0),R(16,32,12,16,16,0,0),R(16,16,4,16,16,-16,0),R(16,16,12,16,16,-16,0)],[R(0,32,12,16,16,0,0),R(0,32,4,16,16,0,0),R(0,16,12,16,16,-16,0),R(0,16,4,16,16,-16,0)],[R(4,32,0,16,16,0,0),R(12,32,0,16,16,0,0),R(4,16,0,16,16,-16,0),R(12,16,0,16,16,-16,0)],[R(12,32,16,16,16,0,0),R(4,32,16,16,16,0,0),R(12,16,16,16,16,-16,0),R(4,16,16,16,16,-16,0)]],varients:[]},chainSW:{verts:[[R(6.5,8,0,3,16,0,0)],[R(6.5,8,16,3,16,0,0)],[],[],[R(8,9.5,0,16,3,0,3)],[R(8,9.5,16,16,3,0,3)]],rotate:!0},campfire:{verts:[[R(1,0,0,4,16,60,0),R(11,0,0,4,16,60,0),R(0,3,1,16,4,0,4),R(0,3,11,16,4,0,4),R(5,0,0,6,16,48,0)],[R(1,4,16,4,16,60,0),R(11,4,16,4,16,60,0),R(0,7,5,16,4,16,0),R(0,7,15,16,4,16,0),R(5,1,16,6,16,64,0)],[R(5,4,16,4,4,16,4),R(15,4,16,4,4,16,4),R(16,7,5,16,4,0,0),R(16,7,15,16,4,0,0),R(11,1,16,6,1,0,15),I(0,16,0,16,16,16,16,0,16,0,0,0,32,0)],[R(1,4,0,4,4,16,4),R(11,4,0,4,4,16,4),R(0,7,1,16,4,0,0),R(0,7,11,16,4,0,0),R(5,1,0,6,1,0,15),I(16,16,0,0,16,16,0,0,16,16,0,0,32,0)],[R(15,4,0,16,4,16,0),R(5,4,0,16,4,0,0),R(16,7,1,4,4,16,4),R(16,7,11,4,4,16,4),I(16,16,16,0,16,0,0,0,0,16,0,16,32,0)],[R(11,4,16,16,4,0,0),R(1,4,16,16,4,16,0),R(0,7,5,4,4,16,4),R(0,7,15,4,4,16,4),I(0,16,16,16,16,0,16,0,0,0,0,16,32,0)]],hitbox:"slab"},campfireUnlit:{verts:[[R(1,0,0,4,16,60,0),R(11,0,0,4,16,60,0),R(0,3,1,16,4,16,0),R(0,3,11,16,4,16,0),R(5,0,0,6,16,48,0)],[R(1,4,16,4,16,60,0),R(11,4,16,4,16,60,0),R(0,7,5,16,4,16,0),R(0,7,15,16,4,16,0),R(5,1,16,6,16,48,0)],[R(5,4,16,4,4,16,4),R(15,4,16,4,4,16,4),R(16,7,5,16,4,16,0),R(16,7,15,16,4,16,0),R(11,1,16,6,1,0,15)],[R(1,4,0,4,4,16,4),R(11,4,0,4,4,16,4),R(0,7,1,16,4,16,0),R(0,7,11,16,4,16,0),R(5,1,0,6,1,0,15)],[R(15,4,0,16,4,16,0),R(5,4,0,16,4,16,0),R(16,7,1,4,4,16,4),R(16,7,11,4,4,16,4)],[R(11,4,16,16,4,16,0),R(1,4,16,16,4,16,0),R(0,7,5,4,4,16,4),R(0,7,15,4,4,16,4)]],hitbox:"slab"},bamboo:{verts:[[R(6.5,0,6.5,3,3,13,4)],[R(6.5,16,9.5,3,3,13,0)],[R(9.5,16,9.5,3,16,0,0)],[R(6.5,16,6.5,3,16,0,0)],[R(9.5,16,6.5,3,16,0,0)],[R(6.5,16,9.5,3,16,0,0)]],hitbox:"cube"},bambooSmallLeaf:{verts:[[R(6.5,0,6.5,3,3,13,4)],[R(6.5,16,9.5,3,3,13,0)],[R(9.5,16,9.5,3,16,0,0),R(16,16,8,16,16,-64,0)],[R(6.5,16,6.5,3,16,0,0),R(0,16,8,16,16,-64,0)],[R(9.5,16,6.5,3,16,0,0),R(8,16,0,16,16,-64,0)],[R(6.5,16,9.5,3,16,0,0),R(8,16,16,16,16,-64,0)]],hitbox:"cube"},bambooBigLeaf:{verts:[[R(6.5,0,6.5,3,3,13,4)],[R(6.5,16,9.5,3,3,13,0)],[R(9.5,16,9.5,3,16,0,0),R(16,16,8,16,16,-48,0)],[R(6.5,16,6.5,3,16,0,0),R(0,16,8,16,16,-48,0)],[R(9.5,16,6.5,3,16,0,0),R(8,16,0,16,16,-48,0)],[R(6.5,16,9.5,3,16,0,0),R(8,16,16,16,16,-48,0)]],hitbox:"cube"},bambooYoung:{verts:[[R(7,0,7,2,2,13,4)],[R(7,16,9,2,2,13,0)],[R(9,16,9,2,16,0,0)],[R(7,16,7,2,16,0,0)],[R(9,16,7,2,16,0,0)],[R(7,16,9,2,16,0,0)]],hitbox:"cube"},bambooYoungLeaf:{verts:[[R(7,0,7,2,2,13,4)],[R(7,16,9,2,2,13,0)],[R(9,16,9,2,16,0,0),R(16,16,8,16,16,-64,0)],[R(7,16,7,2,16,0,0),R(0,16,8,16,16,-64,0)],[R(9,16,7,2,16,0,0),R(8,16,0,16,16,-64,0)],[R(7,16,9,2,16,0,0),R(8,16,16,16,16,-64,0)]],hitbox:"cube"},bambooPot:{verts:[[],[R(7,0,9,2,2,13,0)],[R(9,0,9,2,16,0,0),R(16,0,8,16,16,-32,0)],[R(7,0,7,2,16,0,0),R(0,0,8,16,16,-32,0,!0)],[R(9,0,7,2,16,0,0)],[R(7,0,9,2,16,0,0)]]},chest:{verts:[[R(1,0,1,14,14,32,0),R(7,7,0,2,1,-13,0)],[R(1,14,15,14,14,32,0),R(7,11,1,2,1,-15,0)],[R(15,14,15,14,4,16,0),R(15,10,15,14,10,16,5),R(9,11,1,2,4,-16,1)],[R(1,14,1,14,4,0,0),R(1,10,1,14,10,0,5),R(7,11,0,2,4,-14,1)],[R(15,14,1,14,4,16,0),R(15,10,1,14,10,16,5),R(9,11,0,1,4,-14,1)],[R(1,14,15,14,4,16,0),R(1,10,15,14,10,16,5),R(7,11,1,1,4,-16,1)]],rotate:!0},christmasChest:{verts:[[R(1,0,1,14,14,32,0),R(7,7,0,2,1,-13,0)],[R(1,14,15,14,14,16,0),R(7,11,1,2,1,-15,0)],[R(15,14,15,14,4,0,0),R(15,10,15,14,10,0,5),R(9,11,1,2,4,-16,1)],[R(1,14,1,14,4,0,0),R(1,10,1,14,10,0,5),R(7,11,0,2,4,-14,1)],[R(15,14,1,14,4,0,0),R(15,10,1,14,10,0,5),R(9,11,0,1,4,-14,1)],[R(1,14,15,14,4,0,0),R(1,10,15,14,10,0,5),R(7,11,1,1,4,-16,1)]],rotate:!0},pressurePlate:{verts:[[R(1,0,1,14,14,1,1)],[R(1,1,15,14,14,1,1)],[R(15,1,15,14,1,0,0)],[R(1,1,1,14,1,0,0)],[R(15,1,1,14,1,0,0)],[R(1,1,15,14,1,0,0)]]},pressurePlateActive:{verts:[[R(1,0,1,14,14,1,1)],[R(1,.5,15,14,14,1,1)],[R(15,.5,15,14,.5,0,0)],[R(1,.5,1,14,.5,0,0)],[R(15,.5,1,14,.5,0,0)],[R(1,.5,15,14,.5,0,0)]]},redstoneDust:{verts:[[R(0,.25,0,16,16,0,0,!1,!0)],[R(0,.25,16,16,16,0,0)],[R(16,16,.25,16,16,0,0,!1,!1,!1,null,null,"north"),R(16,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south")],[R(0,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south"),R(0,16,.25,16,16,0,0,!1,!1,!1,null,null,"north")],[R(.25,16,0,16,16,0,0,!1,!1,!1,null,null,"east"),R(15.75,16,0,16,16,0,0,!1,!1,!1,null,null,"west")],[R(15.75,16,16,16,16,0,0,!1,!1,!1,null,null,"west"),R(.25,16,16,16,16,0,0,!1,!1,!1,null,null,"east")]],hitbox:"carpet"},redstoneDustRotate:{verts:[[R(0,.25,0,16,16,0,0,!1,!0)],[R(0,.25,16,16,16,0,0)],[R(16,16,.25,16,16,0,0,!1,!1,!1,null,null,"north"),R(16,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south")],[R(0,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south"),R(0,16,.25,16,16,0,0,!1,!1,!1,null,null,"north")],[R(.25,16,0,16,16,0,0,!1,!1,!1,null,null,"east"),R(15.75,16,0,16,16,0,0,!1,!1,!1,null,null,"west")],[R(15.75,16,16,16,16,0,0,!1,!1,!1,null,null,"west"),R(.25,16,16,16,16,0,0,!1,!1,!1,null,null,"east")]],rotate:!0,hitbox:"carpet"},redstoneTorch:{verts:[[R(7,0,7,2,2,7,14),R(6,10,6,4,4,6,5)],[R(7,10,9,2,2,7,6),R(6,8,10,4,4,6,5)],[R(9,10,9,2,10,7,6),R(10,11,7,4,4,6,5)],[R(7,10,7,2,10,7,6),R(6,11,9,4,4,6,5)],[R(9,10,7,2,10,7,6),R(7,11,6,4,4,6,5)],[R(7,10,9,2,10,7,6),R(9,11,10,4,4,6,5)]]},redstoneWallTorch:{verts:[[I(9,4,17,7,4,17,7,3,15,9,3,15,7,14,2,2),I(6,12.5,10,10,12.5,10,10,14.5,14,6,14.5,14,6,5,4,4)],[I(9,13,11,7,13,11,7,14,13,9,14,13,7,6,2,2),I(10,10.5,10.8,6,10.5,10.8,6,12.5,14.8,10,12.5,14.8,6,5,4,4)],[I(9,14,13,7,14,13,7,4,17,9,4,17,7,6,2,10),I(10,14,10.6,6,14,10.6,6,10,12.2,10,10,12.2,6,5,4,4)],[I(7,13,11,9,13,11,9,3,15,7,3,15,7,6,2,10),I(6,15,12.6,10,15,12.6,10,11,14.2,6,11,14.2,6,5,4,4)],[I(9,13,11,9,14,13,9,4,17,9,3,15,7,6,2,10),I(7,13.5,9.6,7,15.5,13.6,7,11.5,15.2,7,9.5,11.2,6,5,4,4)],[I(7,14,13,7,13,11,7,3,15,7,4,17,7,6,2,10),I(9,15.5,13.6,9,13.5,9.6,9,9.5,11.2,9,11.5,15.2,6,5,4,4)]],rotate:!0},leverWall:{verts:[[R(5,4,13,6,3,0,0,null,null,null,null,null,"cobblestone"),I(7,12,7,9,12,7,9,8.45,15,7,8.45,15,7,6,2,10)],[R(5,12,16,6,3,0,0,null,null,null,null,null,"cobblestone"),I(9,13.5,8,7,13.5,8,7,10,16,9,10,16,7,6,2,10)],[R(11,12,16,6,8,0,0,null,null,null,null,null,"cobblestone")],[R(5,12,13,6,8,0,0,null,null,null,null,null,"cobblestone"),I(7,13.5,8,9,13.5,8,9,12,7,7,12,7,7,6,2,2)],[R(11,12,13,3,8,0,0,null,null,null,null,null,"cobblestone"),I(9,12,7,9,13.5,8,9,10,16,9,8.45,15,7,6,2,10)],[R(5,12,16,3,8,0,0,null,null,null,null,null,"cobblestone"),I(7,13.5,8,7,12,7,7,8.45,15,7,10,16,7,6,2,10)]],rotate:!0},leverWallOn:{verts:[[R(5,4,13,6,3,0,0,null,null,null,null,null,"cobblestone"),I(7,2.5,8,9,2.5,8,9,6,16,7,6,16,7,6,2,10)],[R(5,12,16,6,3,0,0,null,null,null,null,null,"cobblestone"),I(9,4,7,7,4,7,7,7.55,15,9,7.55,15,7,6,2,10)],[R(11,12,16,6,8,0,0,null,null,null,null,null,"cobblestone")],[R(5,12,13,6,8,0,0,null,null,null,null,null,"cobblestone"),I(9,2.5,8,7,2.5,8,7,4,7,9,4,7,7,6,2,2)],[R(11,12,13,3,8,0,0,null,null,null,null,null,"cobblestone"),I(9,2.5,8,9,4,7,9,7.55,15,9,6,16,7,6,2,10)],[R(5,12,16,3,8,0,0,null,null,null,null,null,"cobblestone"),I(7,4,7,7,2.5,8,7,6,16,7,7.55,15,7,6,2,10)]],rotate:!0},leverFloor:{verts:[[R(5,0,4,6,8,0,0,null,null,null,null,null,"cobblestone"),I(9,8,13.5,7,8,13.5,7,0,10,9,0,10,7,6,2,10)],[R(5,3,12,6,8,0,0,null,null,null,null,null,"cobblestone"),I(7,9,12,9,9,12,9,1,8.45,7,1,8.45,7,6,2,10)],[R(11,3,12,6,3,0,0,null,null,null,null,null,"cobblestone"),I(7,8,13.5,9,8,13.5,9,9,12,7,9,12,7,6,2,2)],[R(5,3,4,6,3,0,0,null,null,null,null,null,"cobblestone")],[R(11,3,4,8,3,0,0,null,null,null,null,null,"cobblestone"),I(9,9,12,9,8,13.5,9,0,10,9,1,8.45,7,6,2,10)],[R(5,3,12,8,3,0,0,null,null,null,null,null,"cobblestone"),I(7,8,13.5,7,9,12,7,1,8.45,7,0,10,7,6,2,10)]]},leverFloorOn:{verts:[[R(5,0,4,6,8,0,0,null,null,null,null,null,"cobblestone"),I(7,8,2.5,9,8,2.5,9,0,6,7,0,6,7,6,2,10)],[R(5,3,12,6,8,0,0,null,null,null,null,null,"cobblestone"),I(9,9,4,7,9,4,7,1,7.55,9,1,7.55,7,6,2,10)],[R(11,3,12,6,3,0,0,null,null,null,null,null,"cobblestone")],[R(5,3,4,6,3,0,0,null,null,null,null,null,"cobblestone"),I(9,8,2.5,7,8,2.5,7,9,4,9,9,4,7,6,2,2)],[R(11,3,4,8,3,0,0,null,null,null,null,null,"cobblestone"),I(9,8,2.5,9,9,4,9,1,7.55,9,0,6,7,6,2,10)],[R(5,3,12,8,3,0,0,null,null,null,null,null,"cobblestone"),I(7,9,4,7,8,2.5,7,0,6,7,1,7.55,7,6,2,10)]]},leverCeil:{verts:[[R(5,13,4,6,8,0,0,null,null,null,null,null,"cobblestone"),I(9,7,12,7,7,12,7,15,8.45,9,15,8.45,7,6,2,10)],[R(5,16,12,6,8,0,0,null,null,null,null,null,"cobblestone"),I(7,8,13.5,9,8,13.5,9,16,10,7,16,10,7,6,2,10)],[R(11,16,12,6,3,0,0,null,null,null,null,null,"cobblestone"),I(9,8,13.5,7,8,13.5,7,7,12,9,7,12,7,6,2,2)],[R(5,16,4,6,3,0,0,null,null,null,null,null,"cobblestone")],[R(11,16,4,8,3,0,0,null,null,null,null,null,"cobblestone"),I(9,8,13.5,9,7,12,9,15,8.45,9,16,10,7,6,2,10)],[R(5,16,12,8,3,0,0,null,null,null,null,null,"cobblestone"),I(7,7,12,7,8,13.5,7,16,10,7,15,8.45,7,6,2,10)]]},leverCeilOn:{verts:[[R(5,13,4,6,8,0,0,null,null,null,null,null,"cobblestone"),I(7,7,4,9,7,4,9,15,7.55,7,15,7.55,7,6,2,10)],[R(5,16,12,6,8,0,0,null,null,null,null,null,"cobblestone"),I(9,8,2.5,7,8,2.5,7,16,6,9,16,6,7,6,2,10)],[R(11,16,12,6,3,0,0,null,null,null,null,null,"cobblestone")],[R(5,16,4,6,3,0,0,null,null,null,null,null,"cobblestone"),I(7,8,2.5,9,8,2.5,9,7,4,7,7,4,7,6,2,2)],[R(11,16,4,8,3,0,0,null,null,null,null,null,"cobblestone"),I(9,7,4,9,8,2.5,9,16,6,9,15,7.55,7,6,2,10)],[R(5,16,12,8,3,0,0,null,null,null,null,null,"cobblestone"),I(7,8,2.5,7,7,4,7,15,7.55,7,16,6,7,6,2,10)]]},buttonPushed:{verts:[[R(5,6,15,6,1,5,6)],[R(5,10,16,6,1,5,6)],[R(11,10,16,6,4,5,6)],[R(5,10,15,6,4,5,6)],[R(11,10,15,1,4,5,6)],[R(5,10,16,1,4,5,6)]],rotate:!0},repeater1:{verts:O(),rotate:!0},repeater2:{verts:O(2),rotate:!0},repeater3:{verts:O(3),rotate:!0},repeater4:{verts:O(4),rotate:!0},repeaterOn1:{verts:O(1,!0),rotate:!0},repeaterOn2:{verts:O(2,!0),rotate:!0},repeaterOn3:{verts:O(3,!0),rotate:!0},repeaterOn4:{verts:O(4,!0),rotate:!0},pistonOpen:{verts:[[R(0,0,0,16,16,0,0)],[R(0,12,16,16,16,0,0)],[R(16,12,16,16,12,0,4)],[R(0,12,0,16,12,0,4)],[R(16,12,0,16,12,0,4)],[R(0,12,16,16,12,0,4)]]},pistonOpenFlipped:{verts:[[R(0,4,0,16,16,0,0,!1,!0)],[R(0,16,16,16,16,0,0,!1,!0)],[R(16,16,16,16,12,0,4,!1,!0)],[R(0,16,0,16,12,0,4,!1,!0)],[R(16,16,0,16,12,0,4,!1,!0)],[R(0,16,16,16,12,0,4,!1,!0)]]},pistonOpenSW:{verts:[[R(0,0,4,16,12,0,4)],[R(0,16,16,16,12,0,4,!1,!1,2)],[R(16,16,16,16,16,0,0)],[R(0,16,4,16,16,0,0)],[R(16,16,4,12,16,0,4,!1,!1,1)],[R(0,16,16,12,16,0,4,!1,!1,-1)]],rotate:!0},pistonHead:{verts:[[R(0,12,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,4,0,0),R(10,12,10,4,12,6,4),R(10,0,10,4,4,6,9)],[R(0,16,0,16,4,0,0),R(6,12,6,4,12,6,4),R(6,0,6,4,4,6,9)],[R(16,16,0,16,4,0,0),R(10,12,6,4,12,6,4),R(10,0,6,4,4,6,9)],[R(0,16,16,16,4,0,0),R(6,12,10,4,12,6,4),R(6,0,10,4,4,6,9)]]},pistonHeadFlipped:{verts:[[R(0,0,0,16,16,0,0)],[R(0,4,16,16,16,0,0)],[R(16,4,16,16,4,0,0),R(10,20,10,4,12,6,4),R(10,8,10,4,4,6,9)],[R(0,4,0,16,4,0,0),R(6,20,6,4,12,6,4),R(6,8,6,4,4,6,9)],[R(16,4,0,16,4,0,0),R(10,20,6,4,12,6,4),R(10,8,6,4,4,6,9)],[R(0,4,16,16,4,0,0),R(6,20,10,4,12,6,4),R(6,8,10,4,4,6,9)]]},pistonHeadSW:{verts:[[R(0,0,0,16,4,0,0),R(6,6,4,4,12,6,4),R(6,6,16,4,4,6,9)],[R(0,16,4,16,4,0,0),R(6,10,16,4,12,6,4,!1,!0),R(6,10,20,4,4,6,9,!1,!0)],[R(16,16,4,16,16,0,0)],[R(0,16,0,16,16,0,0)],[R(16,16,0,4,16,0,0,!1,!1,!0),R(10,10,4,12,4,6,4,!1,!1,1),R(10,10,16,4,4,6,9,!1,!1,1)],[R(0,16,4,4,16,0,0,!1,!1,!0),R(6,10,16,12,4,6,4,!1,!1,-1),R(6,10,20,4,4,6,9,!1,!1,-1)]],rotate:!0},pistonHeadCut:{verts:[[R(0,12,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,4,0,0),R(10,12,10,4,12,6,4)],[R(0,16,0,16,4,0,0),R(6,12,6,4,12,6,4)],[R(16,16,0,16,4,0,0),R(10,12,6,4,12,6,4)],[R(0,16,16,16,4,0,0),R(6,12,10,4,12,6,4)]]},pistonHeadCutFlipped:{verts:[[R(0,0,0,16,16,0,0)],[R(0,4,16,16,16,0,0)],[R(16,4,16,16,4,0,0),R(10,16,10,4,12,6,4)],[R(0,4,0,16,4,0,0),R(6,16,6,4,12,6,4)],[R(16,4,0,16,4,0,0),R(10,16,6,4,12,6,4)],[R(0,4,16,16,4,0,0),R(6,16,10,4,12,6,4)]]},pistonHeadCutSW:{verts:[[R(0,0,0,16,4,0,0),R(6,6,4,4,12,6,4)],[R(0,16,4,16,4,0,0),R(6,10,16,4,12,6,4,!1,!0)],[R(16,16,4,16,16,0,0)],[R(0,16,0,16,16,0,0)],[R(16,16,0,4,16,0,0,!1,!1,!0),R(10,10,4,12,4,6,4,!1,!1,1)],[R(0,16,4,4,16,0,0,!1,!1,!0),R(6,10,16,12,4,6,4,!1,!1,-1)]],rotate:!0},slimeBlock:{verts:[[R(0,0,0,16,16,0,0),R(3,3,3,10,10,3,3)],[R(0,16,16,16,16,0,0),R(3,13,13,10,10,3,3)],[R(16,16,16,16,16,0,0),R(13,13,13,10,10,3,3)],[R(0,16,0,16,16,0,0),R(3,13,3,10,10,3,3)],[R(16,16,0,16,16,0,0),R(13,13,3,10,10,3,3)],[R(0,16,16,16,16,0,0),R(3,13,13,10,10,3,3)]]},honeyBlock:{verts:[[R(0,0,0,16,16,0,0),R(1,1,1,14,14,1,1)],[R(0,16,16,16,16,0,0),R(1,15,15,14,14,-31,1)],[R(16,16,16,16,16,0,0),R(15,15,15,14,14,-15,1)],[R(0,16,0,16,16,0,0),R(1,15,1,14,14,-15,1)],[R(16,16,0,16,16,0,0),R(15,15,1,14,14,-15,1)],[R(0,16,16,16,16,0,0),R(1,15,15,14,14,-15,1)]]},stairCornerOut:{verts:[[R(0,0,0,16,16,0,0)],[R(0,8,16,16,16,0,0),R(0,16,16,8,8,0,0)],[R(8,16,16,8,8,0,0),R(16,8,16,16,8,0,0)],[R(0,8,0,16,8,0,0),R(0,16,8,8,8,0,0)],[R(16,8,0,16,8,0,0),R(8,16,8,8,16,0,0)],[R(0,8,8,8,8,0,0),R(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerIn:{verts:[[R(0,0,0,16,16,0,0)],[R(8,8,8,8,8,0,0),R(0,16,16,16,8,0,0),R(0,16,8,8,8,0,0)],[R(16,16,16,16,16,0,0)],[R(8,16,8,8,8,0,0),R(0,16,0,8,8,0,0),R(0,8,0,16,8,0,0)],[R(8,16,0,8,8,0,0),R(16,16,8,8,8,0,0),R(16,8,0,16,8,0,0)],[R(0,16,16,16,16,0,0)]],flip:!0,rotate:!0},endPortal:{verts:[[R(0,8,0,16,16,0,0)],[R(0,8,16,16,16,0,0)],[],[],[],[]]},smallDripleaf:{verts:[[R(8,21,8,7,7,48,0,!1,!1,-1),R(1,26,1,7,7,48,0,!1,!1,1),R(1,30,8,7,7,48,0,!1,!1,2)],[R(8,21,15,7,7,48,0,!0,!1,-1),R(1,26,8,7,7,48,0,!0,!1,1),R(1,30,15,7,7,48,0,!0)],[R(15,21,15,7,1,32,0),R(8,26,8,7,1,32,0),R(8,30,15,7,1,32,0),I(2,16,2,14,16,14,14,0,14,2,0,2,0,0),I(2,32,2,14,32,14,14,16,14,2,16,2,16,0)],[R(8,21,8,7,1,32,0),R(1,26,1,7,1,32,0),R(1,30,8,7,1,32,0),I(14,16,2,2,16,14,2,0,14,14,0,2,0,0),I(14,32,2,2,32,14,2,16,14,14,16,2,16,0)],[R(15,21,8,7,1,32,0),R(8,26,1,7,1,32,0),R(8,30,8,7,1,32,0),I(14,16,14,2,16,2,2,0,2,14,0,14,0,0),I(14,32,14,2,32,2,2,16,2,14,16,14,16,0)],[R(8,21,15,7,1,32,0),R(1,26,8,7,1,32,0),R(1,30,15,7,1,32,0),I(2,16,14,14,16,2,14,0,2,2,0,14,0,0),I(2,32,14,14,32,2,14,16,2,2,16,14,16,0)]],rotate:!0,hitbox:"tallCube"},bigDripleaf:{verts:[[R(0,15,0,16,16,32,0)],[R(0,15,16,16,16,32,0,!1,!0)],[R(16,15,0,16,4,48,0),I(2,15,2,14,15,14,14,0,14,2,0,2,0,0)],[R(0,15,0,16,4,48,0),I(14,15,2,2,15,14,2,0,14,14,0,2,0,0)],[R(0,15,0,16,4,16,0,!0),R(16,15,0,16,4,16,0),I(14,15,14,2,15,2,2,0,2,14,0,14,0,0)],[R(0,15,16,16,4,16,0),R(16,15,16,16,4,16,0),I(2,15,14,14,15,2,14,0,2,2,0,14,0,0)]],rotate:!0,hitbox:"cube"},logicGate:{verts:[[R(0,0,0,16,16,0,0)],[R(0,2,16,16,16,0,0)],[R(16,2,16,16,2,0,2)],[R(0,2,0,16,2,0,2)],[R(16,2,0,16,2,0,14)],[R(0,2,16,16,2,0,14)]],rotate:!0},sign:{verts:[[R(-4,14,7,16,2,0,0),R(7,0,7,2,2,7,7,!1,!1,null,null,null,"poleTop"),R(12,14,7,8,2,0,0)],[R(-4,26,9,16,2,0,0),R(12,26,9,8,2,0,0)],[R(20,26,9,16,12,0,0),R(9,14,9,2,14,0,0,!1,!1,null,null,null,"poleSide"),R(4,26,9,8,12,0,0)],[R(-4,26,7,16,12,0,0),R(7,14,7,2,14,0,0,!1,!1,null,null,null,"poleSide"),R(12,26,7,8,12,0,0)],[R(20,26,7,2,12,0,0),R(9,14,7,2,14,0,0,!1,!1,null,null,null,"poleSide")],[R(-4,26,9,2,12,0,0),R(7,14,9,2,14,0,0,!1,!1,null,null,null,"poleSide")]]},wallSign:{verts:[[R(-4,6,16.7,16,2,0,0),R(12,6,16.7,8,2,0,0)],[R(-4,18,18.7,16,2,0,0),R(12,18,18.7,8,2,0,0)],[R(20,18,18.7,16,12,0,0),R(4,18,18.7,8,12,0,0)],[R(-4,18,16.7,16,12,0,0),R(12,18,16.7,8,12,0,0)],[R(20,18,16.7,2,12,0,0)],[R(-4,18,18.7,2,12,0,0)]]},composter:{verts:[[R(0,0,0,16,16,16,0)],[R(0,2,16,16,16,16,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter2:{verts:[[R(0,0,0,16,16,16,0)],[R(0,4,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter3:{verts:[[R(0,0,0,16,16,16,0)],[R(0,6,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter4:{verts:[[R(0,0,0,16,16,16,0)],[R(0,8,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter5:{verts:[[R(0,0,0,16,16,16,0)],[R(0,10,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter6:{verts:[[R(0,0,0,16,16,16,0)],[R(0,12,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter7:{verts:[[R(0,0,0,16,16,16,0)],[R(0,14,16,16,16,0,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},composter8:{verts:[[R(0,0,0,16,16,16,0)],[R(0,15,16,16,16,32,0),R(0,16,16,14,2,66,0),R(14,16,16,2,14,64,0),R(2,16,2,14,2,64,14),R(0,16,14,2,14,78,2)],[R(16,16,16,16,16,48,0),R(16,16,2,16,16,48,0)],[R(0,16,0,16,16,48,0),R(0,16,14,16,16,48,0)],[R(16,16,0,16,16,48,0),R(2,16,0,16,16,48,0)],[R(0,16,16,16,16,48,0),R(14,16,16,16,16,48,0)]]},cocoaStage0:{verts:[[R(6,7,11,4,4,0,0)],[R(6,12,15,4,4,0,0)],[R(10,12,15,4,5,11,4)],[R(6,12,11,4,5,11,4)],[R(10,12,11,4,5,11,4),R(8,16,12,4,4,12,0,!0)],[R(6,12,15,4,5,11,4),R(8,16,16,4,4,12,0)]],rotate:!0},cocoaStage1:{verts:[[R(5,5,9,6,6,0,0)],[R(5,12,15,6,6,0,0)],[R(11,12,15,6,7,9,4)],[R(5,12,9,6,7,9,4)],[R(11,12,9,6,7,9,4),R(8,16,12,4,4,12,0,!0)],[R(5,12,15,6,7,9,4),R(8,16,16,4,4,12,0)]],rotate:!0},cocoaStage2:{verts:[[R(4,3,7,8,8,0,0)],[R(4,12,15,8,8,0,0)],[R(12,12,15,8,9,8,4)],[R(4,12,7,8,9,8,4)],[R(12,12,7,8,9,8,4),R(8,16,12,4,4,12,0,!0)],[R(4,12,15,8,9,8,4),R(8,16,16,4,4,12,0)]],rotate:!0},chair:{verts:[[R(3,6,0,10,16,0,0),R(3,0,14,2,2,0,0),R(11,0,14,2,2,0,0),R(3,0,0,2,2,0,0),R(11,0,0,2,2,0,0)],[R(3,8,16,10,16,0,0),R(3,24,16,10,2,0,0)],[R(13,8,16,10,2,0,0),R(5,6,16,2,6,0,0),R(13,6,16,2,6,0,0),R(5,6,2,2,6,0,0),R(13,6,2,2,6,0,0),R(13,24,16,10,16,0,0)],[R(3,8,0,10,2,0,0),R(3,6,14,2,6,0,0),R(11,6,14,2,6,0,0),R(3,6,0,2,6,0,0),R(11,6,0,2,6,0,0),R(3,24,14,10,16,0,0)],[R(13,8,0,16,2,0,0),R(5,6,0,2,6,0,0),R(13,6,0,2,6,0,0),R(5,6,14,2,6,0,0),R(13,6,14,2,6,0,0),R(13,24,14,2,16,0,0)],[R(3,8,16,16,2,0,0),R(3,6,2,2,6,0,0),R(3,6,16,2,6,0,0),R(11,6,2,2,6,0,0),R(11,6,16,2,6,0,0),R(3,24,16,2,16,0,0)]],rotate:!0},arrow:{verts:[[R(5.5,8,0,5,16,0,0,!1,!1,!0)],[R(5.5,8,16,5,16,0,0,!1,!0,!0)],[],[R(5.5,10.5,1,5,5,0,5)],[R(8,10.5,0,16,5,0,0,!0)],[R(8,10.5,16,16,5,0,0)]]},spyglass:{verts:[[R(6.9,2.4,6.9,2.2,2.2,0,0,!1,!1,!1,2,2)],[R(6.9,8.6,9.1,2.2,2.2,0,5,!1,!1,!1,2,2),R(7,13.5,9,2,2,0,13)],[R(9.1,8.6,9.1,2.2,6.2,0,7,!1,!1,!1,2,6),R(9,13.5,9,2,5,0,2)],[R(6.9,8.6,6.9,2.2,6.2,0,7,!1,!1,!1,2,6),R(7,13.5,7,2,5,0,2)],[R(9.1,8.6,6.9,2.2,6.2,0,7,!1,!1,!1,2,6),R(9,13.5,7,2,5,0,2)],[R(6.9,8.6,9.1,2.2,6.2,0,7,!1,!1,!1,2,6),R(7,13.5,9,2,5,0,2)]]},hopper:{verts:[[R(0,10,0,16,16,-16,0),R(4,4,4,8,8,-12,4),R(6,0,6,4,4,-10,6)],[R(0,16,16,13,3,19,0),R(0,10,16,16,16,-16,0),R(3,16,3,13,3,16,13),R(0,16,13,3,13,29,3),R(13,16,16,3,13,16,0)],[R(16,16,16,16,6,0,0),R(12,10,12,8,6,4,6),R(10,4,10,4,4,6,12),R(13,16,3,10,6,3,0)],[R(0,16,0,16,6,0,0),R(4,10,4,8,6,4,6),R(6,4,6,4,4,6,12),R(3,16,13,10,6,3,0)],[R(16,16,0,16,6,0,0),R(12,10,4,8,6,4,6),R(10,4,6,4,4,6,12),R(3,16,3,10,6,3,0)],[R(0,16,16,16,6,0,0),R(4,10,12,8,6,4,6),R(6,4,10,4,4,6,12),R(13,16,13,10,6,3,0)]]},hopperWall:{verts:[[R(0,10,0,16,16,-16,0),R(4,4,4,8,8,-12,4),R(6,4,12,4,4,-10,6)],[R(0,16,16,13,3,19,0),R(0,10,16,16,16,-16,0),R(3,16,3,13,3,16,13),R(0,16,13,3,13,29,3),R(13,16,16,3,13,16,0),R(6,8,16,4,4,6,12)],[R(16,16,16,16,6,0,0),R(12,10,12,8,6,4,6),R(13,16,3,10,6,3,0),R(10,8,16,4,4,6,12)],[R(0,16,0,16,6,0,0),R(4,10,4,8,6,4,6),R(3,16,13,10,6,3,0)],[R(16,16,0,16,6,0,0),R(12,10,4,8,6,4,6),R(10,8,12,4,4,6,12),R(3,16,3,10,6,3,0)],[R(0,16,16,16,6,0,0),R(4,10,12,8,6,4,6),R(6,8,16,4,4,6,12),R(13,16,13,10,6,3,0)]],rotate:!0},comparator:{verts:G(),rotate:!0},comparatorOn:{verts:G(!1,!0),rotate:!0},comparatorSubtract:{verts:G(!0),rotate:!0},comparatorSubtractOn:{verts:G(!0,!0),rotate:!0},daylightDetector:{verts:[[R(0,0,0,16,16,0,0)],[R(0,6,16,16,16,0,0)],[R(16,6,16,16,6,0,0)],[R(0,6,0,16,6,0,0)],[R(16,6,0,16,6,0,0)],[R(0,6,16,16,6,0,0)]]},pitcherPlant:{verts:[[],[],[I(2,11,2,14,11,14,14,-5,14,2,-5,2,0,0,16,16,"pitcherCropBottomStage4"),I(2,29,2,14,29,14,14,11,14,2,11,2,0,0,16,16,"pitcherCropTopStage4")],[I(14,11,2,2,11,14,2,-5,14,14,-5,2,0,0,16,16,"pitcherCropBottomStage4"),I(14,29,2,2,29,14,2,11,14,14,11,2,0,0,16,16,"pitcherCropTopStage4")],[I(14,11,14,2,11,2,2,-5,2,14,-5,14,0,0,16,16,"pitcherCropBottomStage4"),I(14,29,14,2,29,2,2,11,2,14,11,14,0,0,16,16,"pitcherCropTopStage4")],[I(2,11,14,14,11,2,14,-5,2,2,-5,14,0,0,16,16,"pitcherCropBottomStage4"),I(2,29,14,14,29,2,14,11,2,2,11,14,0,0,16,16,"pitcherCropTopStage4")]]},pitcherCropStage0:{verts:[[R(5,0,5,6,6,5,5,null,null,null,null,null,"pitcherCropBottom")],[R(5,4,11,6,6,5,5,null,null,null,null,null,"pitcherCropTop")],[R(11,4,11,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[R(5,4,5,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[R(11,4,5,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[R(5,4,11,6,4,3,10,null,null,null,null,null,"pitcherCropSide")]],hitbox:"slab"},pitcherCropStage1:{verts:[[R(3,0,3,10,10,3,3,null,null,null,null,null,"pitcherCropBottom")],[R(3,6,13,10,10,3,3,null,null,null,null,null,"pitcherCropTop")],[R(13,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(2,22,2,14,22,14,14,6,14,2,6,2,0,0)],[R(3,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(14,22,2,2,22,14,2,6,14,14,6,2,0,0)],[R(13,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(14,22,14,2,22,2,2,6,2,14,6,14,0,0)],[R(3,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(2,22,14,14,22,2,14,6,2,2,6,14,0,0)]],hitbox:"cube"},pitcherCropStage3:{verts:[[R(3,0,3,10,10,3,3,null,null,null,null,null,"pitcherCropBottom")],[R(3,6,13,10,10,3,3,null,null,null,null,null,"pitcherCropTop")],[R(13,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(2,17,2,14,17,14,14,1,14,2,1,2,0,0),I(2,33,2,14,33,14,14,17,14,2,17,2,16,0)],[R(3,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(14,17,2,2,17,14,2,1,14,14,1,2,0,0),I(14,33,2,2,33,14,2,17,14,14,17,2,16,0)],[R(13,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(14,17,14,2,17,2,2,1,2,14,1,14,0,0),I(14,33,14,2,33,2,2,17,2,14,17,14,16,0)],[R(3,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),I(2,17,14,14,17,2,14,1,2,2,1,14,0,0),I(2,33,14,14,33,2,14,17,2,2,17,14,16,0)]],hitbox:"tallCube"},flat:{verts:[[R(0,.25,0,16,16,0,0,!1,!0)],[R(0,.25,16,16,16,0,0)],[],[],[],[]],hitbox:"carpet"},flowerbed1:{verts:W(W(W([[R(8,3,8,8,8,0,0,!1,!0)],[R(8,3,16,8,8,0,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),cull:{top:0,bottom:0,north:0,south:0,east:0,west:0},hitbox:"layer2"},flowerbed2:{verts:W(W(W([[R(8,3,0,8,16,0,0,!1,!0)],[R(8,3,8,16,16,0,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),cull:{top:0,bottom:0,north:0,south:0,east:0,west:0},hitbox:"layer2"},flowerbed3:{verts:W(W(W(W(W(W([[R(8,3,0,8,16,0,0,!1,!0),R(0,2,0,8,8,8,8,!1,!0)],[R(8,3,16,8,16,0,0),R(0,2,8,8,8,8,8)],[],[],[],[]],11,14,3),14,10,3),9,9,3),6,6,2),3.5,1.5,2),1,5,2),cull:{top:0,bottom:0,north:0,south:0,east:0,west:0},hitbox:"layer2"},flowerbed4:{verts:W(W(W(W(W(W([[R(8,3,0,8,16,0,0,!1,!0),R(0,2,0,8,16,8,0,!1,!0)],[R(8,3,16,8,16,0,0),R(0,2,16,8,16,8,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),6,6,2),3.5,1.5,2),1,5,2),cull:{top:0,bottom:0,north:0,south:0,east:0,west:0},hitbox:"layer2"},fern:{verts:[[],[],[I(16,10,0,0,10,0,0,0,8,16,0,8,0,0),I(0,10,0,16,10,0,16,0,8,0,0,8,16,0,-16)],[I(0,10,16,16,10,16,16,0,8,0,0,8,0,0),I(16,10,16,0,10,16,0,0,8,16,0,8,16,0,-16)],[I(0,10,0,0,10,16,8,0,16,8,0,0,0,0),I(0,10,16,0,10,0,8,0,0,8,0,16,16,0,-16)],[I(16,10,16,16,10,0,8,0,0,8,0,16,0,0),I(16,10,0,16,10,16,8,0,16,8,0,0,16,0,-16)]],cull:{top:0,bottom:0,north:0,south:0,east:0,west:0},hitbox:"cube"},ceilingPanel:{verts:[[R(0,13,0,16,16,0,0)],[R(0,16,16,16,16,0,0)],[R(16,16,16,16,3,0,0)],[R(0,16,0,16,3,0,0)],[R(16,16,0,16,3,0,0)],[R(0,16,16,16,3,0,0)]],cull:{top:0,bottom:3,north:3,south:3,east:3,west:3},rotate:!0},item:{verts:M()},tallCube:{verts:[[R(0,0,0,16,16,0,0)],[R(0,32,16,16,16,0,0)],[R(16,32,16,16,32,0,0)],[R(0,32,0,16,32,0,0)],[R(16,32,0,16,32,0,0)],[R(0,32,16,16,32,0,0)]]}};win.serverShapes=F;for(var shape=0;shape<8;shape++)F["layer"+(shape+1)]={verts:D(2*(shape+1))},F["liquidLayer"+(shape+1)]={verts:A(2*(shape+1))};function E(e,t){let a=1e3,s=-1e3,o=1e3,i=-1e3,r=1e3,n=-1e3,l=0;for(let t=0;t<e.length;t+=3)l=e[t],a=a>l?l:a,s=s<l?l:s,l=e[t+1],o=o>l?l:o,i=i<l?l:i,l=e[t+2],r=r>l?l:r,n=n<l?l:n;return t[0]=a,t[1]=o,t[2]=r,t[3]=s,t[4]=i,t[5]=n,t}function q(e,t){for(let a=0;a<e.length;a++)t[a]=e[a]}const{DoubleToIEEE:U,IEEEToDouble:H}=function(){let e=new ArrayBuffer(8),t=new Uint32Array(e),a=new Float64Array(e);return{DoubleToIEEE:e=>(a[0]=e,t),IEEEToDouble:(e,s)=>(t[0]=e,t[1]=s,a[0])}}(),_=new TextEncoder,j=new TextDecoder;class Y{constructor(){this.bitLength=0,this.data=[]}add(e,t){if(+e!=+e||+t!=+t||+t<0)throw new Error("Broken");if(e&=-1>>>32-t,Math.log2(e)>=t)throw new Error("too big");let a=this.bitLength>>>3,s=8-(7&this.bitLength);for(this.bitLength+=t;t>0;)this.data[a]|=s>=t?e<<s-t:e>>>t-s,t-=s,a++,s=8;return this}addDouble(e){let[t,a]=U(e);this.add(t,32),this.add(a,32)}addString(e,t=8){if(!e.length)return this.add(0,t);let a=_.encode(e),s=a.length;this.add(s,t),this.appendArray(a.subarray(0,s))}append(e){if(0==(7&this.bitLength))return this.data.push(...e.data),void(this.bitLength+=e.bitLength);let t=e.bitLength,a=0;for(;t>7;)this.add(e.data[a++],8),t-=8;t&&this.add(e.data[a]>>>8-t,t)}appendArray(e){if(0==(7&this.bitLength))return this.data.push(...e),void(this.bitLength+=8*e.length);for(let t of e)this.add(t,8)}appendInt16Array(e){for(let t of e)this.add(t,16)}get array(){return new Uint8Array(this.data)}static bits(e){return Math.ceil(Math.log2(e))}}win.BitArrayBuilder=Y;class V{constructor(e,t){this.data=e,this.bit=0,this.allowPassLength=t}read(e,t=!1){let a=32-e,{data:s,bit:o}=this;if(this.bit+=e,o>8*s.length&&!this.allowPassLength)throw new Error("Cannot read more bits");let i=8-(7&o),r=o>>>3,n=0;for(;e>0;){let t=s[r]&-1>>>32-i;n|=e>=i?t<<e-i:t>>i-e,e-=i,i=8,r++}return t?n<<a>>a:n}readDouble(){return H(this.read(32),this.read(32))}readString(e=8){let t=this.read(e);if(!t)return"";let a=new Uint8Array(t);for(let e=0;e<t;e++)a[e]=this.read(8);return j.decode(a)}readToNew(e,t){let a=new Uint8Array(ceil(e/8)),s=0;for(;e;){let t=min(e,8);e-=t,a[s]=this.read(t)<<8-t,s++}return new V(a,t)}readToArrayBits(e){let t=new Uint8Array(ceil(e/8)),a=0;for(;e;){let s=min(e,8);e-=s,t[a]=this.read(s)<<8-s,a++}return t}readToArray(e){let t=new Uint8Array(e);for(let a=0;a<e;a++)t[a]=this.read(8);return t}readToInt16Array(e){let t=new Uint8Array(e);for(let a=0;a<e;a++)t[a]=this.read(16,!0);return t}skip(e){if(this.bit>8*this.data.length&&!this.allowPassLength)throw new Error("Cannot read more bits");this.bits+=e}}function X(){function e(e,t){if(e.custom)return function(e){let{x:t,y:a,z:s,x2:o,y2:i,z2:r,x3:n,y3:l,z3:h,x4:d,y4:c,z4:p,tx:u,ty:m,tw:g,th:k}=e,y=[u+g,m,u,m,u,m+k,u+g,m+k],b=[t,a,s,o,i,r,n,l,h,d,c,p];b=b.map((e=>e/16-.5));let w=E(b,[]);b.max=w.splice(3,3),b.min=w,y=y.map((e=>e/16/16)),_t.set(o-t,i-a,r-s),_t.crossProduct(n-t,l-a,h-s,Yt),jt.set(n-t,l-a,h-s),jt.crossProduct(d-t,c-a,p-s,Vt),Yt.normalize(),Vt.normalize();let f=[(Yt.x+Vt.x)/2,(Yt.y+Vt.y)/2,(Yt.z+Vt.z)/2];return{pos:b,tex:y,normal:f}}(e);let a=e.x,s=e.y,o=e.z,i=e.w,r=e.h,n=e.tx,l=e.ty,h=e.tw,d=e.th,c=[n+h,l,n,l,n,l+d,n+h,l+d];e.rt&&(-1===e.rt?(c[0]=n+d,c[5]=l+h,c[6]=n+d,c[7]=l+h,c.unshift(...c.splice(c.length-2,2))):2===e.rt?c.push(...c.splice(0,4)):(c[0]=n+d,c[5]=l+h,c[6]=n+d,c[7]=l+h,c.push(...c.splice(0,2)))),e.txf&&(c[0]=h-(c[0]-n)+n,c[2]=h-(c[2]-n)+n,c[4]=h-(c[4]-n)+n,c[6]=h-(c[6]-n)+n),e.tyf&&(c[1]=d-(c[1]-l)+l,c[3]=d-(c[3]-l)+l,c[5]=d-(c[5]-l)+l,c[7]=d-(c[7]-l)+l);let p=null,u=null;switch(t){case 0:p=[a,s,o,a+i,s,o,a+i,s,o+r,a,s,o+r],u=[0,1,0];break;case 1:p=[a,s,o,a+i,s,o,a+i,s,o-r,a,s,o-r],u=[0,-1,0];break;case 2:p=[a,s,o,a-i,s,o,a-i,s-r,o,a,s-r,o],u=[0,0,-1];break;case 3:p=[a,s,o,a+i,s,o,a+i,s-r,o,a,s-r,o],u=[0,0,1];break;case 4:p=[a,s,o,a,s,o+i,a,s-r,o+i,a,s-r,o],u=[-1,0,0];break;case 5:p=[a,s,o,a,s,o-i,a,s-r,o-i,a,s-r,o],u=[1,0,0]}p=p.map((e=>e/16-.5));let m=E(p,[]);return p.max=m.splice(3,3),p.min=m,c=c.map((e=>e/16/16)),{pos:p,tex:c,normal:u}}function t(e,t){let a=e.verts,s=e.texVerts,o=[],i=[];tex=[];for(let t=0;t<a.length;t++){let r=a[t];o[t]=[],tex[t]=[],i[t]=[];for(let a=0;a<r.length;a++){let n=r[a],l=[];o[t][a]=l;for(let e=0;e<n.length;e+=3)l[e]=n[e+2],l[e+1]=n[e+1],l[e+2]=-n[e];tex[t][a]=s[t][a].slice(),0===t&&(l.push(...l.splice(0,3)),tex[t][a].push(...tex[t][a].splice(0,2))),1===t&&(l.unshift(...l.splice(-3,3)),tex[t][a].unshift(...tex[t][a].splice(-2,2)));let h=E(l,[]);l.max=h.splice(3,3),l.min=h,i[t][a]=e.normal[t][a].slice();let d=i[t][a][0];i[t][a][0]=i[t][a][2],i[t][a][2]=-d}}let r=tex[2];return tex[2]=tex[5],tex[5]=tex[3],tex[3]=tex[4],tex[4]=r,r=o[2],o[2]=o[5],o[5]=o[3],o[3]=o[4],o[4]=r,r=i[2],i[2]=i[5],i[5]=i[3],i[3]=i[4],i[4]=r,{verts:o,texVerts:tex,normal:i,rotate:!0,flip:e.flip,size:e.size,varients:e.varients,bit:t,rotated:!0,rotateTimes:(e.rotateTimes||0)+1,originalVerts:e.originalVerts,hitbox:e.hitbox}}function a(e,t){let a=e.verts,s=e.texVerts,o=[],i=[];tex=[];for(let t=0;t<a.length;t++){let r=a[t];o[t]=[],tex[t]=[],i[t]=[];for(let a=0;a<r.length;a++){let n=r[a].slice().reverse(),l=[];o[t][a]=l;for(let e=0;e<n.length;e+=3)l[e]=n[e+2],l[e+1]=-n[e+1],l[e+2]=n[e];let h=E(l,[]);l.max=h.splice(3,3),l.min=h,tex[t][a]=s[t][a].slice(),i[t][a]=e.normal[t][a].slice(),i[t][a][1]=-i[t][a][1]}}let r=o[0];return o[0]=o[1],o[1]=r,r=tex[0],tex[0]=tex[1],tex[1]=r,r=i[0],i[0]=i[1],i[1]=r,{verts:o,texVerts:tex,normal:i,rotate:e.rotate,flip:e.flip,size:e.size,varients:e.varients,bit:t,originalVerts:e.originalVerts}}for(let s in F){win.sh=s;let o=F[s],i=o.verts;o.size=i[0].length+i[1].length+i[2].length+i[3].length+i[4].length+i[5].length,o.texVerts=[],o.varients=[],o.normal=[],"string"==typeof o.hitbox&&(o.hitbox=F[o.hitbox]),o.originalVerts=[];for(let e=0;e<i.length;e++)o.originalVerts[e]=i[e].slice();for(let t=0;t<i.length;t++){let a=i[t],s=[];o.texVerts.push(s);let r=o.normal[t]=[];for(let o=0;o<a.length;o++){let i=e(a[o],t);a[o]=i.pos,s.push(i.tex),r[o]=i.normal}}if(o.rotate){let e=o.varients,a=t(o,4096),s=t(a,2048),i=t(s,6144);e[0]=o,e[2]=s,e[4]=a,e[6]=i}if(o.flip){let e=o.varients;e[1]=a(o,1024),o.rotate&&(e[3]=a(e[2],3072),e[5]=a(e[4],5120),e[7]=a(e[6],7168))}}function s(e,t,a,s,o){a.textures=e,a.shape=t,a.shadow=!s||s.shadow,a.transparent=!!s&&s.transparent,a.solid=!s||s.solid,o&&(a.Name=o)}function o(e,t){if(e=e.slice(),t)for(var a=0;a<t;a++){let t=e[2];e[2]=e[5],e[5]=e[3],e[3]=e[4],e[4]=t}else{let t=e[2];e[2]=e[5],e[5]=e[3],e[3]=e[4],e[4]=t}return e}var i=function(e,t,a,s,o){var i=this.id|ue,r=this.id|J,n=null;switch(o.getBlock(e,t,a,s)){case i|Le:n=r|Le;break;case i|Re:n=r|Re;break;case i|Ie:n=r|Ie;break;case i|Me:n=r|Me}n&&o.setBlock(e,t,a,n,!1,!1,!1,!1,s)},r=function(e,t,a,s,o){let i=o.world;this.onclick(e,t,a,s,i)},n=function(e,t,a,s,o,i,r,n,l){var h,d,c=this.id|ue,p=this.id|J,m=null,g=e,k=t,y=a,b=o.getBlock(e,t,a,l);switch(b){case p|Le:case c|Le:y++,h="south";break;case p|Re:case c|Re:y--,h="north";break;case p|Ie:case c|Ie:g++,h="east";break;case p|Me:case c|Me:g--,h="west"}switch(b){case p|Le:m=c|Le,d=!0;break;case p|Re:m=c|Re,d=!0;break;case p|Ie:m=c|Ie,d=!0;break;case p|Me:m=c|Me,d=!0}d&&!o.getPower(e,t,a,l)&&(o.setPower(e,t,a,16,!1,l),o.spreadPower(e,t,a,16,l),o.setBlockPower(g,k,y,"strong",h,l),o.playSound(e,t,a,"click",1,.6),o.setTimeout((function(){o.setBlock(e,t,a,m,!1,!1,!1,!1,l),o.setPower(e,t,a,0,!1,l),o.unspreadPower(e,t,a,16,!1,l),o.setBlockPower(g,k,y,null,h,l),o.playSound(e,t,a,"click",1,.5)}),this.stone?20*u:30*u,e,t,a,l))},l=function(e,t,a,s,o,i,r){this.heavyWeighted||this.lightWeighted||r.getBlock(e,t,a,s)===this.id&&vt(e,t,a,s,r)&&r.setBlock(e,t,a,this.id|J,!1,!1,!1,!1,s)},h=function(e,t,a,s,o,i,r,n,l){if(o.getBlock(e,t,a,l)===(this.id|J)&&!o.getPower(e,t,a,l)){o.setPower(e,t,a,16,!1,l),o.spreadPower(e,t,a,16,l),o.setBlockPower(e,t-1,a,"strong","top",l),o.playSound(e,t,a,"click",1,.6);var h=this,d=setInterval((function(){vt(e,t,a,l,o)||(clearInterval(d),o.setTimeout((function(){o.setBlock(e,t,a,h.id,!1,!1,!1,!1,l),o.setPower(e,t,a,0,!1,l),o.unspreadPower(e,t,a,16,!1,l),o.setBlockPower(e,t-1,a,null,"top",l),o.playSound(e,t,a,"click",1,.5)}),20*u,e,t,a,l))}),2*u)}},d=function(e,t,a,s,o,i,r,n,l){this.onpowerupdate(e,t,a,null,null,null,null,l,o)},c=function(e,t,a,s,o,i,r){r.unspreadPower(e,t,a,16,!1,i),r.setBlockPower(e,t,a+1,null,"south",i),r.setBlockPower(e,t,a-1,null,"north",i),r.setBlockPower(e+1,t,a,null,"east",i),r.setBlockPower(e-1,t,a,null,"west",i)},p=function(e,t,a,s,o,i,r,n,l){var h=l.getBlock(e,t,a,n),d=0,c=0;switch(h){case this.id|Le:case this.id|J|Le:c++;break;case this.id|Re:case this.id|J|Re:c--;break;case this.id|Ie:case this.id|J|Ie:d++;break;case this.id|Me:case this.id|J|Me:d--}var p,m,g=this.shouldBeOn(e,t,a,n,d,c,l),k=!1,y=e,b=t,w=a;switch(h){case this.id|Le:p=this.id|J|Le,w++,m="south";break;case this.id|Re:p=this.id|J|Re,w--,m="north";break;case this.id|Ie:p=this.id|J|Ie,y++,m="east";break;case this.id|Me:p=this.id|J|Me,y--,m="west";break;case this.id|J|Le:k=!0,p=this.id|Le,w++,m="south";break;case this.id|J|Re:k=!0,p=this.id|Re,w--,m="north";break;case this.id|J|Ie:k=!0,p=this.id|Ie,y++,m="east";break;case this.id|J|Me:k=!0,p=this.id|Me,y--,m="west"}var f=l.getBlock(y,b,w,n);if(f&&"redstoneDust"===S[f].name?k&&15!==l.getPower(y,b,w,n)&&(l.setPower(y,b,w,15,!1,n),l.spreadPower(y,b,w,15,n)):f&&!S[f].transparent&&(k?l.setBlockPower(y,b,w,"strong",m,n):l.setBlockPower(y,b,w,null,m,n)),k!==g){l.setTimeout((function(){l.setBlock(e,t,a,p,!1,!1,!1,!1,n);var s=l.getBlock(y,b,w,n);g?s&&"redstoneDust"===S[s].name?(l.setPower(y,b,w,15,!1,n),l.spreadPower(y,b,w,15,n)):s&&!S[s].transparent&&l.setBlockPower(y,b,w,"strong",m,n):s&&"redstoneDust"===S[s].name?l.unspreadPower(y,b,w,15,!0,n):s&&!S[s].transparent&&l.setBlockPower(y,b,w,null,m,n)}),2*u,e,t,a,n)}},g=function(e,t,a,s,o){switch(o.getBlock(e,t,a,s)){case this.id|Le:case this.id|J|Le:return"north";case this.id|Re:case this.id|J|Re:return"south";case this.id|Ie:case this.id|J|Ie:return"east";case this.id|Me:case this.id|J|Me:return"west"}},k=function(e,t,a,s,o,i,r,n){var l,h=e,d=t,c=a;switch(n.getBlock(e,t,a,r)){case this.id|Le|J:l=!0;case this.id|Le:c++;break;case this.id|Re|J:l=!0;case this.id|Re:c--;break;case this.id|Ie|J:l=!0;case this.id|Ie:h++;break;case this.id|Me|J:l=!0;case this.id|Me:h--}return l&&h===s&&d===o&&c===i?15:0},y=function(e,t,a,s,o,i){var r=i.getBlock(e,t,a,s),n={sign:!0},l=round(-16*o.ry/Math.PId);(r&Q)===Q&&(l=4*round(l/4)),n.rot=l,i.setTags(e,t,a,n,!1,s)},b=function(e,t,a,s,o,i){if(!(o.getTagByName(e,t,a,"block",s)||0)&&i.holding)o.setTagByName(e,t,a,"block",i.holding,!1,s);else{var r=o.getTagByName(e,t,a,"rot",s)||0;++r>=8&&(r=0),o.setTagByName(e,t,a,"rot",r,!1,s)}};let w=function(e,t,a,s,o){var i,r=o.getBlock(e,t,a,s),n=(r&ee)!==ee,l=n?this.id|J:this.id|ee,h=n?this.id|ee:this.id|J;n?(l|Le)===r?i=h|Ie:(l|Ie)===r?i=h|Re:(l|Re)===r?i=h|Me:(l|Me)===r&&(i=h|Le):(l|Le)===r?i=h|Me:(l|Me)===r?i=h|Re:(l|Re)===r?i=h|Ie:(l|Ie)===r&&(i=h|Le),o.setBlock(e,t,a,i,!1,!1,!1,!1,s),kt(e,t,a,"ironDoor"===this.name?"iron_door":"wooden_door",!n,o)},f=function(e,t,a,s,o){let i;switch(o.getBlock(e,t,a,s)){case this.id|he|Le:i=this.id|de|Le;break;case this.id|he|Re:i=this.id|de|Re;break;case this.id|he|Ie:i=this.id|de|Ie;break;case this.id|he|Me:i=this.id|de|Me}o.setBlock(e,t,a,i,!1,!1,!1,!1,s),kt(e,t,a,"ironTrapdoor"===this.name?"iron_trapdoor":"wooden_trapdoor",!0,o)},B=function(e,t,a,s,o){let i;switch(o.getBlock(e,t,a,s)){case this.id|de|Le:i=this.id|he|Le;break;case this.id|de|Re:i=this.id|he|Re;break;case this.id|de|Ie:i=this.id|he|Ie;break;case this.id|de|Me:i=this.id|he|Me}o.setBlock(e,t,a,i,!1,!1,!1,!1,s),kt(e,t,a,"ironTrapdoor"===this.name?"iron_trapdoor":"wooden_trapdoor",!1,o)};const x={getLevel:function(e){switch(e){case this.id|Be:return 1;case this.id|Se:return 2;case this.id|ve:return 3;case this.id|xe:return 4;case this.id|Pe:return 5;case this.id|Te:return 6;case this.id|Ne:return 7;case this.id|Ce:case this.id:return 8;default:return 0}},getLevelBlock:function(e){switch(e){case 1:return this.id|Be;case 2:return this.id|Se;case 3:return this.id|ve;case 4:return this.id|xe;case 5:return this.id|Pe;case 6:return this.id|Te;case 7:return this.id|Ne;case 8:return this.id|Ce}},getLevelAt:function(e,t,a,s,o){var i=o.getBlock(e,t,a,s);return this.getLevel(i)},isThisHere:function(e,t,a,s,o){var i=o.getBlock(e,t,a,s);return i&&S[i].id===this.id},isThis:function(e){return e&&S[e].id===this.id},isSourceAt:function(e,t,a,s,o){return o.getBlock(e,t,a,s)===this.id},tryFlowTo:function(e,t,a,s,o,i,r=!1){let n=i.getBlock(e,t,a,s);const l=S[n];if(l.liquid){if(this.id===n)return!r;if(this.id===l.id)return!0}if(!n||l.liquidBreakable||l.liquid&&this.density>l.density)return i.setBlock(e,t,a,this.getLevelBlock(o),!1,!1,!1,!1,s),"drop"===l.liquidBreakable&&(i.addItems(e,t,a,s,0,0,0,n,!0),i.blockParticles(n,e,t,a,30,"break",s),i.blockSound(n,"dig",e,t,a)),!0},flow:function(e,t,a,s,o){let i=o.getBlock(e,t,a,s);if(!this.isThis(i))return;let r=i===this.id,n=this.getLevel(i),l=o.getBlock(e,t-1,a,s);if(r){let r=o.getBlock(e,t+1,a,s);if(S[r].liquid&&S[r].density>this.density)return o.setBlock(e,t,a,r,!1,!1,!1,!1,s),void o.setBlock(e,t+1,a,i,!1,!1,!1,!1,s)}else{if(this.canDuplicate&&(o.getBlock(e,t,a+1,s)===this.id)+(o.getBlock(e,t,a-1,s)===this.id)+(o.getBlock(e+1,t,a,s)===this.id)+(o.getBlock(e-1,t,a,s)===this.id)>=2&&(l||l===this.id))return o.setBlock(e,t,a,this.id,!1,!1,!1,!1,s);let i=n;if(this.isThisHere(e,t+1,a,s,o))i=8;else{let r=max(this.getLevelAt(e,t,a+1,s,o),this.getLevelAt(e,t,a-1,s,o),this.getLevelAt(e+1,t,a,s,o),this.getLevelAt(e-1,t,a,s,o));if(r=this.getLevelDifference(r,s),r!==i&&(i=r),i<=0)return o.setBlock(e,t,a,0,!1,!1,!1,!1,s)}n!==i&&(n=i,o.setBlock(e,t,a,this.getLevelBlock(n),!1,!1,!1,!1,s))}let h=this.getLevelDifference(n,s);!this.tryFlowTo(e,t-1,a,s,8,o,r)&&h>0&&(this.tryFlowTo(e,t,a+1,s,h,o),this.tryFlowTo(e,t,a-1,s,h,o),this.tryFlowTo(e+1,t,a,s,h,o),this.tryFlowTo(e-1,t,a,s,h,o))},current:{x:0,z:0,ang4:Math.sqrt(.5),ang8:Math.sqrt(5)},getCurrent:function(e,t,a,s,o,i,r){void 0===o&&(o=this.getLevelAt(e,t,a,s,r));let n=this.getLevelAt(e-1,t,a,s,r),l=this.getLevelAt(e+1,t,a,s,r),h=this.getLevelAt(e,t,a-1,s,r),d=this.getLevelAt(e,t,a+1,s,r),c=this.current;if(c.x=(l&&l<o)+(n>o)-(l>o)-(n&&n<o),c.z=(d&&d<o)+(h>o)-(d>o)-(h&&h<o),i)return c;let p=Math.sqrt(c.x*c.x+c.z*c.z);return c.x/=p,c.z/=p,c},isThisLocalHere:function(e,t,a,s,o,i,r){return S[i.call(r,e,t,a,i===getBlock?o:s)].id===this.id},trySpawnFlow:function(e,t,a,s,o,i,r,n=!1){let l=o.getBlock(e,t,a,s);if(S[l].liquid&&(l&Ae)===l)return!n;let h=this.onspawnflow&&this.onspawnflow(e,t,a,s,o);return!S[l].solid&&i>this.getLevel(l)&&(o.spawnBlock(e,t,a,this.getLevelBlock(i),s,!0),h||r.push(e,t,a,i)),!S[l].solid},spawnFlow:function(e,t,a,s,o){let i=[e,t,a,8];for(;i.length;){let[r,n,l,h]=i,d=this.getLevelDifference(h,s);if(d>0&&max(abs(r-e),abs(l-a))<16&&abs(n-t)<64){const h=r===e&&n===t&&l===a;this.trySpawnFlow(r,n-1,l,s,o,8,i,h)||(this.trySpawnFlow(r+1,n,l,s,o,d,i),this.trySpawnFlow(r-1,n,l,s,o,d,i),this.trySpawnFlow(r,n,l+1,s,o,d,i),this.trySpawnFlow(r,n,l-1,s,o,d,i))}i.splice(0,4)}}};for(let e=0;e<v;e++){let t=S[e];for(var P=0;P<t.textures.length;P++)if(semiTransTextures.includes(t.textures[P])){t.semiTrans=!0;break}if(t.item){t.spyglass?t.shape=F.spyglass:t.shape=F.item;continue}let u=t.drop||e,v=t.drop,W=Object.create(t),E=Object.create(t),U=Object.create(t),H=Object.create(t),_=Object.create(t),j=Object.create(t),Y=Object.create(t),V=Object.create(t),X=Object.create(t),Be=Object.create(t),Se=Object.create(t),ve=Object.create(t),xe=Object.create(t),Pe=Object.create(t),Te=Object.create(t),Ne=Object.create(t),Ce=Object.create(t),De=Object.create(t),Ae=Object.create(t),Oe=Object.create(t),Ge=Object.create(t),We=Object.create(t),Fe=Object.create(t),Ee=Object.create(t),qe=Object.create(t);if(t.shape=t.shapeName?F[t.shapeName]:F.cube,W.shape=F.slab,W.transparent=!0,W.drop=v||e|J,W.Name+=" Slab",E.shape=F.stair,E.transparent=!0,E.drop=v||e|Q,E.Name+=" Stair",U.shape=F.cross,U.drop=u,H.shape=F.tallCross,H.drop=u,_.shape=F.door,_.drop=u,j.shape=F.torch,j.drop=u,Y.shape=F.lantern,V.shape=F.lanternHang,X.shape=F.beacon,X.drop=u,Be.shape=F.cactus,Be.drop=u,Se.shape=F.pane,Se.drop=u,ve.shape=F.portal,Te.shape=F.wallFlat,Te.drop=u,xe.shape=F.trapdoor,xe.drop=u,Pe.shape=F.trapdoorOpen,Pe.drop=u,Ne.shape=F.fence,Ne.transparent=!0,Ne.drop=u,Ce.shape=F.wallpost,Ce.transparent=!0,Ce.drop=u,De.shape=F.button,De.drop=u,Ae.shape=F.chain,Ae.drop=u,Oe.shape=F.pot,Oe.drop=u,Ge.shape=F.potCross,Ge.drop=u,We.shape=F.carpet,We.shadow=!1,We.transparent=!0,We.drop=e,Fe.shape=F.stairCornerIn,Fe.transparent=!0,Fe.drop=v||e|Q,Ee.shape=F.stairCornerOut,Ee.transparent=!0,Ee.drop=v||e|Q,qe.shape=F.verticalSlab,qe.transparent=!0,qe.drop=v||e|fe,qe.Name+=" Vertical Slab",(t.torch||t.chain)&&(W.drop=e),t.door){var T="ironDoor"===t.name?emptyFunc:function(e,t,a,s,o){this.toggle(e,t,a,s,o)},N=function(e,t,a,s,o,i,r,n,l){!(!l.getRedstonePower(e,t,a,n)&&!l.getSurroundingBlockPower(e,t,a,n))!==((l.getBlock(e,t,a,n)&ee)!==ee)&&this.toggle(e,t,a,n,l)};t.toggle=w.bind(t),t.onclick=T.bind(t),t.onpowerupdate=N.bind(t),W.shape=F.door2,W.drop=e,W.Name="Inverted "+t.name}if(t.trapdoor){T="ironTrapdoor"===t.name?emptyFunc:function(e,t,a,s,o){this.toggle(e,t,a,s,o)},N=function(e,t,a,s,o,i,r,n,l){!(!l.getRedstonePower(e,t,a,n)&&!l.getSurroundingBlockPower(e,t,a,n))!==((l.getBlock(e,t,a,n)&he)!==he)&&this.toggle(e,t,a,n,l)};xe.toggle=f.bind(t),Pe.toggle=B.bind(t),xe.onclick=T.bind(xe),Pe.onclick=T.bind(Pe),xe.onpowerupdate=N.bind(xe),Pe.onpowerupdate=N.bind(Pe)}if(t.bed&&(t.shape=F.bed),t.rotate&&(t.shape=F.rotate),t.SW&&(t.shape=F.SW),t.cactus&&(Ge.shape=F.cactusPot),t.crop&&(t.shape=F.crop),t.tallCrop&&(t.shape=F.tallCrop),t.anvil&&(t.shape=F.anvil),t._1PixLower&&(t.shape=F._1PixLower,t.transparent=!0),t.torch&&(W.shape=F.wallTorch),t.sporeBlossom&&(t.shape=F.sporeBlossom),t.azalea){t.shape=F.azalea,Ge.shape=F.azaleaPot;P=t.potTex;Ge.textures=[P[0],P[0],P[1],P[1],P[1],P[1]]}if(t.sunflower&&(t.shape=F.sunflower),t.sideCross&&(t.shape=F.sideCross,W.shape=F.bottomCross),t.layers&&(j.shape=F.layer1,j.solid=!0,j.shadow=!1,j.dropAmount=1,W.shape=F.layer2,W.solid=!0,W.shadow=!1,W.dropAmount=2,E.shape=F.layer3,E.solid=!0,E.shadow=!1,E.dropAmount=3,U.shape=F.layer4,U.solid=!0,U.shadow=!1,U.dropAmount=4,H.shape=F.layer5,H.solid=!0,H.shadow=!1,H.dropAmount=5,Y.shape=F.layer6,Y.solid=!0,Y.shadow=!1,Y.dropAmount=6,V.shape=F.layer7,V.solid=!0,V.shadow=!1,V.dropAmount=7,_.shape=F.layer8,_.solid=!0,_.shadow=!1,_.dropAmount=8),t.liquid&&(Object.assign(t,x),t.shape=F.liquidLayer8,j.shape=F.liquidLayer1,j.ambientSound=t.flowSound,W.shape=F.liquidLayer2,W.ambientSound=t.flowSound,E.shape=F.liquidLayer3,E.ambientSound=t.flowSound,U.shape=F.liquidLayer4,U.ambientSound=t.flowSound,H.shape=F.liquidLayer5,H.ambientSound=t.flowSound,Y.shape=F.liquidLayer6,Y.ambientSound=t.flowSound,V.shape=F.liquidLayer7,V.ambientSound=t.flowSound,_.shape=F.liquidLayer8,_.ambientSound=t.flowSound),"grass"===t.name&&(U.shape=F.cube,U.textures=["dirt","grassTop","snowGrass","snowGrass","snowGrass","snowGrass"],U.solid=!0,U.transparent=!1,U.shadow=!0,U.biomeTintTop=!1,U.biomeTintNorth=!1,U.biomeTintSouth=!1,U.biomeTintEast=!1,U.biomeTintWest=!1,H.shape=F._1PixLower,H.textures=["dirt","dirtPathTop","dirtPathSide","dirtPathSide","dirtPathSide","dirtPathSide"],H.solid=!0,H.transparent=!0,H.cullFace="same",H.shadow=!0,H.biomeTintTop=!1,H.biomeTintNorth=!1,H.biomeTintSouth=!1,H.biomeTintEast=!1,H.biomeTintWest=!1),"podzol"===t.name&&(U.shape=F.cube,U.textures=["dirt","podzolTop","snowGrass","snowGrass","snowGrass","snowGrass"],U.solid=!0,U.transparent=!1,U.shadow=!0),"farmland"===t.name&&(W.textures=[],q(t.textures,W.textures),W.textures[1]="farmlandMoist",W.shape=F._1PixLower),t.mushroomBlock){var C=t.name,z="mushroomBlockInside";s(new Array(6).fill(z),F.cube,W),W.drop=e,s([z,C,z,z,z,z],F.cube,E),E.drop=e,s([z,z,C,C,C,C],F.cube,H),H.drop=e,s([z,C,C,z,z,z],F.rotate,_),_.drop=e,s([z,C,C,z,C,z],F.rotate,Se),Se.drop=e,s([z,z,C,z,C,z],F.rotate,ve),ve.drop=e,s([z,z,C,z,z,z],F.rotate,Te),Te.drop=e}if(t.cake&&(t.shape=F.cake),t.stonecutter&&(t.shape=F.stonecutter),t.itemFrame&&(t.shape=F.itemFrame,t.onclick=b,t.tagBits=null),"redstoneLamp"===t.name&&(s(new Array(6).fill("redstoneLampOn"),F.cube,W),W.lightLevel=15),"endPortalFrame"===t.name&&(t.shape=F.endPortalFrame,s(t.textures,F.endPortalFrameWithEyeOfEnder,W)),"furnace"===t.name){var L=t.textures.slice();L[3]="furnaceFrontOn",s(L,F.rotate,W),W.textures=L}if("jungleLeaves"===t.name&&(s(new Array(6).fill("floweringJungleLeaves"),F.cube,W,null,"Flowering Jungle Leaves"),W.transparent=!0),t.fire&&(t.shape=F.fire,W.shape=F.sideFire,E.shape=F.bottomFire),"endRod"===t.name&&(t.shape=F.endRod,W.shape=F.endRodSW),t.fenceGate&&(t.shape=F.fenceGate,t.transparent=!0,W.shape=F.fenceGateWall,E.shape=F.fenceGateOpen,_.shape=F.fenceGateWallOpen,_.transparent=!0,t.onclick=function(e,t,a,s){var o,i=world.getBlock(e,t,a,s),r=this.id;let n=!1;switch(i){case r|Z|Le:o=r|Q|Le,n=!0;break;case r|Z|Re:o=r|Q|Re,n=!0;break;case r|Z|Ie:o=r|Q|Ie,n=!0;break;case r|Z|Me:o=r|Q|Me,n=!0;break;case r|J|Le:o=r|ee|Le,n=!0;break;case r|J|Re:o=r|ee|Re,n=!0;break;case r|J|Ie:o=r|ee|Ie,n=!0;break;case r|J|Me:o=r|ee|Me,n=!0;break;case r|Q|Le:o=r|Z|Le;break;case r|Q|Re:o=r|Z|Re;break;case r|Q|Ie:o=r|Z|Ie;break;case r|Q|Me:o=r|Z|Me;break;case r|ee|Le:o=r|J|Le;break;case r|ee|Re:o=r|J|Re;break;case r|ee|Ie:o=r|J|Ie;break;case r|ee|Me:o=r|J|Me}world.setBlock(e,t,a,o,!1,!1,!1,!1,s),kt(e,t,a,"fence_gate",n,world)}.bind({id:t.id})),t.barrel&&(s(t.texturesSW,F.rotate,W,null,t.Name),s(t.texturesDown,F.cube,E,null,t.Name),s(t.texturesOpen,F.cube,U,null,t.Name),s(t.texturesSWOpen,F.rotate,_,null,t.Name),s(t.texturesDownOpen,F.cube,H,null,t.Name)),t.chain&&(W.shape=F.chainSW,W.textures=W.textures.slice(),W.textures[4]=W.textures[5]="chainSW"),"beeNest"!==t.name&&"beehive"!==t.name||s(t.texturesHoney,F.rotate,W),"sponge"===t.name&&s(t.wetTexture,F.cube,W),t.campfire&&(t.shape=F.campfire,W.shape=F.campfireUnlit,W.transparent=t.transparent,W.shadow=t.shadow,W.lightLevel=0,W.damageUp=0),t.bamboo&&(t.shape=F.bamboo,s(t.textures,F.bambooSmallLeaf,W),W.shadow=!1,W.transparent=!0,s(t.textures,F.bambooBigLeaf,E),E.shadow=!1,E.transparent=!0,s(t.textures,F.bambooYoung,U),U.shadow=!1,U.transparent=!0,s(t.textures,F.bambooYoungLeaf,H),H.shadow=!1,H.transparent=!0,Ge.shape=F.bambooPot),t.chest&&(t.shape=F.chest),t.pressurePlate&&(t.shape=F.pressurePlate,t.transparent=!0,t.shadow=!1,t.solid=!1,t.activate=l,t.onupdate=h,s(t.textures,F.pressurePlateActive,W,t)),"tomatoPlant"===t.name&&(t.shape=F.cross,s(t.textures1,F.cross,W,t),s(t.textures2,F.cross,E,t),s(t.textures3,F.cross,U,t),s(t.textures4,F.cross,H,t),U.drop="tomato",U.dropAmount=[4,8],H.drop="tomato",H.dropAmount=[8,16]),"wheat"===t.name&&(s(t.textures1,F.crop,W,t),s(t.textures2,F.crop,E,t),s(t.textures3,F.crop,U,t),s(t.textures4,F.crop,H,t),s(t.textures5,F.crop,_,t),s(t.textures6,F.crop,j,t),s(t.textures7,F.crop,Y,t),Y.drop=t.fullDrop),"redstoneDust"===t.name){t.shape=F.redstoneDust,s(new Array(6).fill("redstoneDustLine"),F.redstoneDustRotate,W,t),s(new Array(6).fill("redstoneDustL"),F.redstoneDustRotate,E,t),s(new Array(6).fill("redstoneDustT"),F.redstoneDustRotate,_,t),s(new Array(6).fill("redstoneDust+"),F.redstoneDust,Se,t);let a=Object.create(t);s(new Array(6).fill("redstoneDustDot"),F.redstoneDust,a,t),a.tint=a.blueTint,S[e|ze]=a,a=Object.create(t),s(new Array(6).fill("redstoneDustLine"),F.redstoneDustRotate,a,t),a.tint=a.blueTint,S[e|J|ze]=a;let o=a.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let s=Object.create(a);s.shape=o[t],S[e|J|ze|o[t].bit]=s}a=Object.create(t),s(new Array(6).fill("redstoneDustL"),F.redstoneDustRotate,a,t),a.tint=a.blueTint,S[e|Q|ze]=a,o=a.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let s=Object.create(a);s.shape=o[t],S[e|Q|ze|o[t].bit]=s}a=Object.create(t),s(new Array(6).fill("redstoneDustT"),F.redstoneDustRotate,a,t),a.tint=a.blueTint,S[e|ee|ze]=a,o=a.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let s=Object.create(a);s.shape=o[t],S[e|ee|ze|o[t].bit]=s}a=Object.create(t),s(new Array(6).fill("redstoneDust+"),F.redstoneDust,a,t),a.tint=a.blueTint,S[e|re|ze]=a}if(t.redstoneTorch&&(t.shape=F.redstoneTorch,s(t.textures,F.redstoneWallTorch,W,t),s(t.textures,F.torch,U,t),U.lightLevel=0,U.textures=new Array(6).fill("redstoneTorchOff"),s(t.textures,F.wallTorch,E,t),E.lightLevel=0,E.textures=U.textures),t.lever&&(t.shape=F.leverWall,s(t.textures,F.leverWallOn,W,t),s(t.textures,F.leverFloor,E,t),s(t.textures,F.leverFloorOn,U,t),s(t.textures,F.leverCeil,H,t),s(t.textures,F.leverCeilOn,_,t)),t.button&&(s(t.textures,F.buttonPushed,W,t),t.onclick=i.bind(t),t.onupdate=n.bind(t),t.projectileHit=r.bind(t)),t.repeater&&(t.shape=F.repeater1,s(t.textures,F.repeater2,W,t),s(t.textures,F.repeater3,E,t),s(t.textures,F.repeater4,_,t),s(t.textures,F.repeaterOn1,Se,t),s(t.textures,F.repeaterOn2,ve,t),s(t.textures,F.repeaterOn3,Te,t),s(t.textures,F.repeaterOn4,Pe,t)),t.piston){var R=Object.create(t);R.transparent=!0;P=(G=t.textures.slice())[0];G[0]=G[1],G[1]=P;var I=Object.create(t);s(G,F.flipped,I,t),S[e|ze]=I;var M=F.SW;s(G=[(P=t.textures)[2],P[2],P[0],P[1],P[2],P[2]],M,W,t),P=t.textures[1];var D=t.headSideTexture,A=t.headBackTexture;s([A,P,D,D,D,D],F.pistonHead,E,R),I=Object.create(t),s([P,A,D,D,D,D],F.pistonHeadFlipped,I,R),S[e|Q|ze]=I,s([D,D,A,P,D,D],F.pistonHeadSW,_,R),s(E.textures,F.pistonHeadCut,U,t),I=Object.create(t),s(S[e|Q|ze].textures,F.pistonHeadCutFlipped,I,t),S[e|$|ze]=I,s(_.textures,F.pistonHeadCutSW,Se,t),(G=t.textures.slice())[1]=t.frontOpenTexture,s(G,F.pistonOpen,H,R),(G=S[e|ze].textures.slice())[0]=t.frontOpenTexture,I=Object.create(t),s(G,F.pistonOpenFlipped,I,R),S[e|K|ze]=I;var O=(G=t.textures.slice())[2];G[2]=G[0],G[3]=t.frontOpenTexture,G[0]=G[1]=O,s(G,F.pistonOpenSW,ve,R)}if("tnt"===t.name&&(s(m(t.superTntTextures),F.cube,W,t,"Super TNT"),s(m(t.ultraTntTextures),F.cube,E,t,"Ultra TNT"),s(new Array(6).fill("blank"),F.cube,U,t)),"observer"===t.name){t.shape=F.rotate,s(G=[(P=t.textures)[3],P[2],P[0],P[1],P[4]+"SW",P[5]+"SW"],F.cube,W,t);var G;I=Object.create(t),P=(G=G.slice())[1];G[1]=G[0],G[0]=P,s(G,F.flipped,I,t),S[e|J|ze]=I,(G=t.textures.slice())[2]+="On",s(G,F.rotate,E,t),(G=W.textures.slice())[1]+="On",s(G,F.cube,U,t);I=Object.create(t);(G=S[e|J|ze].textures.slice())[0]+="On",s(G,F.flipped,I,t),S[e|$|ze]=I}if("endPortal"===t.name&&(t.shape=F.endPortal),t.pane)s([(P=t.textures)[2],P[3],P[0],P[1],P[0],P[1]],F.horizontalPane,W,t);if(t.coloredRedstoneLamp&&(s(new Array(6).fill(t.name),F.cube,W),W.lightLevel=15),"sweetBerryBush"===t.name&&(t.shape=F.cross,s(t.textures1,F.cross,W,t),W.spikyBush=!0,s(t.textures2,F.cross,E,t),E.spikyBush=!0,E.dropAmount=[1,2],s(t.textures3,F.cross,U,t),U.spikyBush=!0,U.dropAmount=[2,3]),t.logicGate)(P=t.textures.slice())[1]+="On",s(P,t.shape,W,t),t.onupdate=d,t.onpowerupdate=p,t.ondelete=c,t.getFacing=g,t.canHavePower=k;if("pointedDripstone"===t.name){s(new Array(6).fill("pointedDripstoneUpTip"),F.cross,t,t);a=Object.create(t);s(new Array(6).fill("pointedDripstoneDownTip"),F.cross,a,t),S[e|ze]=a,s(new Array(6).fill("pointedDripstoneUpBase"),F.cross,W,t);a=Object.create(t);s(new Array(6).fill("pointedDripstoneDownBase"),F.cross,a,t),S[e|J|ze]=a,s(new Array(6).fill("pointedDripstoneUpMiddle"),F.cross,E,t);a=Object.create(t);s(new Array(6).fill("pointedDripstoneDownMiddle"),F.cross,a,t),S[e|Q|ze]=a,s(new Array(6).fill("pointedDripstoneUpFrustum"),F.cross,U,t);a=Object.create(t);s(new Array(6).fill("pointedDripstoneDownFrustum"),F.cross,a,t),S[e|$|ze]=a,s(new Array(6).fill("pointedDripstoneUpTipMerge"),F.cross,H,t);var a=Object.create(t);s(new Array(6).fill("pointedDripstoneDownTipMerge"),F.cross,a,t),S[e|K|ze]=a}if(t.sign&&(W.shape=F.sign,W.textures=t.textures,W.drop=e,U.shape=F.wallSign,U.textures=t.textures,U.drop=e,t.shape=F.none,t.transparent=!0,t.shadow=!1,t.solid=!1,t.onplace=y,t.tagBits=null,E.shape=F.none),"composter"===t.name&&(t.shape=F.composter,s(t.textures,F.composter2,W,t),s(t.textures,F.composter3,E,t),s(t.textures,F.composter4,U,t),s(t.textures,F.composter5,H,t),s(t.textures,F.composter6,_,t),s(t.textures,F.composter7,j,t),s(t.textures,F.composter8,Y,t)),"cocoa"===t.name&&(t.shape=F.cocoaStage0,t.textures.fill("cocoaStage0"),s(new Array(6).fill("cocoaStage1"),F.cocoaStage1,W,t),s(new Array(6).fill("cocoaStage2"),F.cocoaStage2,E,t),E.dropAmount=[2,3]),"beetroots"===t.name&&(s(t.textures1,F.crop,W,t),s(t.textures2,F.crop,E,t),s(t.textures3,F.crop,U,t),U.drop=["beetrootSeeds","beetroot"],U.dropAmount=[1,4]),"potatoes"===t.name&&(s(t.textures1,F.crop,W,t),s(t.textures2,F.crop,E,t),s(t.textures3,F.crop,U,t),U.dropAmount=[1,5]),"carrots"===t.name&&(s(t.textures1,F.crop,W,t),s(t.textures2,F.crop,E,t),s(t.textures3,F.crop,U,t),U.dropAmount=[2,5]),"dropper"!==t.name&&"dispenser"!==t.name||(t.shape=F.rotate,s(t.upTextures,F.cube,W),s(t.downTextures,F.cube,E)),"hopper"===t.name&&(t.shape=F.hopper,s(t.textures,F.hopperWall,W,t)),"comparator"===t.name&&(t.shape=F.comparator,s(t.textures,F.comparatorOn,W,t),s(t.textures,F.comparatorSubtract,E,t),s(t.textures,F.comparatorSubtractOn,_,t)),"daylightDetector"===t.name&&(t.shape=F.daylightDetector,s(t.invertedTextures,F.daylightDetector,W,t)),t.commandBlock){let a=Object.create(t);s(t.errorTextures,F.cube,a,t),S[e|ze]=a,s(t.sideTextures,F.SW,W,t),a=Object.create(t),s(t.sideErrorTextures,F.SW,a,t),S[e|J|ze]=a;let i=a.shape.varients;for(let t=0;t<i.length;t++)if(i[t]){let s=Object.create(a);s.shape=i[t],i[t].rotated&&(s.textures=o(a.textures,i[t].rotateTimes)),S[e|J|ze|i[t].bit]=s}s(t.flipTextures,F.flipped,E,t),a=Object.create(t),s(t.flipErrorTextures,F.flipped,a,t),S[e|Q|ze]=a}let Ue;if("sugarCane"===t.name&&(t.shape=F.cross,s(t.textures,F.cross,W,t),W.tint=t.purpleTint),"bow"===t.name&&(t.shape=F.item,t.textures=new Array(6).fill(t.pullTextures[0]),s(new Array(6).fill(t.pullTextures[1]),F.item,W),s(new Array(6).fill(t.pullTextures[2]),F.item,E),s(new Array(6).fill(t.pullTextures[3]),F.item,U)),t.beacon&&(t.shape=F.beacon),"pitcherCrop"===t.name&&(t.shape=F.pitcherCropStage0,s(t.textures1,F.pitcherCropStage1,W,t),s(t.textures2,F.pitcherCropStage1,E,t),s(t.textures3,F.pitcherCropStage3,U,t),s(t.textures4,F.pitcherCropStage3,H,t)),"torchflower"===t.name&&(s(t.textures1,F.cross,W,t),s(t.textures2,F.cross,E,t),U.drop="torchflower"),t.driedLeaves&&(t.shape=F.flat,t.thickTexture&&s(new Array(6).fill(t.thickTexture),F.flat,W,t,"Thick "+t.Name)),t.flowerbed&&(t.shape=F.flowerbed1,s(t.textures,F.flowerbed2,W,t),W.drop=e,s(t.textures,F.flowerbed3,E,t),E.drop=e,s(t.textures,F.flowerbed4,U,t),U.drop=e),"fern"===t.name&&(t.shape=F.fern),S[e|J]=W,S[e|Q]=E,S[e|$]=U,S[e|K]=H,S[e|ee]=_,S[e|te]=j,S[e|ae]=Y,S[e|se]=V,t.beacon&&(S[e|oe]=X),t.cactus&&(S[e|ie]=Be),S[e|re]=Se,S[e|ne]=ve,S[e|le]=Te,S[e|he]=xe,S[e|de]=Pe,S[e|ce]=Ne,S[e|pe]=Ce,t.button&&(S[e|ue]=De),t.chain&&(S[e|me]=Ae),t.pot&&(S[e|ge]=Oe),S[e|ke]=Ge,t.carpet&&(S[e|ye]=We),S[e|be]=Fe,S[e|we]=Ee,S[e|fe]=qe,t.shape.rotate||t.shape.flip){let a=t.textures;Ue=t.shape.varients;for(let s=0;s<Ue.length;s++)if(Ue[s]){let i=Object.create(t);i.shape=Ue[s],Ue[s].rotated&&(i.textures=o(a,Ue[s].rotateTimes)),S[e|Ue[s].bit]=i}}Ue=W.shape.varients;for(let t=0;t<Ue.length;t++){let a=W.textures;if(Ue[t]){let s=Object.create(W);s.shape=Ue[t],Ue[t].rotated&&(s.textures=o(a,Ue[t].rotateTimes)),S[e|J|Ue[t].bit]=s}}Ue=E.shape.varients;for(let t=0;t<Ue.length;t++){let a=E.textures;if(Ue[t]){let s=Object.create(E);s.shape=Ue[t],Ue[t].rotated&&(s.textures=o(a,Ue[t].rotateTimes)),S[e|Q|Ue[t].bit]=s}}Ue=_.shape.varients;for(let t=0;t<Ue.length;t++){let a=_.textures;if(Ue[t]){let s=Object.create(_);s.shape=Ue[t],Ue[t].rotated&&(s.textures=o(a,Ue[t].rotateTimes)),S[e|ee|Ue[t].bit]=s}}Ue=Se.shape.varients;for(let t=0;t<Ue.length;t++){let a=Se.textures;if(Ue[t]){let s=Object.create(Se);s.shape=Ue[t],Ue[t].rotated&&(s.textures=o(a,Ue[t].rotateTimes)),S[e|re|Ue[t].bit]=s}}Ue=ve.shape.varients;for(let t=0;t<Ue.length;t++){let a=ve.textures;if(Ue[t]){let s=Object.create(ve);s.shape=Ue[t],Ue[t].rotated&&(s.textures=o(a,Ue[t].rotateTimes)),S[e|ne|Ue[t].bit]=s}}Ue=Te.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(Te);a.shape=Ue[t],S[e|le|Ue[t].bit]=a}Ue=xe.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(xe);a.shape=Ue[t],S[e|he|Ue[t].bit]=a}Ue=Pe.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(Pe);a.shape=Ue[t],S[e|de|Ue[t].bit]=a}Ue=De.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]&&S[e].button){let a=Object.create(De);a.shape=Ue[t],S[e|ue|Ue[t].bit]=a}Ue=Fe.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(Fe);a.shape=Ue[t],S[e|be|Ue[t].bit]=a}Ue=Ee.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(Ee);a.shape=Ue[t],S[e|we|Ue[t].bit]=a}Ue=qe.shape.varients;for(let t=0;t<Ue.length;t++)if(Ue[t]){let a=Object.create(qe);a.shape=Ue[t],S[e|fe|Ue[t].bit]=a}}}let Z,J,Q,$,K,ee,te,ae,se,oe,ie,re,ne,le,he,de,ce,pe,ue,me,ge,ke,ye,be,we,fe,Be,Se,ve,xe,Pe,Te,Ne,Ce,ze,Le,Re,Ie,Me,De,Ae,Oe;win.BitArrayReader=V;let Ge=null;function We(e,t){return e=e.split(".").map((e=>parseInt(e))),t=t.split(".").map((e=>parseInt(e))),e[0]>t[0]||(e[1]>t[1]&&e[0]===t[0]||(e[2]>t[2]&&e[1]===t[1]||void 0))}function Fe(e){return parseInt(e,2)}{let Da;function Aa(e,t,a,s,o,i,r,n,l){if(e>s){var h=e;e=s,s=h}if(t>o){var d=t;t=o,o=d}if(a>i){var c=a;a=i,i=c}for(var p=e;s>=p;p++)for(var u=t;o>=u;u++)for(var m=a;i>=m;m++)l.setBlock(p,u,m,r,!1,!1,!1,!1,n)}function Oa(e,t,a,s,o,i,r,n){if(e>s){var l=e;e=s,s=l}if(t>o){var h=t;t=o,o=h}if(a>i){var d=a;a=i,i=d}Da=[];for(var c=e;s>=c;c++){for(var p=[],u=t;o>=u;u++){for(var m=[],g=a;i>=g;g++)m.push(n.getBlock(c,u,g,r),n.getTags(c,u,g,r));p.push(m)}Da.push(p)}}function Ga(e,t,a,s,o){for(var i=0;i<Da.length;i++)for(var r=Da[i],n=0;n<r.length;n++)for(var l=r[n],h=0;h<l.length/2;h++){var d=l[2*h];o.setBlock(i+e,n+t,h+a,d,!1,!1,!1,!1,s);var c=l[2*a+1];c&&o.setTags(i+e,n+t,h+a,c,!1,s)}}function Wa(e,t,a,s,o,i,r,n,l,h){if(e>s){var d=e;e=s,s=d}if(t>o){var c=t;t=o,o=c}if(a>i){var p=a;a=i,i=p}for(var u=e;s>=u;u++)for(var m=t;o>=m;m++)for(var g=a;i>=g;g++)h.getBlock(u,m,g,l)===r&&h.setBlock(u,m,g,n,!1,!1,!1,!1,l)}function Fa(e,t){e.prevPosCmd=[round(e.x),round(e.y),round(e.z)]}function Ea(e,t,a){Aa(t.prevPosCmd[0],t.prevPosCmd[1]-1,t.prevPosCmd[2],round(t.x),round(t.y-1),round(t.z),e,t.dimension,a)}function qa(e,t){Da=e.copiedBlocksCmd,Oa(e.prevPosCmd[0],e.prevPosCmd[1]-1,e.prevPosCmd[2],round(e.x),round(e.y-1),round(e.z),e.dimension,t)}function Ua(e,t){Da=e.copiedBlocksCmd,Ga(round(e.x),round(e.y-1),round(e.z),e.dimension,t)}let Ha=0;async function _a(e,t,a,s,o,i,r,n,l){let h=Ha,d=e*e,c=a*a,p=(e-1.2)*(e-1.2),u=(a-1.2)*(a-1.2);for(let m=floor(-e);m<=ceil(e);m++)for(let e=floor(-t);e<=ceil(t);e++)for(let t=floor(-a);t<=ceil(a);t++){if(m*m/d+t*t/c<1&&m*m/p+t*t/u>=1&&(l.setBlock(round(o+m),round(i+e),round(r+t),s,!1,!1,!1,!1,n),await sleep(10),Ha>h))return}}async function ja(e,t,a,s,o,i,r,n,l){let h=Ha,d=e*e,c=a*a;for(let p=floor(-e);p<=ceil(e);p++)for(let e=floor(-t);e<=ceil(t);e++)for(let t=floor(-a);t<=ceil(a);t++){if(p*p/d+t*t/c<1&&(l.setBlock(round(o+p),round(i+e),round(r+t),s,!1,!1,!1,!1,n),await sleep(10),Ha>h))return}}async function Ya(e,t,a,s,o,i,r,n,l){let h=Ha,d=e*e,c=t*t,p=a*a,u=(e-1.5)*(e-1.5),m=(t-1.5)*(t-1.5),g=(a-1.5)*(a-1.5);for(let k=floor(-t);k<=ceil(t);k++)for(let t=floor(-e);t<=ceil(e);t++)for(let e=floor(-a);e<=ceil(a);e++){if(t*t/d+k*k/c+e*e/p<1&&t*t/u+k*k/m+e*e/g>=1&&(l.setBlock(round(o+t),round(i+k),round(r+e),s,!1,!1,!1,!1,n),await sleep(10),Ha>h))return}}async function Va(e,t,a,s,o,i,r,n,l){let h=Ha,d=e*e,c=t*t,p=a*a;for(let u=floor(-t);u<=ceil(t);u++)for(let t=floor(-e);t<=ceil(e);t++)for(let e=floor(-a);e<=ceil(a);e++){if(t*t/d+u*u/c+e*e/p<1&&(l.setBlock(round(o+t),round(i+u),round(r+e),s,!1,!1,!1,!1,n),await sleep(10),Ha>h))return}}function Xa(e,t,a=!1){let s;return s=e.startsWith("~+")?t+parseFloat(e.split("+")[1]):e.startsWith("~-")?t-parseFloat(e.split("-")[1]):e.startsWith("~")?t:parseFloat(e),a&&(s=round(s)),s}function Za(e,t,a){if("@s"===e)return[t];if("@a"===e){return a.players.slice()}if("@e"===e)return a.entities.slice();if("@p"===e){let e,s=1/0;for(let o of a.players){let a=dist3(t.x,t.y,t.z,o.x,o.y,o.z);a<s&&(s=a,e=o)}return[e]}return Pt(e,a)}let Ja=[{name:"fromPlayer",info:"Sets starting position to player position",func:(e,t,a,s)=>Fa(t),anonymousFunc:null},{name:"fillToPlayer",args:["block_name"],argValues:{block_name:"type:block"},info:"Fills from starting position to player position",func:(e,t,a,s)=>{let o=x[e.block_name];e.block_name||(o=0),Ea(o,t,s)},anonymousFunc:null},{name:"copyToPlayer",info:"Copys blocks from starting position to player position",func:(e,t,a,s)=>qa(t,s),anonymousFunc:null},{name:"pasteAtPlayer",info:"Pastes copied blocks at the player's position",func:(e,t,a,s)=>Ua(t,s),anonymousFunc:null},{name:"shape",info:"Type can be: sphere, hollowSphere, cylinder, hollowCylinder",args:["type","width","height","depth","block_name","x","y","z"],argValues:{block_name:"type:block",x:"type:x",y:"type:y",z:"type:z",type:["sphere","hollowSphere","cylinder","hollowCylinder"],width:"type:number",height:"type:number",depth:"type:number"},func:(e,t,a,s)=>{let o=x[e.block_name];e.block_name||(o=0);let i=e.x?parseFloat(e.x):t.x,r=e.y?parseFloat(e.y):t.y,n=e.z?parseFloat(e.z):t.z,l=parseFloat(e.width)||0,h=parseFloat(e.height)||0,d=parseFloat(e.depth)||0;return"sphere"===e.type?Va(l,h,d,o,i,r,n,t.dimension,s):"hollowSphere"===e.type?Ya(l,h,d,o,i,r,n,t.dimension,s):"cylinder"===e.type?ja(l,h,d,o,i,r,n,t.dimension,s):"hollowCylinder"===e.type?_a(l,h,d,o,i,r,n,t.dimension,s):["No such shape: "+e.type,"error"]}},{name:"cancelShape",info:"Stop generating shapes currently being generated.",func:()=>{Ha++}},{name:"replaceToPlayer",args:["replace_what","with_what"],argValues:{replace_what:"type:block",with_what:"type:block"},func:(e,t,a,s)=>{let o=x[e.replace_what];e.replace_what||(o=0);let i=x[e.with_what];e.with_what||(i=0),Wa(t.prevPosCmd[0],t.prevPosCmd[1]-1,t.prevPosCmd[2],round(t.x),round(t.y-1),round(t.z),o,i,t.dimension,s)},anonymousFunc:null},{name:"give",args:["target","block_name","amount"],argValues:{block_name:"type:block",target:["type:player","@s","@a","@p"],amount:"type:number"},info:"Gives the target the the specified amount of specified blocks",func:(e,t,a,s)=>{let o=x[e.block_name],i=parseInt(e.amount)||1,r=Za(e.target,t,s);if(!r)return["No such target: "+e.target,"error"];for(let e of r)s.addItems(e.x,e.y,e.z,e.dimension,0,0,0,o,!1,i)}},{name:"kill",args:["target","message"],lastArgRaw:!0,argValues:{target:["type:player","@s","@a","@e","@p"]},info:"Kills someone. Target can be: @s, your username, someone's uername, @a, @e",func:(e,t,a,s)=>{if(worldSettings.killCmdOff)return["Kill command is disabled on this world.","error"];e.target=e.target||"@s";let o=Za(e.target,t,s);if(!o)return["No such target: "+e.target,"error"];for(let a of o)"Player"===a.type?s.sendPlayer({type:"kill",data:e.message||t.username+" killed "+("@a"===e.target?"everyone":e.target)+" with the kill command."},a.id):s.deleteEntity(a.id)}},{name:"time",args:["mode","n"],argValues:{mode:["set","add","subtract"],n:["day","night","type:number"]},info:"mode can be: set, add, subtract. n is the time to set to. 1000 is a day. n an also be: day, night",func:(e,t,a,s)=>{let o;if(o="day"===e.n?500:"night"===e.n?0:parseInt(e.n)||0,"set"===e.mode)s.time=o;else if("add"===e.mode)s.time+=o;else{if("subtract"!==e.mode)return["No such mode: "+e.mode,"error"];s.time-=o}}},{name:"weather",args:["w"],argValues:{w:["clear","rain","snow"]},info:"w is the weather to set to. It can be clear, rain, or snow",func:(e,t,a,s)=>{"rain"===e.w?s.weather="rain":"snow"===e.w?s.weather="snow":s.weather=""}},{name:"teleportToPlayer",names:["tpPlayer","tpp","tptp"],args:["to_who"],argValues:{to_who:"type:player"},info:'Teleport to someone. "to_who" should be a username.',func:(e,t,a,s)=>{let o=Pt(e.to_who,s);if(!o)return["Player doesn't exsist: "+e.to_who,"error"];s.sendPlayer({type:"tp",x:o.x,y:o.y,z:o.z,dimension:o.dimension},t.id)},anonymousFunc:null},{name:"teleport",names:["tp"],args:["x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"x, y, and z are the coordinates to teleport to. dimension is optional.",func:(e,t,a,s)=>{if(!e.x||!e.y||!e.z)return["You need to set the coordinates.","error"];let o=t.x,i=t.y,r=t.z,n=Xa(e.x,o),l=Xa(e.y,i),h=Xa(e.z,r);isNaN(n)&&(n=o),isNaN(l)&&(l=i),isNaN(h)&&(h=r);let d=e.dimension||t.dimension;s.sendPlayer({type:"tp",x:n,y:l,z:h,dimension:d},t.id)},anonymousFunc:null},{name:"playSound",args:["sound","volume","pitch"],argValues:{sound:"type:sound",volume:"type:number",pitch:"type:number"},info:"Plays a sound. Sound can be any sound, for example: click, block.grass.dig1, entity.generic.explode1. Volume is a number from 0 to 1.",func:(e,t,a,s)=>{if(!e.sound)return["The first argument (sound) is required.","error"];let o=parseFloat(e.volume),i=parseFloat(e.pitch);s.playSound(null,null,null,e.sound,o,i)}},{name:"title",args:["text","subtext","color","fadeIn","fadeOut","stay"],argValues:{fadeIn:"type:number",fadeOut:"type:number",stay:"type:number"},info:"Shows text on screen. fadeIn and fadeOut and stay are miliseconds.",func:(e,t,a,s)=>{e.text=e.text||"/title",e.fadeIn=e.fadeIn||0===e.fadeIn?parseFloat(e.fadeIn):500,e.fadeOut=e.fadeOut||0===e.fadeOut?parseFloat(e.fadeOut):2e3,e.stay=e.stay||0===e.stay?parseFloat(e.stay):1e3,s.sendAll({type:"title",data:e.text,sub:e.subtext,color:e.color,fadeIn:e.fadeIn,fadeOut:e.fadeOut,stay:e.stay})}},{name:"setBlock",args:["x","y","z","dimension","block"],argValues:{block:"type:block",x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Sets a block at a specified position.",func:(e,t,a,s)=>{let o=x[e.block];if(void 0===o&&(o=parseInt(e.block)),!S[o])return["No such block "+o,"error"];let i=Xa(e.x,t.x,!0),r=Xa(e.y,t.y,!0),n=Xa(e.z,t.z,!0),l=e.dimension||t.dimension;s.setBlock(i,r,n,o,!1,!1,!1,!1,l)}},{name:"getBlock",args:["x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Gets a block at the specified position and sets a variable called block_name.",func:(e,t,a,s)=>{let o=Xa(e.x,t.x,!0),i=Xa(e.y,t.y,!0),r=Xa(e.z,t.z,!0),n=e.dimension||t.dimension;a.block_name=S[s.getBlock(o,i,r,n)].name}},{name:"setTag",args:["x","y","z","dimension","tag_name","tag_data"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Sets a specified tag at a specified position. tag_name can be JSON or raw text.",func:(e,t,a,s)=>{let o;try{o=JSON.parse(e.tag_data)}catch{o=e.tag_data}let i=Xa(e.x,t.x,!0),r=Xa(e.y,t.y,!0),n=Xa(e.z,t.z,!0),l=e.dimension||t.dimension;try{s.setTagByName(i,r,n,e.tag_name,o,!1,l)}catch(e){return[e.message,"error"]}}},{name:"getTag",args:["x","y","z","dimension","tag_name"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Gets a specified tag at the specified position and sets a variable called tag_data. tag_data will be JSON string if not a string.",func:(e,t,a,s)=>{let o=Xa(e.x,t.x,!0),i=Xa(e.y,t.y,!0),r=Xa(e.z,t.z,!0),n=e.dimension||t.dimension;a.tag_data=s.getTagByName(o,i,r,e.tag_name,n),"string"!=typeof a.tag_data&&(a.tag_data=JSON.stringify(a.tag_data))}},{name:"echo",args:["data"],info:"Outputs data.",func:e=>[e.data+"",""]},{name:"var",args:["name","value"],info:"Set a variable to a value. Value can be empty.",func:(e,t,a)=>{if(!e.name)return["Error: name required.","error"];a[e.name]=e.value}},{name:"solve",args:["value1","operation","value2"],argValues:{operation:["+","-","/","*","<",">","=","round","floor","ceil","sin","cos","tan","sqrt","%"]},info:"Calculate operation on value1 and value2 and sets a variabled called value. Some operations don't use value2. Example: /solve 1 + 1",func:(e,t,a)=>{let s="number"==typeof e.value1?e.value1:parseFloat(e.value1),o="number"==typeof e.value2?e.value2:parseFloat(e.value2);switch((isNaN(s)||isNaN(e.value1))&&(s=e.value1),(isNaN(o)||isNaN(e.value2))&&(o=e.value2),e.operation){case"+":a.value=s+o;break;case"-":a.value=s-o;break;case"*":a.value=s*o;break;case"/":a.value=s/o;break;case"<":a.value=s<o;break;case">":a.value=s>o;break;case"=":a.value=s===o;break;case"round":a.value=round(s);break;case"floor":a.value=floor(s);break;case"ceil":a.value=ceil(s);break;case"sin":a.value=sin(s);break;case"cos":a.value=cos(s);break;case"tan":a.value=tan(s);break;case"sqrt":a.value=sqrt(s);break;case"%":a.value=s%o;break;default:return["No such operation called "+e.operation,"error"]}}},{name:"getPos",names:["gp"],args:["target"],argValues:{target:["type:player","@s","@p"]},info:"Gets position of specified target and sets target_x, target_y, target_z, target_dimension, target_name. Target can be @s, @p, or a username.",func:(e,t,a,s)=>{e.target=e.target||"@s";let o=Za(e.target,t,s);if(!o||!o[0])return["No such target: "+e.target,"error"];let i=o[0];a.target_x=i.x,a.target_y=i.y,a.target_z=i.z,a.target_dimension=i.dimension,a.target_name=i.username||i.name}},{name:"wait",args:["time"],argValues:{time:["type:number"]},info:"Wait for time miliseconds.",func:e=>sleep(parseFloat(e.time))},{name:"getTime",args:["timestart"],argValues:{timestart:["type:number"]},info:"Sets time to the current time in miliseconds. If timestart is specified, the time is subtracted from timestart.",func:(e,t,a)=>{a.time=Date.now(),e.timestart&&(a.time-=parseInt(e.timestart))}},{name:"blockInfo",names:["bi"],args:["block"],argValues:{block:["type:block"]},func:e=>{let t=S[x[e.block]];if(!t)return["No such block "+e.block,"error"];let a="";for(let e in t)"shape"!==e&&(a+=e+": ","function"==typeof t[e]?a+="function() { [code] }":"string"==typeof t[e]?a+=t[e]:a+=JSON.stringify(t[e]),a+="<br>");return[a,""]},noCheats:!0},{name:"seed",noCheats:!0,func:(e,t,a,s)=>[s.worldSeed+"",""]},{name:"trigger",args:["condition","x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Trigger a command block at specified position if condition is a true value. condition may be a variable.",func:(e,t,a,s)=>{if(!e.condition)return;let o=Xa(e.x,t.x,!0),i=Xa(e.y,t.y,!0),r=Xa(e.z,t.z,!0),n=e.dimension||t.dimension,l=s.getBlock(o,i,r,n);S[l].commandBlock&&S[l].trigger(o,i,r,n,s)}}];win.defaultServerCommands=Ja}const{defaultServerCommands:Ee}=win;function qe(e,t){for(let a of t.serverCommands){if(a.name.toLowerCase()===e.toLowerCase())return a;if(a.names&&a.names.includes(e))return a}}function Ue(e,t,a){let s="/"===e[0]?"/":"";s&&(e=e.substring(1));let o,i,r=[],n="",l=!1,h=null,d=!1;for(let c=0;c<e.length;c++){let p=!i||!i.args||!i.lastArgRaw||r.length!==i.args.length;if("/"===e[c]&&(!s||0!==c)&&!l&&p){o=e.substring(c);break}!p||"'"!==e[c]&&'"'!==e[c]||l&&h!==e[c]?"$"!==e[c]||l||n?!p||" "!==e[c]&&"\n"!==e[c]||l?n+=e[c]:(d&&(n=t[n]),r.push(n),1===r.length&&(i=qe(n,a)),n="",d=!1):d=!0:(l=!l,h=e[c])}d&&(n=t[n]),r.push(n),1===r.length&&(i=qe(n,a));let c=r.shift();return r=i&&i.args?Object.fromEntries(r.filter(((e,t)=>t in i.args)).map(((e,t)=>[i.args[t],e]))):{},[r,o,c,i]}async function He(e,t,a,s=!1,o=emptyFunc){let i=e,r=[],n=[],l={};for(;i;){let[e,h,d,c]=Ue(i,l,a);i=h,await _e(d,c,e,t,l,n,r,a,s,o)}return r.push(...n),o(r,n)}async function _e(e,t,a,s,o,i,r,n,l=!1,h=emptyFunc){if(!t)return i.push("cError: no such command called f"+e,"error"),r.push(...i),h(r,i),i.length=0,!0;{let d=l?null!==t.anonymousFunc&&(t.anonymousFunc||n.serverCommandFuncs[t.name]):n.serverCommandFuncs[t.name];if(!d)return i.push("cError: cannot run f"+e,"error"),r.push(...i),h(r,i),i.length=0,!0;{let e=d(a,s,o,n);if(e instanceof Promise&&(r.push(...i),h(r,i),i.length=0,e=await e),e&&i.push(...e),e&&"error"===e[1])return r.push(...i),h(r,i),i.length=0,!0}}}async function je(e,t,a,s,o,i){let r=qe(e,o),n=[],l=[];await _e(e,r,t,a,s,n,l,o,!1),l.push(...n),o.sendPlayer({type:"commandDone",data:l,scope:s,id:i},a.id)}class Ye{constructor(){this.array=[],this.size=0}add(e,t,a,s,o){this.size===this.array.length?this.array.push([e,t,a,s,o]):(this.array[this.size][0]=e,this.array[this.size][1]=t,this.array[this.size][2]=a,this.array[this.size][3]=s,this.array[this.size][4]=o),this.size++}clear(){this.size=0}}let Ve=[],Xe={};class Ze{constructor(e,t,a,s,o,i,r,n,l,h,d,c,p,u,m,g,k){this.x=e,this.y=t,this.z=a,this.previousX=e,this.previousY=t,this.previousZ=a,this.canStepX=!0,this.canStepY=!0,this.pitch=s,this.yaw=o,this.roll=0,this.pitch2=0,this.previousPitch=s,this.previousYaw=o,this.previousRoll=0,this.previousPitch2=0,this.velx=i,this.vely=r,this.velz=n,this.width=l,this.height=h,this.depth=d,this.offsetY=0,this.prevOffsetY=0,this.extraSize=0,this.hidden=!1,this.harmEffect=0,this.contacts=new Ye,this.lastUpdate=performance.now(),this.onGround=!1,this.hasCollided=!1,this.gravityStength=-.11,this.standingOn=0,this.insideBlock=0,this.despawns=m,this.spawn=this.lastUpdate,this.canDespawn=!1,this.dieEffect=0,this.dieRotate=0,this.burning=!1,this.liquid=!1,this.prevLiquid=!1,this.wet=!1,this.parts={},this.shader=0,this.world=null,this.chunkX=e>>4,this.chunkZ=a>>4,this.chunkDimension="",this.glow=!1,this.dimension=k}updateVelocity(e){this.standingOn=this.world.getBlock(round(this.x),floor(this.y-this.height/2),round(this.z),this.dimension),this.insideBlock=this.world.getBlock(round(this.x),round(this.y),round(this.z),this.dimension),this.prevLiquid!==this.liquid&&(this.prevLiquid=this.liquid,this.liquid&&this.wet&&(this.world.playSound(this.x,this.y-this.height/2,this.z,"liquid.splash",0),this.world.sendAll({type:"particles",particleType:"SplashParticle",x:this.x,y:this.y-this.height/2,z:this.z,dimension:this.dimension,amount:10}))),this.vely+=this.gravityStength;let t=this.liquid&&!this.canFloat?.7:this.onGround?.8:.9,a=this.liquid?.3:.8;S[this.standingOn].slide&&(t=S[this.standingOn].slide),this.velz+=this.velz*t-this.velz,this.velx+=this.velx*t-this.velx,this.vely+=this.vely*a-this.vely}collided(e,t,a,s,o,i,r){let n,l,h,d,c,p,u,m,g=S[r].shape.verts,k=this.x-this.width/2-e,y=this.y-this.height/2-t,b=this.z-this.depth/2-a,w=this.x+this.width/2-e,f=this.y+this.height/2-t,B=this.z+this.depth/2-a,v=this.mob&&this.insideBlock&&S[this.insideBlock].solid,x=g[0];if(o<=0&&(x=g[1]),null===s&&null===i){let e=!1;for(let a of x)u=a.min,n=u[0],h=u[2],m=a.max,d=m[0],p=m[2],a[1]>y&&a[1]<f&&n<w&&d>k&&h<B&&p>b&&(e=!0,o<=0?(this.onGround=!0,this.y=v?this.previousY:a[1]+t+this.height/2,this.vely=0):(this.y=v?this.previousY:a[1]+t-this.height/2,this.vely=0));return e}if(s<0?x=g[4]:s>0&&(x=g[5]),null!==s){let t=!1;for(let a of x)u=a.min,h=u[2],l=u[1],m=a.max,p=m[2],c=m[1],a[0]>k&&a[0]<w&&l<f&&c>y&&h<B&&p>b&&(c-y>.5&&(this.canStepX=!1,v?this.y=this.previousX:this.x=e+a[0]+(s<0?this.width/2:-this.width/2),this.velx=0),t=!0);return t}if(i<0?x=g[2]:i>0&&(x=g[3]),null!==i){let e=!1;for(let t of x)u=t.min,n=u[0],l=u[1],m=t.max,d=m[0],c=m[1],t[2]>b&&t[2]<B&&l<f&&c>y&&n<w&&d>k&&(c-y>.5&&(this.canStepZ=!1,v?this.y=this.previousY:this.z=a+t[2]+(i<0?this.depth/2:-this.depth/2),this.velz=0),e=!0);return e}}move(e){let t=Math.ceil(max(abs(this.velx/(this.width/2)),abs(this.vely/(this.height/2)),abs(this.velz/(this.depth/2)),1));const a=this.velx/t,s=this.vely/t,o=this.velz/t;let i=floor(this.x-this.width/2),r=ceil(this.x+this.width/2),n=floor(this.y-this.height/2),l=ceil(this.y+this.height/2),h=floor(this.z-this.depth/2),d=ceil(this.z+this.depth/2),c=null;this.liquid=this.wet=!1;for(let e=i;e<=r;e++)for(let t=n;t<=l;t++)for(let a=h;a<=d;a++){let s=this.world.getBlock(e,t,a,this.dimension);if(s&&S[s].solid&&this.contacts.add(e,t,a,s),e===round(this.x)&&a===round(this.z)&&S[s].liquid&&(this.liquid=!0,this.canFloat&&e===round(this.x)&&a===round(this.z)&&t===round(this.y)&&(this.vely+=1/4),S[s].wet&&(this.wet=!0)),S[s].getCurrent){var p=S[s],u=p.getCurrent(e,t,a,this.dimension,void 0,void 0,this.world);this.velx+=(u.x||0)/64,this.velz+=(u.z||0)/64;var m=this.world.getBlock(e,t-1,a,this.dimension);p.isThis(m)&&m!==p.id&&(this.vely-=1/128)}S[s].pressurePlate&&S[s].activate&&S[s].activate(e,t,a,this.dimension,s,this,this.world),this.ontouch&&this.ontouch(e,t,a,s)}this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,max(this.width,this.height,this.depth)/2,St);for(let e of St)e.canStandOn&&e.block&&e.x>i&&e.x<r&&e.y>n&&e.y<l&&e.z>h&&e.z<d&&this.contacts.add(e.x,e.y,e.z,e.block,e);if("rain"===this.world.weather&&this.world.weatherAmount>.5){let e=this.world.getSolidTop(round(this.x),round(this.z),this.dimension);this.y>e&&(this.wet=!0)}this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.previousPitch=this.pitch,this.previousYaw=this.yaw,this.previousRoll=this.roll,this.previousPitch2=this.pitch2,this.prevOffsetY=this.offsetY,this.hasCollided=!1;for(let e in this.parts)this.parts[e].prx=this.parts[e].rx,this.parts[e].pry=this.parts[e].ry,this.parts[e].prz=this.parts[e].rz,this.parts[e].pry2=this.parts[e].ry2;for(let e=1;e<=t&&!this.hasCollided;e++){this.x,this.z,this.y;this.canStepX=!1,this.canStepY=!1,this.onGround=!1,this.y+=s;for(let e=0;e<this.contacts.size;e++){c=this.contacts.array[e];let a=c[0],o=c[1],i=c[2],r=s;c[4]&&(a=c[4].previousX,i=c[4].previousZ,r-=(c[4].y-c[4].previousY)/t),this.collided(a,o,i,null,r,null,c[3])&&(this.hasCollided=!0)}this.onGround&&(this.canStepX=!0,this.canStepZ=!0),this.x+=a;for(let e=0;e<this.contacts.size;e++){c=this.contacts.array[e];let s=c[0],o=c[1],i=c[2],r=a;if(c[4]&&(i=c[4].previousZ,r-=(c[4].x-c[4].previousX)/t),this.collided(s,o,i,r,null,null,c[3])){if(this.canStepX&&!this.world.getBlock(c[0],c[1]+1,c[2],this.dimension)&&this.world.getBlock(c[0],c[1]+2,c[2]),this.dimension)continue;this.hasCollided=!0}}this.z+=o;for(let e=0;e<this.contacts.size;e++){c=this.contacts.array[e];let a=c[0],s=c[1],i=c[2],r=o;if(c[4]&&(r-=(c[4].z-c[4].previousZ)/t),this.collided(a,s,i,null,null,r,c[3])){if(this.canStepZ&&!this.world.getBlock(c[0],c[1]+1,c[2],this.dimension)&&!this.world.getBlock(c[0],c[1]+2,c[2],this.dimension))continue;this.hasCollided=!0}}}this.onGround&&(this.hasCollided=!0),this.updateChunk(),this.lastUpdate=e,this.contacts.clear()}updateChunk(){let e=this.x>>4,t=this.z>>4;if(this.chunkX!==e||this.chunkZ!==t||this.dimension!==this.chunkDimension){let a=this.world.getChunk(this.chunkX<<4,this.chunkZ<<4,this.chunkDimension),s=this.world.getChunk(e<<4,t<<4,this.dimension);this.chunkX=e,this.chunkZ=t,this.chunkDimension=this.dimension,a&&a.entities[this.id]&&(delete a.entities[this.id],s?s.entities[this.id]=this:this.world.waitingEntities.push(this))}}goToChunk(){let e=this.x>>4,t=this.z>>4,a=this.world.getChunk(e<<4,t<<4,this.dimension);if(this.chunkX=e,this.chunkZ=t,this.chunkDimension=this.dimension,a)return a.entities[this.id]=this,!0}moveTowards(e,t,a,s,o,i,r=1,n){var l=dist3(this.x/s,this.y/o,this.z/i,e/s,t/o,a/i),h=abs(l);if(!(h>1)){var d=1-h,c=e-this.x,p=t-this.y,u=a-this.z,m=sqrt(c*c+p*p+u*u);this.velx+=c*d/m/r,n?this.onGround&&(this.vely+=p*d/m/r*20):this.vely=p*d/m/r,this.velz+=u*d/m/r}}setPos(e,t,a,s,o,i){this.velx=s,this.vely=o,this.velz=i,this.x=e,this.y=t,this.z=a}update(){this.updateVelocity(ga),this.move(ga),ga-this.spawn>this.despawns&&(this.canDespawn=!0)}addPart(e,t,a,s,o,i,r,n,l,h,d,c=0,p=null,u=!1){let m=this.parts[e]={name:e,size:t,vao:a,x:s,y:o,z:i,w:r,h:n,d:l,rx:h,ry:d,rz:c,ry2:0,px:s,py:o,pz:i,prx:h,pry:d,prz:c,originalX:s,originalY:o,originalZ:i,attached:p,glow:u};a&&a.tHeVerticesBuffer&&(m.verticesBuffer=a.tHeVerticesBuffer,m.textureBuffer=a.tHeTextureBuffer,m.normalBuffer=a.tHeNormalBuffer);let g=[],k=m;for(;k.attached&&(k=this.parts[k.attached],k);)g.push(k.name);return g.reverse(),m.attachChain=g,m}facePlayer(){this.yaw=Math.PId-(atan2(p.z+p.offsetZ-this.z,p.x+p.offsetX-this.x)+Math.PI2+Math.PI);var e=dist2(this.x,this.z,p.x+p.offsetX,p.z+p.offsetZ);this.pitch=Math.PId-atan2(p.y+p.offsetY-this.y,e)}pointAt(e,t,a){this.yaw=Math.PId-(atan2(a-this.z,e-this.x)+Math.PI2+Math.PI);var s=dist2(this.x,this.z,e,a);this.pitch=Math.PId-atan2(t-this.y,s)}delete(){}}const Je=.3,Qe=.18,$e=1.62,Ke=.995,et=1.32,tt=.625;class at extends Ze{type="Player";constructor(e){super(0,0,0,0,0,0,0,0,1,2,1,null,null,0,1/0,"this isn't really a VAO... but it will be overwritten"),this.w=Je,this.bottomH=$e,this.topH=Qe;let t=1/16;this.targetX=0,this.targetY=0,this.targetZ=0,this.lastPos=performance.now(),this.headYaw=0,this.headPitch=0,this.targetHeadYaw=0,this.targetHeadPitch=0,this.bodyRot=0,this.defaultOffsetY=-.5,this.sneakingOffsetY=-.575,this.die=!1,this.sneaking=!1,this.walking=!1,this.sprinting=!1,this.eating=!1,this.sleeping=!1,this.sitting=!1,this.swimming=!1,this.usingItem=!1,this.prevWalking=!1,this.walkStart=0,this.prevSwimming=!1,this.swimStart=0,this.addPart("head",null,null,0,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.25,.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.25,.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("cape",null,null,0,.375,-3*t,1,1,1,0,0),this.holding=0,this.prevHolding=0,this.holdRot=Math.PI/-10,this.addPart("holding",null,null,0,0,0,1,1,1,0,0),this.walkRot=0,this.punchEffect=0,this.pOffsetry=this.offsetry=0,this.offsetZ=this.pOffsetZ=0,this.skinSet=!1,this.skinURL=null,this.skinImg=images.skin,this.capeSet=!1,this.capeURL=null,this.capeImg=null,this.nameText=null,this.previousText=null,this.username=null,this.afk=!1,this.scale=1,this.prevScale=null,this.noExtrapolate=e}update(){var e=1/16,t=(sin((ga-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.harmEffect>0&&(this.harmEffect-=3),this.die&&(this.dieEffect+=.05,this.dieRotate=this.dieEffect**4*Math.PI2,this.dieEffect>1&&(this.die=!1,this.dieEffect=0,this.dieRotate=0,this.hidden=!0)),this.lastUpdate=ga,this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.noExtrapolate)this.x=this.targetX,this.y=this.targetY,this.z=this.targetZ;else{let e=(ga-this.lastPos)/u;e>10&&(e=10),this.x=this.targetX+this.velx*e,this.y=this.targetY+this.vely*e,this.z=this.targetZ+this.velz*e}if(this.previousPitch=this.pitch,this.previousYaw=this.yaw,this.headPitch=this.targetHeadPitch,this.headYaw=this.targetHeadYaw,this.yaw=this.bodyRot,this.yaw-this.previousYaw>Math.PI&&(this.previousYaw+=Math.PId),this.yaw-this.previousYaw<-Math.PI&&(this.previousYaw-=Math.PId),this.scale!==this.prevScale){this.prevScale=this.scale;let e=this.scale;this.w=Je*e,this.bottomH=$e*e,this.topH=Qe*e,this.defaultBottomH=$e*e,this.sitBottomH=Ke*e,this.sneakBottomH=et*e,this.swimBottomH=tt*e}for(var a in this.sneaking||this.eating||this.usingItem&&S[this.holding].spyglass||(this.sitting?this.bottomH=this.sitBottomH:this.swimming?this.bottomH=this.swimBottomH:this.sprinting||(this.bottomH=this.defaultBottomH)),this.parts){(i=this.parts[a]).prx=i.rx,i.pry=i.ry,i.prz=i.rz,i.pry2=i.ry2,i.lastUpdate=ga}if(this.pOffsetry=this.offsetry,this.swimming!==this.prevSwimming&&(this.prevSwimming=this.swimming,this.swimStart=ga),this.parts.head.rx=this.headPitch,this.parts.head.ry=0,this.parts.head.ry2=this.headYaw,this.parts.leftLeg.ry2=0,this.parts.rightLeg.ry2=0,this.parts.leftLeg.y=this.parts.leftLeg.originalY,this.parts.rightLeg.y=this.parts.rightLeg.originalY,this.pOffsetZ=this.offsetZ,this.offsetZ=0,this.sleeping)this.offsetY=0,this.pitch=-Math.PI2;else if(this.sitting)this.offsetY=this.defaultOffsetY,this.pitch=0,this.parts.leftLeg.rx=this.parts.rightLeg.rx=-Math.PI2,this.parts.leftLeg.ry2=Math.PI/8,this.parts.rightLeg.ry2=-Math.PI/8;else if(this.sneaking){this.offsetY=this.sneakingOffsetY;var s=Math.PI/6;this.pitch=s,this.parts.leftLeg.rx=this.parts.rightLeg.rx=-s,this.parts.leftLeg.y+=.25,this.parts.rightLeg.y+=.25,this.offsetZ=-.25}else this.swimming?(this.offsetY=this.defaultOffsetY,this.parts.leftLeg.rx=this.parts.rightLeg.rx=0,ga-this.swimStart<250?this.pitch=lerp((ga-this.swimStart)/250,0,Math.PI2+this.headPitch):this.pitch=Math.PI2+this.headPitch):(this.offsetY=this.defaultOffsetY,this.pitch=0,this.parts.leftLeg.rx=this.parts.rightLeg.rx=0,ga-this.swimStart<500&&(this.pitch=lerp((ga-this.swimStart)/500,Math.PI2+this.headPitch,0)));this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId),this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t;var o,i=this.parts.holding;if(this.holding!==this.prevHolding&&(this.prevHolding=this.holding),this.parts.rightArm.rx=this.holdRot,this.parts.leftArm.rx=0,S[this.holding].tool?(i.x=-.125,i.y=-.75,i.z=.375,i.w=i.h=i.d=1,i.rx=Math.PI/1.25,i.ry=-.5*Math.PI):"bow"===S[this.holding].name?(i.x=0,i.y=-.75,i.z=0,i.w=i.h=i.d=1,i.rx=Math.PI/1.25,i.ry=-.5*Math.PI):S[this.holding].spyglass?(i.x=.125,i.y=-.625,i.z=0,i.w=i.h=i.d=1,i.rx=-this.holdRot,i.ry=0):S[this.holding].item?(i.x=0,i.y=-.6875,i.z=.25,i.w=i.h=i.d=.5,i.rx=Math.PI2,i.ry=0):this.holding?(i.x=0,i.y=-.75,i.z=3*e,i.w=i.h=i.d=.25,i.rx=0,i.ry=Math.PI/4):this.parts.rightArm.rx=0,this.walking!==this.prevWalking&&(this.prevWalking=this.walking,this.walkStart=ga),o=this.walking?this.sprinting&&!this.swimming?sin((ga-this.walkStart)/250*Math.PI)*Math.PI/4:this.sneaking&&!this.swimming?sin((ga-this.walkStart)/220)*Math.PI/4:sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:0,this.walkRot=lerp(.5,this.walkRot,o),this.parts.leftLeg.rx+=this.walkRot,this.parts.rightLeg.rx-=this.walkRot,this.swimming&&this.walking){var r=(ga-this.swimStart)%2e3;if(r<750){var n=r*Math.PI2/750;this.parts.leftArm.rz+=n,this.parts.rightArm.rz-=n}else if(r<1e3)this.parts.leftArm.rz+=Math.PI2,this.parts.rightArm.rz-=Math.PI2;else if(r<1500){n=(500-(r-1e3))*Math.PI2/500;var l=(r-1e3)*Math.PI2/500;this.parts.leftArm.rx-=l,this.parts.rightArm.rx-=l,this.parts.leftArm.rz+=n,this.parts.rightArm.rz-=n}else{l=(500-(r-1500))*Math.PI2/500;this.parts.leftArm.rx-=l,this.parts.rightArm.rx-=l}}else this.parts.leftArm.rx+=this.walkRot,this.parts.rightArm.rx-=this.walkRot;if(this.punchEffect>0){this.punchEffect-=1.5,this.punchEffect<0&&(this.punchEffect=0);var h=this.punchEffect;this.parts.rightArm.rx-=h/6,this.parts.rightArm.ry2=sin(h*Math.PI/10),this.offsetry=this.parts.rightArm.ry2/3}else this.parts.rightArm.ry2=0;this.parts.leftArm.ry2=0,this.eating&&(this.parts.rightArm.rx-=Math.PI2+sin((ga-this.spawn)/125*Math.PI)/16-.5,this.parts.rightArm.ry2=Math.PI4),this.usingItem&&("bow"===S[this.holding].name?(this.parts.leftArm.rx=-Math.PI2,this.parts.leftArm.ry2=-Math.PI4,this.parts.rightArm.rx=-Math.PI2):S[this.holding].spyglass?this.parts.rightArm.rx=-Math.PI2+this.holdRot:S[this.holding].sword&&(this.parts.rightArm.rx=.8*-Math.PI2,this.parts.holding.ry=Math.PI,this.parts.holding.rx=Math.PI2,this.parts.holding.y=-.625,this.parts.holding.x=5*e))}setPos(e,t,a,s,o,i){this.targetX=e,this.targetY=t,this.targetZ=a,this.velx=s,this.vely=o,this.velz=i,this.lastPos=performance.now()}setRot(e,t,a){this.targetHeadPitch=e,this.targetHeadYaw=t,this.bodyRot=a||0===a?a:t}}Ve[Ve.length]=class extends Ze{static name2="Item";constructor(e,t,a,s,o,i,r,n,l,h=null,d=null,c){super(e,t,a,0,0,s,o,i,.25,.25,.25,null,null,0,3e5),this.block=r,this.from=c||void 0,this.durability=h,this.name=d,this.amount=l||1,this.gravityStength=-.07,this.noHitbox=!0,this.canFloat=!0,this.cullFace=!0,n&&(this.velx=.2*(Math.random()-.5),this.vely=.2*Math.random(),this.velz=.2*(Math.random()-.5))}goCloserToPlayer(e){let t=this.x-e.x,a=this.y-(e.y-e.bottomH),s=this.z-e.z;var o=1.425;t>-1.425&&t<o&&a>-.75&&a<2.3&&s>-1.425&&s<o&&this.moveTowards(e.x,Math.min(Math.max(this.y,e.y-e.bottomH),e.y+e.topH),e.z,o,2.3,o,3)}update(){if(this.updateVelocity(ga),this.move(ga),this.amount<=0)return this.canDespawn=!0;if(this.yaw+=.05,this.yaw>Math.PId&&(this.yaw-=Math.PId,this.previousYaw-=Math.PId),ga-this.spawn>1e3)for(var e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.goCloserToPlayer(e);let t=3/4;var a=S[this.block].stackSize,s=!1;for(var o of(this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,1,St),St))if("Item"===o.type&&o!==this&&o.block===this.block&&(!o.name&&!this.name||o.name===this.name)&&o.amount+this.amount<=a){var i=this.x-o.x,r=this.y-o.y,n=this.z-o.z;i>-t&&i<t&&r>-t&&r<t&&n>-t&&n<t&&(this.amount+=o.amount,o.amount=0,this.velx=(this.velx+o.velx)/2,this.vely=(this.vely+o.vely)/2,this.velz=(this.velz+o.velz)/2,this.x=(this.x+o.x)/2,this.y=(this.y+o.y)/2,this.z=(this.z+o.z)/2,s=!0)}if(s&&this.world.sendAll({type:"entEvent",event:"itemAmount",data:this.amount,id:this.id}),ga-this.spawn>this.despawns&&(this.canDespawn=!0),this.amount||(this.canDespawn=!0),this.insideBlock&&S[this.insideBlock].itemOnTop||this.standingOn&&S[this.standingOn].itemOnTop){var l=this.insideBlock&&S[this.insideBlock].itemOnTop,h=l?this.insideBlock:this.standingOn,d=l?round(this.y):ceil(this.y-this.height/2)-1,c=S[h].itemOnTop(round(this.x),d,round(this.z),this.dimension,this);c?(this.amount=c,this.willUpdateShape=!0,this.world.sendAll({type:"entEvent",event:"itemAmount",data:this.amount,id:this.id})):0===c&&(this.canDespawn=!0)}}};let st=Ve[Ve.length]=class extends Ze{static name2="BlockEntity";constructor(e,t,a,s,o){super(t,a,s,0,0,0,0,0,1,1,1,null,null,null,15e5),this.block=e,this.solidOnGround=o,this.lastY=a,this.noHitbox=!0,this.cullFace=!0}changeBlock(e){this.block!==e&&(this.block=e)}update(){if(this.updateVelocity(ga),this.move(ga),ga-this.spawn>this.despawns&&(this.canDespawn=!0),this.onGround&&this.solidOnGround){var e=round(this.x),t=round(this.y),a=round(this.z);(r=this.world.getBlock(e,t,a,this.dimension))&&!S[r].liquid?this.world.addItems(e,t,a,this.dimension,0,0,0,this.block):(this.world.setBlock(e,t,a,this.block,!1,!1,!1,!1,this.dimension),this.world.blockSound(this.block,"land",e,t,a)),this.canDespawn=!0}if("anvil"===S[this.block].name||"pointedDripstone"===S[this.block].name){var s,o,i=Tt(this);if("pointedDripstone"===S[this.block].name?s=min(max(2*(this.lastY-this.y-2),0),40):"anvil"===S[this.block].name&&(s=min(max(2*(this.lastY-this.y-1),0),40)),Bt)"pointedDripstone"===S[this.block].name?o=username+" got poked to death by a falling pointed dripstone"+(p.attackedBy?" while being attacked by "+p.attackedBy+".":"."):"anvil"===S[this.block].name&&(o=username+" got hit by an anvil and stuff"+(p.attackedBy?" while being attacked by "+p.attackedBy+".":".")),this.world.sendAll({type:"hit",username:from,damage:s,message:o,x:this.previousX,y:this.previousY,z:this.previousZ},collided.id);else i&&i.damage&&i.damage(s);if("pointedDripstone"===S[this.block].name&&this.onGround){var r=x.pointedDripstone;this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,r,!0),this.world.blockParticles(r,this.x,this.y,this.z,30,"break",this.dimension),this.canDespawn=!0}}}},ot=Ve[Ve.length]=class extends st{static name2="PrimedTNT";constructor(e,t,a,s,o=x.tnt){super(o,e,t,a),this.velx=.1*Math.random()-.05,this.vely=.1*Math.random(),this.velz=.1*Math.random()-.05,this.timerStart=s||this.spawn,this.lastCollidedY=this.timerStart,this.timeLimit=80,this.tntBlockId=o}explode(){var e=round(this.x),t=round(this.y),a=round(this.z);this.world.explode(e,t,a,4,this.liquid||!this.world.settings.tntExplode,this.dimension)}update(){this.updateVelocity(ga),this.move(ga),this.onGround&&(this.lastCollidedY=this.y),this.y-this.lastCollidedY>19.75&&(this.lastCollidedY=this.y,this.timerStart-=1e3),(ga-this.spawn)/u>=this.timeLimit&&(this.canDespawn=!0,this.explode())}};Ve[Ve.length]=class extends ot{static name2="PrimedSuperTNT";constructor(e,t,a,s){super(e,t,a,s,x.tnt|J)}explode(){var e=round(this.x),t=round(this.y),a=round(this.z);this.world.explode(e,t,a,8,S[this.world.getBlock(e,t,a)].liquid||!this.world.settings.tntExplode,this.dimension)}},Ve[Ve.length]=class extends ot{static name2="PrimedUltraTNT";constructor(e,t,a,s){super(e,t,a,s,x.tnt|Q)}explode(){var e=round(this.x),t=round(this.y),a=round(this.z);this.world.explode(e,t,a,24,S[this.world.getBlock(e,t,a)].liquid||!this.world.settings.tntExplode,this.dimension)}},Ve[Ve.length]=class extends ot{static name2="PrimedUnTNT";constructor(e,t,a,s){super(e,t,a,s,x.untnt)}explode(){var e=round(this.x),t=round(this.y),a=round(this.z);this.world.explode(e,t,a,5,S[this.world.getBlock(e,t,a)].liquid||!this.world.settings.tntExplode||"original",this.dimension)}},Ve[Ve.length]=class extends st{static name2="MovingBlock";constructor(e,t,a,s,o,i,r,n,l=!1,h=null){super(e,t,a,s),this.sx=t,this.sy=a,this.sz=s,this.mx=o,this.my=i,this.mz=r,this.despawns=n,this.solidWhenDone=l,this.tags=h,this.canStandOn=!0,this.endAs=null}update(){this.lastUpdate-this.spawn>=this.despawns&&(this.canDespawn=!0,this.solidWhenDone&&(this.x=this.mx,this.y=this.my,this.z=this.mz,this.world.setBlock(round(this.x),round(this.y),round(this.z),this.endAs||this.block,!1,!1,!1,!1,this.dimension),this.tags&&this.world.setTags(round(this.x),round(this.y),round(this.z),this.tags,!1,this.dimension))),this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.lastUpdate=ga;var e=min((ga-this.spawn)/this.despawns,1);this.x=lerp(e,this.sx,this.mx),this.y=lerp(e,this.sy,this.my),this.z=lerp(e,this.sz,this.mz),this.velx=this.x-this.previousX,this.vely=this.y-this.previousY,this.velz=this.z-this.previousZ}},Ve[Ve.length]=class extends st{static name2="BlockDisplay";constructor(e,t,a,s,o,i,r){super(e,t,a,s,o,i,r),this.width=o,this.height=i,this.depth=r}update(){}},Ve[Ve.length]=class extends st{static name2="EnderPearl";constructor(e,t,a,s,o,i){super(x.enderPearl,e,t,a),this.velx=s,this.vely=o,this.velz=i,this.from=null,this.facesPlayer=!0,this.gravityStength=-.04}update(){this.updateVelocity(ga),this.move(ga),ga-this.spawn>this.despawns&&(this.canDespawn=!0),this.hasCollided&&(this.from&&this.world.sendPlayer({type:"tp",x:this.x,y:this.y+1,z:this.z,dimension:this.dimension},this.from),this.canDespawn=!0),this.canFacePlayer=!0}},Ve[Ve.length]=class extends st{static name2="Snowball";constructor(e,t,a,s,o,i){super(x.snowball,e,t,a),this.velx=s,this.vely=o,this.velz=i,this.from=null,this.facesPlayer=!0,this.gravityStength=-.04}update(){if(this.updateVelocity(ga),this.move(ga),ga-this.spawn>250){var e=Tt(this);let t=xt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Bt?this.world.sendAll({type:"hit",username:t,damage:1,message:t+" killed "+e.username+" with snowballs.",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&e.onhit(1,!1,0,0,this.from),this.canDespawn=!0)}(ga-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0),this.canDespawn&&this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),this.canFacePlayer=!0}},Ve[Ve.length]=class extends st{static name2="SmallFireball";constructor(e,t,a,s,o,i){super(x.fireCharge,e,t,a),this.width=this.height=this.depth=.3125,this.velx=s,this.vely=o,this.velz=i,this.from=null,this.facesPlayer=!0,this.gravityStength=-.07}update(){if(this.updateVelocity(ga),this.move(ga),ga-this.spawn>250){var e=Tt(this);let t=xt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Bt?this.world.sendAll({type:"hit",username:t,damage:5,burn:8,message:e.username+" was shot by fireballs from "+t+".",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&(e.onhit(5,!1,0,0,this.from),e.burnTimer+=8),this.canDespawn=!0)}(ga-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0,this.hasCollided&&this.world.setBlock(round(this.x),round(this.y),round(this.z),x.fire,!1,!1,!1,!1,this.dimension)),this.canDespawn&&this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),this.canFacePlayer=!0}},Ve[Ve.length]=class extends st{static name2="Egg";constructor(e,t,a,s,o,i){super(x.egg,e,t,a),this.velx=s,this.vely=o,this.velz=i,this.from=null,this.facesPlayer=!0,this.gravityStength=-.07}update(){this.updateVelocity(ga),this.move(ga);var e=Tt(this);let t=xt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Bt?this.world.sendAll({type:"hit",username:t,damage:1,message:t+" killed "+e.username+" with eggs.",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&e.onhit(1,!1,0,0,this.from),this.canDespawn=!0),(ga-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0),this.canDespawn&&(this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),rand()>.9&&this.world.addEntity(new Ve[Xe.Chicken](this.x,this.y,this.z),!1,this.dimension)),this.canFacePlayer=!0}},Ve[Ve.length]=class extends st{static name2="SlingshotShot";constructor(e,t,a,s,o,i){super(x.ironNugget,e,t,a),this.velx=s,this.vely=o,this.velz=i,this.despawns=1e4,this.facesPlayer=!0,this.gravityStength=-.02}update(){this.updateVelocity(ga),this.move(ga),ga-this.spawn>this.despawns&&this.onGround&&(this.canDespawn=!0);var e=Tt(this);e&&(Bt?this.world.sendAll({type:"hit",damage:5,message:e.username+" got killed by a slingshot.",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&e.damage(5),this.canDespawn=!0),this.canFacePlayer=!0}move(e){let t=floor(this.x-this.width/2),a=ceil(this.x+this.width/2),s=floor(this.y-this.height/2),o=ceil(this.y+this.height/2),i=floor(this.z-this.depth/2),r=ceil(this.z+this.depth/2),n=null;this.liquid=!1;for(let e=t;e<=a;e++)for(let t=s;t<=o;t++)for(let a=i;a<=r;a++){let s=this.world.getBlock(e,t,a,this.dimension);s&&S[s].solid&&this.contacts.add(e,t,a,s),e===round(this.x)&&a===round(this.z)&&S[s].liquid&&(this.liquid=!0)}this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z;var l,h,d,c=this.velx,p=this.vely,u=this.velz;this.canStepX=!1,this.canStepY=!1,this.onGround=!1,this.hasCollided=!1,this.y+=this.vely;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],null,this.vely,null,n[3])){this.y=this.previousY,this.vely=0,this.hasCollided=!0,h=!0;break}this.y===this.previousY&&(this.canStepX=!0,this.canStepZ=!0),this.x+=this.velx;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],this.velx,null,null,n[3])){if(this.canStepX&&!this.world.getBlock(n[0],n[1]+1,n[2],this.dimension)&&!this.world.getBlock(n[0],n[1]+2,n[2],this.dimension))continue;this.x=this.previousX,this.velx=0,this.hasCollided=!0,l=!0;break}this.z+=this.velz;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],null,null,this.velz,n[3])){if(this.canStepZ&&!this.world.getBlock(n[0],n[1]+1,n[2],this.dimension)&&this.world.getBlock(n[0],n[1]+2,n[2]),this.dimension)continue;this.z=this.previousZ,this.velz=0,this.hasCollided=!0,d=!0;break}this.onGround&&(this.hasCollided=!0),l&&(this.velx=-c),h&&(this.vely=-p),d&&(this.velz=-u),this.updateChunk(),this.lastUpdate=e,this.contacts.clear()}},Ve[Ve.length]=class extends Ze{static name2="Arrow";constructor(e,t,a,s,o,i,r){super(e,t,a,0,0,s,o,i,.25,.25,.25,null,null,null,6e4),this.gravityStength=-.01,this.prevChangedX=e,this.prevChangedY=t,this.prevChangedZ=a,this.direction=new Ht(s,o,i),this.stopStart=this.spawn,this.hasStopped=!1,this.noHitbox=!0,this.from=r}updateVelocity(e){if(this.hasCollided)this.velx=this.vely=this.velz=0;else{this.vely+=this.gravityStength,this.vely<-1.5&&(this.vely=-1.5);let e=this.liquid?.7:.99;this.velz+=this.velz*e-this.velz,this.velx+=this.velx*e-this.velx}}collided(e,t,a,s,o,i,r){let n,l,h,d,c,p,u,m,g=S[r].shape.verts,k=this.x-this.width/2-e,y=this.y-this.height/2-t,b=this.z-this.depth/2-a,w=this.x+this.width/2-e,f=this.y+this.height/2-t,B=this.z+this.depth/2-a,v=g[0];if(o<=0&&(v=g[1]),null===s&&null===i){let e=!1;for(let a of v)u=a.min,n=u[0],h=u[2],m=a.max,d=m[0],p=m[2],a[1]>y&&a[1]<f&&n<w&&d>k&&h<B&&p>b&&(e=!0,o<=0?(this.onGround=!0,this.y=a[1]+t+this.height/2,this.vely=0):(this.y=a[1]+t-this.height/2,this.vely=0)),a[1]>=y&&a[1]<=f&&n<=w&&d>=k&&h<=B&&p>=b&&(this.hasCollided=!0);return e}if(s<0?v=g[4]:s>0&&(v=g[5]),null!==s){let t=!1;for(let a of v)u=a.min,h=u[2],l=u[1],m=a.max,p=m[2],c=m[1],a[0]>k&&a[0]<w&&l<f&&c>y&&h<B&&p>b&&(c-y>.5&&(this.canStepX=!1,this.x=e+a[0]+(s<0?this.width/2:-this.width/2),this.velx=0),t=!0),a[0]>=k&&a[0]<=w&&l<=f&&c>=y&&h<=B&&p>=b&&(this.hasCollided=!0);return t}if(i<0?v=g[2]:i>0&&(v=g[3]),null!==i){let e=!1;for(let t of v)u=t.min,n=u[0],l=u[1],m=t.max,d=m[0],c=m[1],t[2]>b&&t[2]<B&&l<f&&c>y&&n<w&&d>k&&(c-y>.5&&(this.canStepZ=!1,this.z=a+t[2]+(i<0?this.depth/2:-this.depth/2),this.velz=0),e=!0),t[2]>=b&&t[2]<=B&&l<=f&&c>=y&&n<=w&&d>=k&&(this.hasCollided=!0);return e}}update(){if(this.updateVelocity(ga),this.move(ga),this.previousX===this.x&&this.previousY===this.y&&this.previousZ===this.z||(this.prevChangedX=this.previousX,this.prevChangedY=this.previousY,this.prevChangedZ=this.previousZ),this.hasCollided){if(!this.hasStopped){this.hasStopped=!0,this.stopStart=ga,this.direction.normalize();var e=round(this.x+this.direction.x),t=round(this.y+this.direction.y),a=round(this.z+this.direction.z),s=this.world.getBlock(e,t,a,this.dimension);s&&S[s].projectileHit&&S[s].projectileHit(e,t,a,this.dimension,this)}}else this.hasStopped=!1,this.direction.x=this.velx,this.direction.y=this.vely,this.direction.z=this.velz;if(ga-this.stopStart>this.despawns&&(this.canDespawn=!0),!this.hasCollided){let e=Tt(this),t=xt(this.from,this.world);t=t&&(t.username||t.name);let a=4*dist3(this.velx,this.vely,this.velz,0,0,0);e&&e!==this&&(this.canDespawn=!0,Bt?this.world.sendAll({type:"hit",velx:this.velx/2,velz:this.velz/2,username:t,damage:a,message:e.username+" got killed by an arrow"+(t?" from "+t+".":"."),x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.onhit?e.onhit(a,!1,this.velx/2,this.velz/2,this.from):this.canDespawn=!1)}this.yaw=Math.PId-(atan2(this.z-this.prevChangedZ,this.x-this.prevChangedX)+Math.PI2+Math.PI);var o=dist2(this.prevChangedX,this.prevChangedZ,this.x,this.z);this.pitch=Math.PId-atan2(this.y-this.prevChangedY,o)}},Ve[Ve.length]=class extends Ze{static name2="ExperienceOrb";constructor(e,t,a,s){super(e,t,a,0,0,0,0,0,.5,.5,.5,null,null,null,3e5),this.amount=s,this.noHitbox=!0,this.facesPlayer=!0}goToPlayer(e){var t=dist3(this.x,this.y,this.z,e.x,e.y-e.bottomH,e.z);return t<7.25&&this.moveTowards(e.x,e.y-e.bottomH,e.z,7.25,7.25,7.25,5,!0),t<.5}update(){for(var e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.goToPlayer(e);this.updateVelocity(ga),this.move(ga),ga-this.spawn>this.despawns&&(this.canDespawn=!0)}};class it extends Ze{static mob=!0;mob=!0;constructor(){super(...arguments),this.health=0,this.lastDamage=0,this.lastY=this.y,this.path=null,this.walking=!1,this.panick=0,this.drop=null,this.dropAmount=0,this.maxDamageBlock=0,this.maxBurnBlock=0,this.burnTimer=0,this.burning=!1,this.lastBlockDamage=0,this.oxygen=20,this.lastOxygenChange=0,this.spinTarget=0,this.spinTargetPitch=0,this.die=!1,this.lastStepSound=0,this.noScale=!0,this.hostile=!1,this.minFollowDist=0,this.maxFollowDist=0,this.detectionDist=0,this.target=null,this.targetEnt=null,this.attackStrength=0,this.attackCooldown=0,this.maxAttackCooldown=0,this.holding=this.prevHolding=0,this.canClimb=!1,this.canFly=!1,this.attacks=null,this.attracts=null,this.attractEnt=null,this.attractedBy=null,this.sitting=!1,this.owner=null,this.name=null,this.despawnStart=0}findPath(e,t,a,s,o,i){let r,n,l,h,d,c,p,u,m,g=[],k=[e,t,a,null],y=e,b=t,w=a,f=this.canFly;for(;k.length&&max(abs(y-s),abs(b-o),abs(w-i))>1;){[y,b,w]=k;let o=1/0,B=1/0;if(c=p=u=0,max(abs(y-e),abs(b-t),abs(w-a))<=10){if(r=abs(y+1-s)+abs(w-i),r<o){n=1,l=0,h=0,d=!1,m=1/0;let e=S[this.world.getBlock(y+n,b+1,w+h)].solid,a=S[this.world.getBlock(y+n,b,w+h)].solid,s=S[this.world.getBlock(y+n,b-1,w+h)].solid,i=S[this.world.getBlock(y+n,b-2,w+h)].solid;(a||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(s||S[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!a&&!S[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(i||f)&&!s&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=r,c=n,p=l,u=h,B=m)}if(r=abs(y-1-s)+abs(w-i),r<o){n=-1,l=0,h=0,d=!1,m=1/0;let e=S[this.world.getBlock(y+n,b+1,w+h)].solid,a=S[this.world.getBlock(y+n,b,w+h)].solid,s=S[this.world.getBlock(y+n,b-1,w+h)].solid,i=S[this.world.getBlock(y+n,b-2,w+h)].solid;(a||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(s||S[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!a&&!S[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(i||f)&&!s&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=r,c=n,p=l,u=h,B=m)}if(r=abs(y-s)+abs(w+1-i),r<o){n=0,l=0,h=1,d=!1,m=1/0;let e=S[this.world.getBlock(y+n,b+1,w+h)].solid,a=S[this.world.getBlock(y+n,b,w+h)].solid,s=S[this.world.getBlock(y+n,b-1,w+h)].solid,i=S[this.world.getBlock(y+n,b-2,w+h)].solid;(a||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(s||S[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!a&&!S[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(i||f)&&!s&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=r,c=n,p=l,u=h,B=m)}if(r=abs(y-s)+abs(w-1-i),r<o){n=0,l=0,h=-1,d=!1,m=1/0;let e=S[this.world.getBlock(y+n,b+1,w+h)].solid,a=S[this.world.getBlock(y+n,b,w+h)].solid,s=S[this.world.getBlock(y+n,b-1,w+h)].solid,i=S[this.world.getBlock(y+n,b-2,w+h)].solid;(a||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(s||S[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!a&&!S[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(i||f)&&!s&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=r,c=n,p=l,u=h,B=m)}if(!isFinite(o)&&this.canClimb){let e=S[this.world.getBlock(y+1,b,w)].solid||S[this.world.getBlock(y-1,b,w)].solid||S[this.world.getBlock(y,b,w+1)].solid||S[this.world.getBlock(y,b,w-1)].solid,a=S[this.world.getBlock(y,b+1,w)].solid,r=S[this.world.getBlock(y,b,w)].solid;!a&&!r&&e&&abs(b+1-t)<B&&!xyArrayHas(g,k,y,b+1,w)&&(p=1,B=abs(b+1-t),o=abs(y-s)+abs(w-i))}else if(!isFinite(o)&&this.canFly){let e=S[this.world.getBlock(y,b+1,w)].solid,a=S[this.world.getBlock(y,b,w)].solid;!e&&!a&&abs(b+1-t)<B&&!xyArrayHas(g,k,y,b+1,w)&&(p=1,B=abs(b+1-t),o=abs(y-s)+abs(w-i))}}g.push(...k.splice(0,4)),isFinite(o)&&k.push(y+c,b+p,w+u,g.length-4)}if(y===e&&b===t&&w===a)return null;let B=g.length-4,v=[y,b,w,y+c,b+p,w+u];for(;v.length<85&&(B=g[B+3],B||0===B);)v.unshift(g[B],g[B+1],g[B+2]);return v}randomPath(){let e,t,a=round(this.x+rand(-10,10)),s=round(this.z+rand(-10,10));for(e=t=round(this.y);e<round(this.y)+10;e++,t--){let o=S[this.world.getBlock(a,e,s,this.dimension)];if(!o.solid&&!o.liquid)break;if(o=S[this.world.getBlock(a,t,s,this.dimension)],!o.solid&&!o.liquid)break}this.path=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),a,e,s)||null}AI(e){let t=this.target&&xt(this.target,this.world),a=t||this.attractEnt,s=a&&max(abs(a.x-this.x),abs(a.y-this.y),abs(a.z-this.z));if(this.path&&(!a||a===t&&s>this.minFollowDist||a===this.attractEnt&&s>2)){let e,t,a,s,o=1/0;for(let i=0;i<this.path.length;i+=3){let r=max(abs(this.path[i]-this.x),abs(this.path[i+1]-this.y),abs(this.path[i+2]-this.z));r<o&&(o=r,e=this.path[i],t=this.path[i+1],a=this.path[i+2],s=i)}s>0&&this.path.splice(0,s);let i=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.spinTarget=i;let r=max(min(i-this.yaw,.3),-.3);this.yaw+=r;let n=this.panick>0?.08:this.target?.04:.02;this.velx+=sin(this.yaw)*n,this.velz+=cos(this.yaw)*n,t>round(this.y-this.height/2)&&(this.canClimb?this.vely=.2:this.canFly?this.vely+=.2:this.onGround&&(this.vely=.6)),max(abs(this.x-e),abs(this.z-a))<(this.panick?1:.25)&&abs(this.y-this.height/2-t)<1&&this.path.splice(0,3),this.path.length||(this.path=null),this.walking=!0}else if(this.walking=!1,this.spinTarget!==this.yaw){let e=this.spinTarget,t=max(min(e-this.yaw,.1),-.1);this.yaw+=t}if(this.liquid&&(this.vely+=.3),this.path&&this.sitting&&(this.path=null),this.sitting&&this.targetEnt&&(this.targetEnt=t=null),t){(max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z))>this.maxFollowDist||this.dimension!==t.dimension||t.hidden||t.die||void 0!==t.survival&&!t.survival)&&(this.target=t=null)}if(this.hostile&&!t&&!this.sitting){let e=1/0;if(!this.attacks||this.attacks.includes("Player"))for(let a of this.world.players)if(this.dimension===a.dimension&&!a.hidden&&!a.die&&a.survival){let s=max(abs(this.x-a.x),abs(this.y-a.y),abs(this.z-a.z));s<this.detectionDist&&s<e&&(e=s,this.target=a.id,t=a)}if(this.attacks){this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,this.detectionDist,St);for(let a of St)if(this.dimension===a.dimension&&!a.hidden&&!a.die&&this.attacks.includes(a.type)){let s=max(abs(this.x-a.x),abs(this.y-a.y),abs(this.z-a.z));s<this.detectionDist&&s<e&&(e=s,this.target=a.id,t=a)}}}if(this.attractEnt=null,!t&&this.attracts){let e=1/0;for(let t of this.world.players){let a=max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z));t.dimension===this.dimension&&!t.hidden&&!t.die&&a<5&&a<e&&this.attracts.includes(t.holding)&&(e=a,this.attractEnt=t)}}if(this.attractedBy=this.attractEnt?this.attractEnt.id:null,this.attackCooldown>0&&this.attackCooldown--,a&&!this.sitting){let e=round(a.y);if(!this.canFly){for(;!S[this.world.getBlock(round(this.x),e,round(this.z),this.dimension)].solid&&e>round(this.y)-this.detectionDist;)e--;e++}let o=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),round(a.x),e,round(a.z));if(o&&(o.splice(0,3),this.path=o),t&&this.attackStrength&&this.attackCooldown<=0&&(s||0===s)&&s<=this.minFollowDist){let e=sin(this.yaw)/2,a=cos(this.yaw)/2;if("Player"===t.type){let e=this.name?t.username+"was killed by "+this.name+".":this.killMessage(t.username);this.world.sendPlayer({type:"hit",damageType:"mobHit",username:this.name||this.defaultName,id:this.id,damage:this.attackStrength,message:e,x:this.x,y:this.y,z:this.z},t.id)}else t.onhit&&t.onhit(this.attackStrength,!1,e,a,this.id);this.attackCooldown=this.maxAttackCooldown,this.world.sendAllInChunk({type:"entEvent",event:"mobAttack",id:this.id},this.chunkX,this.chunkZ,this.chunkDimension)}}else!this.sitting&&rand()>.995?this.randomPath():rand()>.99&&(this.spinTarget=rand(Math.PId),this.spinTargetPitch=0);if(this.saySound&&rand()>.999){let e=this.saySound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e)}this.targetEnt=t,this.additionalAI&&this.additionalAI()}pushByPlayer(e){let t=this.width/2,a=this.depth/2,s=this.height/2,o=e.w,i=e.w,r=t+o,n=a+i;if(this.x-t<e.x+o&&this.x+t>e.x-o&&this.z-a<e.z+i&&this.z+a>e.z-i&&this.y-s<e.y+e.topH&&this.y+s>e.y-e.bottomH){let t=(this.x-e.x)/r,a=(this.z-e.z)/n;if(0===t&&0===a)return;let s=sqrt(t*t+a*a);t=t/s/r/10,a=a/s/n/10,this.velx+=t,this.velz+=a}}pushByMob(e){let t=this.width/2,a=this.depth/2,s=this.height/2,o=e.width/2,i=e.depth/2,r=e.height/2,n=t+o,l=a+i;if(this.x-t<e.x+o&&this.x+t>e.x-o&&this.z-a<e.z+i&&this.z+a>e.z-i&&this.y-s<e.y+r&&this.y+s>e.y-r){let t=(this.x-e.x)/n,a=(this.z-e.z)/l;if(0===t&&0===a)return;let s=sqrt(t*t+a*a);t=t/s/n/10,a=a/s/l/10,this.velx+=t,this.velz+=a}}ontouch(e,t,a,s){let o=S[s];if(this.x-.6<e+1&&this.x+.6>e-1&&this.y-.6<t+1&&this.y+.6>t-1&&this.z-.6<a+1&&this.z+.6>a-1){if(o.damage){let e=o.damage;"function"==typeof e&&(e=e(round(this.x),round(this.y),round(this.z),this.dimension)),e>this.maxDamageBlock&&(this.maxDamageBlock=e)}o.burnEnt&&(this.maxBurnBlock=.2)}else o.damageUp&&this.x-this.width/2<e+.5&&this.x+this.width/2>e-.5&&this.y-this.height/2<=t+.5&&this.y+this.height/2>t-.5&&this.z-this.depth/2<a+.5&&this.z+this.depth/2>a-.5&&o.damageUp>this.maxDamageBlock&&(this.maxDamageBlock=o.damageUp)}mobUpdate(e){this.maxBurnBlock=this.maxDamageBlock=0,this.updateVelocity(e),this.move(e);for(let e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.pushByPlayer(e);this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,16,St);for(let e of St)e.mob&&e!==this&&e.dimension===this.dimension&&this.pushByMob(e);if(this.AI(e),this.y>this.lastY&&(this.lastY=this.y),this.onGround&&!this.canFly){let e=this.lastY-this.y;this.lastY=this.y,!this.liquid&&e>3&&this.damage(e-3)}if(this.maxDamageBlock>0&&e-this.lastBlockDamage>500&&(this.lastBlockDamage=e,this.damage(this.maxDamageBlock),this.path||this.randomPath(),this.sitting=!1,this.world.sendAllInChunk({type:"entEvent",event:"sit",id:this.id,data:this.sitting},this.chunkX,this.chunkZ,this.chunkDimension),this.panick=20),this.burnTimer+=this.maxBurnBlock,this.burnTimer>16&&(this.burnTimer=16),this.burning=this.burnTimer>0,this.burning&&e-this.lastBlockDamage>1e3&&(this.lastBlockDamage=e,this.burnTimer-=2,this.burnTimer<0&&(this.burnTimer=0),this.damage(1),this.path||this.randomPath(),this.sitting=!1,this.world.sendAllInChunk({type:"entEvent",event:"sit",id:this.id,data:this.sitting},this.chunkX,this.chunkZ,this.chunkDimension),this.panick=20),this.insideBlock&&(S[this.insideBlock].solid&&!S[this.insideBlock].transparent||S[this.insideBlock].liquid)?this.oxygen>0?e-this.lastOxygenChange>(S[this.insideBlock].liquid?1e3:500)&&(this.lastOxygenChange=e,this.oxygen-=2):e-this.lastOxygenChange>500&&(this.lastOxygenChange=e,this.damage(1),this.path||this.randomPath(),this.world.sendAllInChunk({type:"entEvent",event:"sit",id:this.id,data:this.sitting},this.chunkX,this.chunkZ,this.chunkDimension),this.sitting=!1,this.panick=20):this.oxygen<20&&e-this.lastOxygenChange>250&&(this.lastOxygenChange=e,this.oxygen+=2),this.oxygen<0&&(this.oxygen=0),this.oxygen>20&&(this.oxygen=20),this.harmEffect>0&&(this.harmEffect-=3),this.health<=0&&!this.die){if(this.die=!0,this.deathSound){let e=this.deathSound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e,0)}if(this.drop){for(let e of this.drop){let t=this.dropAmount||1;Array.isArray(t)&&(t=round(rand(t[0],t[1]))),this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,e,!0,t,null,null,this.id)}this.holding&&this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,this.holding,!0,null,null,null,this.id),this.experience&&this.world.addEntity(new Ve[Xe.ExperienceOrb](this.x,this.y,this.z,this.experience),!1,this.dimension),this.ondie&&this.ondie()}}if(this.die&&(this.dieEffect+=.04,this.dieRotate=this.dieEffect**4*Math.PI2,this.dieEffect>1&&(this.canDespawn=!0,this.dieEffect=0,this.dieRotate=0,this.hidden=!0)),this.walking&&this.stepSound&&e-this.lastStepSound>(this.panick?500:1e3)){this.lastStepSound=e;let t=this.stepSound;Array.isArray(t)&&(t=t[Math.floor(Math.random()*t.length)]),this.world.playSound(this.x,this.y,this.z,t)}this.panick>0&&this.panick--}updateAlways(){let e=!0;for(let t of this.world.players)max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z))<=48&&(e=!1);this.name&&(e=!1),e?ga-this.spawn>this.despawnStart&&(this.canDespawn=!0):this.despawnStart=ga+this.despawns}damage(e,t,a,s){t&&(this.velx+=t),a&&(this.vely+=a),s&&(this.velz+=s);var o=e;if(this.harmEffect>0){if(!(e>this.lastDamage))return;e-=this.lastDamage}if(this.health-=e,this.harmEffect=30,this.lastDamage=o,this.hurtSound){let e=this.hurtSound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e)}}onhit(e,t,a,s,o){t||this.world.sendAll({type:"entEvent",event:"damageMob",id:this.id,data:{damage:e,vx:a,vz:s,from:o}}),this.panick=60,this.path||this.randomPath(),this.world.sendAllInChunk({type:"entEvent",event:"sit",id:this.id,data:this.sitting},this.chunkX,this.chunkZ,this.chunkDimension),this.sitting=!1,this.damage(e,a,min(max(.5-this.vely,0),.5),s);e:if(this.hostile){if(this.owner){if(o===Pt(this.owner,this.world).username)break e}this.target=o||null}}}Ve[Ve.length]=class extends it{static name2="Cow";drop=[x.rawBeef];dropAmount=[1,3];saySound=["entity.cow.say1","entity.cow.say2","entity.cow.say3","entity.cow.say4"];stepSound=["entity.cow.step1","entity.cow.step2","entity.cow.step3","entity.cow.step4"];hurtSound=["entity.cow.hurt1","entity.cow.hurt2","entity.cow.hurt3"];defaultName="Cow";constructor(e,t,a){super(e,t,a,0,0,0,0,0,1,21/16,1,null,null,null,3e5);var s=1/16;this.offsetY=.59375,this.addPart("frontRightLeg",null,null,-.25,-.5,7*s,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.25,-.5,7*s,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.25,-.5,-.375,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.25,-.5,-.375,1,1,1,0,0),this.addPart("head",null,null,0,0,9*s,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[x.wheat]}update(){this.mobUpdate(ga),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:a}=this.targetEnt||this.attractEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Pig";drop=[x.rawPorkchop];dropAmount=[1,3];saySound=["entity.pig.say1","entity.pig.say2","entity.pig.say3"];stepSound=["entity.pig.step1","entity.pig.step2","entity.pig.step3","entity.pig.step4","entity.pig.step5"];deathSound="entity.pig.death";defaultName="Pig";constructor(e,t,a){super(e,t,a,0,0,0,0,0,1,1,1,null,null,null,3e5);var s=1/16;this.offsetY=.375,this.addPart("frontRightLeg",null,null,-3*s,-.5,5*s,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,3*s,-.5,5*s,1,1,1,0,0),this.addPart("backRightLeg",null,null,-3*s,-.5,-7*s,1,1,1,0,0),this.addPart("backLeftLeg",null,null,3*s,-.5,-7*s,1,1,1,0,0),this.addPart("head",null,null,0,-.125,.625,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[x.carrot,x.potato]}update(){this.mobUpdate(ga),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:a}=this.targetEnt||this.attractEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Creeper";drop=[x.gunpowder];dropAmount=[0,2];experience=5;hurtSound=["entity.creeper.say1","entity.creeper.say2","entity.creeper.say3","entity.creeper.say4"];deathSound="entity.creeper.death";defaultName="Creeper";constructor(e,t,a){super(e,t,a,0,0,0,0,0,.5,1.625,.5,null,null,null,3e5);var s=1/16;this.offsetY=-1*s,this.addPart("frontRightLeg",null,null,-.125,-.375,.25,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.125,-.375,.25,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.125,-.375,-.25,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.125,-.375,-.25,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=3,this.maxFollowDist=this.detectionDist=16,this.timerStart=0,this.explodeAmount=0,this.timeLimit=30}explode(){var e=round(this.x),t=round(this.y),a=round(this.z);this.world.explode(e,t,a,3,this.liquid||!worldSettings.tntExplode,this.dimension)}update(){this.mobUpdate(ga),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}let t=this.targetEnt&&max(abs(this.targetEnt.x-this.x),abs(this.targetEnt.y-this.y),abs(this.targetEnt.z-this.z));(this.targetEnt&&t<=this.minFollowDist?(this.explodeAmount||(this.timerStart=ga,this.world.playSound(this.x,this.y,this.z,"entity.tnt.fuse",0)),this.explodeAmount++,this.explodeAmount>20&&(this.explodeAmount=20)):this.explodeAmount&&this.explodeAmount--,this.shader=0,this.extraSize=0,this.explodeAmount>0)&&(Math.floor((ga-this.timerStart)/125)%2||(this.shader=1),(ga-this.timerStart)/u>=this.timeLimit-10&&(this.extraSize=min(-(this.timeLimit-10-(ga-this.timerStart)/u)/40,.25),this.shader=1),(ga-this.timerStart)/u>=this.timeLimit&&(this.canDespawn=!0,this.explode()))}forceExplode(e){this.explodeAmount=100,this.timerStart=ga,e||this.world.sendAllInChunk({type:"entEvent",event:"creeperForceExplode",id:this.id},this.chunkX,this.chunkZ,this.chunkDimension)}},Ve[Ve.length]=class extends it{static name2="Sheep";drop=[x.rawMutton];dropAmount=[1,2];saySound=["entity.sheep.say1","entity.sheep.say2","entity.sheep.say3"];hurtSound=["entity.sheep.say1","entity.sheep.say2","entity.sheep.say3"];stepSound=["entity.sheep.step1","entity.sheep.step2","entity.sheep.step3","entity.sheep.step4","entity.sheep.step5"];defaultName="Sheep";constructor(e,t,a,s,o){super(e,t,a,0,0,0,0,0,1,1,1,null,null,0,3e5,"vao");var i=1/16;if(this.offsetY=7*i,this.addPart("frontRightLeg",null,null,-3*i,-3*i,5*i,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,3*i,-3*i,5*i,1,1,1,0,0),this.addPart("backRightLeg",null,null,-3*i,-3*i,-7*i,1,1,1,0,0),this.addPart("backLeftLeg",null,null,3*i,-3*i,-7*i,1,1,1,0,0),this.addPart("head",null,null,0,.25,.625,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.fur=!0,this.prevFur=!0,this.eating=0,this.color=s,this.wool=o,!s){let e,t=rand(100);e=t>50?"white":t>35?"lightGray":t>20?"gray":t>5?"black":t>1?"brown":"pink",this.color=Kt.dye[e].slice(),this.wool=e+"Wool"}this.attracts=[x.wheat]}shear(){this.fur&&(this.fur=!1,this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,x[this.wool],!0,round(rand(1,3))),this.world.sendAllInChunk({type:"entEvent",event:"sheepFur",data:!1,id:this.id},this.chunkX,this.chunkZ,this.chunkDimension),this.world.playSound(this.x,this.y,this.z,"entity.sheep.shear"))}ondie(){this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,x[this.wool],!0,round(rand(1,2)))}onclick(e,t,a,s){e.dye&&(this.color=Kt.dye[e.dye].slice(),this.wool=e.dye+"Wool",multiplayer&&send({type:"entEvent",event:"sheepColor",data:{color:this.color,wool:this.wool},id:this.id}))}additionalAI(e){!this.eating&&this.standingOn===x.grass&&rand()>.999&&(this.eating=1,this.world.sendAllInChunk({type:"entEvent",event:"sheepEat",id:this.id},this.chunkX,this.chunkZ,this.chunkDimension)),this.eating&&this.standingOn!==x.grass&&(this.eating=0),this.eating&&++this.eating>40&&(this.eating=0,this.world.setBlock(round(this.x),floor(this.y-this.height/2),round(this.z),x.dirt,!1,!1,!1,!1,this.dimension),this.fur=!0,this.world.sendAllInChunk({type:"entEvent",event:"sheepFur",data:!0,id:this.id},this.chunkX,this.chunkZ,this.chunkDimension),this.world.blockParticles(this.standingOn,round(this.x),floor(this.y-this.height/2)+.5,round(this.z),30,"break",this.dimension))}update(){this.mobUpdate(ga),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:a}=this.targetEnt||this.attractEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}this.eating?this.parts.head.y>this.parts.head.originalY-.5?this.parts.head.y-=.05:this.parts.head.rx=sin((ga-this.spawn)/250*Math.PI)*Math.PI/8+Math.PI4:this.parts.head.y<this.parts.head.originalY&&(this.parts.head.y+=.05,this.parts.head.rx=0,this.parts.head.y>this.parts.head.originalY&&(this.parts.head.y=this.parts.head.originalY)),this.fur!==this.prevFur&&(this.prevFur=this.fur)}},Ve[Ve.length]=class extends it{static name2="Chicken";drop=[x.rawChicken,x.feather];saySound=["entity.chicken.say1","entity.chicken.say2","entity.chicken.say3"];stepSound=["entity.chicken.step1","entity.chicken.step2"];hurtSound=["entity.chicken.hurt1","entity.chicken.hurt2"];defaultName="Chicken";constructor(e,t,a){var s=1/16;super(e,t,a,0,0,0,0,0,.5,.6875,.5,null,null,null,3e5),this.offsetY=.15625,this.addPart("leftWing",null,null,.21875,3*s,0,1,1,1,0,0),this.addPart("rightWing",null,null,-.21875,3*s,0,1,1,1,0,0),this.addPart("rightLeg",null,null,-.09375,-3*s,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.09375,-3*s,0,1,1,1,0,0),this.addPart("head",null,null,0,.25,.28125,1,1,1,0,0),this.health=4,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[x.beetrootSeeds,x.tomatoSeeds,x.pumpkinSeeds,x.melonSeeds,x.wheatSeeds]}additionalAI(){rand()>.999&&(this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,x.egg,!0),this.world.playSound(this.x,this.y,this.z,"entity.chicken.plop"))}update(){if(this.mobUpdate(ga),this.vely<0&&(this.vely*=.5,this.lastY=this.y),this.vely<0||this.liquid){let e=sin((ga-this.walkStart)/125*Math.PI)*Math.PI/4+Math.PI2;this.parts.leftWing.rz=e,this.parts.rightWing.rz=-e}else this.parts.leftWing.rz=this.parts.rightWing.rz=0;this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:a}=this.targetEnt||this.attractEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Zombie";drop=[x.rottenFlesh];dropAmount=[0,3];experience=5;saySound=["entity.zombie.say1","entity.zombie.say2","entity.zombie.say3"];stepSound=["entity.zombie.step1","entity.zombie.step2","entity.zombie.step3","entity.zombie.step4","entity.zombie.step5"];hurtSound=["entity.zombie.hurt1","entity.zombie.hurt2"];deathSound="entity.zombie.death";defaultName="Zombie";constructor(e,t,a){super(e,t,a,0,0,0,0,0,1,2,1,null,null,null,3e5);this.offsetY=.125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.375,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.375,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=20,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=35,this.detectionDist=17.5,this.attackStrength=3,this.maxAttackCooldown=20}killMessage(e){return e+" died from some small punches from a Zombie."}update(){this.mobUpdate(ga),!this.liquid&&this.world.getLight(round(this.x),round(this.y),round(this.z),0,this.dimension)*this.world.skyLight>11&&(this.burnTimer+=.2),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((ga-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot,this.targetEnt){let e=-(10-abs(this.attackCooldown-10))*Math.PI4/10;this.parts.leftArm.rx=-Math.PI2+e,this.parts.rightArm.rx=-Math.PI2+e}else this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot;if(this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Skeleton";drop=[x.bone,x.arrow];dropAmount=[1,2];experience=5;saySound=["entity.skeleton.say1","entity.skeleton.say2","entity.skeleton.say3"];stepSound=["entity.skeleton.step1","entity.skeleton.step2","entity.skeleton.step3","entity.skeleton.step4"];hurtSound=["entity.skeleton.hurt1","entity.skeleton.hurt2","entity.skeleton.hurt3","entity.skeleton.hurt4"];deathSound="entity.skeleton.death";defaultName="Skeleton";constructor(e,t,a){super(e,t,a,0,0,0,0,0,.75,2,.75,null,null,null,3e5);var s=1/16;this.offsetY=.125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-5*s,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,5*s,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.addPart("holding",null,null,0,0,0,1,1,1,0,0,void 0,"rightArm"),this.health=20,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=8,this.maxFollowDist=this.detectionDist=16,this.holding=x.bow,this.maxAttackCooldown=20}updateHolding(){let e=this.parts.holding,t=1/16;S[this.holding].tool?(e.x=0,e.y=-.75,e.z=.375,e.w=e.h=e.d=1,e.rx=Math.PI/1.25,e.ry=-.5*Math.PI):"bow"===S[this.holding].name?(e.x=0,e.y=-.75,e.z=0,e.w=e.h=e.d=1,e.rx=Math.PI/1.25,e.ry=-.5*Math.PI):S[this.holding].spyglass?(e.x=.125,e.y=-.625,e.z=0,e.w=e.h=e.d=1,e.rx=-this.holdRot,e.ry=0):S[this.holding].item?(e.x=0,e.y=-.6875,e.z=.25,e.w=e.h=e.d=.5,e.rx=Math.PI2,e.ry=0):this.holding?(e.x=0,e.y=-.75,e.z=3*t,e.w=e.h=e.d=.25,e.rx=0,e.ry=Math.PI/4):this.parts.rightArm.rx=0}additionalAI(){if("bow"===S[this.holding].name&&this.targetEnt&&this.attackCooldown<=0){let e=this.targetEnt.x-this.x,t=this.targetEnt.y-this.y,a=this.targetEnt.z-this.z,s=sqrt(e*e+t*t+a*a);e/=s,t/=s,a/=s,this.world.addEntity(new Ve[Xe.Arrow](this.x+e,this.y+t,this.z+a,e,t,a,this.id),!1,this.dimension),this.attackCooldown=this.maxAttackCooldown,this.world.sendAllInChunk({type:"entEvent",event:"mobAttack",id:this.id},this.chunkX,this.chunkZ,this.chunkDimension)}}update(){this.mobUpdate(ga),!this.liquid&&this.world.getLight(round(this.x),round(this.y),round(this.z),0,this.dimension)*this.world.skyLight>11&&(this.burnTimer+=.2),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((ga-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.targetEnt?"bow"===S[this.holding].name?(this.parts.leftArm.rx=-Math.PI2,this.parts.leftArm.ry2=-Math.PI4,this.parts.rightArm.rx=-Math.PI2):S[this.holding].spyglass?this.parts.rightArm.rx=-Math.PI2+this.holdRot:this.parts.leftArm.rx=this.parts.rightArm.rx=-Math.PI2:(this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot),this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Spider";saySound=["entity.spider.say1","entity.spider.say2","entity.spider.say3","entity.spider.say4"];stepSound=["entity.spider.step1","entity.spider.step2","entity.spider.step3","entity.spider.step4"];deathSound="entity.spider.death";drop=[x.string,x.spiderEye];dropAmount=[0,2];experience=5;constructor(e,t,a,s){let o=s?.7:1;super(e,t,a,0,0,0,0,0,o,o,o,null,null,null,3e5),this.noScale=!1;var i=1/16;this.offsetY=.125;let r=Math.PI/8;this.addPart("rightLeg0",null,null,-3*i,0,0,1,1,1,0,0,r),this.addPart("rightLeg1",null,null,-3*i,0,0,1,1,1,0,0,r),this.addPart("rightLeg2",null,null,-3*i,0,0,1,1,1,0,0,r),this.addPart("rightLeg3",null,null,-3*i,0,0,1,1,1,0,0,r),this.addPart("leftLeg0",null,null,3*i,0,0,1,1,1,0,0,-r),this.addPart("leftLeg1",null,null,3*i,0,0,1,1,1,0,0,-r),this.addPart("leftLeg2",null,null,3*i,0,0,1,1,1,0,0,-r),this.addPart("leftLeg3",null,null,3*i,0,0,1,1,1,0,0,-r),this.addPart("head",null,null,0,0,7*i,1,1,1,0,0),this.fur=!!s,this.defaultName=s?"Cave Spider":"Spider",this.health=16,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.canClimb=!0,this.hostile=!0,this.minFollowDist=1.5,this.maxFollowDist=16,this.detectionDist=-1,this.attackStrength=2,this.maxAttackCooldown=20}killMessage(e){return e+" died from a tiny little spider."}update(){this.mobUpdate(ga),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var e=0;if(this.walking&&(e=this.panick>0?.1*sin((ga-this.walkStart)/125*Math.PI):.1*sin((ga-this.walkStart)/250*Math.PI)),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg0.ry=this.walkRot+1.3*Math.PI2,this.parts.leftLeg1.ry=-this.walkRot+1.1*Math.PI2,this.parts.leftLeg2.ry=this.walkRot+.9*Math.PI2,this.parts.leftLeg3.ry=-this.walkRot+.6*Math.PI2,this.parts.rightLeg0.ry=-this.walkRot-1.3*Math.PI2,this.parts.rightLeg1.ry=this.walkRot-1.1*Math.PI2,this.parts.rightLeg2.ry=-this.walkRot-.9*Math.PI2,this.parts.rightLeg3.ry=this.walkRot-.6*Math.PI2,this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Wolf";defaultName="Wolf";constructor(e,t,a){super(e,t,a,0,0,0,0,0,.6,.8,.6,null,null,null,1/0,"vao");var s=1/16;this.defaultOffsetY=.28125,this.addPart("head",null,null,0,0,.625,1,1,1,0,0),this.addPart("frontRightLeg",null,null,-.09375,-3*s,5*s,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.09375,-3*s,5*s,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.09375,-3*s,-.375,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.09375,-3*s,-.375,1,1,1,0,0),this.addPart("tail",null,null,0,0,-.5,1,1,1,Math.PI2,0),this.addPart("collar",null,null,0,0,.38125,1,1,1,0,0),this.health=8,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1.5,this.maxFollowDist=16,this.detectionDist=16,this.attackStrength=4,this.maxAttackCooldown=20,this.attacks=["Sheep","Rabbit","Fox","Skeleton"],this.prevTarget=null,this.attracts=[x.bone],this.wetStuff=0,this.tame=!1,this.prevTame=!1,this.color=Kt.dye.red.slice()}feed(e){if(e===x.bone)if(this.tame){let e=this.health;this.health++,this.health>20&&(this.health=20),multiplayer&&send({type:"entEvent",event:"healthAdd",id:this.id,data:this.health-e})}else if(rand(3)>1){if(!settings.performanceFast)for(let e=0;e<10;e++)world.addParticle(new Ve[Xe.SmokeParticle](this.x+rand()-.5,this.y+rand()-.5,this.z+rand()-.5),this.dimension);multiplayer&&send({type:"particles",particleType:"smokeCube",x:this.x,y:this.y,z:this.z,dimension:this.dimension,amount:10})}else{for(let e=0;e<10;e++)world.addParticle(new Ve[Xe.HeartParticle](this.x+rand()-.5,this.y+rand()-.5,this.z+rand()-.5),this.dimension);multiplayer&&send({type:"particles",particleType:"hearts",x:this.x,y:this.y,z:this.z,dimension:this.dimension,amount:10}),world.addEntity(new Ve[Xe.ExperienceOrb](this.x,this.y,this.z,rand(1,7)),!1,p.dimension),this.tame=!0,this.health*=2.5,this.owner=username,multiplayer&&send({type:"entEvent",event:"tame",id:this.id,data:username})}}onclick(e,t,a,s){e.dye?(this.color=Kt.dye[e.dye].slice(),multiplayer&&send({type:"entEvent",event:"wolfCollarColor",data:this.color,id:this.id}),this.updateShape()):e===x.bone||this.tame&&(this.sitting=!this.sitting,multiplayer&&send({type:"entEvent",event:"sit",id:this.id,data:this.sitting}))}killMessage(e){return e+" got bited by a wolf."}additionalAI(){let e=this.owner&&Pt(this.owner,this.world);if(!e||e.die||e.hidden)return;let t=max(abs(this.x-e.x),abs(this.y-e.y),abs(this.z-e.z));if(t>16&&!this.sitting){this.target=null;round(this.x),round(this.y),round(this.z);let t,a,s,o=1/0;for(let i=-5;i<5;i++)for(let r=-5;r<5;r++)for(let n=-5;n<5;n++)if(!S[world.getBlock(e.x+i,e.y+n,e.z+r)].solid){let l=max(abs(i),abs(n),abs(r));l<o&&S[world.getBlock(e.x+i,e.y+n-1,e.z+r)].solid&&(o=l,t=i,a=n,s=r)}isFinite(o)&&(this.x=e.x+t,this.y=e.y+a,this.z=e.z+s,this.path=null,this.lastY=0,this.world.sendAll({type:"entEvent",event:"tp",id:this.id,data:{x:this.x,y:this.y,z:this.z}}))}else if(t>8&&!this.sitting){let t=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),round(e.x),round(e.y),round(e.z));t&&(t.splice(0,3),this.path=t)}}update(){this.mobUpdate(ga);let e=1/16;this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);var t=0;if(this.walking&&(t=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,t),this.sitting?(this.offsetY=this.defaultOffsetY-3*e,this.parts.collar.rx=this.pitch2=-Math.PI4,this.parts.frontLeftLeg.rx=-Math.PI/8,this.parts.frontRightLeg.rx=-Math.PI/8,this.parts.backLeftLeg.rx=-Math.PI2,this.parts.backRightLeg.rx=-Math.PI2,this.parts.tail.y=this.parts.tail.originalY-.25,this.parts.tail.z=this.parts.tail.originalZ+.125,this.parts.frontLeftLeg.y=this.parts.frontLeftLeg.originalY+3*e,this.parts.frontRightLeg.y=this.parts.frontRightLeg.originalY+3*e,this.parts.backLeftLeg.y=this.parts.backLeftLeg.originalY-.25,this.parts.backRightLeg.y=this.parts.backRightLeg.originalY-.25,this.parts.head.y=this.parts.head.originalY+.375,this.parts.head.z=this.parts.head.originalZ-3*e):(this.offsetY=this.defaultOffsetY,this.parts.collar.rx=this.pitch2=0,this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.parts.tail.y=this.parts.tail.originalY,this.parts.tail.z=this.parts.tail.originalZ,this.parts.frontLeftLeg.y=this.parts.frontLeftLeg.originalY,this.parts.frontRightLeg.y=this.parts.frontRightLeg.originalY,this.parts.backLeftLeg.y=this.parts.backLeftLeg.originalY,this.parts.backRightLeg.y=this.parts.backRightLeg.originalY,this.parts.head.y=this.parts.head.originalY,this.parts.head.z=this.parts.head.originalZ),this.parts.tail.rx=this.target?Math.PI2:this.health/20*Math.PI,this.targetEnt||this.attractEnt){let{x:e,y:t,z:a}=this.targetEnt||this.attractEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}if(this.prevTarget===this.target&&this.prevTame===this.tame||(this.prevTarget=this.target,this.prevTame=this.tame),!this.target&&!this.tame){this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,16,St);let e,t=1/0;for(let a of St)if(a.dimension===this.dimension&&a.type===this.type&&a.target){let s=max(abs(a.x-this.x),abs(a.y-this.y),abs(a.z-this.z));s<16&&s<t&&(t=s,e=a.target)}e&&(this.target=e)}}},Ve[Ve.length]=class extends it{static name2="Blaze";drop=[x.blazeRod];dropAmount=[0,1];experience=10;saySound=["entity.blaze.breathe1","entity.blaze.breathe2","entity.blaze.breathe3","entity.blaze.breathe4"];hurtSound=["entity.blaze.hit1","entity.blaze.hit2","entity.blaze.hit3","entity.blaze.hit4"];deathSound="entity.blaze.death";defaultName="Blaze";constructor(e,t,a){super(e,t,a,0,0,0,0,0,1,1.375,1,null,null,null,3e5),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=20,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=48,this.detectionDist=48,this.attackStrength=6,this.maxAttackCooldown=200,this.canFly=!0}killMessage(e){return e+" got killed by weird stuff."}additionalAI(){if(this.targetEnt&&(this.attackCooldown<=0&&(this.attackCooldown=this.maxAttackCooldown,this.world.sendAll({type:"entEvent",event:"mobAttack",id:this.id})),20===this.attackCooldown||11===this.attackCooldown||2===this.attackCooldown)){let e=this.targetEnt.x-this.x,t=this.targetEnt.y-this.y,a=this.targetEnt.z-this.z,s=sqrt(e*e+t*t+a*a);e/=s,t/=s,a/=s,this.world.addEntity(new Ve[Xe.SmallFireball](this.x+e,this.y+t,this.z+a,e,t,a,this.id),!1,this.dimension)}}update(){if(this.mobUpdate(ga),this.burnTimer&&(this.burnTimer=0),this.targetEnt&&this.attackCooldown>0&&this.attackCooldown<100&&(this.burning=!0),this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},Ve[Ve.length]=class extends it{static name2="Enderman";defaultName="Enderman";constructor(e,t,a){super(e,t,a,0,0,0,0,0,.75,3,.75,null,null,null,3e5);this.offsetY=.8125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.25,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.25,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=40,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=16,this.detectionDist=16,this.attackStrength=7,this.maxAttackCooldown=20}killMessage(e){return e+" died from Enderman."}update(){this.mobUpdate(ga),this.wet&&ga-this.lastBlockDamage>1e3&&(this.lastBlockDamage=ga,this.damage(1)),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=ga);let e=0;this.walking&&(e=this.panick>0?sin((ga-this.walkStart)/500*Math.PI)*Math.PI/4:sin((ga-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((ga-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot,this.targetEnt){let{x:e,y:t,z:a}=this.targetEnt,s=Math.PId-(atan2(a-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-s),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,a);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],a=(this.path[e+1],this.path[e+2]),s=Math.PId-(atan2(a-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-s),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}};let rt=["Item","BlockEntity","PrimedTNT","PrimedSuperTNT","PrimedUltraTNT","PrimedUnTNT","MovingBlock","EnderPearl","Snowball","Egg","SlingshotShot","Arrow","Sign","ItemFrame","ExperienceOrb","Cow","Pig","Creeper","Sheep","Chicken","Zombie","Skeleton","Spider","EnderDragon","BlockParticle","PoofParticle","FallingDustParticle","RedstoneParticle","ShockwaveParticle","SmokeParticle","NoteParticle","GlintParticle","FlameParticle","LavaParticle","DripParticle","SplashParticle","Spark","TextDisplay","Wolf","HeartParticle","Blaze","SmallFireball","BlockDisplay","BeaconBeam","Enderman"],nt=Ve.slice();for(let Qa=0;Qa<Ve.length;Qa++)Xe[Ve[Qa].name2]=Qa;for(let $a=0;$a<rt.length;$a++)void 0!==Xe[rt[$a]]?(Ve[$a]=nt[Xe[rt[$a]]],Ve[$a].prototype.entId=$a,Ve[$a].prototype.type=Ve[$a].name2,Xe[Ve[$a].name2]=$a):(delete Ve[$a],delete Xe[rt[$a]]);console.log(Ve.length,"entities and particles on server side");class lt{constructor(e){this.world=e,this.seedSet=!1,this.seed=0,this.reset()}reset(){this.size=600,this.diagonalNeighbors=!0,this.grid=[],this.vertex=[],this.river=[],this.precip=[],this.biome=[],this.biomeBlend=[],this.highestPoint=[0,0],this.updates=[],this.stage=0,this.changes=0,this.rivers=0,this.h=0,this.X=0}GetVertex(e,t){return e<0||e>=this.size||t<0||t>=this.size?0:this.vertex[e+t*this.size]}GetHeight(e,t){return e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size?5:Math.round(.5*(this.GetVertex(Math.floor(e),Math.floor(t))+this.GetVertex(Math.floor(e+.5),Math.floor(t))+this.GetVertex(Math.floor(e),Math.floor(t+.5))+this.GetVertex(Math.floor(e+.5),Math.floor(t+.5)))+5)}GetWater(e,t){return e<0||e>=this.size||t<0||t>=this.size||-15099421===this.GetBiome(e,t)||-16479791===this.GetBiome(e,t)?1:Math.sqrt(this.river[e+t*this.size])}GetWaterDepth(e,t){if(e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size)return 1;var a=0;for(let s=0;s<1;s+=.5)for(let o=0;o<1;o+=.5)a+=this.GetWater(Math.floor(e+s),Math.floor(t+o));return(a/=4)>.25?1:0}GetBiome(e,t){return e<0||e>=this.size||t<0||t>=this.size?-16479791:this.biome[e+t*this.size]}GetBiomeType(e,t){return e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size?1:this.GetBiome(Math.floor(e),Math.floor(t))}GetNeighbors(e,t){var a=[];return e>0&&(a.push({x:e-1,y:t}),this.diagonalNeighbors&&(t>0&&a.push({x:e-1,y:t-1}),t<this.size-1&&a.push({x:e-1,y:t+1}))),e<this.size-1&&(a.push({x:e+1,y:t}),this.diagonalNeighbors&&(t>0&&a.push({x:e+1,y:t-1}),t<this.size-1&&a.push({x:e+1,y:t+1}))),t>0&&a.push({x:e,y:t-1}),t<this.size-1&&a.push({x:e,y:t+1}),a}GetDown(e,t){var a=this.GetNeighbors(e,t),s=this.size,o=[];for(var i in a)this.vertex[a[i].x+a[i].y*this.size]<=s&&(this.vertex[a[i].x+a[i].y*this.size]===s&&o.push(a[i]),s=this.vertex[a[i].x+a[i].y*this.size],o=[a[i]]);if(s<=this.vertex[e+t*this.size])return o[Math.floor(this.random(o.length))]}SetSeed(e){this.seed!==e&&this.reset(),this.seed=e,this.seedSet=!0,this.randomGenerator=new At(21e7*Mt(e,2123155232)),this.random=(e=1)=>this.randomGenerator.nextDouble()*e}Generate(e){var t=e+16;function a(e){return e*e}function s(e,t,a,s){return t=void 0===t?e:t,(s=void 0===s?255:s)>127&&(s=-256+s),(a=void 0===a?t:a)+256*t+65536*e+16777216*s}if(0===this.stage){for(;this.X<this.size&&win.performance.now()<t;){for(var o=this.X,i=0;i<this.size;i++){this.grid[o+i*this.size]=0,this.vertex[o+i*this.size]=-1,this.precip[o+i*this.size]=-1,this.river[o+i*this.size]=0;var r=this.size/2-Math.sqrt(a(o-this.size/2)+a(i-this.size/2)),n=2*Math.sqrt(a(this.size/2)-a(r-this.size/2))/this.size;(m=this.world.noiseProfile.noise(.021*o,.021*i,this.seed))*n>.3&&(this.grid[o+i*this.size]=1)}this.X++}this.X===this.size&&this.updates.push({type:"ocean",x:0,y:0})}else if(1===this.stage){for(;this.updates.length>0&&win.performance.now()<t;){var l=this.updates.shift();if(0===this.grid[l.x+l.y*this.size]){this.grid[l.x+l.y*this.size]=2;for(var h=this.GetNeighbors(l.x,l.y),d=0;d<h.length;d++)0===this.grid[h[d].x+h[d].y*this.size]&&this.updates.push({type:"ocean",x:h[d].x,y:h[d].y})}}0===this.updates.length&&(this.X=this.size)}else if(2===this.stage){-1===this.h&&(this.h=0);for(var c=0;win.performance.now()<t&&this.updates.length>0&&c<this.updates.length;){if("lake"===this.updates[c].type){l=this.updates.splice(c,1)[0];if(0===this.grid[l.x+l.y*this.size]&&-1===this.vertex[l.x+l.y*this.size]){this.vertex[l.x+l.y*this.size]=l.a;h=this.GetNeighbors(l.x,l.y);for(var d in h)0===this.grid[h[d].x+h[d].y*this.size]&&-1===this.vertex[h[d].x+h[d].y*this.size]&&this.updates.push({type:"lake",x:h[d].x,y:h[d].y,a:l.a})}c--}c++}for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++)if(-1===this.vertex[o+i*this.size])if(2===this.grid[o+i*this.size])this.vertex[o+i*this.size]=this.h,this.changes++;else if(this.h>0){h=this.GetNeighbors(o,i);var p,u=this.size;for(var d in h){var m;(m=this.vertex[h[d].x+h[d].y*this.size])<u&&-1!==m&&(u=m,p=h[d])}u!==this.size&&u<=this.h&&(0===this.grid[o+i*this.size]?(this.updates.push({type:"river",x:p.x,y:p.y}),this.updates.push({type:"lake",x:o,y:i,a:u})):this.vertex[o+i*this.size]=u+1+(this.random()>.5?1:0),this.changes++)}this.X++}this.X===this.size&&this.h<this.size/3&&(0===this.changes&&this.h++,this.X=0,this.changes=0)}else if(3===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++)this.vertex[o+i*this.size]=(Math.pow(20,this.vertex[o+i*this.size]/this.size*3)-1)/19*this.size/3,this.vertex[o+i*this.size]>this.vertex[this.highestPoint[0]+this.highestPoint[1]*this.size]&&(this.highestPoint[0]=o,this.highestPoint[1]=i);this.X++}else if(4===this.stage){if(0===this.rivers)for(d=0;d<200&&this.rivers<100;d++)o=Math.floor(this.random(this.size)),i=Math.floor(this.random(this.size)),1===this.grid[o+i*this.size]&&(this.updates.push({type:"river",x:o,y:i}),this.rivers++);else 0===this.updates.length&&(this.X=this.size);for(;this.updates.length>0&&win.performance.now()<t;){l=this.updates[0];if(1===this.grid[l.x+l.y*this.size])this.river[l.x+l.y*this.size]++,void 0===(r=this.GetDown(l.x,l.y))?this.updates.shift():(this.updates[0].x=r.x,this.updates[0].y=r.y);else this.updates.shift()}}else if(5===this.stage){for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++)if(-1===this.precip[o+i*this.size])if(-1===this.h)2===this.grid[o+i*this.size]&&(this.precip[o+i*this.size]=5,this.changes++);else{this.h<=8&&(0===this.grid[o+i*this.size]||this.river[o+i*this.size]>0)&&(this.precip[o+i*this.size]=8,this.changes++);h=this.GetNeighbors(o,i);var g=-1;for(var d in h)this.precip[h[d].x+h[d].y*this.size]>g&&(g=this.precip[h[d].x+h[d].y*this.size]);g>-1&&g>=this.h&&(this.precip[o+i*this.size]=Math.max(g-(this.random()<.5?.66:.33),0),this.changes++)}this.X++}this.X===this.size&&(this.X=0,-1===this.h?this.h=10:(0===this.changes&&this.h--,this.changes=0,this.h<0&&(this.X=this.size)))}else if(6===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++)this.precip[o+i*this.size]=Math.floor(this.precip[o+i*this.size]/10*6);this.X++}else if(7===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++);this.X++}else if(8===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++){var k;g=Math.floor(this.vertex[o+i*this.size]/this.size*6*5);switch(this.grid[o+i*this.size]){case 0:k=g>2?s(157,194,201):s(25,153,227);break;case 1:if(this.river[o+i*this.size]>0)k=g>2?s(157,194,201):s(25,153,227);else switch(g){case 0:switch(this.precip[o+i*this.size]){case 5:case 4:k=s(10,133,72);break;case 3:case 2:k=s(10,133,23);break;case 1:k=s(179,232,35);break;case 0:k=s(209,166,58)}break;case 1:switch(this.precip[o+i*this.size]){case 5:k=s(14,156,85);break;case 4:case 3:k=s(72,133,10);break;case 2:case 1:k=s(179,232,35);break;case 0:k=s(207,195,58)}break;case 2:switch(this.precip[o+i*this.size]){case 5:case 4:k=s(121,191,95);break;case 3:case 2:k=s(155,161,135);break;case 1:case 0:k=s(207,195,58)}break;case 3:case 4:switch(this.precip[o+i*this.size]){case 5:case 4:case 3:k=s(255);break;case 2:k=s(149,189,94);break;case 1:k=s(180);break;case 0:k=s(128)}}break;case 2:k=s(4,137,209)}this.biome[o+i*this.size]=k}this.X++}else if(9===this.stage){let e=this.vertex[this.highestPoint[0]+this.highestPoint[1]*this.size]-5;for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,i=0;i<this.size;i++)this.vertex[o+i*this.size]>e&&(this.vertex[o+i*this.size]=e-2,this.biome[o+i*this.size]=-65536);this.X++}}this.X===this.size&&(this.X=0,this.h=-1,this.stage++,console.log(this.stage))}}class ht{constructor(e,t,a,s,o=undefined){this.x=e,this.y=t,this.z=a;this.size=16,this.arraySize=4096,this.blocks=o||new Int32Array(this.arraySize),this.blockLight=new Uint8Array(this.arraySize),this.skyLight=new Uint8Array(this.arraySize),this.tags=new Array(this.arraySize),this.chunk=s,this.world=s&&s.world,this.type=s&&s.type,this.edited=!1,this.caves=""!==this.type||!this.world.caves}getBlock(e,t,a){let s=this.size;return this.blocks[e*s*s+t*s+a]}setBlock(e,t,a,s){let o=this.size;this.blocks[e*o*o+t*o+a]=s}deleteBlock(e,t,a){let s=this.size;this.blocks[e*s*s+t*s+a]=0}updateBlock(e,t,a,s,o,i,r,n){let l=e,h=t,d=a,c=this.size;e+=this.x,t+=this.y,a+=this.z;let p=this.blocks[l*c*c+h*c+d];!o&&S[p].onupdate&&S[p].onupdate(e,t,a,p,this.world,i,r,n,this.type)}carveCaves(){let{world:e}=this,t=this.x+16,a=this.z+16,s=this.y+16;for(let o=this.x,i=0;o<t;o++,i++)for(let t=this.z,r=0;t<a;t++,r++){s=this.chunk.tops[16*r+i];for(let a=this.y;a<s;a++)if(Ut(o,a,t,e)&&a>3)for(let s=0;s<qt.length;s+=3)a+qt[s+1]<10?e.setBlock(o+qt[s],a+qt[s+1],t+qt[s+2],x.Lava,!0,!0,!1,!1,this.type):e.setBlock(o+qt[s],a+qt[s+1],t+qt[s+2],x.air,!0,!0,!1,!1,this.type)}this.caves=!0}oldSpawnMobs(){let{world:e}=this,t=["Cow","Pig","Sheep","Chicken"],a=["Wolf"],s=["Creeper","Zombie","Skeleton","Spider","Enderman"],o=["Blaze"],i=["Enderman"],r=16*Math.random()|0,n=16*Math.random()|0,l=16*Math.random()|0,h=this.x+r-32>>4,d=this.x+r+32>>4,c=this.z+l-32>>4,p=this.z+l+32>>4,u="nether"===this.type?this.world.netherChunks:"end"===this.type?this.world.endChunks:this.world.chunks,m=this.getBlock(r,n,l),g=max(this.getLight(r,n,l,0)*this.world.skyLight,this.getLight(r,n,l,1)),k=this.chunk.getBlock(r,n+this.y-1,l,0,!0);if(""===this.type&&!m&&g>10&&k===x.grass){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let a in u[e][t].entities){let s=u[e][t].entities[a];if(s.mob&&max(abs(this.x+r-s.x),abs(this.y+n-s.y),abs(this.z+l-s.z))<32)return}let a=rand(1,6),s=t[floor(rand(t.length))];for(let t=0;t<a;t++)S[x["spawn"+s]].spawnMob(r+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if(""===this.type&&!m&&g>10&&"snowyPlains"===this.world.getBiome(this.x+r,this.y+n,this.z+l,this.type)&&(k===x.grass||"snow"===S[k].name)){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let a in u[e][t].entities){let s=u[e][t].entities[a];if(s.mob&&max(abs(this.x+r-s.x),abs(this.y+n-s.y),abs(this.z+l-s.z))<32)return}let t=rand(1,6),s=a[floor(rand(a.length))];for(let a=0;a<t;a++)S[x["spawn"+s]].spawnMob(r+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if(""===this.type&&!m&&g<=11&&k){for(let e of this.world.players)if(max(abs(this.x+r-e.x),abs(this.y+n-e.y),abs(this.z+l-e.z))<16)return;for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let a in u[e][t].entities){let s=u[e][t].entities[a];if(s.mob&&s.hostile&&max(abs(this.x+r-s.x),abs(this.y+n-s.y),abs(this.z+l-s.z))<32)return}let t=s[floor(rand(s.length))];S[x["spawn"+t]].spawnMob(r+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if("nether"!==this.type||m||"netherWastes"!==this.world.getBiome(this.x+r,this.y+n,this.z+l,this.type)||k!==x.netherrack){if("end"===this.type&&!m&&S[k].solid){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let a in u[e][t].entities){let s=u[e][t].entities[a];if(s.mob&&max(abs(this.x+r-s.x),abs(this.y+n-s.y),abs(this.z+l-s.z))<32)return}let t=rand(1,6),a=i[floor(rand(i.length))];for(let s=0;s<t;s++)S[x["spawn"+a]].spawnMob(r+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}}else{for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let a in u[e][t].entities){let s=u[e][t].entities[a];if(s.mob&&max(abs(this.x+r-s.x),abs(this.y+n-s.y),abs(this.z+l-s.z))<32)return}let t=rand(1,6),a=o[floor(rand(o.length))];for(let s=0;s<t;s++)S[x["spawn"+a]].spawnMob(r+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}}spawnMobs(){if(!this.chunk.lit)return;if(this.world.usePreBeta)return this.oldSpawnMobs();let{world:e}=this,t=16*Math.random()|0,a=16*Math.random()|0,s=16*Math.random()|0,o=this.x+t-32>>4,i=this.x+t+32>>4,r=this.z+s-32>>4,n=this.z+s+32>>4,l="nether"===this.type?this.world.netherChunks:"end"===this.type?this.world.endChunks:this.world.chunks,h=this.getBlock(t,a,s),d=max(this.getLight(t,a,s,0)*this.world.skyLight,this.getLight(t,a,s,1)),c=this.chunk.getBlock(t,a+this.y-1,s,0,!0),p=e.getBiome(t+this.x,a+this.y,s+this.z),u=na[p][2],m=na[p][3];if(u&&!h&&d>10&&c){for(let e=o;e<=i;e++)for(let o=r;o<=n;o++)if(l[e]&&l[e][o])for(let i in l[e][o].entities){let r=l[e][o].entities[i];if(r.mob&&max(abs(this.x+t-r.x),abs(this.y+a-r.y),abs(this.z+s-r.z))<32)return}let h=u[floor(rand(u.length))],d=rand(h[1],h[2]);if(x["spawn"+h[0]])for(let o=0;o<d;o++)S[x["spawn"+h[0]]].spawnMob(t+this.x+rand(),a+this.y,s+this.z+rand(),this.type,e)}if(m&&!h&&!d&&c){let h=!1;for(let e of this.world.players){let o=max(abs(this.x+t-e.x),abs(this.y+a-e.y),abs(this.z+s-e.z));if(o<16)return;h=h||o<32}if(!h)return;for(let e=o;e<=i;e++)for(let o=r;o<=n;o++)if(l[e]&&l[e][o])for(let i in l[e][o].entities){let r=l[e][o].entities[i];if(r.mob&&r.hostile&&max(abs(this.x+t-r.x),abs(this.y+a-r.y),abs(this.z+s-r.z))<32)return}let d=m[floor(rand(m.length))],c=rand(d[1],d[2]);if(x["spawn"+d[0]])for(let o=0;o<c;o++)S[x["spawn"+d[0]]].spawnMob(t+this.x+rand(),a+this.y,s+this.z+rand(),this.type,e)}}tick(){var e=this.world;for(let t=0;t<18;t++){let t=Math.random()*this.blocks.length|0;if((this.blocks[t]&Ae)===x.grass||(this.blocks[t]&Ae)===x.mycelium){let a=(t>>8)+this.x,s=(t>>4&15)+this.y,o=(15&t)+this.z;if(!S[e.getBlock(a,s+1,o,this.type)].transparent)return void e.setBlock(a,s,o,x.dirt,!1,!1,!1,!1,this.type);let i=27*Math.random()|0,r=i%3-1;i=(i-r-1)/3;let n=i%3-1;i=(i-n-1)/3,o+=i-1,a+=r,s+=n;let l=this.world.getBlock(a,s,o,this.type);(l&Ae)===x.dirt&&this.world.getBlock(a,s+1,o,this.type)===x.air&&this.world.setBlock(a,s,o,this.blocks[t]&Ae|l&~Ae,!1,!1,!1,!1,this.type)}else if((this.blocks[t]&Ae)===x.crimsonNylium||(this.blocks[t]&Ae)===x.warpedNylium){let a=(t>>8)+this.x,s=(t>>4&15)+this.y,o=(15&t)+this.z;if(!S[e.getBlock(a,s+1,o,this.type)].transparent)return void e.setBlock(a,s,o,x.netherrack,!1,!1,!1,!1,this.type);let i=27*Math.random()|0,r=i%3-1;i=(i-r-1)/3;let n=i%3-1;i=(i-n-1)/3,o+=i-1,a+=r,s+=n;let l=this.world.getBlock(a,s,o,this.type);(l&Ae)===x.netherrack&&this.world.getBlock(a,s+1,o,this.type)===x.air&&this.world.setBlock(a,s,o,this.blocks[t]&Ae|l&~Ae,!1,!1,!1,!1,this.type)}else if(S[this.blocks[t]].grow){let e=(t>>8)+this.x,a=(t>>4&15)+this.y,s=(15&t)+this.z;S[this.blocks[t]].grow(e,a,s,this.type,this.world)}else if("vine"===S[this.blocks[t]].name||"weepingVines"===S[this.blocks[t]].name){let e=(t>>8)+this.x,a=(t>>4&15)+this.y,s=(15&t)+this.z;this.world.getBlock(e,a-1,s)||this.world.setBlock(e,a-1,s,this.blocks[t],!1,!1,!1,!1,this.type)}else if("twistingVines"===S[this.blocks[t]].name){let e=(t>>8)+this.x,a=(t>>4&15)+this.y,s=(15&t)+this.z;this.world.getBlock(e,a+1,s)||this.world.setBlock(e,a+1,s,this.blocks[t],!1,!1,!1,!1,this.type)}}for(let i=0;i<8;i++){let i=0|rand(this.blocks.length);if(this.blocks[i]===x.tomatoPlant){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.tomatoPlant|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.tomatoPlant|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.tomatoPlant|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.tomatoPlant|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.tomatoPlant|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.tomatoPlant|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.tomatoPlant|K,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.wheat){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|K,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|K)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|ee,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|ee)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|te,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.wheat|te)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.wheat|ae,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.newCactusFruit|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.greenCactusFruit|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.greenCactusFruit|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.redCactusFruit|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.redCactusFruit|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.purpleCactusFruit|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.cactus|ie)){let r=(i>>8)+this.x,n=(i>>4&15)+this.y,l=(15&i)+this.z;for(var t=0,a=3,s=0;s<a&&e.getBlock(r,n-s,l,this.type)===(x.cactus|ie);s++)t++;if(t>=a)return;var o=e.getBlock(r,n+1,l,this.type);if(S[o].cactusFruit){if(e.getBlock(r,n+2,l,this.type))return;e.setBlock(r,n+2,l,o,!1,!1,!1,!1,this.type)}else if(o)return;e.setBlock(r,n+1,l,x.cactus|ie,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.sweetBerryBush){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.sweetBerryBush|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.sweetBerryBush|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.sweetBerryBush|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.sweetBerryBush|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.sweetBerryBush|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.cocoa|this.blocks[i]&De)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.cocoa|J|this.blocks[i]&De,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.cocoa|J|this.blocks[i]&De)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.cocoa|Q|this.blocks[i]&De,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.beetroots){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.beetroots|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.beetroots|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.beetroots|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.beetroots|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.beetroots|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.potatoes){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.potatoes|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.potatoes|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.potatoes|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.potatoes|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.potatoes|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.carrots){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.carrots|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.carrots|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.carrots|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.carrots|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.carrots|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.bambooStalk|Q)||this.blocks[i]===(x.bambooStalk|J)||this.blocks[i]===x.bambooStalk||this.blocks[i]===(x.bambooStalk|$)||this.blocks[i]===(x.bambooStalk|K)){let s=(i>>8)+this.x,r=(i>>4&15)+this.y,n=(15&i)+this.z;t=0,a=16;let l=[];for(let o=0;o<a;o++){let a=e.getBlock(s,r-o,n,this.type);if("bambooStalk"!==S[a].name)break;t++,l.push(a)}if(t>=a)return;if(o=e.getBlock(s,r+1,n,this.type))return;if(e.setBlock(s,r+1,n,x.bambooStalk|(t>3?Q:K),!1,!1,!1,!1,this.type),t>3)for(let a=0;a<t;a++){let t=l[a];0===a&&t!==(x.bambooStalk|J)?e.setBlock(s,r-a,n,x.bambooStalk|J,!1,!1,!1,!1,this.type):t!==x.bambooStalk&&e.setBlock(s,r-a,n,x.bambooStalk,!1,!1,!1,!1,this.type)}else for(let a=0;a<t;a++){let t=l[a];0===a&&t!==(x.bambooStalk|$)&&e.setBlock(s,r-a,n,x.bambooStalk|$,!1,!1,!1,!1,this.type)}}else if(this.blocks[i]===(x.bambooShoot|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;if(e.getBlock(t,a+1,s,this.type))return;e.setBlock(t,a,s,x.bambooStalk|$,!1,!1,!1,!1,this.type),e.setBlock(t,a+1,s,x.bambooStalk|K,!1,!1,!1,!1,this.type)}else if("sugarCane"===S[this.blocks[i]].name){let r=this.blocks[i],n=(i>>8)+this.x,l=(i>>4&15)+this.y,h=(15&i)+this.z;for(t=0,a=3,s=0;s<a&&e.getBlock(n,l-s,h,this.type)===r;s++)t++;if(t>=a)return;if(o=e.getBlock(n,l+1,h,this.type))return;e.setBlock(n,l+1,h,r,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===x.pitcherCrop){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.pitcherCrop|J,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.pitcherCrop|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.pitcherCrop|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.pitcherCrop|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.pitcherCrop|$,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.pitcherCrop|$)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.pitcherCrop|K,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.torchflower|J)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.torchflower|Q,!1,!1,!1,!1,this.type)}else if(this.blocks[i]===(x.torchflower|Q)){let t=(i>>8)+this.x,a=(i>>4&15)+this.y,s=(15&i)+this.z;e.setBlock(t,a,s,x.torchflower|$,!1,!1,!1,!1,this.type)}}for(let e=0;e<40;e++){let e=0|rand(this.blocks.length),t=(e>>8)+this.x,a=(e>>4&15)+this.y,s=(15&e)+this.z,o=this.blocks[e]||0;"fire"===S[o].name||"Lava"===S[o].name?this.world.settings.fireSpreads&&S[o].tick(t,a,s,this.type,this.world):S[o].tick&&S[o].tick(o,t,a,s,this.type,this.world),S[o].beacon&&S[o].update(t,a,s,this.type,this.world)}}getLight(e,t,a,s=0){let o=this.size,i=e*o*o+t*o+a;return 1===s?this.blockLight[i]:2===s?this.skyLight[i]>>4:15&this.skyLight[i]}setLight(e,t,a,s,o=0){let i=this.size,r=e*i*i+t*i+a,n=1===o?this.blockLight:this.skyLight;n[r]=2===o?15&n[r]|s<<4:240&n[r]|s}getTags(e,t,a){let s=this.size;return this.tags[e*s*s+t*s+a]}getTagByName(e,t,a,s){var o=this.getTags(e,t,a);let i=S[this.getBlock(e,t,a)].tagBits;return i?i[s]?o>>>i[s][0]&(1<<i[s][1])-1:0:o&&o[s]}setTags(e,t,a,s){let o=this.size;this.tags[e*o*o+t*o+a]=s}setTagByName(e,t,a,s,o){let i=this.size;var r=e*i*i+t*i+a,n=this.tags[r];let l=S[this.getBlock(e,t,a)].tagBits;if(n||(n=this.tags[r]=l?0:{}),l){if(!l[s])throw new Error("Cannot set "+s+" on binary tags.");let e=(1<<l[s][1])-1;if(o>e)throw new Error("Tag too large");(n=n&~(e<<l[s][0])|o<<l[s][0])?this.tags[r]=n:delete this.tags[r]}else n[s]=o;return n}}let dt=new ht(0,0,0);function ct(e,t,a){let s=S[a].tagBits;return e>>>s[t][0]&(1<<s[t][1])-1}new ht(0,0,0).blocks.fill(x.bedrock),dt.skyLight.fill(255);class pt{constructor(e,t,a,s){this.x=e,this.z=t,this.maxY=0,this.minY=255,this.sections=[],this.cleanSections=[],this.tops=new Int16Array(256),this.ceils=new Uint8Array(256),this.solidTops=new Int16Array(256),this.biomes=new Uint8Array(256),this.caveY=new Int16Array(512),this.caveBiomes=new Uint8Array(256),this.caves=""!==this.type||!caves,this.generated=!1,this.generating=!1,this.populated=!0===s.superflat||"void"===s.superflat,this.carving=!1,this.lit=!1,this.lazy=!1,this.edited=!1,this.loaded=!1,this.type=a||"",this.world=s,this.caves=""!==this.type||!this.world.caves,this.doubleRender=!1,this.entities={},this.columnHashs=new Uint8Array(256)}getBlock(e,t,a){let s=(t-=y)>>4;return s<this.sections.length&&s>=0?this.sections[s].getBlock(e,15&t,a):0}setBlock(e,t,a,s,o){let i=t;if(!((t-=y)<0)){if(!this.sections[t>>4])do{let e=new ht(this.x,16*this.sections.length+y,this.z,this);this.lit&&e.skyLight.fill(15),this.sections.push(e)}while(!this.sections[t>>4]);o&&!this.sections[t>>4].edited&&(this.cleanSections[t>>4]=this.sections[t>>4].blocks.slice(),this.sections[t>>4].edited=!0,this.edited=!0),S[s].semiTrans&&(this.doubleRender=!0),this.sections[t>>4].setBlock(e,15&t,a,s),this.updateSolidTop(e,i,a,s),this.columnHashs[16*a+e]++}}updateSolidTop(e,t,a,s){if(s&&(S[s].solid||S[s].liquid))this.solidTops[16*a+e]=max(this.solidTops[16*a+e],t);else if(t>=this.solidTops[16*a+e]){let t=this.solidTops[16*a+e];for(;;){let s=this.getBlock(e,t,a);if(S[s].solid||S[s].liquid||t<y)break;t--}this.solidTops[16*a+e]=t}}deleteBlock(e,t,a,s){let o=t;t-=y,this.sections[t>>4]&&(s&&!this.sections[t>>4].edited&&(this.cleanSections[t>>4]=this.sections[t>>4].blocks.slice(),this.sections[t>>4].edited=!0,this.edited=!0),this.sections[t>>4].deleteBlock(e,15&t,a),this.minY=o<this.minY?o:this.minY,this.maxY=o>this.maxY?o:this.maxY,this.updateSolidTop(e,o,a,0),this.columnHashs[16*a+e]++)}getOriginalBlock(e,t,a){let s=(t-=y)>>4;if(!this.cleanSections[s])return 0;t&=15;let o=this.sections[s];return this.cleanSections[s][e*o.size*o.size+t*o.size+a]}getTags(e,t,a){let s=(t-=y)>>4;return s<this.sections.length&&s>=0?this.sections[s].getTags(e,15&t,a):void 0}getTagByName(e,t,a,s){let o=(t-=y)>>4;return o<this.sections.length&&o>=0?this.sections[o].getTagByName(e,15&t,a,s):void 0}setTags(e,t,a,s){let o=(t-=y)>>4;o<this.sections.length&&o>=0&&this.sections[o].setTags(e,15&t,a,s)}setTagByName(e,t,a,s,o){let i=(t-=y)>>4;if(i<this.sections.length&&i>=0)return this.sections[i].setTagByName(e,15&t,a,s,o)}fillLight(){let e=16*this.sections.length-1+y,t=[];for(let a=0;a<16;a++)for(let s=0;s<16;s++){let o=15,i=!1;for(let r=e;r>=y;r--){let e=S[this.getBlock(a,r,s)];e.lightLevel&&(t[e.lightLevel]||(t[e.lightLevel]=[]),t[e.lightLevel].push(a+this.x,r,s+this.z),this.setLight(a,r,s,e.lightLevel,1)),i||e.transparent?o&&(e.decreaseLight&&(o=Math.max(o-e.decreaseLight,0)),this.setLight(a,r,s,o,2),this.setLight(a,r,s,o,0)):(this.tops[16*s+a]=r,o=0,i=!0)}}let a=[];for(let t=0;t<16;t++)for(let s=0;s<16;s++)for(let o=this.tops[16*s+t]+1;o<=e;o++){let e=this.getLight(t,o+1,s,2);if(a[e]||(a[e]=[]),15===t||this.getLight(t+1,o,s,2)<e)a[e].push(t+this.x,o,s+this.z);else if(0===t||this.getLight(t-1,o,s,2)<e)a[e].push(t+this.x,o,s+this.z);else if(15===s||this.getLight(t,o,s+1,2)<e)a[e].push(t+this.x,o,s+this.z);else{if(!(0===s||this.getLight(t,o,s-s,2)<e))break;a[e].push(t+this.x,o,s+this.z)}}for(let e=a.length-1;e>0;e--)a[e]&&this.spreadLight(a[e],e-1);for(let e=t.length-1;e>0;e--){let a=t[e];a&&a.length&&this.spreadLight(a,e-1,!1,1)}this.lit=!0}setLight(e,t,a,s,o){t-=y,this.sections[t>>4]&&this.sections[t>>4].setLight(e,15&t,a,s,o)}getLight(e,t,a,s=0,o){return t-=y,this.sections[t>>4]?this.sections[t>>4].getLight(e,15&t,a,s):15*(!s||o)}trySpread(e,t,a,s,o,i,r=!1){t<y||this.world.getLight(e,t,a,i,this.type,1)<s&&S[this.world.getBlock(e,t,a,this.type)].transparent&&(this.world.setLight(e,t,a,s,i,this.type),o.push(e,t,a))}spreadLight(e,t,a=!1,s=0){let o=[],i=0,r=0,n=0;for(let l=0;l<e.length;l+=3)i=e[l],r=e[l+1],n=e[l+2],r<y||(this.trySpread(i-1,r,n,t,o,s,a),this.trySpread(i+1,r,n,t,o,s,a),this.trySpread(i,r-1,n,t,o,s,a),this.trySpread(i,r+1,n,t,o,s,a),this.trySpread(i,r,n-1,t,o,s,a),this.trySpread(i,r,n+1,t,o,s,a));t>1&&o.length&&this.spreadLight(o,t-1,a,s)}tryUnSpread(e,t,a,s,o,i,r){if(t<y)return;let n=this.world.getLight(e,t,a,r,this.type,1),l=!r&&this.world.getLight(e,t,a,2,this.type),h=S[this.world.getBlock(e,t,a,this.type)].transparent;n===s?h&&(this.world.setLight(e,t,a,0,r,this.type),o.push(e,t,a)):n>s&&!l&&i[n].push(e,t,a),l&&i[l].push(e,t,a)}unSpreadLight(e,t,a,s){let o=[],i=0,r=0,n=0;for(let l=0;l<e.length;l+=3)i=e[l],r=e[l+1],n=e[l+2],r<y||(this.tryUnSpread(i-1,r,n,t,o,a,s),this.tryUnSpread(i+1,r,n,t,o,a,s),this.tryUnSpread(i,r-1,n,t,o,a,s),this.tryUnSpread(i,r+1,n,t,o,a,s),this.tryUnSpread(i,r,n-1,t,o,a,s),this.tryUnSpread(i,r,n+1,t,o,a,s));t>1&&o.length&&this.unSpreadLight(o,t-1,a,s)}reSpreadLight(e,t){for(let a=e.length-1;a>1;a--){let s=e[a],o=a-1,i=e[o];for(let e=0;e<s.length;e+=3){let a=s[e],r=s[e+1],n=s[e+2];this.trySpread(a-1,r,n,o,i,t),this.trySpread(a+1,r,n,o,i,t),this.trySpread(a,r-1,n,o,i,t),this.trySpread(a,r+1,n,o,i,t),this.trySpread(a,r,n-1,o,i,t),this.trySpread(a,r,n+1,o,i,t)}}}updateBlock(e,t,a,s,o,i,r,n,l){t-=y,this.allGenerated&&(this.lazy=o,this.sections.length>t>>4&&this.sections[t>>4]&&this.sections[t>>4].updateBlock(e,15&t,a,s,i,r,n,l))}async carveCaves(){if(!this.carving){if(this.carving=!0,this.world.usePreBeta||this.world.superflat)for(let e=-y>>4;e<this.sections.length;e++)this.sections[e].caves||this.sections[e].carveCaves();else{let{blocks:e,tops:t,biomes:a,caveY:s}=await doWork({caves:!0,densities:this.densities,bottoms:this.densityBottoms,tops:this.tops,trueX:this.x,trueZ:this.z,blocks:this.tempSections,biomes:this.biomes,seed:this.world.worldSeed},[...Object.values(this.densities).map((e=>e.buffer)),this.densityBottoms.buffer,...this.tempSections.map((e=>e.buffer)),this.tops.buffer]);for(let t=0;t<e.length;t++)this.sections[t]=new ht(this.x,16*t+y,this.z,this,e[t]);this.tops.set(t),this.solidTops.set(t),this.caveY.set(s),this.caveBiomes=a,delete this.densities,delete this.densityBottoms,delete this.tempSections}this.caves=!0,this.carving=!1}}async generate(){let e=this.x>>4,t=this.z>>4,a=this.x,s=this.z;if(this.generated||this.generating)return!1;this.generating=!0;const{noiseProfile:o}=this.world;loadString;let i=g.smooth,r=g.height,n=g.biomeSmooth;let l=0,h=0;if(this.world.usePreBeta||""!==this.type||this.world.superflat)for(let u=0;u<16;u++)for(let m=0;m<16;m++){let k=a+u,y=s+m;if(h=o.noise((a+u)*i,(s+m)*i)*r+g.extra,l="island"===this.world.superflat&&""===this.type?this.world.islandGenerator.GetHeight(16*e+u,16*t+m):this.world.superflat?4:Math.round(h),this.tops[16*m+u]=l,"nether"===this.type){let e=da(o.noise((a+u)*n,(s+m)*n));this.biomes[16*m+u]=ha[e];let t=x.netherrack;"warpedForest"===e?t=x.warpedNylium:"crimsonForest"===e&&(t=x.crimsonNylium);const i=40;let r=0,l=!1;for(let e=1;e<f;e++){var d=o.noise((a+u)/i,e/i,(s+m)/i)-.004*(110+e/4-0);e>f-10&&(d=lerp((e-(f-10))/10,d,.1)),d>0?(this.setBlock(u,e,m,x.netherrack),l||(this.ceils[16*m+u]=e),e>31&&(l=!0)):l&&e>31?(this.setBlock(u,e-1,m,t),l=!1,r=e):e<32&&(this.setBlock(u,e,m,x.Lava),this.getBlock(u,e-1,m)===t&&this.setBlock(u,e-2,m,x.netherrack))}this.tops[16*m+u]=r-1,this.setBlock(u,0,m,x.bedrock),this.setBlock(u,f,m,x.bedrock)}else if("end"===this.type){this.tops[16*m+u]=0;for(let e=0;e<64;e++){if(l=o.noise(.01*k,.01*e,.01*y)-.57,k>-64&&k<64&&y>-64&&y<64)l=l+.57-lerp(max(abs(k),abs(y))/64,0,.57);else if(k>-80&&k<80&&y>-80&&y<80)l=l+.57-lerp(max(abs(k)-64,abs(y)-64)/16,.57,1);else if(k>-200&&k<200&&y>-200&&y<200){l=lerp(max(abs(k)-136,abs(y)-136,0)/64,-.1,l)}e<32&&(l=lerp(e/32,-.1,l)),e>48&&(l=lerp((e-48)/16,l,-.1)),l>0&&(this.tops[16*m+u]=e,this.setBlock(u,e,m,x.endStone))}this.biomes[16*m+u]=k<-200||k>200||y<-200||y>200?ha.endIslands:ha.end}else if("island"===this.world.superflat)if(this.world.islandGenerator.GetWaterDepth(16*e+u,16*t+m)>0)this.setBlock(u,l,m,x.Water),this.setBlock(u,l-1,m,x.Water),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt);else{let a=this.world.islandGenerator.GetBiomeType(16*e+u,16*t+m);-3161286===a?(this.setBlock(u,l,m,x.sand),this.setBlock(u,l-1,m,x.sand),this.setBlock(u,l-2,m,x.sand),this.setBlock(u,l-3,m,x.sand),this.biomes[16*m+u]=ha.desert):-1===a?(this.setBlock(u,l,m,x.snowBlock),this.setBlock(u,l-1,m,x.snowBlock),this.setBlock(u,l-2,m,x.stone),this.setBlock(u,l-3,m,x.stone),this.biomes[16*m+u]=ha.snowyPlains):-4934476===a||-8355712===a||-6963874===a?(this.setBlock(u,l,m,x.stone),this.setBlock(u,l-1,m,x.stone),this.setBlock(u,l-2,m,x.stone),this.setBlock(u,l-3,m,x.stone),this.biomes[16*m+u]=ha.desert):-65536===a?(this.setBlock(u,l,m,x.Lava),this.setBlock(u,l-1,m,x.stone),this.setBlock(u,l-2,m,x.stone),this.setBlock(u,l-3,m,x.stone),this.biomes[16*m+u]=ha.desert):(this.setBlock(u,l,m,x.grass),this.setBlock(u,l-1,m,x.dirt),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt),this.biomes[16*m+u]=ha.plains)}else if("void"===this.world.superflat)this.biomes[16*m+u]=ha.void;else if(this.world.superflat)this.tops[16*m+u]=l,this.biomes[16*m+u]=ha.plains,this.setBlock(u,l,m,x.grass),this.setBlock(u,l-1,m,x.dirt),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt);else{var c=ca(o.noise((a+u)*n,(s+m)*n));if(this.biomes[16*m+u]=ha[c],"desert"===c&&(this.tops[16*m+u]=l,this.setBlock(u,l,m,x.sand),this.setBlock(u,l-1,m,x.sand),this.setBlock(u,l-2,m,x.sandstone),this.setBlock(u,l-3,m,x.sandstone),l<60&&(l=59,this.setBlock(u,l+1,m,x.Water),this.setBlock(u,l,m,x.Water),this.setBlock(u,l-1,m,x.Water),this.setBlock(u,l-2,m,x.gravel),this.setBlock(u,l-3,m,x.gravel)),l>120&&this.setBlock(u,l,m,x.stone),l>140&&this.setBlock(u,l,m,x.sand)),"plains"!==c&&"forest"!==c||(this.tops[16*m+u]=l,this.setBlock(u,l,m,x.grass),this.setBlock(u,l-1,m,x.dirt),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt),l<60&&(l=59,this.setBlock(u,l+1,m,x.Water),this.setBlock(u,l,m,x.Water),this.setBlock(u,l-1,m,x.Water),this.setBlock(u,l-2,m,x.gravel),this.setBlock(u,l-3,m,x.gravel))),"snowyPlains"===c){if(this.tops[16*m+u]=l,l>=60){switch(ceil((h+.5)%1*8)){case 1:this.setBlock(u,l+1,m,x.snow|Be);break;case 2:this.setBlock(u,l+1,m,x.snow|Se);break;case 3:this.setBlock(u,l+1,m,x.snow|ve);break;case 4:this.setBlock(u,l+1,m,x.snow|xe);break;case 5:this.setBlock(u,l+1,m,x.snow|Pe);break;case 6:this.setBlock(u,l+1,m,x.snow|Te);break;case 7:this.setBlock(u,l+1,m,x.snow|Ne);break;case 8:this.setBlock(u,l+1,m,x.snowBlock)}this.setBlock(u,l,m,x.grass|$),this.setBlock(u,l-1,m,x.dirt),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt)}l<60&&(l=59,this.setBlock(u,l+1,m,x.ice),this.setBlock(u,l,m,x.ice),this.setBlock(u,l-1,m,x.Water),this.setBlock(u,l-2,m,x.gravel),this.setBlock(u,l-3,m,x.gravel))}if(("sparseJungle"===c||"jungle"===c||"bambooJungle"===c)&&(this.tops[16*m+u]=l,"bambooJungle"===c?this.setBlock(u,l,m,x.podzol):this.setBlock(u,l,m,x.grass),this.setBlock(u,l-1,m,x.dirt),this.setBlock(u,l-2,m,x.dirt),this.setBlock(u,l-3,m,x.dirt),l<60)){this.setBlock(u,60,m,x.Water);for(var p=59;p>=l;p--)this.setBlock(u,p,m,x.Water);this.setBlock(u,l,m,x.gravel),this.setBlock(u,l-1,m,x.gravel)}}if(""===this.type&&"void"!==this.world.superflat){for(let e=1;e<l-3;e++)this.setBlock(u,e,m,x.stone);this.setBlock(u,0,m,x.bedrock)}}else{let{blocks:e,tops:t,biomes:o,hasSemiTrans:i,minY:r,maxY:n,densityBottoms:l,densities:h,waterTops:d}=await doWork({generate:!0,trueX:a,trueZ:s,seed:this.world.worldSeed});if(this.tops.set(t),this.solidTops.set(t),this.biomes=o,i&&(this.doubleRender=!0),this.minY=r,this.maxY=n,this.waterTops=d,this.caves)for(let t=0;t<e.length;t++)this.sections[t]=new ht(this.x,16*t+y,this.z,this,e[t]);else this.densityBottoms=l,this.densities=h,this.tempSections=e}this.generating=!1,this.generated=!0}generateOldBlob(e,t,a,s,o,i,r=1){let n=0,l=0,h=0;for(let u=0;u<a;u++){var d=this.getBlock(s+n,o+l,i+h),c=!1;if(Array.isArray(e)){for(var p of e)if(d===p){c=!0;break}}else d===e&&(c=!0);c&&this.setBlock(s+n,o+l,i+h,t),n=round(Gt(-r,r)),l=round(Gt(-r,r)),h=round(Gt(-r,r))}}generateBlob(e,t,a,s,o,i,r,n,l=!1){r=round(r);let{world:h}=this,d=[],c=0,p=0,u=0,m=2*Gt()-1,g=2*Gt()-1,k=2*Gt()-1;for(let e=0;e<o;e++){let e=Math.hypot(m,g,k);m/=e,g/=e,k/=e,d.push(c,p,u),c+=m*i,l||(p+=g*i),u+=k*i,c>r&&(c=-r),c<-r&&(c=r),p>r&&(p=-r),p<-r&&(p=r),u>r&&(u=-r),u<-r&&(u=r),m=2*Gt()-1,g=2*Gt()-1,k=2*Gt()-1}for(let o=-r;o<r;o++)for(let i=-r;i<r;i++)for(let l=-r;l<r;l++){let r=s[h.getBlock(e+o,t+i,a+l,this.type)];if(void 0===r)continue;if("function"==typeof r&&(r=r(e+o,t+i,a+l,this.type)),void 0===r)continue;let c=0;for(let e=0;e<d.length;e+=3)c+=1/dist3(d[e],d[e+1],d[e+2],o,i,l);c>1/n&&h.spawnBlock(e+o,t+i,a+l,r,this.type,!0)}}spawnOres(e,t,a,s,o,i,r=i/10,n=4,l=8){for(let h=0;h<t;h++){let t;t=round("triangle"===o?.5*(Gt(a,s)+Gt(a,s)):Gt(a,s));let h=round(Gt(15)),d=round(Gt(15));!e[this.getBlock(h,t,d)]||e.biomes&&!e.biomes.includes(ha[this.biomes[16*d+h]])||this.generateBlob(this.x+h,t,this.z+d,e,l,n,i,r)}}allFlowers=[x.lilyOftheValley,x.poppy,x.dandelion,x.blueOrchid,x.pinkTulip,x.orangeTulip,x.redTulip,x.whiteTulip,x.azureBluet,x.cornFlower,x.purpleFlower,x.witherRose,x.allium,x.oxeyeDaisy,x.lilac,x.roseBush,x.peony,x.TallGrass,x.DoubleTallGrass];trashland=[x.grass,x.blackConcrete,x.blackTerracotta,x.soup3,x.coalBlock,x.ancientDebris,x.obsidian,x.blackstone,x.tuff,x.mud];spawnSmallTree(e,t,a,s,o,i,r,n){let l,{type:h,world:d}=this,c=t+floor(4.5+Gt(2.5)),p=floor(Gt(4096)),u=void 0===i?Gt()<.6?x.oakLog:++c&&x.birchLog:i?x.birchLog:x.oakLog,m=u===x.oakLog?x.oakLeaves:x.birchLeaves;n&&(u|=pe);for(let i=t+1;i<=c;i++)this.setBlock(e,i,a,u),r&&ya.add(s,i,o,x.vine);this.setBlock(e,c+1,a,m),this.setBlock(e,t,a,x.dirt);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(l=1&p,p>>>=1,l&&d.spawnBlock(s+e,c-2,o+t,m,h)):d.spawnBlock(s+e,c-2,o+t,m,h));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(l=1&p,p>>>=1,l&&d.spawnBlock(s+e,c-1,o+t,m,h)):d.spawnBlock(s+e,c-1,o+t,m,h));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(l=1&p,p>>>=1,l&&d.spawnBlock(s+e,c,o+t,m,h)):d.spawnBlock(s+e,c,o+t,m,h));d.spawnBlock(s+1,c+1,o,m,h),d.spawnBlock(s,c+1,o-1,m,h),d.spawnBlock(s,c+1,o+1,m,h),d.spawnBlock(s-1,c+1,o,m,h)}spawnSnowSmallTree(e,t,a,s,o){let i,{type:r,world:n}=this,l=t+floor(4.5+Gt(2.5)),h=floor(Gt(4096)),d=Gt()<.6?x.oakLog:++l&&x.birchLog,c=d===x.oakLog?x.oakLeaves:x.birchLeaves,p=x.snow;for(let s=t+1;s<=l;s++)this.setBlock(e,s,a,d);this.setBlock(e,l+1,a,c),this.setBlock(e,t,a,x.dirt),this.setBlock(e,l+2,a,p|Se),n.spawnBlock(s+1,l+1,o,c,r),n.spawnBlock(s,l+1,o-1,c,r),n.spawnBlock(s,l+1,o+1,c,r),n.spawnBlock(s-1,l+1,o,c,r),n.spawnBlock(s+1,l+2,o,p|Be,r),n.spawnBlock(s,l+2,o-1,p|Be,r),n.spawnBlock(s,l+2,o+1,p|Be,r),n.spawnBlock(s-1,l+2,o,p|Be,r);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(i=1&h,h>>>=1,i&&n.spawnBlock(s+e,l-2,o+t,c,r)):n.spawnBlock(s+e,l-2,o+t,c,r));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(i=1&h,h>>>=1,i&&(n.spawnBlock(s+e,l,o+t,c,r),2&h?n.spawnBlock(s+e,l+1,o+t,p|Se,r):n.spawnBlock(s+e,l+1,o+t,p|Be,r))):(n.spawnBlock(s+e,l,o+t,c,r),n.spawnBlock(s+e,l+1,o+t,p|Be,r)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(i=1&h,h>>>=1,i&&(n.spawnBlock(s+e,l-1,o+t,c,r),2&h?n.spawnBlock(s+e,l,o+t,p|Se,r):n.spawnBlock(s+e,l,o+t,p|Be,r))):(n.spawnBlock(s+e,l-1,o+t,c,r),n.spawnBlock(s+e,l,o+t,p|Be,r)))}spawnCactus(e,t,a){let s=Gt(),o=t+Math.floor(2.5+1.5*s),i=(Math.floor(Gt(4096)),x.cactus|ie);for(let s=t+1;s<=o;s++)this.setBlock(e,s,a,i);switch(round(4*s)){case 0:this.setBlock(e,o+1,a,x.newCactusFruit|$);break;case 1:this.setBlock(e,o+1,a,x.greenCactusFruit|$);break;case 2:this.setBlock(e,o+1,a,x.redCactusFruit|$)}}spawnCocoaTree(e,t,a,s,o){let i,{type:r,world:n}=this,l=floor(Gt(4096)),h=t+floor(5+Gt(5)),d=x.jungleLog,c=x.jungleLeaves;for(let i=t+1;i<=h;i++)this.setBlock(e,i,a,d),ya.add(s,i,o,x.vine),ya.add(s,i,o,x.cocoa);this.setBlock(e,h+1,a,c),this.setBlock(e,t,a,x.dirt);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(i=1&l,l>>>=1,i&&(n.spawnBlock(s+e,h-2,o+t,c,r),ya.add(s+e,h-2,o+t,x.vine))):(n.spawnBlock(s+e,h-2,o+t,c,r),ya.add(s+e,h-2,o+t,x.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(i=1&l,l>>>=1,i&&(n.spawnBlock(s+e,h-1,o+t,c,r),ya.add(s+e,h-1,o+t,x.vine))):(n.spawnBlock(s+e,h-1,o+t,c,r),ya.add(s+e,h-1,o+t,x.vine)));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(i=1&l,l>>>=1,i&&(n.spawnBlock(s+e,h,o+t,c,r),ya.add(s+e,h,o+t,x.vine))):(n.spawnBlock(s+e,h,o+t,c,r),ya.add(s+e,h,o+t,x.vine)));n.spawnBlock(s+1,h+1,o,c,r),n.spawnBlock(s,h+1,o-1,c,r),n.spawnBlock(s,h+1,o+1,c,r),n.spawnBlock(s-1,h+1,o,c,r),ya.add(s+1,h+1,o,x.vine),ya.add(s,h+1,o-1,x.vine),ya.add(s,h+1,o+1,x.vine),ya.add(s-1,h+1,o,x.vine)}spawnJungleTree(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(10+Gt(20)),l=x.jungleLog,h=x.jungleLeaves;for(let h=t+1;h<n;h++)this.setBlock(e,h,a,l),r.spawnBlock(s+1,h,o,l,i),r.spawnBlock(s,h,o+1,l,i),r.spawnBlock(s+1,h,o+1,l,i);this.setBlock(e,t,a,x.dirt),r.spawnBlock(s+1,t,o,x.dirt,i,!0),r.spawnBlock(s,t,o+1,x.dirt,i,!0),r.spawnBlock(s+1,t,o+1,x.dirt,i,!0);let d=25,c=25,p=25;for(var u=-4.5;u<4.5;u++)for(var m=2;m<4.5;m++)for(var g=-4.5;g<4.5;g++){u*u/d+m*m/p+g*g/c<1&&(r.spawnBlock(s+u+1,n-4+m,o+g+1,h,i),ya.add(s+u+1,n-4+m,o+g+1,x.vine))}for(d=9,c=9,p=9,m=t+5;m<n;m+=Math.floor(Gt(10))){let e=0,t=0;switch(floor(Gt(4))){case 0:e=1;break;case 1:e=-1;break;case 2:t=1;break;case 3:t=-1}let a=1===e?2:e,n=1===t?2:t,u=floor(Gt(4))+2;for(var k=0;k<u;k++)r.spawnBlock(s+a,m+k,o+n,l,i),ya.add(s+a,m+k,o+n,x.vine),a+=e,n+=t;a-=e,n-=t,k-=1;for(var y=-3;y<3;y++)for(var b=1;b<3;b++)for(var w=-3;w<3;w++){y*y/d+b*b/p+w*w/c<1&&(r.spawnBlock(s+a+y,m+k+b,o+n+w,h,i),ya.add(s+a+y,m+k+b,o+n+w,x.vine))}}for(var f=0;f<10;f++){var B=Gt(t,n),S=floor(Gt(4)),v=s,P=o;switch(S){case 0:P+=2,S=Re;break;case 1:P-=1,S=Le;break;case 2:v+=2,S=Me;break;case 3:v-=1,S=Ie}for(var T=max(floor(Gt(t,B)),t);B>T&&!r.getBlock(v,B,P,i);B--)r.spawnBlock(v,B,P,x.vine|le|S,i)}}spawnJungleBush(e,t,a,s,o){let i,{type:r,world:n}=this,l=floor(Gt(512)),h=x.jungleLeaves;this.setBlock(e,s+1,t,x.jungleLog);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(i=1&l,l>>>=1,i&&n.spawnBlock(a+e,s+1,o+t,h,r)):n.spawnBlock(a+e,s+1,o+t,h,r));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)e&t?(i=1&l,l>>>=1,i&&n.spawnBlock(a+e,s+2,o+t,h,r)):n.spawnBlock(a+e,s+2,o+t,h,r);1&l&&this.setBlock(e,s+3,t,h)}spawnNetherMushroom(e,t,a,s,o,i){let r,{type:n,world:l}=this,h=floor(4.5+Gt(2.5));1===floor(Gt(12))&&(h*=2);let d,c,p=t+h,u=floor(Gt(4096));"warpedForest"===i?(d=x.warpedStem,c=x.warpedWartBlock):"crimsonForest"===i&&(d=x.crimsonStem,c=x.netherWartBlock);for(let s=t+1;s<=p;s++)this.setBlock(e,s,a,d);this.setBlock(e,p+1,a,c),this.setBlock(e,t,a,x.netherrack);for(var m=0;m<3;m++)l.spawnBlock(s+Gt(-2,2),p+Gt(-1,1),o+Gt(-2,2),x.shroomlight,n);for(var g=-1;g<2;g++)for(var k=-1;k<2;k++)r=!(1&g&&1&k)||1&u,u>>>=1,r&&l.spawnBlock(s+g,p+1,o+k,c,n);for(g=-2;g<3;g++)for(k=-2;k<3;k++)r=2!==g&&-2!==g||2!==k&&-2!=k||1&u,u>>>=1,r&&l.spawnBlock(s+g,p,o+k,c,n);u=floor(Gt(4096));for(g=-2;g<3;g++)for(k=-2;k<3;k++)r=(2===g||-2===g||2===k||-2==k)&&!(1&u),u>>>=1,r&&l.spawnBlock(s+g,p-1,o+k,c,n);u=floor(Gt(40964096));for(g=-2;g<3;g++)for(k=-2;k<3;k++){if(r=2===g||-2===g||2===k||-2==k,u>>>=1,r)if(b=4&u&&8&u?3&u:0){l.spawnBlock(s+g,p-1,o+k,c,n);for(var y=0;y<b;y++)l.spawnBlock(s+g,p-2-y,o+k,c,n)}}if("crimsonForest"===i){u=floor(Gt(40964096));for(g=-2;g<3;g++)for(k=-2;k<3;k++){var b;if(r=2===g||-2===g||2===k||-2==k,u>>>=1,r)if(b=4&u&&8&u?(u&h-2)-1:0){l.spawnBlock(s+g,p-1,o+k,c,n);for(y=0;y<b;y++)l.spawnBlock(s+g,p-2-y,o+k,x.weepingVinesPlant,n);l.spawnBlock(s+g,p-2-b,o+k,x.weepingVines,n)}}}}spawnBamboo(e,t,a){if(Gt()<.2)this.setBlock(e,t+1,a,x.bambooShoot|$);else{let o=t+round(4+10*Gt());for(var s=t+1;s<o+1;s++)s===o?this.setBlock(e,s,a,x.bambooStalk|Q):s===o-1?this.setBlock(e,s,a,x.bambooStalk|J):this.setBlock(e,s,a,x.bambooStalk)}}spawnBigOak(e,t,a,s,o,i){let{type:r,world:n}=this;this.setBlock(e,t,a,x.dirt);var l,h,d=Math.floor(Gt(8)+8);let c=x.oakLog,p=x.oakLeaves,u=[];l=d,h=d>14?10:6;let m=.75*d,g=.5*d,k=Gt(Math.PId),y=Gt(),b=sin(k)*y,w=cos(k)*y;u.push([s+b*l,t+l,o+w*l]);for(var f=0;f<h;f++){let e=[],a=Gt(m-g)+g,i=round(lerp(Gt()**2,6,l)),r=Gt(2*Math.PI),n=map(i,6,l,.4,.8)*Math.PI2,h=i*b,d=i*w,c=Gt();if(c<.125&&u.length>1){let e=u[round(Gt(1,u.length-1))];a*=.25;let r=3*floor(e.length*c*4/3);h=e[r]-s,i=e[r+1]-t,d=e[r+2]-o}let p=cos(n),k=s+h+.75*a*sin(r)*p,y=o+d+.75*a*cos(r)*p;line3D(k,i+a*sin(n)+t,y,s+h,i+t,o+d,e),u.push(e)}let B=[];line3DConncected(s+round(b*l),l+t,o+round(w*l),s,t,o,B);for(e=0;e<B.length;e+=3)n.spawnBlock(B[e],B[e+1],B[e+2],c),i&&ya.add(B[e],B[e+1],B[e+2],x.vine);var S=.2*d;for(var f of u){var v=f[0],P=f[1],T=f[2];if(P>=S+t)for(var N=0;N<f.length;N+=3)n.spawnBlock(f[N],f[N+1],f[N+2],c,r),i&&ya.add(f[N],f[N+1],f[N+2],x.vine)}for(var f of u){var C=f.length;v=f[C-3],P=f[C-2],T=f[C-1];let e=4,t=3,a=e*e,s=t*t;for(let o=-t;o<t;o++)for(let t=-e;t<=e;t++)for(let i=-e;i<=e;i++){let e=t*t/a+o*o/s+i*i/a;e>.2&&(e+=.8*this.world.caveNoise(3.3*(t+v),3.3*(o+P),3.3*(i+T))),e<1&&n.spawnBlock(t+v,o+P,i+T,p,r)}}}spawnFallenTree(e,t,a,s,o,i,r,n,l){let h,{type:d,world:c}=this,p=round(Gt(r,n)),u=floor(Gt(8)),m=2+(1&u),g=u>>1&3,k=S[i].swId,y=0,b=0;switch(g){case 0:y=1,h=Ie;break;case 1:b=1,h=Le;break;case 2:y=-1,h=Me;break;case 3:b=-1,h=Re}u=floor(Gt(256)),this.setBlock(e,t,a,x.dirt),this.setBlock(e,t+1,a,i),l&&Gt()<l&&ya.add(s,t+1,o,x.vine),t=c.getTop(s+m*y,o+m*b,d);for(let e=0;e<p;e++){let a=s+(m+e)*y,i=o+(m+e)*b;if(c.spawnBlock(a,t+1,i,k|h,d),1&u){let e=u>>1&1?x.redMushroom:x.brownMushroom;c.spawnBlock(a,t+2,i,e,d)}u>>=2}}spawnSpruce(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(5,12)),l=x.spruceLog,h=x.spruceLeaves,d=n+round(Gt());for(let s=t+1;s<=n;s++)this.setBlock(e,s,a,l);this.setBlock(e,n+1,a,h),this.setBlock(e,t,a,x.dirt),r.spawnBlock(s+1,d,o,h,i),r.spawnBlock(s,d,o-1,h,i),r.spawnBlock(s,d,o+1,h,i),r.spawnBlock(s-1,d,o,h,i);for(let e=d-2,a=0;e>t+1;e--,a++)if(a>5&&!(a%2))for(let t=-3;t<=3;t++)for(let a=-3;a<=3;a++)(t||a)&&(3===abs(t)&&3===abs(a)||r.spawnBlock(s+t,e,o+a,h,i));else if(a%2||a>5)for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)(t||a)&&4!=(t*a&7)&&r.spawnBlock(s+t,e,o+a,h,i);else r.spawnBlock(s+1,e,o,h,i),r.spawnBlock(s,e,o-1,h,i),r.spawnBlock(s,e,o+1,h,i),r.spawnBlock(s-1,e,o,h,i)}spawnPine(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(6,15)),l=x.spruceLog,h=x.spruceLeaves,d=round(Gt(2.25,3.75));for(let s=t+1;s<=n;s++)this.setBlock(e,s,a,l);this.setBlock(e,n+1,a,h),this.setBlock(e,t,a,x.dirt);for(let e=0;e<d;e++)if(3===d&&1===e)for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)(t||a)&&4!=(t*a&7)&&r.spawnBlock(s+t,n-e,o+a,h,i);else r.spawnBlock(s+1,n-e,o,h,i),r.spawnBlock(s-1,n-e,o,h,i),r.spawnBlock(s,n-e,o+1,h,i),r.spawnBlock(s,n-e,o-1,h,i)}spawnBigSpruce(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(25,35)),l=x.spruceLog,h=x.spruceLeaves;this.generateBlob(s,t,o,this.patches.podzol,4,3,6,1.5,!0);for(let h=t+1;h<n;h++)this.setBlock(e,h,a,l),r.spawnBlock(s+1,h,o,l,i),r.spawnBlock(s,h,o+1,l,i),r.spawnBlock(s+1,h,o+1,l,i);this.setBlock(e,t,a,x.dirt),r.spawnBlock(s+1,t,o,x.dirt,i,!0),r.spawnBlock(s,t,o+1,x.dirt,i,!0),r.spawnBlock(s+1,t,o+1,x.dirt,i,!0);for(let e=n+2,a=0;e>t+4;e--,a++){let n=round(a/4+a%2+1),l=n*n;for(let a=-n;a<=n;a++)for(let d=-n;d<=n;d++){let n=(a+.5)**2/l+(d+.5)**2/l;e<t+12&&(n+=(t+12-e)/12),n>.2&&(n+=.8*this.world.caveNoise(3.3*(s+a),3.3*e,3.3*(o+d))),n<1&&r.spawnBlock(s+a+1,e,o+d+1,h,i)}}}spawnTallSpruce(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(15,40)),l=round(lerp(.75,n,t)),h=x.spruceLog,d=x.spruceLeaves;for(let s=t+1;s<n;s++)this.setBlock(e,s,a,h);this.setBlock(e,t,a,x.dirt);for(let e=n+2,t=0;e>l;e--,t++){let a=round(t/4+2),l=a*a,h=.8;h+=(n-e)/15;for(let t=-a;t<=a;t++)for(let n=-a;n<=a;n++){let a=t**2/l+n**2/l,c=1/Math.hypot(t,n)*2;a+=this.world.caveNoise(s+t*c,.5*(e+a),o+n*c)*h,a<1&&r.spawnBlock(s+t,e,o+n,d,i)}}}spawnBigPine(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(15,27)),l=x.spruceLog,h=x.spruceLeaves,d=round(Gt(4,12));this.generateBlob(s,t,o,this.patches.podzol,4,3,6,1.5,!0);for(let h=t+1;h<n;h++)this.setBlock(e,h,a,l),r.spawnBlock(s+1,h,o,l,i),r.spawnBlock(s,h,o+1,l,i),r.spawnBlock(s+1,h,o+1,l,i);this.setBlock(e,t,a,x.dirt),r.spawnBlock(s+1,t,o,x.dirt,i,!0),r.spawnBlock(s,t,o+1,x.dirt,i,!0),r.spawnBlock(s+1,t,o+1,x.dirt,i,!0);let c=d**2;for(let e=-8;e<8;e++)for(let t=-8;t<8;t++)for(let a=-d;a<d;a++){let l=e*e/64+t*t/64+a*a/c;l>.6&&(l+=.4*this.world.caveNoise(2*(s+e),n+a,2*(o+t))),l<1&&r.spawnBlock(s+e,n+a,o+t,h,i)}}spawnAcacia(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(6,8)),l=x.acaciaLog,h=x.acaciaLeaves;for(let s=t+1;s<n;s++)this.setBlock(e,s,a,l);let d=floor(Gt(16384)),c=3&d,p=d>>2&3,u=d>>4&1,m=d>>5&1,g=3+(d>>6&1),k=3+(d>>7&1),y=d>>8&3,b=d>>10&3,w=d>>13&1,f=0,B=0,S=n-1-(d>>12&1),v=s,P=o;switch(y){case 0:f=1;break;case 1:B=1;break;case 2:f=-1;break;case 3:B=-1}for(let e=0;e<c;e++)v+=f,P+=B,S++,r.spawnBlock(v,S,P,l,i);u&&(S++,r.spawnBlock(v,S,P,l,i));let T=g**2;for(var N=-g;N<g;N++)for(var C=g-2;C<g;C++)for(var z=-g;z<g;z++){N*N/T+C*C/T+z*z/T<1&&r.spawnBlock(v+N,S-1+C,P+z,h,i)}if((c||p)&&y!==b){switch(f=0,B=0,S=n-1-w,v=s,P=o,b){case 0:f=1;break;case 1:B=1;break;case 2:f=-1;break;case 3:B=-1}for(let e=0;e<p;e++)v+=f,P+=B,S++,r.spawnBlock(v,S,P,l,i);m&&(S++,r.spawnBlock(v,S,P,l,i)),T=k**2;for(N=-k;N<k;N++)for(C=k-2;C<k;C++)for(z=-k;z<k;z++){N*N/T+C*C/T+z*z/T<1&&r.spawnBlock(v+N,S-1+C,P+z,h,i)}}}spawnBigAcacia(e,t,a,s,o){let{type:i,world:r}=this,n=t+floor(Gt(14,20)),l=x.acaciaLog,h=x.acaciaLeaves,d=S[l].swId;for(let s=t+1;s<n;s++)this.setBlock(e,s,a,l);for(let e=n-6;e<n;e++)if(e===n-1||Gt()>.5){let t,a=floor(Gt(16)),n=0,l=0,m=(1+(a>>2))/4,g=e,k=s,y=o;switch(3&a){case 0:n=1,t=Ie;break;case 1:l=1,t=Le;break;case 2:n=-1,t=Me;break;case 3:l=-1,t=Re}let b=8*(1-m+.25);for(let e=0;e<b;e++)k+=n,y+=l,g+=m,r.spawnBlock(k,round(g),y,d|t,i);g=round(g);for(var c=-8;c<8;c++)for(var p=6;p<8;p++)for(var u=-8;u<8;u++){c*c/64+p*p/64+u*u/64<1&&r.spawnBlock(k+c,g-6+p,y+u,h,i)}}}spawnDisk(e,t,a,s,o=s,i){let{type:r,world:n}=this,l=i**2,h=n.getSolidTop(e,t,r)+10;for(let d=-i;d<i;d++)for(let c=-i;c<i;c++){if(d*d/l+c*c/l<1){let i=n.getSolidTop(e+d,t+c,r);if(i>h)continue;let l=n.getBlock(e+d,i,t+c,r);if(!a.includes(l))continue;let p=s!==o&&n.getBlock(e+d,i+1,t+c,r);n.spawnBlock(e+d,i,t+c,p?o:s,r,!0)}}}spawnRock(e,t,a,s){const{world:o}=this;let i,r,n;"big"===s?(i=.02,r=16,n=12):"mossy"===s||"small"===s?(i=.1,r=n=3):"medium"===s?(i=.04,r=8,n=4):"flat"===s&&(i=.01,r=10,n=4);for(let l=-r;l<r;l++)for(let h=-r;h<r;h++){const d=((l/r)**2+(h/r)**2)**2;for(let r=n-1;r>=-n&&!S[o.getBlock(e+l,t+r,a+h,this.type)].solid;r--){if(mapClamped(this.world.noiseProfile.noise((e+l)*i*4,(t+r)*i*1.5,(a+h)*i*4),.1,.7)>(r+n)/n/2+d){"mossy"===s?o.spawnBlock(e+l,t+r,a+h,x.mossyCobble,this.type,!0):"small"===s?o.spawnBlock(e+l,t+r,a+h,x.cobblestone,this.type,!0):"flat"===s?!o.getBlock(e+l,t+r+1,a+h,this.type)&&this.world.caveNoise(.5*(e+l),.5*(t+r),.5*(a+h))>.65?o.spawnBlock(e+l,t+r,a+h,x.grass,this.type,!0):o.spawnBlock(e+l,t+r,a+h,x.limestone,this.type,!0):!o.getBlock(e+l,t+r+1,a+h,this.type)&&this.world.caveNoise(.25*(e+l),.25*(t+r),.25*(a+h))>.6?(o.spawnBlock(e+l,t+r,a+h,x.grass,this.type,!0),Gt()>.75&&o.spawnBlock(e+l,t+r+1,a+h,x.TallGrass,this.type,!0)):o.spawnBlock(e+l,t+r,a+h,x.stone,this.type,!0);const i=o.getBlock(e+l,t+r-1,a+h,this.type);i!==x.grass&&i!==(x.grass|$)&&i!==x.podzol&&i!==x.mycelium||o.spawnBlock(e+l,t+r-1,a+h,x.dirt,this.type,!0)}}}}generatePatch(e,t,a,s,o){let{world:i}=this;for(let r=-s;r<=s;r++)for(let n=s;n>=-s;n--)for(let l=-s;l<=s;l++)Gt((r/s)**2+(n/s)**2+(l/s)**2)<.5&&!i.getBlock(e+r,t+n,a+l,this.type)&&i.getBlock(e+r,t+n-1,a+l,this.type)===x.grass&&i.spawnBlock(e+r,t+n,a+l,o[floor(Gt(o.length))],this.type)}spawnBigBirch(e,t,a,s,o,i){let{type:r,world:n}=this,l=t+floor(i?Gt(16,20):Gt(6,10)),h=i?x.birchLog:x.birchLog|pe,d=x.birchLeaves;for(let s=t+1;s<=l;s++)this.setBlock(e,s,a,h);this.setBlock(e,t,a,x.dirt);for(let i=0;i<16;i++){let h=round(lerp(Gt()**3,l+2,.5*(l+t))),c=Dt(e,i,a)*Math.PId,p=sin(c),u=cos(c);for(let e=0;e<6;e++)n.spawnBlock(round(s+p*e),round(h+-.5*e),round(o+u*e),d,r)}}spawnShrub(e,t,a,s,o,i){let r,n,{type:l,world:h}=this;floor(Gt(4096));switch(round(i?Gt(0,2):Gt(-1,0))){case-1:r=x.acaciaLog,n=x.acaciaLeaves;break;case 0:r=x.oakLog,n=x.oakLeaves;break;case 1:r=x.oakLog,n=x.redBerryLeaves;break;case 2:r=x.oakLog,n=x.blueBerryLeaves}this.setBlock(e,t+1,a,n),this.setBlock(e,t+2,a,n|J),h.spawnBlock(s,t+1,o-1,n|fe|Le,l),h.spawnBlock(s,t+1,o+1,n|fe|Re,l),h.spawnBlock(s-1,t+1,o,n|fe|Ie,l),h.spawnBlock(s+1,t+1,o,n|fe|Me,l)}spawnBush(e,t,a,s,o,i){let r,n,{type:l,world:h}=this;floor(Gt(4096));switch(round(i?Gt(0,2):Gt(-1,0))){case-1:r=x.acaciaLog,n=x.acaciaLeaves;break;case 0:r=x.oakLog,n=x.oakLeaves;break;case 1:r=x.oakLog,n=x.redBerryLeaves;break;case 2:r=x.oakLog,n=x.blueBerryLeaves}let d=round(Gt(2,3)),c=round(Gt(1,4)),p=floor(.75*c)+t;for(let s=t+1;s<=p;s++)this.setBlock(e,s,a,r);this.setBlock(e,t,a,x.rootedDirt);let u=d**2,m=c**2;for(let e=-d;e<=d;e++)for(let t=-d;t<=d;t++)for(let a=-c;a<=c;a++){let i=e,r=t;a<0&&(i*=1-a/c*2,r*=1-a/c*2);let d=i*i/u+r*r/u+a*a/m;d>.6&&(d+=.4*this.world.caveNoise(2*(s+e),p+a,2*(o+t))),d<1&&h.spawnBlock(s+e,p+a,o+t,n,l)}}spawnDarkOak(e,t,a,s,o){let i,r,n,l,{type:h,world:d}=this,c=t+round(Gt(12,18)),p=x.darkOakLog,u=x.darkOakLeaves,m=Gt()>.85;for(let e=t+1;e<c;e++)n=i,l=r,i=round(8*lerp(Math.min(.25*(e-t-1),1),0,d.noiseProfile.generator.noise3d(s,.05*e,o))),r=round(lerp(Math.min(.25*(e-t-1),1),0,8*d.noiseProfile.generator.noise3d(s,.05*-e,o))),d.spawnBlock(s+i,e,o+r,p,h),d.spawnBlock(s+1+i,e,o+r,p,h),d.spawnBlock(s+i,e,o+1+r,p,h),d.spawnBlock(s+1+i,e,o+1+r,p,h),n===i&&l===r||(d.spawnBlock(s+i,e-1,o+r,p,h),d.spawnBlock(s+1+i,e-1,o+r,p,h),d.spawnBlock(s+i,e-1,o+1+r,p,h),d.spawnBlock(s+1+i,e-1,o+1+r,p,h));d.spawnBlock(s,t,o,x.dirt,h,!0),d.spawnBlock(s+1,t,o,x.dirt,h,!0),d.spawnBlock(s,t,o+1,x.dirt,h,!0),d.spawnBlock(s+1,t,o+1,x.dirt,h,!0);let g=s+i,k=o+r,y=[];for(let e=0;e<4;e++){let e=g+round(Gt(-6,6)),a=k+round(Gt(-6,6)),i=round(Gt(max(t+5,c-16),c-5)),r=s+round(8*d.noiseProfile.generator.noise3d(s,.05*i,o)),n=o+round(8*d.noiseProfile.generator.noise3d(s,.05*-i,o));y.length=0,line3D(e,c,a,r,i,n,y);for(let e=0;e<y.length;e+=3)d.spawnBlock(y[e],y[e+1],y[e+2],p,h)}for(let e=-10;e<=11;e++)for(let t=-10;t<=11;t++)for(let a=-5;a<=5;a++){let s=e-.5,o=t-.5;a<0&&(s*=1-a/5*2,o*=1-a/5*2);let i=s*s/100+o*o/100+a*a/25;if(i>.6&&(i+=.4*this.world.caveNoise(.4*(g+e),c+a,.4*(k+t))),i<1&&(d.spawnBlock(g+e,c+a,k+t,u,h),i>.75&&Dt(g+e,c+a,k+t)>.75&&(ya.add(g+e,c+a,k+t,x.vine),m&&!d.getBlock(g+e,c+a-1,k+t,h)&&Dt(g+e,c+a,k+t)>.9))){let s=round(Gt(5,12));for(let o=1;o<s;o++)d.spawnBlock(g+e,c+a-o,k+t,Dt(g+e,c+a-o,k+t)>.75?x.caveVinesPlantLit:x.caveVinesPlant,h);d.spawnBlock(g+e,c+a-s,k+t,Dt(g+e,c+a-s,k+t)>.75?x.caveVinesLit:x.caveVines,h)}}}spawnHugeMushroomPiece3x3(e,t,a,s,o,i,r,n){let{type:l,world:h}=this;h.spawnBlock(e-s,t,a-o,n|re|i,l),h.spawnBlock(e,t,a,n|ee|i,l),h.spawnBlock(e+s,t,a+o,n|re|r,l),h.spawnBlock(e-s,t-1,a-o,n|ne|i,l),h.spawnBlock(e,t-1,a,n|le|i,l),h.spawnBlock(e+s,t-1,a+o,n|ne|r,l),h.spawnBlock(e-s,t-2,a-o,n|ne|i,l),h.spawnBlock(e,t-2,a,n|le|i,l),h.spawnBlock(e+s,t-2,a+o,n|ne|r,l)}spawnHugeMushroom(e,t,a,s,o){let{type:i,world:r}=this,n=round(Gt(5,9));Gt()<.1&&(n*=2);let l=t+n;for(let s=t+1;s<l;s++)this.setBlock(e,s,a,x.mushroomStem|K);if(this.setBlock(e,t,a,x.dirt),Gt()>.5){let e=x.brownMushroomBlock;r.spawnBlock(s+3,l,o-2,e|re|Ie,i),r.spawnBlock(s+3,l,o-1,e|ee|Ie,i),r.spawnBlock(s+3,l,o,e|ee|Ie,i),r.spawnBlock(s+3,l,o+1,e|ee|Ie,i),r.spawnBlock(s+3,l,o+2,e|re|Le,i),r.spawnBlock(s+2,l,o+3,e|re|Le,i),r.spawnBlock(s+1,l,o+3,e|ee|Le,i),r.spawnBlock(s,l,o+3,e|ee|Le,i),r.spawnBlock(s-1,l,o+3,e|ee|Le,i),r.spawnBlock(s-2,l,o+3,e|re|Me,i),r.spawnBlock(s-3,l,o+2,e|re|Me,i),r.spawnBlock(s-3,l,o+1,e|ee|Me,i),r.spawnBlock(s-3,l,o,e|ee|Me,i),r.spawnBlock(s-3,l,o-1,e|ee|Me,i),r.spawnBlock(s-3,l,o-2,e|re|Re,i),r.spawnBlock(s-2,l,o-3,e|re|Re,i),r.spawnBlock(s-1,l,o-3,e|ee|Re,i),r.spawnBlock(s,l,o-3,e|ee|Re,i),r.spawnBlock(s+1,l,o-3,e|ee|Re,i),r.spawnBlock(s+2,l,o-3,e|re|Ie,i);for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)r.spawnBlock(s+t,l,o+a,e|Q,i)}else{let e=x.redMushroomBlock;r.spawnBlock(s,l,o,e|Q,i),r.spawnBlock(s+1,l,o,e|ee|Ie,i),r.spawnBlock(s-1,l,o,e|ee|Me,i),r.spawnBlock(s,l,o+1,e|ee|Le,i),r.spawnBlock(s,l,o-1,e|ee|Re,i),r.spawnBlock(s+1,l,o-1,e|re|Ie,i),r.spawnBlock(s-1,l,o+1,e|re|Me,i),r.spawnBlock(s+1,l,o+1,e|re|Le,i),r.spawnBlock(s-1,l,o-1,e|re|Re,i),this.spawnHugeMushroomPiece3x3(s+2,l-1,o,0,1,Ie,Le,e),this.spawnHugeMushroomPiece3x3(s,l-1,o+2,-1,0,Le,Me,e),this.spawnHugeMushroomPiece3x3(s-2,l-1,o,0,-1,Me,Re,e),this.spawnHugeMushroomPiece3x3(s,l-1,o-2,1,0,Re,Ie,e)}}spawnCherryTree(e,t,a,s,o){let{type:i,world:r}=this;this.setBlock(e,t,a,x.dirt);let n=round(Gt(1,3)),l=x.cherryLog,h=x.cherryLogSW,d=x.cherryLeaves,c=t+7,p=[s,c,o],u=[];for(let s=t;s<c;s++)this.setBlock(e,s,a,l);this.setBlock(e,t,a,x.dirt);for(let e=0;e<n;e++){let e,t=c-round(Gt(3,4)),a=c-round(Gt()),n=round(Gt(2,4)),d=0,m=0;switch(round(Gt(3))){case 0:d=1,e=Ie;break;case 1:m=1,e=Le;break;case 2:d=-1,e=Me;break;case 3:m=-1,e=Re}if(p.push(s+d*n,a,o+m*n),Gt()>.5){u.length=0,line3DConncected(s+d*n,a,o+m*n,s,t,o,u);let c=(a-t)/n>=1?l:h|e;for(let e=0;e<u.length;e+=3)r.spawnBlock(u[e],u[e+1],u[e+2],c,i)}else{for(let a=0;a<=n;a++)r.spawnBlock(s+d*a,t,o+m*a,h|e,i);for(let e=t;e<a;e++)r.spawnBlock(s+d*n,e,o+m*n,l,i)}}for(let e=0;e<p.length;e+=3){let t=p[e],a=p[e+1],n=p[e+2],l=5,h=2.5,u=l**2,m=h**2;for(let e=-l;e<=l;e++)for(let p=-l;p<=l;p++)for(let l=floor(-h);l<=ceil(h);l++){let h=e*e/u+p*p/u+l*l/m;if(h>.5&&(h+=.5*this.world.caveNoise(1.5*(s+e),1.5*(c+l),1.5*(o+p))),h<1&&(r.spawnBlock(t+e,a+l,n+p,d,i),!r.getBlock(t+e,a+l-1,n+p))){let s=round(lerp(Dt(t+e,a+l,n+p),-1,1.8));s>0&&(r.spawnBlock(t+e,a+l-1,n+p,d,i),s>1&&r.spawnBlock(t+e,a+l-2,n+p,d,i))}}}}spawnSwampOak(e,t,a,s,o){let i,{type:r,world:n}=this,l=t+floor(4.5+Gt(2.5)),h=floor(Gt(4096)),d=x.oakLog,c=x.oakLeaves;for(let s=t+1;s<=l;s++)this.setBlock(e,s,a,d);this.setBlock(e,l+1,a,c),this.setBlock(e,t,a,x.dirt);for(let e=-3;e<=3;e++)for(let t=-3;t<=3;t++)(e||t)&&(3===abs(e)&&3===abs(t)?(i=1&h,h>>>=1,i&&(n.spawnBlock(s+e,l-2,o+t,c,r),ya.add(s+e,l-2,o+t,x.vine),ya.add(s+e,l-2,o+t,x.vine))):(n.spawnBlock(s+e,l-2,o+t,c,r),ya.add(s+e,l-2,o+t,x.vine),ya.add(s+e,l-2,o+t,x.vine)));for(let e=-3;e<=3;e++)for(let t=-3;t<=3;t++)(e||t)&&(3===abs(e)&&3===abs(t)?(i=1&h,h>>>=1,i&&(n.spawnBlock(s+e,l-1,o+t,c,r),ya.add(s+e,l-1,o+t,x.vine),ya.add(s+e,l-1,o+t,x.vine))):(n.spawnBlock(s+e,l-1,o+t,c,r),ya.add(s+e,l-1,o+t,x.vine),ya.add(s+e,l-1,o+t,x.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(2===abs(e)&&2===abs(t)?(i=1&h,h>>>=1,i&&(n.spawnBlock(s+e,l,o+t,c,r),ya.add(s+e,l,o+t,x.vine))):(n.spawnBlock(s+e,l,o+t,c,r),ya.add(s+e,l,o+t,x.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)!e&&!t||2===abs(e)&&2===abs(t)||(n.spawnBlock(s+e,l+1,o+t,c,r),ya.add(s+e,l+1,o+t,x.vine))}patches={flowers:[x.poppy,x.dandelion],forestFlowers:[x.poppy,x.dandelion,x.lilac,x.roseBush,x.peony,x.lilyOftheValley],plainsFlowers:[x.poppy,x.poppy,x.azureBluet,x.azureBluet,x.oxeyeDaisy,x.oxeyeDaisy,x.cornFlower,x.cornFlower,x.orangeTulip,x.pinkTulip,x.redTulip,x.whiteTulip],flowerForestFlowers:[x.dandelion,x.poppy,x.allium,x.azureBluet,x.orangeTulip,x.pinkTulip,x.redTulip,x.whiteTulip,x.oxeyeDaisy,x.cornFlower,x.lilyOftheValley,x.pinkPetals],sunflowerPlainsFlowers:[x.sunflower,x.sunflower,x.sunflower,x.sunflower,x.sunflower,x.sunflower,x.poppy,x.azureBluet,x.oxeyeDaisy,x.cornFlower],meadowFlowers:[x.poppy,x.dandelion,x.allium,x.azureBluet,x.cornFlower,x.oxeyeDaisy],pinkPetals:[x.pinkPetals,x.pinkPetals|J,x.pinkPetals|Q,x.pinkPetals|$],blueOrchids:[x.blueOrchid],grass:[x.TallGrass],tallGrass:[x.TallGrass,x.DoubleTallGrass],fernGrass:[x.fern,x.largeFern,x.TallGrass,x.DoubleTallGrass],fernBerries:[x.fern,x.sweetBerryBush|$,x.largeFern,x.TallGrass,x.TallGrass,x.DoubleTallGrass],grassLeaves:[x.driedOakLeaves,x.driedBirchLeaves,x.driedOakLeaves|J,x.TallGrass,x.TallGrass,x.TallGrass,x.TallGrass],lushCaves:[x.TallGrass,x.DoubleTallGrass,x.mossCarpet|ye,x.azalea,x.floweringAzalea],jungle:[x.TallGrass,x.DoubleTallGrass,x.fern,x.largeFern,x.mossCarpet|ye,x.azalea,x.floweringAzalea],seagrass:[x.seagrass,x.tallSeagrass],grassAndRareTallGrass:[x.TallGrass,x.TallGrass,x.TallGrass,x.DoubleTallGrass],mostThickLeaves:[x.driedOakLeaves|J,x.driedOakLeaves,x.driedOakLeaves,x.driedBirchLeaves,x.TallGrass,x.TallGrass,x.driedSpruceLeaves],dirtOre:{[x.stone]:x.dirt},gravelOre:{[x.stone]:x.gravel,[x.deepslate]:x.gravel},graniteOre:{[x.stone]:x.granite,[x.deepslate]:x.granite},dioriteOre:{[x.stone]:x.diorite,[x.deepslate]:x.diorite},andesiteOre:{[x.stone]:x.andesite,[x.deepslate]:x.andesite},tuffOre:{[x.stone]:x.tuff,[x.deepslate]:x.tuff},coalOre:{[x.stone]:x.coalOre,[x.deepslate]:x.deepslateCoalOre},ironOre:{[x.stone]:x.ironOre,[x.deepslate]:x.deepslateIronOre},copperOre:{[x.stone]:x.copperOre,[x.deepslate]:x.deepslateCopperOre},redstoneOre:{[x.stone]:x.redstoneOre,[x.deepslate]:x.deepslateRedstoneOre},lapisOre:{[x.stone]:x.lapisOre,[x.deepslate]:x.deepslateLapisOre},goldOre:{[x.stone]:x.goldOre,[x.deepslate]:x.deepslateGoldOre},diamondOre:{[x.stone]:x.diamondOre,[x.deepslate]:x.deepslateDiamondOre},emeraldOre:{biomes:["windsweptHills","grove","jaggedPeaks","meadows","frozenPeaks","stonePeaks","windsweptForest","snowySlopes","windsweptGravelHills","cherryGrove"],[x.stone]:x.emeraldOre,[x.deepslate]:x.deepslateEmeraldOre},badlandsGoldOre:{biomes:["badlands,erodedBadlands,woodedBadlands"],[x.stone]:x.goldOre,[x.deepslate]:x.deepslateGoldOre},limestoneOre:{[x.stone]:x.limestone,[x.deepslate]:x.limestone},podzol:{[x.grass]:x.podzol,[x.air]:(e,t,a,s)=>Dt(e,t,a)>.7||!S[this.world.getBlock(e,t-1,a,s)].solid||this.world.getBlock(e,t+1,a,s)?void 0:x.driedSpruceLeaves},sandDisk:[x.dirt,x.grass,x.coarseDirt,x.rootedDirt],clayDisk:[x.dirt],dirtDisk:[x.mud,x.clay],aboveGroundDisk:[x.grass],azaleaLeaves:{0:(e,t,a,s)=>Dt(e,t,a)>.65?x.floweringAzaleaLeaves:x.azaleaLeaves},mushrooms:[x.redMushroom,x.brownMushroom]};async populate(){const e=this.world,{trees:t}=e;It(e.worldSeed),Ot(21e7*Mt(this.x,this.z));const{noiseProfile:a}=e;let s=0,o=0,i=0,r=this.x,n=(this.y,this.z);const l=this.type;if(ya.clear(),this.world.usePreBeta&&""===l){const a=this.allFlowers,r=[x.dirt,x.stone,x.gravel],n=[x.stone,x.gravel];g.smooth,g.height,g.biomeSmooth;for(let m=0;m<16;m++)for(let g=0;g<16;g++){s=this.x+m,o=this.z+g,i=this.tops[16*g+m];let k=la[this.biomes[16*g+m]];if(t&&Gt()<.01&&""===l&&"plains"===k&&this.getBlock(m,i,g)===x.grass&&this.spawnSmallTree(m,i,g,s,o),"snowyPlains"===k&&t&&Gt()<.01&&""===l&&this.getBlock(m,i,g)&&this.spawnSnowSmallTree(m,i,g,s,o),Gt()<.01&&this.getBlock(m,i,g)&&"desert"===k&&i>60&&""===this.type&&this.spawnCactus(m,i,g),Gt()<.006&&this.getBlock(m,i,g)&&"desert"===k&&i>60&&""===this.type&&this.setBlock(m,i+1,g,x.deadBush|$),t&&Gt()<.01&&""===l&&("sparseJungle"===k||"jungle"===k)&&this.getBlock(m,i,g)&&this.spawnCocoaTree(m,i,g,s,o),t&&Gt()<.01&&""===l&&"jungle"===k&&this.getBlock(m,i,g)&&this.spawnJungleTree(m,i,g,s,o),t&&Gt()<.015&&""===l&&("sparseJungle"===k||"jungle"===k)&&this.getBlock(m,i,g)){let t=9,a=9,r=9;for(var h=-3;h<3;h++)for(var d=1;d<3;d++)for(var c=-3;c<3;c++){h*h/t+d*d/r+c*c/a<1&&(e.spawnBlock(s+h,i+d,o+c,x.jungleLeaves,l),ya.add(s+h,i+d,o+c,x.vine))}this.setBlock(m,i+1,g,x.jungleLog)}if(Gt()<.05&&this.getBlock(m,i,g,l)===x.grass){var p,u=Gt();p="jungle"===k?u>.75?x.TallGrass:u>.5?x.DoubleTallGrass:u>.25?x.fern:x.largeFern:a[Math.round(u*(a.length-1))],e.spawnBlock(s,i+1,o,p,l)}if(Gt()<.2&&this.getBlock(m,i,g)&&"bambooJungle"===k&&i>60&&""===this.type&&this.spawnBamboo(m,i,g),i-=4,Gt()<3.7/256){let e=16*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.diamondOre,round(Gt(3,8)),m,e,g,10)}if(Gt()<111.5/256){let e=64*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.ironOre,round(Gt(1,13)),m,e,g,9)}if(Gt()<51/256){let e=64*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.copperOre,round(Gt(1,16)),m,e,g,9)}if(Gt()<185.5/256){let e=Gt()*i|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.coalOre,round(Gt(1,37)),m,e,g,20)}if(Gt()<.040625){let e=32*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.goldOre,round(Gt(1,13)),m,e,g,9)}if(Gt()<29.1/256){let e=16*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.redstoneOre,round(Gt(1,10)),m,e,g,8)}if(Gt()<4.1/256){let e=32*Gt()|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(x.stone,x.lapisOre,round(Gt(1,9)),m,e,g,9)}if(Gt()<.1){let e=Gt()*i|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(r,x.clay,round(Gt(20,40)),m,e,g,5)}if(Gt()<.1){let e=Gt()*i|1;e=e<i?e:i,this.getBlock(m,e,g)&&this.generateOldBlob(n,x.dirt,round(Gt(20,40)),m,e,g,5)}}}else if("nether"===this.type)for(let t=0;t<16;t++)for(let a=0;a<16;a++){Gt()<.005&&"nether"===l&&i>79&&("crimsonForest"===b||"warpedForest"===b)&&this.spawnNetherMushroom(t,i,a,s,o,b);var m=this.getBlock(t,i,a);if(Gt()<.05&&(m===x.crimsonNylium?e.spawnBlock(s,i+1,o,x.crimsonRoots,l):m===x.warpedNylium&&e.spawnBlock(s,i+1,o,x.warpedRoots,l)),Gt()<.05&&this.getBlock(t,i,a,l)&&"nether"===this.type){let s=round(Gt(f));this.getBlock(t,s,a)&&!this.getBlock(t,s-1,a)&&(this.setBlock(this.x+t,s,this.z+a,x.Lava),S[x.Lava].spawnFlow(this.x+t,s,this.z+a,l,e))}let r;for(Gt()<.005&&this.generateOldBlob(0,x.glowstone,20,s,this.ceils[16*a+t],o,2),r=0;r<16;r++){let t=Gt(0,16),a=Gt(10,177),i=Gt(0,16);e.getBlock(s+t,a,o+i,this.type)===x.netherrack&&e.getBlock(s+t,a+1,o+i,this.type)===x.netherrack&&e.getBlock(s+t,a-1,o+i,this.type)===x.netherrack&&e.setBlock(s+t,a,o+i,x.netherQuartzOre,!1,!1,!1,!1,this.type)}for(r=0;r<10;r++){let t=Gt(0,16),a=Gt(10,177),i=Gt(0,16);e.getBlock(s+t,a,o+i,this.type)===x.netherrack&&e.getBlock(s+t,a+1,o+i,this.type)===x.netherrack&&e.getBlock(s+t,a-1,o+i,this.type)===x.netherrack&&e.setBlock(s+t,a,o+i,x.netherGoldOre,!1,!1,!1,!1,this.type)}}else if("end"===this.type);else if(!e.usePreBeta){let h,d,c,p,u,m;for(let t=0;t<16;t++){s=this.x+t;for(let r=0;r<16;r++){o=this.z+r,i=this.tops[16*r+t];let n=la[this.biomes[16*r+t]];if("frozenPeaks"===n||"snowySlopes"===n||"jaggedPeaks"===n||"windsweptHills"===n||"windsweptGravelHills"===n){h=e.getTop(s+1,o,l),d=e.getTop(s,o+1,l),c=e.getTop(s-1,o,l),p=e.getTop(s,o-1,l),u=h-i-(c-i),m=d-i-(p-i);let a=sqrt(u*u+m*m);if(u/=a,m/=a,"frozenPeaks"===n){if(a>2)if(m<-.75||m>.75){let e=i-1;for(;this.getBlock(t,e,r)===x.snowBlock;)this.setBlock(t,e,r,x.packedIce),e--}else if(u>0){let e=i;for(;this.getBlock(t,e,r)===x.snowBlock;)this.setBlock(t,e,r,x.packedIce),e--}}else if("snowySlopes"===n||"jaggedPeaks"===n){if(a>4){let e=i;for(;this.getBlock(t,e,r)===x.snowBlock;)this.setBlock(t,e,r,x.stone),e--}}else if("windsweptHills"===n){if(a>2.5){let e=i;for(;this.getBlock(t,e,r)===x.grass||this.getBlock(t,e,r)===x.dirt;)this.setBlock(t,e,r,x.stone),e--}}else if("windsweptGravelHills"===n&&a>2.5){let e=i;for(;this.getBlock(t,e,r)===x.grass||this.getBlock(t,e,r)===x.dirt;)this.setBlock(t,e,r,x.gravel),e--}}"swamp"===n&&this.getBlock(t,B,r)===x.grass&&a.generator.noise2d(.25*s,.25*o)>0&&this.setBlock(t,B,r,x.Water)}}if(t)for(let t=0;t<16;t++){s=this.x+t;for(let r=0;r<16;r++){o=this.z+r,i=this.tops[16*r+t];let n,h,d,c,p,u,m,g,k,y,b,w,f,v,P,T,N,C,z,L,R,I,M,D,A,O,G,W,F,E,q,U,H,_,j,Y=la[this.biomes[16*r+t]],V=this.waterTops[16*r+t],X=.2,Z=!0,Q=i>90?.15:.05,K=i>90?"flat":"medium",ee=.65,te=.04,ae=.4;switch(Y){case"forest":A=2,n=9,h=1,v=.5,W=this.patches.forestFlowers,G=this.patches.grassLeaves,ae=.15;break;case"plains":d=.1,h=.0333333333,Q=0,W=this.patches.plainsFlowers,G=this.patches.tallGrass;break;case"flowerForest":n=4,h=.25,ee=.35,W=this.patches.flowerForestFlowers,G=this.patches.grass;break;case"sunflowerPlains":ee=.4,W=this.patches.sunflowerPlainsFlowers,G=this.patches.tallGrass;break;case"meadows":n=.02,h=.02,ee=.6,Q=0,W=this.patches.meadowFlowers,G=this.patches.grassAndRareTallGrass,ae=.1;break;case"birchForest":v=4,c=4,W=this.patches.forestFlowers,G=this.patches.grass;break;case"oldBirchForest":p=9,W=this.patches.forestFlowers,G=this.patches.grass;break;case"sparseJungle":F=.25,u=2,h=.25,R=!0,G=this.patches.grass;break;case"jungle":F=.25,u=8,m=1,h=.5,R=!0,G=this.patches.jungle;break;case"bambooJungle":F=180,m=1,h=.5,R=!0,G=this.patches.grass;break;case"desert":z=1,L=1,X=.4,Q=0;break;case"oldSpruceTaiga":h=1,d=2,A=1,z=1,P=8,g=.5,y=.5,k=.25,b=.125,Q=1,K="mossy",G=this.patches.fernGrass,ae=.4,W=this.patches.flowers;break;case"oldPineTaiga":h=1,d=2,A=1,z=1,P=.5,k=1,b=2,g=.25,y=.125,Q=1,K="mossy",G=this.patches.fernGrass,ae=.4,W=this.patches.flowers;break;case"grove":g=2,k=.666666667,Q=0;break;case"windsweptGravelHills":d=.05,g=.0333,h=.005,ee=.8,Q=1,K="small",W=this.patches.flowers,G=this.patches.grass,ae=.6;break;case"windsweptForest":P=2,d=1,g=.666,y=.3,h=.1,ee=.8,Q=1,K="small",Q=0,W=this.patches.flowers,G=this.patches.grass,ae=.6;break;case"windsweptHills":Q=1,K="small",h=.1,y=.1;break;case"taiga":g=3,k=2,y=.25,b=.25,P=.25,ee=.8,W=this.patches.flowers,G=this.patches.fernBerries,ae=.4;break;case"snowyTaiga":g=2,k=.666,y=.25,b=.25,P=.25,ee=.8,W=this.patches.flowers,G=this.patches.fernGrass,ae=.4;break;case"snowyPlains":g=.08,W=this.patches.flowers,ee=.8,G=this.patches.grass,ae=.65;break;case"woodedBadlands":d=4,Q=0,G=this.patches.grass,ae=.65,z=1,L=.25;break;case"badlands":case"erodedBadlands":z=1,L=1,Q=0;break;case"savanna":case"savannaPlateau":w=.5,f=.05,d=.1,G=this.patches.tallGrass,W=this.patches.flowers;break;case"shrubland":Q=.1,K="small",D=8,g=.25,d=.5,G=this.patches.tallGrass,ae=.2,W=this.patches.flowers;break;case"sparseForest":A=2,p=1,h=3,v=.125,g=.25,y=.0625,P=.1,W=this.patches.forestFlowers,G=this.patches.mostThickLeaves,ae=.1;break;case"alpineHills":g=.1,P=1,k=.05,G=this.patches.tallGrass;break;case"darkForest":M=.5,T=4,n=1,G=this.patches.grass,W=this.patches.forestFlowers;break;case"rockyPlains":Q=.2,K="big",h=.04,y=.04,G=this.patches.tallGrass,ae=.2;break;case"windsweptSavanna":w=.5,G=this.patches.grass,W=this.patches.flowers;break;case"grassyForest":n=9,h=.5,W=this.patches.forestFlowers,G=this.patches.grass;break;case"cherryGrove":N=1,W=this.patches.pinkPetals,ee=.3,te=.1,G=this.patches.tallGrass,ae=.4;break;case"dryShrubland":D=6,Z=!1,z=1,L=1,Q=0,X=.4;break;case"snowySlopes":case"frozenPeaks":case"jaggedPeaks":case"stonePeaks":case"beach":case"stonyShore":case"snowyBeach":Q=0;break;case"ocean":case"deepOcean":case"coldOcean":case"deepColdOcean":case"lukewarmOcean":case"deepLukewarmOcean":case"warmOcean":break;case"mushroomFields":M=1,W=this.patches.mushrooms,ee=.5,te=.1;break;case"rockyRiver":O=.2,Q=1,K="big";break;case"swamp":C=1,O=12,W=this.patches.blueOrchids,ee=.75,G=this.patches.grass,z=1,M=.25}let se=this.getBlock(t,i,r),oe=this.getBlock(t,i+1,r);if(Wt(0),oe||(F&&(se===x.grass||se===x.podzol)&&Gt(256)<F&&this.spawnBamboo(t,i,r),n&&se&&Gt(256)<n&&this.spawnSmallTree(t,i,r,s,o,Gt()>.8,Gt()>.9),d&&se&&Gt(256)<d&&this.spawnSmallTree(t,i,r,s,o,!1),c&&se&&Gt(256)<c&&this.spawnSmallTree(t,i,r,s,o,!0,!1,!0),h&&se&&Gt(256)<h&&this.spawnBigOak(t,i,r,s,o,Gt()>.9),u&&se===x.grass&&Gt(256)<u&&(Gt()>.5?this.spawnCocoaTree(t,i,r,s,o):this.spawnJungleBush(t,r,s,i,o)),m&&se===x.grass&&Gt(256)<m&&this.spawnJungleTree(t,i,r,s,o),z&&se&&Gt(256)<z&&this.setBlock(t,i+1,r,x.deadBush|$),L&&se&&Gt(256)<L&&this.spawnCactus(t,i,r),g&&se&&Gt(256)<g&&this.spawnSpruce(t,i,r,s,o),k&&se&&Gt(256)<k&&this.spawnPine(t,i,r,s,o),y&&se&&Gt(256)<y&&this.spawnBigSpruce(t,i,r,s,o),b&&se&&Gt(256)<b&&this.spawnBigPine(t,i,r,s,o),w&&se&&Gt(256)<w&&this.spawnAcacia(t,i,r,s,o),f&&se&&Gt(256)<f&&this.spawnBigAcacia(t,i,r,s,o),v&&se&&Gt(256)<v&&this.spawnBigBirch(t,i,r,s,o),p&&se&&Gt(256)<p&&this.spawnBigBirch(t,i,r,s,o,!0),D&&se&&Gt(256)<D&&(Gt()>.5?this.spawnBush(t,i,r,s,o,Z):this.spawnShrub(t,i,r,s,o,Z)),A&&se&&Gt(256)<A&&this.spawnBush(t,i,r,s,o),P&&se&&Gt(256)<P&&this.spawnTallSpruce(t,i,r,s,o),T&&se&&Gt(256)<T&&this.spawnDarkOak(t,i,r,s,o),M&&se&&Gt(256)<M&&this.spawnHugeMushroom(t,i,r,s,o),N&&se&&Gt(256)<N&&this.spawnCherryTree(t,i,r,s,o),C&&se&&Gt(256)<C&&this.spawnSwampOak(t,i,r,s,o)),q=.05*(n||d||0),U=.05*(n||c||0),H=.05*(p||0),_=.05*(u||0),j=.05*(g||k||0),oe||(q&&Gt(256)<q&&this.spawnFallenTree(t,i,r,s,o,x.oakLog,4,7,.75),U&&Gt(256)<U&&this.spawnFallenTree(t,i,r,s,o,x.birchLog,5,8),H&&Gt(256)<H&&this.spawnFallenTree(t,i,r,s,o,x.birchLog,5,15),_&&Gt(256)<_&&this.spawnFallenTree(t,i,r,s,o,x.jungleLog,4,11,.75),j&&Gt(256)<j&&this.spawnFallenTree(t,i,r,s,o,x.spruceLog,6,10)),Wt(1),!oe&&i<64&&(se===x.grass||se===x.sand)&&mapClamped(a.noise(.1*s,5,.1*o),.3,.7)<X&&(e.getBlock(s+1,i,o,this.type)===x.Water||e.getBlock(s-1,i,o,this.type)===x.Water||e.getBlock(s,i,o+1,this.type)===x.Water||e.getBlock(s,i,o-1,this.type)===x.Water)){let e=Gt()>.2*na[Y][1]+.9?x.sugarCane|J:x.sugarCane|$;this.setBlock(t,i+1,r,e),this.setBlock(t,i+2,r,e),Gt()>.5&&this.setBlock(t,i+3,r,e)}if("trashland"===Y){let e=this.trashland[floor(Gt(this.trashland.length))],n=ceil(3*mapClamped(a.noise(.2*s,7,.2*o),.3,.7));1===n&&!oe&&Gt()>.6&&(e=x.oil);for(let a=0;a<n;a++)this.setBlock(t,i+a,r,e)}if(!oe&&W&&"ground"===S[se].type&&Gt(mapClamped(a.noise(.1*s,2,.1*o),.3,.7))>ee){let t=W[round(mapClamped(a.noise(s*te,3,o*te),.3,.7)*(W.length-1))];e.spawnBlock(s,i+1,o,t,l)}if((!oe||E)&&G&&"ground"===S[se].type&&Gt(mapClamped(a.noise(.1*s,4,.1*o),.3,.7))>ae){let t=G[floor(Gt()**3*G.length)];e.spawnBlock(s,i+1,o,t,l,E)}if(!oe&&se===x.grass&&mapClamped(a.noise(.1*s,6,.1*o),.3,.7)>.9&&Gt()>.5&&e.spawnBlock(s,i+1,o,R?x.melon:x.pumpkin,l),I&&Gt(mapClamped(a.noise(.02*s,8,.02*o),.3,.7))>I){let t=min(round(Gt(16,32)),63-i);for(let a=0;a<t;a++)e.spawnBlock(s,i+1+a,o,a+1===t?x.kelp:x.kelpPlant,l,!0)}if(O&&Gt(256)<O&&this.getBlock(t,B,r)===x.Water&&!this.getBlock(t,64,r)&&e.spawnBlock(s,B+1,o,x.lilyPad,l),oe===x.Water&&Gt()<(8-Math.max((60-i)/2,0))/256){let e,t,a;switch(round(V?Gt(4):Gt(-.6,3))){case-1:e=x.quicksand,a=this.patches.aboveGroundDisk;break;case 0:e=x.sand,a=this.patches.sandDisk;break;case 1:e=x.gravel,a=this.patches.sandDisk;break;case 2:e=x.clay,a=this.patches.clayDisk;break;case 3:e=x.grass,t=x.dirt,a=this.patches.dirtDisk;break;case 4:e=x.mud,a=this.patches.sandDisk}this.spawnDisk(s,o,a,e,t,round(Gt(3,7)))}if(Wt(4),Q&&Gt(256)<Q&&this.spawnRock(s,i,o,K),V&&na[Y][1]>.5&&Gt(256)<12){let t=s+8*round(Gt())-4,a=o+8*round(Gt())-4;this.spawnRock(t,e.getTop(t,a,l),a,"mossy")}await yieldThread()}}Wt(1);for(let e=0;e<16;e++){let t=e+this.x;for(let a=0;a<16;a++){let s=a+this.z,o=la[this.biomes[16*a+e]];i=this.tops[16*a+e];let r=.005*(na[o][1]-.5)+.5;this.solidTops[16*a+e]>i+1&&r>.5&&Gt()**2*r>.5&&this.generatePatch(t,i,s,2,this.patches.mushrooms)}}if(Wt(2),t)for(let t=0;t<16;t++){let s=t+this.x;for(let o=0;o<16;o++){let h=o+this.z,d=la[this.caveBiomes[16*o+t]],c=this.caveY[16*o+t],p=this.caveY[16*o+t+256];if(i=this.tops[16*o+t],"void"===d||c===p||!this.getBlock(t,c-1,o)||!this.getBlock(t,p+1,o))continue;if("dripstoneCaves"===d){if(a.noise(.1*s,22,.1*h)>.55&&!S[e.getBlock(s+1,c,h)].transparent&&!S[e.getBlock(s-1,c,h)].transparent&&!S[e.getBlock(s,c,h+1)].transparent&&!S[e.getBlock(s,c,h-1)].transparent){this.setBlock(t,c,o,x.Water);continue}if(a.noise(.04*s,20,.04*h)>.4&&(this.setBlock(t,c,o,x.dripstoneBlock),this.setBlock(t,p,o,x.dripstoneBlock)),Gt()>.75){let e=round(Gt(8));for(let a=1;a<e&&(this.setBlock(t,c+a,o,x.pointedDripstone),!(p-a<=c+a));a++)this.setBlock(t,p-a,o,x.pointedDripstone|ze);for(let a=1;a<e&&(S[x.pointedDripstone].spawnUpdate(r+t,c+a,n+o,x.pointedDripstone,this.world,l),!(p-a<=c+a));a++)S[x.pointedDripstone].spawnUpdate(r+t,p-a,n+o,x.pointedDripstone|ze,this.world,l)}}else if("lushCaves"===d){if(a.noise(.02*s,21,.02*h)>.55){if(a.noise(.05*s,23,.05*h)>.5&&e.getBlock(s+1,c,h)&&e.getBlock(s-1,c,h)&&e.getBlock(s,c,h+1)&&e.getBlock(s,c,h-1))this.setBlock(t,c,o,x.Water);else if(this.setBlock(t,c,o,x.clay),Gt()>.96){let e=round(Gt(1,4));if(1===e)this.setBlock(t,c+1,o,x.smallDripleaf);else for(let a=0;a<e;a++)this.setBlock(t,c+1+a,o,a===e-1?x.bigDripleaf:x.bigDripleaf|$)}}else{this.setBlock(t,c,o,x.mossBlock);let a=this.patches.lushCaves;if(a&&Gt()>.5){let t=a[floor(Gt()**3*a.length)];e.spawnBlock(s,c+1,h,t,l)}}if(this.setBlock(t,p,o,x.mossBlock),Gt()>.9){let e=round(Gt(1,6));for(let a=0;a<e;a++)this.setBlock(t,p-1-a,o,(Gt()>.25?a===e-1?x.caveVines:x.caveVinesPlant:a===e-1?x.caveVinesLit:x.caveVinesPlantLit)|$)}else Gt()>.98&&this.setBlock(t,p-1,o,x.sporeBlossom)}let u=t,m=o,g=round(Gt(0,p));if(!this.getBlock(u,g,m))continue;let b=x.glowLichen|le;switch(floor(4*Gt())){case 0:m++,b|=Re;break;case 1:m--,b|=Le;break;case 2:u++,b|=Me;break;case 3:u--,b|=Ie}if(this.getBlock(u,g,m)||this.setBlock(u,g,m,b),"lushCaves"===d&&Gt()<.001){let e=i+floor(6+Gt(2.5));for(let a=i;a<=e;a++)this.setBlock(t,a,o,x.oakLog);this.generateBlob(s,e,h,this.patches.azaleaLeaves,8,1,8,.4);for(var k=0;i+k>p-3;k--)for(var y=0;y<14;y++){let e=round(Gt(-2.75,2.75)),a=round(Gt(-2.75,2.75)),s=this.getBlock(t+e,i+k,o+a);s!==x.grass&&s!==x.air?this.setBlock(t+e,i+k,o+a,x.rootedDirt):this.getBlock(t+e,i+k+1,o+a)===x.rootedDirt&&this.setBlock(t+e,i+k,o+a,x.hangingRoots|$)}}await yieldThread()}}Wt(3),this.spawnOres(this.patches.dirtOre,7,0,160,"",8),this.spawnOres(this.patches.gravelOre,14,0,320,"",8),this.spawnOres(this.patches.graniteOre,2,0,128,"",8),this.spawnOres(this.patches.dioriteOre,2,0,128,"",8),this.spawnOres(this.patches.andesiteOre,2,0,128,"",8),this.spawnOres(this.patches.tuffOre,2,-64,0,"",8),await yieldThread(),this.spawnOres(this.patches.coalOre,20,0,192,"triangle",4),this.spawnOres(this.patches.coalOre,30,136,320,"",4),this.spawnOres(this.patches.ironOre,20,-64,72,"",3),this.spawnOres(this.patches.ironOre,20,-24,56,"triangle",3),this.spawnOres(this.patches.copperOre,20,-16,112,"triangle",3),this.spawnOres(this.patches.redstoneOre,8,-64,15,"",3),await yieldThread(),this.spawnOres(this.patches.redstoneOre,16,-96,-32,"triangle",3),this.spawnOres(this.patches.lapisOre,4,-32,32,"triangle",3),this.spawnOres(this.patches.lapisOre,8,-64,64,"",3),this.spawnOres(this.patches.goldOre,8,-64,32,"triangle",3),this.spawnOres(this.patches.badlandsGoldOre,50,32,256,"",3),this.spawnOres(this.patches.diamondOre,16,-144,16,"triangle",4),await yieldThread(),this.spawnOres(this.patches.emeraldOre,16,-16,480,"triangle",4),this.spawnOres(this.patches.limestoneOre,1,0,128,"triangle",6),Wt(5);for(let t=0;t<16;t++){let t=floor(Gt(16)),a=floor(Gt(16)),s=floor(Gt(-64,192)),o=t+r,i=a+n;if((S[this.getBlock(t,s,a)].type||"").startsWith("rock")&&(!e.getBlock(o+1,s,i,this.type)||!e.getBlock(o-1,s,i,this.type)||!e.getBlock(o,s,i+1,this.type)||!e.getBlock(o,s,i-1,this.type))){let r=Gt(-16,s)<0?x.Lava:x.Water;this.setBlock(t,s,a,r),S[r].spawnFlow(o,s,i,l,e)}}for(let t=0;t<16;t++)for(let i=0;i<16;i++){let r=max(this.solidTops[16*i+t],B),n=this.getBlock(t,r,i);!S[n].slide&&pa(la[this.biomes[16*i+t]],r)+.02*(2*a.noise(.1*s,.1*o)-1)<=.15&&(n===x.Water?this.setBlock(t,r,i,x.ice):S[n].solid&&!this.getBlock(t,r+1,i)&&(this.setBlock(t,r+1,i,x.snow|Be),n===x.grass&&this.setBlock(t,r,i,x.grass|$))),r=this.waterTops[16*i+t],n=this.getBlock(t,r,i),r&&(pa(la[this.biomes[16*i+t]],r)<=.15?this.setBlock(t,r,i,x.ice):(this.setBlock(t,r,i,x.Water),S[x.Water].spawnFlow(t+this.x,r,i+this.z,l,e)))}this.waterTops=null}if(Wt(1),ya.size)for(k=0;k<round(ya.size/2);k++){u=Gt()*ya.size|0,m=ya.array[u][3];let t=ya.array[u][0],a=ya.array[u][1],s=ya.array[u][2];if(m===x.vine){switch(m|=le,floor(4*Gt())){case 0:s++,m|=Re;break;case 1:s--,m|=Le;break;case 2:t++,m|=Me;break;case 3:t--,m|=Ie}for(y=0;y<round(Gt(3)+1)&&!e.getBlock(t,a-y,s,l);y++)e.spawnBlock(t,a-y,s,m,l)}else if(m===x.cocoa){switch(floor(Gt(3))){case 1:m|=J;break;case 2:m|=Q}switch(floor(Gt(4))){case 0:s++,m|=Re;break;case 1:s--,m|=Le;break;case 2:t++,m|=Me;break;case 3:t--,m|=Ie}e.spawnBlock(t,a,s,m,l)}}if(t&&!e.superflat&&Gt()>.96){let t,a,s,o=Gt(256),i=(o>>4)+this.x,r=(15&o)+this.z,n=L[Math.floor(Gt(L.length))],h=Math.floor(Gt(4)),{data:d,w:c,h:p,d:u}=z[n].variants[h];switch(h){case 0:h=Le,a=Ie,t=Re,s=Me;break;case 1:h=Ie,a=Le,t=Me,s=Re;break;case 2:h=Re,a=Me,t=Le,s=Ie;break;case 3:h=Me,a=Re,t=Ie,s=Le}let m=z[n].getY(i,r,o);i-=Math.round(c/2),m-=Math.round(p/2),r-=Math.round(u/2);for(let o=0;o<d.length;o+=4){let n=d[o+3];n&&("function"==typeof n&&(n=n(h,a,t,s)),"string"==typeof n&&(n=x[n]),e.spawnBlock(i+d[o],m+d[o+1],r+d[o+2],n,l,!0))}}this.populated=!0}tick(){const{world:e}=this;if(this.edited)for(let e=0;e<this.sections.length;e++)this.sections[e].edited&&this.sections[e].tick();for(let t in this.entities){const a=this.entities[t];a.update(),(a.canDespawn||a.y<=w)&&e.deleteEntity(t)}if(this.world.weather)e:{let t=0|rand(16),a=0|rand(16);t:if("snow"===this.world.weather||"rain"===this.world.weather){if("rain"===this.world.weather&&pa(la[this.biomes[16*a+t]])>.15)break t;if(this.edited&&rand(this.world.weatherAmount)>.9){let s=this.solidTops[16*a+t];if(s<y||s>192)break t;let o,i,r=this.getBlock(t,s,a),n=0;if((r&Be)===Be&&(n=1),(r&Se)===Se&&(n=2),(r&ve)===ve&&(n=3),(r&xe)===xe&&(n=4),(r&Pe)===Pe&&(n=5),(r&Te)===Te&&(n=6),(r&Ne)===Ne&&(n=7),(r&Ce)===Ce&&(n=8),(r&x.snow)===x.snow&&n>0&&n<8){switch(n++,n){case 2:o=Se;break;case 3:o=ve;break;case 4:o=xe;break;case 5:o=Pe;break;case 6:o=Te;break;case 7:o=Ne;break;case 8:o=Ce}i=!0}else this.getBlock(t,s+1,a)||(o=Be,s++,i=!0);i&&e.setBlock(t+this.x,s,a+this.z,x.snow|o,!1,!1,!1,!1,this.type)}break e}}if(this.world.settings.mobSpawning)for(let e of this.sections)e.spawnMobs()}load(){if(this.loaded)return;const{world:e}=this;let t=`${this.x>>4},${this.z>>4}`,a="nether"===this.type?e.netherLoadFrom:"end"===this.type?e.endLoadFrom:e.loadFrom,s=a[t];if(s){for(let t in s.blocks){let a=s.blocks[t],o=s.tags[t];if(!S[a])continue;const i=15&t,r=t>>4&15,n=(t>>8)+y;this.setBlock(r,n,i,a,e),o&&this.setTags(r,n,i,o)}delete a[t]}this.loaded=!0}async getData(){let e=new Set,t={},a={},s={};for(let o=0;o<this.sections.length;o++){const i=this.sections[o],r=i.blocks,n=i.tags;for(let o=0;o<r.length;o++){if(!r[o])continue;e.add(r[o]);let l=o>>8,h=(o>>4&15)+i.y-y,d=15&o,c=`${l>>3},${h>>3},${d>>3}`;if(!t[c]){t[c]=[];for(let e=0;e<6;e++)t[c].push(new Int32Array(512).fill(-1));a[c]=[],s[c]=0}t[c][0][(7&h)<<6|(7&l)<<3|7&d]=r[o],t[c][1][(7&h)<<6|(7&d)<<3|7&l]=r[o],t[c][2][(7&l)<<6|(7&h)<<3|7&d]=r[o],t[c][3][(7&l)<<6|(7&d)<<3|7&h]=r[o],t[c][4][(7&d)<<6|(7&l)<<3|7&h]=r[o],t[c][5][(7&d)<<6|(7&h)<<3|7&l]=r[o],n[o]&&(a[c][(7&h)<<6|(7&l)<<3|7&d]="number"==typeof n[o]?n[o]:JSON.stringify(n[o]).substring(0,65535),s[c]++)}await yieldThread()}let o=new Y,i=Array.from(e),r={};i.forEach(((e,t)=>r[e]=t));let n=Y.bits(i.length);o.add(i.length,32);for(let e of i)o.add(e,32);let l=Object.entries(t);o.add(l.length,32);for(let[e,t]of l){let[i,l,h]=e.split(",").map(Number);o.add(i,1).add(l,8).add(h,1);let d=null;for(let o=0;o<6;o++){let i=new Y,l=t[o];i.add(o,3);let h=null,c=[],p=[];for(let e=0;e<l.length;e++){const t=l[e];t>=0?(!h&&e<l.length-2&&l[e+1]>=0&&l[e+2]>=0&&(h=[e,[]],c.push(h)),h?h[1].length&&t===h[1][h[1].length-1][1]?h[1][h[1].length-1][0]++:h[1].push([1,t]):p.push([e,l[e]])):h=null}i.add(c.length,8),i.add(p.length,9);for(let[e,t]of c){let a=0;for(let e of t)a=Math.max(a,e[0]);let s=Y.bits(a);i.add(e,9).add(t.length,9).add(s,4);for(let[e,a]of t)i.add(e-1,s).add(r[a],n)}for(let[e,t]of p)i.add(e,9).add(r[t],n);if(i.add(s[e],9),s[e])for(let t in a[e]){let s=a[e][t];i.add(t,9),"number"==typeof s?(i.add(0,1),i.add(s,32)):(i.add(1,1),i.addString(s,16))}(!d||i.bitLength<d.bitLength)&&(d=i),await yieldThread()}o.append(d)}return o.array}}let ut=["entity.generic.explode1","entity.generic.explode2","entity.generic.explode3","entity.generic.explode4"];function mt(e,t,a,s=1,o){var i,r;s>=10?(i=ut[0],r=10):s>=8?(i=ut[1],r=8):s>=4?(i=ut[2],r=4):(i=ut[3],r=1);var n=1-(s-r)/10;n<=0||o.playSound(e,t,a,i,1,n)}let gt={fence_gateOpen:2,fence_gateClose:2,wooden_doorOpen:4,wooden_doorClose:6,iron_doorOpen:4,iron_doorClose:4,wooden_trapdoorOpen:5,wooden_trapdoorClose:3,iron_trapdoorOpen:4,iron_trapdoorClose:4};function kt(e,t,a,s,o,i){let r=gt[s+(o?"Open":"Close")];var n="block."+s+"."+(o?"open":"close")+Math.ceil(Math.random()*r);i.playSound(e,t,a,n)}function yt(e,t,a,s,o,i,r,n=!0){if(o.settings.blocksFall&&!o.getBlock(e,t-1,a,r))return i?(o.setBlock(e,t,a,0,!1,!1,!1,!1,r),o.addEntity(new Ve[Xe.BlockEntity](s,e,t,a,n),!1,r)):o.setTimeout((()=>{o.getBlock(e,t-1,a,r)||(o.setBlock(e,t,a,0,!1,!1,!1,!1,r),o.addEntity(new Ve[Xe.BlockEntity](s,e,t,a,n),!1,r))}),u,e,t,a,r),!0}function bt(e,t,a,s,o,i){if(o.settings.blocksFall){var r=o.getBlock(e,t-1,a,i);return r&&S[r].solid?void 0:(o.setTimeout((()=>{var r=o.getBlock(e,t-1,a,i);r&&S[r].solid||(o.setBlock(e,t,a,0,!1,!1,!1,!1,i),o.addItems(e,t,a,i,0,0,0,s&Ae,!0),o.blockParticles(s,e,t,a,30,"break",i),o.blockSound(s,"dig",e,t,a))}),u,e,t,a,i),!0)}}function wt(e,t,a,s,o,i,r,n,l){var h=l.getTags(e,t,a,s);if("number"==typeof h)return!1;if(!h||!h.contents){var d=l.getBlock(e,t,a,s);if(!S[d].setContents)return!1;h=S[d].setContents(e,t,a,s,l)}for(var c=0;c<h.contents.length;c++){if(!h.contents[c]||!h.contents[c].id)return h.contents[c]={id:o,amount:1,durability:i,customName:r},n||l.setTags(e,t,a,h,!1,s),!0;if(h.contents[c].id===o&&(!h.contents[c].customName&&!r||h.contents[c].customName===r)&&h.contents[c].amount<S[o].stackSize)return h.contents[c].amount++,n||l.setTags(e,t,a,h,!1,s),!0}return!1}function ft(e,t,a,s,o){var i=o.getTags(e,t,a,s),r=o.getBlock(e,t,a,s);if(i&&"furnace"===S[r].name)return((i.input&&i.input.id&&i.input.amount/S[i.input.id].stackSize||0)+(i.output&&i.output.id&&i.output.amount/S[i.output.id].stackSize||0)+(i.fuel&&i.fuel.id&&i.fuel.amount/S[i.fuel.id].stackSize||0))/3;if("composter"===S[r].name)return S[r].getLevel(r)/16;if("endPortalFrame"===S[r].name)return 1*((r&J)===J);if(i&&S[r].itemFrame)return(i.rot||0)/16;if("object"==typeof i&&i.contents){var n=0;for(var l of i.contents)l&&l.id&&(n+=l.amount/S[l.id].stackSize);return n/=i.contents.length}}let Bt,St=[];function vt(e,t,a,s,o){for(var i of(o.getEntitiesNear(e,t,a,s,2,St),St)){let s=i.width/2,o=i.height/2,r=i.depth/2;if(e-.5<i.x+s&&e+.5>i.x-s&&t-.5<i.y+o&&t-.25>i.y-o&&a-.5<i.z+r&&a+.5>i.z-r)return!0}for(let s of o.players)if(e-.5<s.x+s.w&&e+.5>s.x-s.w&&t-.5<s.y+s.topH&&t-.25>s.y-s.bottomH&&a-.5<s.z+s.w&&a+.5>s.z-s.w)return!0;return!1}function xt(e,t){for(let a of t.players)if(a.id===e)return a;for(let a=0;a<t.entities.length;a++)if(t.entities[a].id===e)return t.entities[a]}function Pt(e,t){for(let a of t.players)if(a.username===e)return a}function Tt(e){var t=e.width/2,a=e.height/2,s=e.depth/2;for(var o of(Bt=!1,e.world.getEntitiesNear(e.x,e.y,e.z,e.dimension,2,St),St))if(o!==e&&o.dimension===e.dimension){var i=o.width/2,r=o.height/2,n=o.depth/2;if(e.x-t<o.x+i&&e.x+t>o.x-i&&e.y-a<o.y+r&&e.y-a>o.y-r&&e.z-s<o.z+n&&e.z+s>o.z-n)return o}for(let o of e.world.players)if(o!==e&&o.dimension===e.dimension&&!o.hidden&&!o.die&&e.x-t<=o.x+o.w&&e.x+t>=o.x-o.w&&e.y-a<=o.y+o.topH&&e.y-a>=o.y-o.bottomH&&e.z-s<=o.z+o.w&&e.z+s>=o.z-o.w)return Bt=!0,o}function Nt(e,t,a,s){let o=abs(a-e),i=abs(s-t);return max(o,i)}let Ct=[],zt=0,Lt=0;function Rt(e,t){let a=zt-e.x-8,s=Lt-e.z-8,o=zt-t.x-8,i=Lt-t.z-8;return a*a+s*s-(o*o+i*i)}const{seedHash:It,hash:Mt,hash3:Dt}=(()=>{let e=21e8*Math.random()|0;const t=1883677709,a=2034071983,s=668265263,o=374761393,{imul:i}=Math;return{seedHash:t=>{e=0|t},hash:(r,n)=>{let l=0;return l=e+o|0,l+=8,l+=i(r,a),l=i(l<<17|l>>15,s),l+=i(n,a),l=i(l<<17|l>>15,s),l^=l>>15,l*=t,l^=l>>13,l*=a,l^=l>>16,l/2147483647},hash3:(r,n,l)=>{let h=0;return h=e+o|0,h+=8,h+=i(r,a),h=i(h<<17|h>>15,s),h+=i(n,a),h=i(h<<17|h>>15,s),h+=i(l,a),h=i(h<<17|h>>15,s),h^=h>>15,h*=t,h^=h>>13,h*=a,h^=h>>16,h/2147483647}}})();class At{nextInt(){const{z:e,w:t}=this;return this.z=36969*(65535&e)+(e>>>16)&4294967295,this.w=18e3*(65535&t)+(t>>>16)&4294967295,4294967295&((65535&this.z)<<16|65535&this.w)}nextDouble(){const e=this.nextInt()/4294967296;return(e<0|0)+e}constructor(e,t){this.z=0|e||362436069,this.w=t||2147483647*Mt(521288629,this.z)|0}}const{randomSeed:Ot,random:Gt,useRandom:Wt}=(()=>{let e,t=[];return{randomSeed:a=>{t.length=0,t.push(new At(a));for(let e=0;e<5;e++)t.push(new At(21e7*Mt(a,e)));e=t[0]},random:(t,a)=>(a||(t?(a=t,t=0):(t=0,a=1)),e.nextDouble()*(a-t)+t),useRandom:function(a){e=t[a]}}})();class Ft{static grad3d(e,t,a,s){const o=15&e,i=o<8?t:a,r=o<4?a:12===o||14===o?t:s;return(0==(1&o)?i:-i)+(0==(2&o)?r:-r)}static grad2d(e,t,a){const s=0==(1&e)?t:a;return 0==(2&e)?-s:s}static grad1d(e,t){return 0==(1&e)?-t:t}static lerp(e,t,a){return t+e*(a-t)}perm=new Uint8Array(512);noise3d(e,t,a){const{floor:s}=Math,o=255&s(e),i=255&s(t),r=255&s(a),n=(3-2*(e-=s(e)))*e*e,l=(3-2*(t-=s(t)))*t*t,h=(3-2*(a-=s(a)))*a*a,{perm:d}=this,c=d[o]+i,p=d[c]+r,u=d[c+1]+r,m=d[o+1]+i,g=d[m]+r,k=d[m+1]+r,{lerp:y,grad3d:b}=Ft;return y(h,y(l,y(n,b(d[p],e,t,a),b(d[g],e-1,t,a)),y(n,b(d[u],e,t-1,a),b(d[k],e-1,t-1,a))),y(l,y(n,b(d[p+1],e,t,a-1),b(d[g+1],e-1,t,a-1)),y(n,b(d[u+1],e,t-1,a-1),b(d[k+1],e-1,t-1,a-1))))}noise2d(e,t){const{floor:a}=Math,s=255&a(e),o=255&a(t);e-=a(e),t-=a(t);const{perm:i}=this,r=(3-2*e)*e*e,n=(3-2*t)*t*t,l=i[s]+o,h=i[s+1]+o,{lerp:d,grad2d:c}=Ft;return d(n,d(r,c(i[l],e,t),c(i[h],e-1,t)),d(r,c(i[l+1],e,t-1),c(i[h+1],e-1,t-1)))}noise1d(e){const{floor:t}=Math,a=255&t(e),s=(3-2*(e-=t(e)))*e*e,{lerp:o,grad1d:i}=Ft;return o(s,i(perm[a],e),i(perm[a+1],e-1))}constructor(e){if(void 0===e)throw new TypeError("A value for `seed` parameter was not provided to `PerlinNoise`");const t=new At(e),{perm:a}=this;for(let e=0;e<256;++e)a[e]=e;for(let e=0;e<256;++e){const s=255&t.nextInt(),o=a[s];a[s]=a[e],a[e]=o}a.copyWithin(256,0,256)}}function Et(e){const t=function(e,t,a){return new Int8Array(a.split("").map((function(a){return parseInt(a,t)+e})))},a=1/3;var s="0000110010101001,2110210120113111,110010101001211021012011".split(",").map((function(e){return new Uint8Array(e.split("").map((function(e){return Number(e)})))}));const o=t(-11,23,"0ff7mf7fmmfffmfffm07f70f77mm7ff0ff7m0f77m77f0mf7fm7ff0077707770m77f07f70");var i=function(){return new Uint16Array(function(e){return e.split(",").map((function(e){return parseInt(e,32)}))}("0,2,1,1,2,2,5,1,6,0,7,0,10,2,12,2,41,1,45,1,50,5,51,5,g6,0,g7,0,h2,4,h6,4,k5,3,k7,3,l0,5,l1,5,l2,4,l5,3,l6,4,l7,3,l8,d,l9,d,la,c,ld,e,le,c,lf,e,m8,k,ma,i,p9,l,pd,n,q8,k,q9,l,15e,j,15f,m,16a,i,16e,j,19d,n,19f,m,1a8,f,1a9,h,1aa,f,1ad,h,1ae,g,1af,g,1ag,b,1ah,a,1ai,b,1al,a,1am,9,1an,9,1bg,b,1bi,b,1eh,a,1el,a,1fg,8,1fh,8,1qm,9,1qn,9,1ri,7,1rm,7,1ul,6,1un,6,1vg,8,1vh,8,1vi,7,1vl,6,1vm,7,1vn,6"))},r=t(-1,5,"112011210110211120110121102132212220132122202131222022243214231243124213241324123222113311221213131221123113311112202311112022311112220342223113342223311342223131322023113322023311320223113320223131322203311322203131");function n(e,t){return e=1664525*e+1013904223|0,(t-=1)>0?n(e,t):e}function l(e,t,a){var s=0;const o=t[a++],i={next:void 0};for(;s<e.dimensions;){const r="xyzw"[s];i[r+"sb"]=t[a+s],i["d"+r]=-t[a+s++]-o*e.squish}return i}function h(e,t){var a;const s=e(),o=new Map;for(a=0;a<s.length;a+=2)o.set(s[a],t[s[a+1]]);return o}let d=function(e){const t=[],a=e.dimensions,s=a*a;for(var o,i=0;i<e.pD.length;){const r=e.base[e.pD[i]];let n,h;o=0;do{h=l(e,r,o),n?n.next=h:t[i/s]=h,n=h,o+=a+1}while(o<r.length);h.next=l(e,e.pD,i+1),a>=3&&(h.next.next=l(e,e.pD,i+a+2)),4===a&&(h.next.next.next=l(e,e.pD,i+11)),i+=s}const r=[t,h(e.lookup,t)];return e.base=void 0,e.lookup=void 0,r}({_3D:{base:s,squish:a,dimensions:3,pD:r,lookup:i}}._3D);d[0];const c=d[1],p=new Uint8Array(256),u=new Uint8Array(256),m=new Uint8Array(function(e){for(var t=[],a=0;a<e;)t.push(a++);return t}(256));var g=n(e,3);return function(e,t){for(var a=0;a<e&&!0!==t(a++););}(256,(function(e){e=255-e;var t=((g=n(g,1))+31)%(e+1);t+=t<0?e+1:0,p[e]=m[t],u[e]=p[e]%24*3,m[t]=m[e]})),s=void 0,i=void 0,r=void 0,function(e,t,s){const i=u,r=p,n=o,l=-.16666666666666666*(e+t+s),h=e+l,d=t+l,m=s+l,g=floor(h),k=floor(d),y=floor(m),b=(g+k+y)*a,w=e-(g+b),f=t-(k+b),B=s-(y+b),S=h-g,v=d-k,x=m-y,P=S+v+x;for(var T,N=c.get(v-x+1|S-v+1<<1|S-x+1<<2|P<<3|P+x<<5|P+v<<7|P+S<<9),C=0;void 0!==N;){const e=w+N.dx,t=f+N.dy,a=B+N.dz;let s=2-e*e-t*t-a*a;s>0&&(T=i[(r[g+N.xsb&255]+(k+N.ysb)&255)+(y+N.zsb)&255],s*=s,C+=s*s*(n[T++]*e+n[T++]*t+n[T]*a)),N=N.next}return.0048543689320388345*C+.5}}let qt;win.PerlinNoise=Ft;{let Ka=[],es=3.5,ts=es*es;for(let as=-es;as<=es;as++)for(let ss=-es;ss<=es;ss++)for(let os=-es;os<=es;os++)as*as+ss*ss+os*os<ts&&Ka.push(0|as,0|ss,0|os);qt=new Int8Array(Ka)}function Ut(e,t,a,s){let o=.02,i=.0055;return abs(.5-s.caveNoise(e*o,t*o,a*o))<i&&abs(.5-s.caveNoise(t*o,a*o,e*o))<i}class Ht{constructor(e,t,a){this.x=e,this.y=t,this.z=a}set(e,t,a){void 0===t?(this.x=e.x,this.y=e.y,this.z=e.z):(this.x=e,this.y=t,this.z=a)}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.x/=e,this.y/=e,this.z/=e}add(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}mult(e){this.x*=e,this.y*=e,this.z*=e}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}magSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}crossProduct(e,t,a,s){return s.x=this.y*a-this.z*t,s.y=this.z*e-this.x*a,s.z=this.x*t-this.y*e,s}product(e,t,a,s){return s.x=this.x*e,s.y=this.y*t,s.z=this.z*a,s}}win.PVector=Ht;let _t=new Ht,jt=new Ht,Yt=new Ht,Vt=new Ht;const Xt=12;function Zt(e,t,a,s,o,i,r,n,l,h,d){for(var c=[e,t,a,r];c.length;){var p,u=c[0],m=c[1],g=c[2];if((p=d.getBlock(u,m,g+1,h))&&!xyArrayHas(n,c,u,m,g+1))if(S[p][l]){if(S[p].sticky&&p!==r&&(s||o||1!==i));else if(n.push(u,m,g+1,p),S[p].sticky)c.push(u,m,g+1,p);else if((s||o||-1!==i)&&!1===Jt(u,m,g+1,s,o,i,n,h,d))return!1}else if(!s&&!o&&1===i)return!1;if((p=d.getBlock(u,m,g-1,h))&&!xyArrayHas(n,c,u,m,g-1))if(S[p][l]){if(S[p].sticky&&p!==r&&(s||o||-1!==i));else if(n.push(u,m,g-1,p),S[p].sticky)c.push(u,m,g-1,p);else if((s||o||1!==i)&&!1===Jt(u,m,g-1,s,o,i,n,h,d))return!1}else if(!s&&!o&&-1===i)return!1;if((p=d.getBlock(u,m+1,g,h))&&!xyArrayHas(n,c,u,m+1,g))if(S[p][l]){if(S[p].sticky&&p!==r&&(s||1!==o||i));else if(n.push(u,m+1,g,p),S[p].sticky)c.push(u,m+1,g,p);else if((s||-1!==o||i)&&!1===Jt(u,m+1,g,s,o,i,n,h,d))return!1}else if(!s&&1===o&&!i)return!1;if((p=d.getBlock(u,m-1,g,h))&&!xyArrayHas(n,c,u,m-1,g))if(S[p][l]){if(S[p].sticky&&p!==r&&(s||-1!==o||i));else if(n.push(u,m-1,g,p),S[p].sticky)c.push(u,m-1,g,p);else if((s||1!==o||i)&&!1===Jt(u,m-1,g,s,o,i,n,h,d))return!1}else if(!s&&-1===o&&!i)return!1;if((p=d.getBlock(u+1,m,g,h))&&!xyArrayHas(n,c,u+1,m,g))if(S[p][l]){if(S[p].sticky&&p!==r&&(1!==s||o||i));else if(n.push(u+1,m,g,p),S[p].sticky)c.push(u+1,m,g,p);else if((-1!==s||o||i)&&!1===Jt(u+1,m,g,s,o,i,n,h,d))return!1}else if(1===s&&!o&&!i)return!1;if((p=d.getBlock(u-1,m,g,h))&&!xyArrayHas(n,c,u-1,m,g))if(S[p][l]){if(S[p].sticky&&p!==r&&(-1!==s||o||i));else if(n.push(u-1,m,g,p),S[p].sticky)c.push(u-1,m,g,p);else if((1!==s||o||i)&&!1===Jt(u-1,m,g,s,o,i,n,h,d))return!1}else if(-1===s&&!o&&!i)return!1;c.splice(0,4)}}function Jt(e,t,a,s,o,i,r,n,l){for(var h=e,d=t,c=a,p=0;p<Xt+1;p++){h+=s,d+=o,c+=i;var u=l.getBlock(h,d,c,n);if(u&&!S[u].pistonPush)return!1;if(S[u].sticky&&!1===Zt(h,d,c,s,o,i,u,r,"pistonPush",n,l))return!1;if(!u)break;xyArrayHas(r,null,h,d,c)||r.push(h,d,c,u)}}function Qt(e,t,a,s,o,i,r,n){var l=[e,t,a,0];return!1!==Jt(e,t,a,s,o,i,l,r,n)&&(l.splice(0,4),!(l.length/4>Xt)&&l)}function $t(e,t,a,s,o,i,r,n){var l=[e,t,a,0],h=e+s,d=t+o,c=a+i;h+=s,d+=o,c+=i;var p=n.getBlock(h,d,c,r);return(!S[p].sticky||!1!==Zt(h,d,c,-s,-o,-i,p,l,"pistonPull",r,n))&&(p&&!xyArrayHas(l,null,h,d,c)&&S[p].pistonPull&&l.push(h,d,c,p),l.splice(0,4),!(l.length/4>Xt)&&l)}win.pistonFindStickyBlocksConnectedTo=Zt,win.getPistonPushedBlocks=Qt,win.getPistonPulledBlocks=$t;let Kt={rgb:{0:[0,0,0],1:[0,0,170],2:[0,170,0],3:[0,170,170],4:[170,0,0],5:[170,0,170],6:[255,170,0],7:[170,170,170],8:[85,85,85],9:[85,85,255],a:[85,255,85],b:[85,255,255],c:[255,85,85],d:[255,85,255],e:[255,255,85],f:[255,255,255],g:[221,214,5]},css:{},dye:{red:[176/255,46/255,38/255],lightGray:[157/255,157/255,151/255],lightBlue:[58/255,178/255,218/255],magenta:[199/255,78/255,189/255],yellow:[254/255,215/255,61/255],purple:[137/255,50/255,184/255],orange:[249/255,128/255,29/255],white:[249/255,1,254/255],green:[93/255,124/255,22/255],brown:[131/255,84/255,50/255],black:[29/255,29/255,33/255],pink:[243/255,139/255,170/255],lime:[128/255,199/255,31/255],gray:[71/255,79/255,82/255],cyan:[22/255,156/255,156/255],blue:[60/255,67/255,170/255]}};for(var c in Kt.rgb)Kt.css[c]="rgb("+Kt.rgb[c].join(",")+")",Kt.rgb[c][0]/=255,Kt.rgb[c][1]/=255,Kt.rgb[c][2]/=255;win.colors=Kt;const ea=[["Sheep",4,4],["Pig",4,4],["Chicken",4,4],["Cow",4,4]],ta=[...ea,["Horse",2,6],["Donkey",1,3]],aa=[...ta,["Rabbit",2,3],["Fox",2,4]],sa=[["Turtle",4,4]],oa=[["Rabbit",2,3],["Goat",1,3]],ia=[["Zombie",4,4],["Skeleton",4,4],["Creeper",4,4],["Enderman",4,4],["Spider",4,4]],ra=[["Rabbit",2,6],["Sheep",2,4],["Donkey",1,2]];let na={void:[.5,.5],ocean:[.5,.5],deepOcean:[.5,.5],warmOcean:[.8,.6],lukewarmOcean:[.6,.5],deepLukewarmOcean:[.6,.5],coldOcean:[.35,.5],deepColdOcean:[.35,.5],frozenOcean:[0,.5],deepFrozenOcean:[0,.5],plains:[.8,.4,ta,ia],iceSpikes:[0,.1],snowyPlains:[0,.1,[["Rabbit",1,1],["PolarBear",1,1]],ia],grove:[-.2,.5,aa,ia],alpineHills:[.18,.25,aa,ia],snowyTaiga:[-.5,.1,aa,ia],taiga:[.25,.8,aa,ia],shrubland:[.85,.4,ta,ia],meadows:[.3,.6,ra,ia],forest:[.7,.8,ta,ia],sparseForest:[.6,.6,ta,ia],oldPineTaiga:[.3,.8,aa,ia],oldSpruceTaiga:[.25,.8,aa,ia],flowerForest:[.7,.8,ta,ia],oldBirchForest:[.6,.6,ta,ia],birchForest:[.7,.8,ta,ia],darkForest:[.6,.6,ta,ia],savanna:[1.2,0,ta,ia],sparseJungle:[.95,.8,ta,ia],bambooJungle:[.95,.9,ta,ia],jungle:[.95,.9,ta,ia],desert:[2,0],snowyBeach:[.05,.3,sa,ia],beach:[.8,.4,sa,ia],snowySlopes:[-.3,.9,oa,ia],windsweptGravelHills:[.2,.3,ta,ia],windsweptHills:[.2,.3,ta,ia],windsweptForest:[.2,.3,ta,ia],frozenPeaks:[-.7,.9],stonePeaks:[1,.3],jaggedPeaks:[-.7,.9,oa,ia],frozenRiver:[0,.5],river:[.5,.5],dryRiver:[1,.1],rockyRiver:[.5,.4],sunflowerPlains:[.8,.4,ta,ia],stonyShore:[.2,.3],savannaPlateau:[1,0,ta,ia],erodedBadlands:[2,0],badlands:[2,0],woodedBadlands:[2,0],windsweptSavanna:[1.1,.5,ta,ia],rockyPlains:[.8,.4,ta,ia],grassyForest:[.7,.8,ta,ia],mushroomFields:[.9,1,["Mooshroom",4,4]],cherryGrove:[.3,.6,ra,ia],dryShrubland:[1,.2],swamp:[.8,.5,[...ea,["Frog",2,5]],[...ia,["Slime",4,4],["Witch",1,1]]],mangroveSwamp:[.8,.9],trashland:[.25,0],dripstoneCaves:[.2,0],lushCaves:[.9,0],warpedForest:[2,0],crimsonForest:[2,0],netherWastes:[2,0,["Blaze",4,4]],end:[.5,.5],endIslands:[.5,.5]};win.biomeData=na;let la=Object.keys(na),ha=Object.fromEntries(la.map(((e,t)=>[e,t])));function da(e){return e>.4&&e<.5?"warpedForest":e>.4?"crimsonForest":"netherWastes"}function ca(e){return e>.6?"snowyPlains":e>.5?"desert":e>.4?"plains":e>.37?"sparseJungle":e>.35?"jungle":e>.3?"bambooJungle":"forest"}function pa(e,t){if(!na[e])return 0;let a=na[e][0];return t>80&&(a-=(t-80)/800),a}let ua={tntExplode:!0,killCmdOff:!1,dayNightCycle:!0,blocksFall:!0,attack:!0,fireSpreads:!0,weatherCycle:!0,mobSpawning:!0,autosave:!0},ma=Object.keys(ua),ga=0;function ka(e){let t=performance.now()-ka.start;t>30&&console.log(e,t.toFixed(2),"milliseconds")}const ya={array:[],size:0,add:function(e,t,a,s){this.size===this.array.length?this.array.push([e,t,a,s]):(this.array[this.size][0]=e,this.array[this.size][1]=t,this.array[this.size][2]=a,this.array[this.size][3]=s),this.size++},clear:function(){this.size=0},get:function(e){if(e<this.size)return this.array[e]}};class ba{constructor({trees:e=!0,caves:t=!0,superflat:a=!1,preBeta:s,survival:o=!1,cheats:i=!0,operators:r=[],settings:n=ua}={}){this.version=s?"Alpha 1.0.5":version,this.usePreBeta=We("1.1.0",this.version.replace(/(Alpha|Beta) /,"")),this.chunks=[],this.netherChunks=[],this.endChunks=[],this.loaded=[],this.sortedChunks=[],this.chunkGenQueue=[],this.populateQueue=[],this.generateQueue=[],this.lightingQueue=[],this.loadQueue=[],this.timeoutQueue=[],this.loadFrom={},this.loadKeys=[],this.netherLoadFrom={},this.netherLoadKeys=[],this.endLoadFrom={},this.endLoadKeys=[],this.generatedChunks=0,this.entities=[],this.waitingEntities=[],this.resourcePacks=[],this.activeResourcePacks=[],this.ticking=!1,this.players=[],this.loadDistance=4,this.loadedUpdate=!0,this.playersInv={},this.trees=e,this.caves=t,this.superflat=a,this.survival=o,this.cheats=i,this.resourcePacks=[],this.activeResourcePacks=[],this.spawnPoint={x:8,z:8,y:70,landProg:0},this.loadPromises=[],this.weather="",this.slowWeatherAmount=0,this.weatherAmount=0,this.nextWeather=1e3*rand(.5,7.5),this.time=375,this.skyLight=0,this.settings=Object.assign({},n),this.operators=r,this.serverCommands=Ee.map((e=>({...e,func:void 0}))),this.serverCommandFuncs=Object.fromEntries(Ee.map((e=>[e.name,e.func]))),this.serverCommands.forEach((e=>{if(e.argValues)for(var t in e.argValues)Array.isArray(e.argValues[t])||(e.argValues[t]=[e.argValues[t]])})),this.worldSeed=0,this.islandGenerator=new lt(this),this.setSeed=(e,t)=>{this.worldSeed=e,It(e),this.caveNoise=Et(e),this.noiseProfile.noiseSeed(e),this.islandGenerator.SetSeed(e),sendAllWorkers({newSeed:e}),t||this.findSpawnPoint()},this.noiseProfile={generator:void 0,octaves:4,fallout:.5,seed:void 0,noiseSeed(e){this.seed=e,this.generator=new Ft(this.seed)},noise(e,t,a){const{generator:s,octaves:o,fallout:i}=this;let r=1,n=0;for(let l=0;l<o;++l){r*=i;const o=1<<l;let h;switch(arguments.length){case 1:h=s.noise1d(o*e);break;case 2:h=s.noise2d(o*e,o*t);break;case 3:h=s.noise3d(o*e,o*t,o*a)}n+=r*(1+h)/2}return n}},this.pos=setInterval(this.onpos.bind(this),500)}findSpawnPoint(){this.usePreBeta||this.superflat?this.spawnPoint.y=this.superflat?6:round(this.noiseProfile.noise(this.spawnPoint.x*g.smooth,this.spawnPoint.z*g.smooth)*g.height)+2+g.extra:this.loadPromises.push(doWork({findLand:!0,seed:this.worldSeed},(e=>{this.spawnPoint.landProg=e})).then((e=>{this.spawnPoint.x=e.x,this.spawnPoint.y=e.y,this.spawnPoint.z=e.z,this.spawnPoint.land=!0})))}serverChangeBlock(e,t,a,s,o,i,r,n){const{holding:l}=r,h=this;if("click"===o){let o=this.getBlock(e,t,a,s);if(S[o].onclick)S[o].onclick(e,t,a,s,this,r);else if(l&&S[l].shovel)o!==x.grass&&o!==x.dirt&&o!==x.rootedDirt&&o!==x.mycelium&&o!==x.podzol||this.setBlock(e,t,a,x.grass|K,!1,!1,!1,!1,r.dimension),S[o].campfire&&this.setBlock(e,t,a,S[o].id|J,!1,!1,!1,!1,r.dimension);else if(l&&o&&S[l].axe){var d=S[o].name;d=d[0].toUpperCase()+d.substring(1),x[d="stripped"+d]&&this.setBlock(e,t,a,x[d],r.dimension)}else l&&o&&S[l].hoe?("grass"!==S[o].name&&o!==x.dirt||this.getBlock(e,t+1,a)||this.setBlock(e,t,a,x.farmland,!1,!1,!1,!1,r.dimension),o===x.rootedDirt&&(this.setBlock(e,t,a,x.dirt,!1,!1,!1,!1,r.dimension),this.addItems(e,t+.5,a,r.dimension,0,0,0,x.hangingRoots,!0))):l&&o&&S[l].shears?o===x.pumpkin&&(this.setBlock(e,t,a,x.carvedPumpkin,!1,!1,!1,!1,r.dimension),this.addItems(e,t+.5,a,r.dimension,0,0,0,x.pumpkinSeeds,!0,4)):l&&o&&"eyeOfEnder"===S[l].name&&"endPortalFrame"===S[o].name?(h.setBlock(e,t,a,o|J,!1,!1,!1,!1,r.dimension),S[o].eyeplace(e,t,a,r.dimension,h),this.blockSound(l,"place",e,t,a)):l&&o&&S[l].flowerbed&&S[l].id===S[o].id&&S[o].addPetal(e,t,a,s,h)}else if("use"===o){let o=this.getBlock(e,t,a,s),i=S[l];i.serveronuse&&i.serveronuse(e,t,a,o,s,this,n)}else{let o,n,h=this.getBlock(e,t,a,s),d=this.getTags(e,t,a,s);if(r.survival&&!i){n=0;let e=h,t=S[h].drop,a=S[h].dropAmount,s=handBreakable.includes(S[h].type);l&&C[S[h].type]&&C[S[h].type].includes(S[l].name)&&(s=!0),S[h].type||(s=!0),s&&(void 0===a&&(a=1),2===a.length&&(a=round(rand(a[0],a[1]))),l&&S[l].shears&&S[h].dropSelfWhenSheared?S[h].shearDropAmount&&(a=S[h].shearDropAmount):"number"==typeof t?e=t:"function"==typeof t?e=x[t()]:Array.isArray(t)?e=t:t&&(e=x[t]),e&&(n=e,o=a))}if(!1===this.setBlock(e,t,a,i,!1,!1,!1,!1,s))return this.sendAll({type:"setBlock",data:{x:e,y:t,z:a,block:h,dimension:s}});if(n)if(Array.isArray(n))for(let i of n)"string"==typeof i&&(i=x[i]),this.addItems(e,t,a,s,0,0,0,i,!0,o,null,null,r.id);else this.addItems(e,t,a,s,0,0,0,n,!0,o,null,null,r.id);i?S[i].onplace&&S[i].onplace(e,t,a,s,r,this):(this.blockParticles(h,e,t,a,30,"break",s),S[h].onbreak&&S[h].onbreak(e,t,a,h,d,s,this),this.blockSound(h,"dig",e,t,a),r.survival&&S[h].experience&&this.addEntity(new Ve[Xe.ExperienceOrb](e,t,a,S[h].experience),!1,s))}}blockParticles(e,t,a,s,o,i,r,n,l){l||this.sendAll({type:"particles",particleType:"blockParticles",x:t,y:a,z:s,amount:o,dimension:r,data:{block:e,thisType:i,dir:n}})}explode(e,t,a,s,o,i){o?"original"===o&&this.setBlock(e,t,a,this.getOriginalBlock(e,t,a,i),!1,!1,!1,!1,i):this.setBlock(e,t,a,0,!1,!1,!1,!1,i);let r={},n=[];for(var l=0;l<16;l++)for(var h=0;h<16;h++)for(var d=0;d<16;d++)if(0===l||15===l||0===h||15===h||0===d||15===d)for(var c=(.7+rand(.6))*s,p=l/16,u=h/16,m=d/16,g=.3/abs(dist3(0,0,0,2*(p-.5)*s,2*(u-.5)*s,2*(m-.5)*s))/2,k=0;k<1;k+=g){var y=round(lerp(k,e,2*(p-.5)*s+e)),b=round(lerp(k,t,2*(u-.5)*s+t)),w=round(lerp(k,a,2*(m-.5)*s+a));c-=.3*.75;var f=this.getBlock(y,b,w,i),B=r[y+","+b+","+w];if(f&&!B){if(!((c-=.3*((S[f].blastResistance||0)+.3))>0))continue;r[y+","+b+","+w]=!0,o||(S[f].ongetexploded&&S[f].ongetexploded(y,b,w,f,this,i),this.setBlock(y,b,w,0,!1,!1,!1,!1,i),0===round(rand(s-1))&&this.addItems(y,b,w,i,0,0,0,f,!0)),f===x.tnt?S[x.tnt].explode(y,b,w,"explosion",i,this):f===x.untnt&&S[x.untnt].explode(y,b,w,"explosion",i,this)}if(c>0&&"original"===o&&!B&&this.setBlock(y,b,w,this.getOriginalBlock(y,b,w,i),!1,!1,!1,!1,i),c>0&&rand()>.995){let e=1e3*rand();n.push(y,b,w,i,e)}}this.sendAll({type:"particles",particleType:"explosion",data:n,dimension:i});let v=this.getEntitiesNear(e,t,a,i,s);for(let o of v){if(o.dimension!==i)continue;let r=dist3(e,t,a,o.x,o.y,o.z);if(r<=s){let i=s-r,n=(o.x-e)/r*i,l=(o.y-t)/r*i,h=(o.z-a)/r*i;if(o.damage){let e=6*(s-r);o.damage(e,n,l,h)}else o.velx+=n,o.vely+=l,o.velz+=h;this.sendAll({type:"entEvent",event:"vel",data:{x:o.velx,y:o.vely,z:o.velz},id:o.id})}}for(let o of this.players){if(o.dimension!==i||o.hidden||o.die)continue;let r=dist3(e,t,a,o.x,o.y,o.z);if(r<=s){let i=s-r,n=(o.x-e)/r*i,l=(o.y-t)/r*i,h=(o.z-a)/r*i,d=6*(s-r);this.sendAll({type:"hit",damage:d,damageType:"explosion",velx:n,vely:l,velz:h,x:e,y:t,z:a},o.id)}}mt(e,t,a,s,this)}blockSound(e,t,a,s,o,i){let r,n=S[e],l=1;switch(t){case"place":r=n.placeSound||n.digSound;break;case"dig":r=n.digSound;break;case"step":r=n.stepSound;break;case"lowStep":case"breaking":r=n.stepSound,l=.5;break;case"land":r=n.landSound||n.digSound}if("function"==typeof r)return r();Array.isArray(r)&&(r=r[Math.floor(Math.random()*r.length)]),r&&this.playSound(a,s,o,r,i,l)}playSound(e,t,a,s,o=1,i=1){this.sendAll({type:"playSound",data:s,volume:o,pitch:i,x:e,y:t,z:a,hasPos:"number"==typeof e})}poof(e,t,a,s=20,o,i){i&&this.sendAll({type:"particles",particleType:"poof",x:e,y:t,z:a,dimension:o,amount:s})}glint(e,t,a,s,o){o||this.sendAll({type:"particles",particleType:"glint",x:e,y:t,z:a,dimension:s})}updateBlock(e,t,a,s,o,i,r,n,l){let h="nether"===l?this.netherChunks:"end"===l?this.endChunks:this.chunks,d=h[e>>4]&&h[e>>4][a>>4];d&&d.allGenerated&&d.updateBlock(15&e,t,15&a,this,s,o,i,r,n)}getChunk(e,t,a){let s="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks;return s[e>>4]&&s[e>>4][t>>4]}getBlock(e,t,a,s){if(t>k)return x.air;if(t<y)return x.air;let o="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks;return o[e>>4]&&o[e>>4][a>>4]?o[e>>4][a>>4].getBlock(15&e,t,15&a):x.air}getOriginalBlock(e,t,a,s){let o=this.getChunk(e,a,s);return o?o.getOriginalBlock(15&e,t,15&a):x.air}setBlock(e,t,a,s,o,i,r,n,l){let h="nether"===l?this.netherChunks:"end"===l?this.endChunks:this.chunks;if(!h[e>>4]||!h[e>>4][a>>4])return!1;if(t<y)return!1;let d=h[e>>4]&&h[e>>4][a>>4],c=15&e,p=15&a,u=d.getBlock(c,t,p);if(s){if(u){let s=S[u];d.deleteBlock(c,t,p,!o),!o&&d.allGenerated&&(!s.transparent||s.lightLevel||s.decreaseLight)&&d.lit&&this.updateLight(e,t,a,!1,s.lightLevel,l)}let i=S[s];d.setBlock(c,t,p,s,!o),!o&&d.allGenerated&&(!i.transparent||i.lightLevel||i.decreaseLight)&&d.lit&&this.updateLight(e,t,a,!0,i.lightLevel,l)}else{let s=S[u];d.deleteBlock(c,t,p,!o),!o&&d.allGenerated&&(!s.transparent||s.lightLevel||s.decreaseLight)&&d.lit&&this.updateLight(e,t,a,!1,s.lightLevel,l)}if(o)return;let m=this.getTags(e,t,a,l);n||this.setTags(e,t,a,void 0,r,l);for(let o=this.timeoutQueue.length-1;o>=0;o--){let i=this.timeoutQueue[o];if(i.x===e&&i.y===t&&i.z===a&&i.dimension===l&&(void 0===i.block||i.block===s)){this.timeoutQueue.splice(o,1);break}}let g=S[u].name!==S[s||0].name;!i&&u&&S[u].ondelete&&g&&S[u].ondelete(e,t,a,m,u,l,this),!i&&s&&S[s].onset&&g&&S[s].onset(e,t,a,l,this),r||this.sendAllInChunk({type:"setBlock",data:{x:e,y:t,z:a,block:s,dimension:l,keepTags:n}},e>>4,a>>4,l),c&&15!==c&&p&&15!==p?(d.updateBlock(c-1,t,p,this,o,!1,e,t,a),d.updateBlock(c,t-1,p,this,o,!1,e,t,a),d.updateBlock(c+1,t,p,this,o,!1,e,t,a),d.updateBlock(c,t+1,p,this,o,!1,e,t,a),d.updateBlock(c,t,p-1,this,o,!1,e,t,a),d.updateBlock(c,t,p+1,this,o,!1,e,t,a)):(this.updateBlock(e-1,t,a,o,!1,e,t,a,l),this.updateBlock(e+1,t,a,o,!1,e,t,a,l),this.updateBlock(e,t-1,a,o,!1,e,t,a,l),this.updateBlock(e,t+1,a,o,!1,e,t,a,l),this.updateBlock(e,t,a-1,o,!1,e,t,a,l),this.updateBlock(e,t,a+1,o,!1,e,t,a,l)),d.updateBlock(c,t,p,this,o,i,e,t,a),c|0===p&&this.updateBlock(e-1,t,a-1,o,!0,e,t,a,l),15===c&&0===p&&this.updateBlock(e+1,t,a-1,o,!0,e,t,a,l),0===c&&15===p&&this.updateBlock(e-1,t,a+1,o,!0,e,t,a,l),c&15===p&&this.updateBlock(e+1,t,a+1,o,!0,e,t,a,l)}tagUpdate(e,t,a,s,o){var i=this.getBlock(e,t,a,s);i&&S[i].ontagsupdate&&S[i].ontagsupdate(e,t,a,s,o,this)}tagsChanged(e,t,a,s,o,i,r){r||(this.tagUpdate(e,t,a,i,s),this.tagUpdate(e-1,t,a,i,s),this.tagUpdate(e+1,t,a,i,s),this.tagUpdate(e,t-1,a,i,s),this.tagUpdate(e,t+1,a,i,s),this.tagUpdate(e,t,a-1,i,s),this.tagUpdate(e,t,a+1,i,s)),o||this.sendAllInChunk({type:"setTags",x:e,y:t,z:a,data:s,dimension:i,lazy:r},e>>4,a>>4,i)}getTags(e,t,a,s){if(t>k)return;if(t<y)return;let o="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks;return o[e>>4]&&o[e>>4][a>>4]?o[e>>4][a>>4].getTags(15&e,t,15&a):void 0}getTagByName(e,t,a,s,o){if(!(t>k||t<y))return this.getChunk(e,a,o).getTagByName(15&e,t,15&a,s)}setTags(e,t,a,s,o,i,r){var n="nether"===i?this.netherChunks:"end"===i?this.endChunks:this.chunks;if(!n[e>>4]||!n[e>>4][a>>4])return;if(t<y)return;let l=15&e,h=15&a;(n[e>>4]&&n[e>>4][a>>4]).setTags(l,t,h,s),this.tagsChanged(e,t,a,s,o,i,r)}setTagByName(e,t,a,s,o,i,r,n){let l="nether"===r?this.netherChunks:"end"===r?this.endChunks:this.chunks;if(!l[e>>4]||!l[e>>4][a>>4])return;if(t<y)return;let h=15&e,d=15&a;var c=(l[e>>4]&&l[e>>4][a>>4]).setTagByName(h,t,d,s,o);this.tagsChanged(e,t,a,c,i,r,n)}updateTags(e,t,a,s,o){var i=this.getTags(e,t,a,s);this.tagsChanged(e,t,a,i,!1,s,o)}getLight(e,t,a,s=0,o,i=0){if(t<y)return 0;let r="nether"===o?this.netherChunks:"end"===o?this.endChunks:this.chunks,n=r[e>>4]&&r[e>>4][a>>4];return n?n.getLight(15&e,t,15&a,s,i):15*(!s||i)}setLight(e,t,a,s,o,i){let r="nether"===i?this.netherChunks:"end"===i?this.endChunks:this.chunks,n=r[e>>4]&&r[e>>4][a>>4];if(n)return n.setLight(15&e,t,15&a,s,o)}updateLight(e,t,a,s,o=0,i){let r=this.getChunk(e,a,i),n=15&e,l=15&a,h=r.getLight(n,t,l,0),d=r.getLight(n,t,l,2),c=r.getLight(n,t,l,1),p=this.getLight(e,t+1,a,0,i),u=this.getLight(e,t+1,a,2,i),m=this.getLight(e,t-1,a,0,i),g=this.getLight(e,t,a+1,0,i),k=this.getLight(e,t,a-1,0,i),b=this.getLight(e+1,t,a,0,i),w=this.getLight(e-1,t,a,0,i),f=[];for(let e=0;e<=15;e++)f[e]=[];if(s){if(s&&(0!==h||0!==c)){let s=[];for(let e=0;e<=15;e++)s[e]=[];r.setLight(n,t,l,0,0),r.setLight(n,t,l,0,1),f[h].push(e,t,a);let o=d,i=t;if(S[r.getBlock(n,t,l)].transparent||(r.setLight(n,t,l,0,0),r.setLight(n,t,l,0,1),r.setLight(n,t,l,0,2),f[h].push(e,t,a),i--,o=0),d)for(let t=i;t>=y;t--){let s=S[r.getBlock(n,t,l)];if(!s.transparent)break;{s.decreaseLight&&(o=max(o-s.decreaseLight,0)),r.setLight(n,t,l,o,2);let i=r.getLight(n,t,l,0);r.setLight(n,t,l,o,0),f[i].push(e,t,a)}}for(let e=0;e<=15;e++)f[e].length&&r.unSpreadLight(f[e],e-1,s);if(r.reSpreadLight(s),c){s.length=0;for(let e=0;e<=15;e++)s[e]=[];f[c].length=0,f[c].push(e,t,a),r.unSpreadLight(f[c],c-1,s,1),r.reSpreadLight(s,1),f[c].length=0}}}else{if(u){let s=u;for(let o=t;o>=y;o--){let t=S[r.getBlock(n,o,l)];if(!t.transparent)break;t.decreaseLight&&(s=max(s-t.decreaseLight,0)),r.setLight(n,o,l,s,2),s>r.getLight(n,o,l,0)&&r.setLight(n,o,l,s,0),f[s].push(e,o,a)}for(let e=0;e<f.length;e++)f[e].length&&r.spreadLight(f[e],e-1,!0)}else h=max(p,m,g,k,b,w),h>0&&(h-=1),this.setLight(e,t,a,h,0,i),h>1&&(f[h].push(e,t,a),r.spreadLight(f[h],h-1,!0));(!o||o<c)&&(p=this.getLight(e,t+1,a,1,i),m=this.getLight(e,t-1,a,1,i),g=this.getLight(e,t,a+1,1,i),k=this.getLight(e,t,a-1,1,i),b=this.getLight(e+1,t,a,1,i),w=this.getLight(e-1,t,a,1,i),c=max(p,m,g,k,b,w),f[c].length=0,c>0&&(c-=1),this.setLight(e,t,a,c,1,i),c>1&&(f[c].push(e,t,a),r.spreadLight(f[c],c-1,!0,1)),f[c].length=0)}if(s&&o)this.setLight(e,t,a,o,1,i),f[o].length=0,f[o].push(e,t,a),r.spreadLight(f[o],o-1,!0,1);else if(!s&&o){this.setLight(e,t,a,0,1,i),f[o].length=0,f[o].push(e,t,a);let s=[];for(let e=0;e<=15;e++)s[e]=[];r.unSpreadLight(f[o],o-1,s,1),r.reSpreadLight(s,1)}}spawnBlock(e,t,a,s,o,i){S[s].crossShape&&(s|=$),S[s].tallcrossShape&&(s|=K),S[s].cactus&&(s|=ie);let r=e>>4,n=a>>4,l="nether"===o?this.netherChunks:"end"===o?this.endChunks:this.chunks;l[r]||(l[r]=[]);let h=l[e>>4]&&l[e>>4][a>>4];h||(h=new pt(16*r,16*n,o,this),l[r][n]=h),h.allGenerated?this.setBlock(e,t,a,s,!0,!1,!1,!1,o):!i&&S[h.getBlock(15&e,t,15&a)].solid||h.setBlock(15&e,t,15&a,s)}getBiome(e,t,a,s){let o="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks;if(!o[e>>4]||!o[e>>4][a>>4])return;let i=15&e,r=15&a,n=o[e>>4][a>>4].caveY[16*r+i],l=o[e>>4][a>>4].caveY[16*r+i+256];return la[t<l&&t>n?o[e>>4][a>>4].caveBiomes[16*r+i]:o[e>>4][a>>4].biomes[16*r+i]]}getEntity(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].id===e)return t}getEntPos(e,t){let a=new Y;a.add(min(e.id.length,255),8);for(let t of e.id.substring(0,255))a.add(t.charCodeAt(0),8);if(a.add(e.entId,8),a.add(16*e.x,24).add(16*e.y,15).add(16*e.z,24),a.add("nether"===e.dimension?1:"end"===e.dimension?2:0,3),a.add(100*e.pitch,11),a.add(100*e.yaw,11),a.add(100*e.velx,11).add(100*e.vely,11).add(100*e.velz,11),a.add(min(t-e.spawn),32),a.add(10*(e.amount||0),20),a.add(e.block||0,32),a.add(e.from?min(e.from.length,255):0,8),e.from)for(let t of e.from.substring(0,255))a.add(t.charCodeAt(0),8);if(a.add(e.durability||0,16),a.addString(e.name||""),"BlockEntity"===e.type)a.add(e.solidOnGround||0,1);else if("MovingBlock"===e.type)a.add(e.sx,20).add(e.sy,20).add(e.sz,20),a.add(e.mx,20).add(e.my,20).add(e.mz,20),a.add(e.despawns,32),a.add(e.solidWhenDone,1);else if("TextDisplay"===e.type)a.addString(e.text),a.add(256*e.size,8),a.add(255*e.color[0],8).add(255*e.color[1],8).add(255*e.color[2],8),a.add(255*e.background[0],8).add(255*e.background[1],8).add(255*e.background[2],8).add(255*e.background[3],8);else if(e.mob){if(a.add(e.harmEffect,6),a.add(e.health,16),a.add(e.burning,1),a.add(16*e.burnTimer,8),a.add(e.oxygen,5),a.add(100*e.spinTarget,11),a.add(e.path?e.path.length:0,8),e.path&&e.path.length>255&&logError("entity path too long"),e.path)for(let t of e.path)a.add(t,20);if(a.add(e.fur||0,1),e.color?a.add(255*e.color[0],8).add(255*e.color[1],8).add(255*e.color[2],8):a.add(0,24),a.add(e.eating||0,6),a.add(e.target?min(e.target.length,255):0,8),e.target)for(let t of e.target.substring(0,255))a.add(t.charCodeAt(0),8);if(a.add(e.wool?min(e.wool.length,255):0,8),e.wool)for(let t of e.wool.substring(0,255))a.add(t.charCodeAt(0),8);if(a.add(e.tame||0,1),a.add(e.sitting||0,1),a.add(e.owner?min(e.owner.length,255):0,8),e.owner)for(let t of e.owner.substring(0,255))a.add(t.charCodeAt(0),8);if(a.add(e.holding||0,32),a.add(e.attractedBy?min(e.attractedBy.length,255):0,8),e.attractedBy)for(let t of e.attractedBy.substring(0,255))a.add(t.charCodeAt(0),8)}else"BlockDisplay"===e.type&&a.add(256*e.width,16).add(256*e.height,16).add(256*e.depth,16);return a}addEntity(e,t,a){e.id||(e.id=""+Date.now().toString(36)+(1e6*Math.random()|0).toString(36)),e.world=this,(a||""===a)&&(e.dimension=e.chunkDimension=a),t||e.remote||this.sendAllInChunk({type:"entityPos",data:this.getEntPos(e,performance.now()).array},e.chunkX,e.chunkZ,e.dimension),this.entities.push(e);let s=this.getChunk(e.chunkX<<4,e.chunkZ<<4,e.dimension);s?s.entities[e.id]=e:this.waitingEntities.push(e)}deleteEntity(e,t,a){a=a||0===a?a:this.getEntity(e);let s=this.entities[a];if(!s)return;s.delete();let o=this.waitingEntities.indexOf(s);e=s.id,t||this.sendAllInChunk({type:"entityDelete",id:e},s.chunkX,s.chunkZ,s.dimension),(a||0===a)&&this.entities.splice(a,1),-1!==o&&this.waitingEntities.splice(o,1);const{chunkX:i,chunkZ:r}=s;let n=this.getChunk(i<<4,r<<4,s.dimension);n&&delete n.entities[e]}posEntity(e,t,a){if("string"==typeof e)try{e=new V(atoarr(e),!0)}catch(e){return}else if(!(e instanceof V))return;let s=e.read(8),o="";for(let t=0;t<s;t++)o+=String.fromCharCode(e.read(8));const i=e.read(8);let r,n=this.getEntity(o);const l=rt[i],h=e.read(24,!0)/16,d=e.read(a?12:15,!0)/16,c=e.read(24,!0)/16;let p=e.read(3);p=1===p?"nether":2===p?"end":"";const u=e.read(11,!0)/100,m=e.read(11,!0)/100,g=e.read(11,!0)/100,k=e.read(11,!0)/100,y=e.read(11,!0)/100,b=performance.now()-e.read(32,!0),w=a?e.read(16):e.read(20)/10,f=e.read(32);s=e.read(8);let B="";for(let t=0;t<s;t++)B+=String.fromCharCode(e.read(8));const S=e.read(16);let v=e.readString();if("BlockEntity"===l)var x=Boolean(e.read(1));else if("MovingBlock"===l)var P=e.read(20,!0),T=e.read(20,!0),N=e.read(20,!0),C=e.read(20,!0),z=e.read(20,!0),L=e.read(20,!0),R=(e.read(32),e.read(1));else if("TextDisplay"===l)var I=e.readString(),M=e.read(8)/256,D=[e.read(8)/255,e.read(8)/255,e.read(8)/255],A=[e.read(8)/255,e.read(8)/255,e.read(8)/255,e.read(8)/255];else if(Ve[i].mob){var O=e.read(6),G=e.read(16),W=Boolean(e.read(1)),F=e.read(8)/16,E=e.read(5),q=e.read(11)/100;if(s=e.read(8),s){var U=[];for(let t=0;t<s;t++)U.push(e.read(20,!0))}var H=Boolean(e.read(1)),_=(D=[e.read(8)/255,e.read(8)/255,e.read(8)/255],e.read(6));s=e.read(8);var j="";for(let t=0;t<s;t++)j+=String.fromCharCode(e.read(8));s=e.read(8);var Y="";for(let t=0;t<s;t++)Y+=String.fromCharCode(e.read(8));var X=Boolean(e.read(1)),Z=Boolean(e.read(1));s=e.read(8);var J="";for(let t=0;t<s;t++)J+=String.fromCharCode(e.read(8));var Q=e.read(32);s=e.read(8);var $="";for(let t=0;t<s;t++)$+=String.fromCharCode(e.read(8))}else if("BlockDisplay"===l)var K=e.read(16)/256,ee=e.read(16)/256,te=e.read(16)/256;if(n||0===n)r=this.entities[n],"TextDisplay"===l&&r.text!==I&&r.setText(I),"Item"===l&&r.amount!==w&&(r.amount=w,r.willUpdateShape=!0);else{switch(r=Ve[i],r&&r.name2){case"Item":r=new r(h,d,c,g,k,y,f,!1,w,S||null,null);break;case"BlockEntity":r=new r(f,h,d,c,x);break;case"PrimedTNT":case"PrimedSuperTNT":case"PrimedUltraTNT":case"PrimedUnTNT":r=new r(h,d,c);break;case"MovingBlock":r=new r(f,P,T,N,C,z,L,R);break;case"BlockDisplay":r=new r(f,h,d,c,0,0,0);break;case"EnderPearl":case"Snowball":case"SmallFireball":case"Egg":case"SlingshotShot":case"Arrow":r=new r(h,d,c,0,0,0);break;case"ExperienceOrb":r=new r(h,d,c,w);break;case"Cow":case"Pig":case"Creeper":case"Chicken":case"Zombie":case"Skeleton":case"Wolf":case"Blaze":case"Enderman":r=new r(h,d,c);break;case"Sheep":r=new r(h,d,c,D,Y);break;case"Spider":r=new r(h,d,c,H);break;case"EnderDragon":r=new r(h,d,c);break;case"TextDisplay":r=new r(h,d,c,I,M,D,A)}if(!r)return;r.id=o,this.addEntity(r,!0),r.previousX=parseFloat(e[0]),r.previousY=parseFloat(e[1]),r.previousZ=parseFloat(e[2])}r&&(r.setPos(h,d,c,g,k,y),r.dimension=p,r.facesPlayer||(r.yaw=m,r.pitch=u),r.spawn=b,"from"in r&&(r.from=B),v&&(r.name=v),r.mob?(r.harmEffect=O,r.health=G,r.burning=W,r.burnTimer=F,r.oxygen=E,r.spinTarget=q,r.path=U||null,"fur"in r&&(r.fur=H),"color"in r&&(r.color=D),"eating"in r&&(r.eating=_),r.target=j,"wool"in r&&(r.wool=Y),"tame"in r&&(r.tame=X),"sitting"in r&&(r.sitting=Z),"owner"in r&&(r.owner=J),r.holding=Q,r.attractedBy=$):"BlockDisplay"===r.type&&(r.width=K,r.height=ee,r.depth=te),r.updateChunk())}getEntities(e){let t=e.x>>4,a=e.z>>4,{dimension:s,loadDistance:o}=e;o--;let i=t-o,r=t+o,n=a-o,l=a+o,h="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks,d=[];for(t=i;t<=r;t++)for(a=n;a<=l;a++)if(h[t]&&h[t][a]){let e=h[t][a];for(let t in e.entities){let a=performance.now();d.push(this.getEntPos(e.entities[t],a).array)}}return d}getEntitiesNear(e,t,a,s,o,i=[]){let r="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks,n=e-o>>4,l=e+o>>4,h=a-o>>4,d=a+o>>4;i.length=0;for(e=n;e<=l;e++)for(a=h;a<=d;a++)if(r[e]&&r[e][a]){let t=r[e][a].entities;for(let e in t)i.push(t[e])}return i}addItems(e,t,a,s,o,i,r,n,l,h=1,d,c,p){if(n)for(var u=S[n];h;){var m=min(h,u.stackSize);h-=m,this.addEntity(new Ve[Xe.Item](e,t,a,o,i,r,n,l,m,d,c,p),!1,s)}}getRedstoneConnectedTo(e,t,a,s,o){var i=[],r=[];for(r.push(e,t,a,0);r.length;){e=r[0],t=r[1],a=r[2];var n=r[3];if(n<s){xyArrayHas(i,r,e+1,t,a)||"redstoneDust"!==S[this.getBlock(e+1,t,a,o)].name||r.push(e+1,t,a,n+1),xyArrayHas(i,r,e-1,t,a)||"redstoneDust"!==S[this.getBlock(e-1,t,a,o)].name||r.push(e-1,t,a,n+1),xyArrayHas(i,r,e,t,a+1)||"redstoneDust"!==S[this.getBlock(e,t,a+1,o)].name||r.push(e,t,a+1,n+1),xyArrayHas(i,r,e,t,a-1)||"redstoneDust"!==S[this.getBlock(e,t,a-1,o)].name||r.push(e,t,a-1,n+1),xyArrayHas(i,r,e,t+1,a)||"redstoneDust"!==S[this.getBlock(e,t+1,a,o)].name||r.push(e,t+1,a,n+1),xyArrayHas(i,r,e,t-1,a)||"redstoneDust"!==S[this.getBlock(e,t-1,a,o)].name||r.push(e,t-1,a,n+1);var l=this.getTags(e,t,a,o),h=this.getBlock(e,t,a,o);"redstoneDust"===S[h].name&&(ct(l,"westUp",h)&&!xyArrayHas(i,r,e+1,t+1,a)&&r.push(e+1,t+1,a,n+1),ct(l,"eastUp",h)&&!xyArrayHas(i,r,e-1,t+1,a)&&r.push(e-1,t+1,a,n+1),ct(l,"northUp",h)&&!xyArrayHas(i,r,e,t+1,a+1)&&r.push(e,t+1,a+1,n+1),ct(l,"southUp",h)&&!xyArrayHas(i,r,e,t+1,a-1)&&r.push(e,t+1,a-1,n+1),ct(l,"westDown",h)&&!xyArrayHas(i,r,e+1,t-1,a)&&r.push(e+1,t-1,a,n+1),ct(l,"eastDown",h)&&!xyArrayHas(i,r,e-1,t-1,a)&&r.push(e-1,t-1,a,n+1),ct(l,"northDown",h)&&!xyArrayHas(i,r,e,t-1,a+1)&&r.push(e,t-1,a+1,n+1),ct(l,"southDown",h)&&!xyArrayHas(i,r,e,t-1,a-1)&&r.push(e,t-1,a-1,n+1)),i.push(e,t,a,n)}r.splice(0,4)}return i}spreadPower(e,t,a,s,o){if(s)for(var i=this.getRedstoneConnectedTo(e,t,a,s,o),r=0;r<i.length;r+=4){var n=i[r],l=i[r+1],h=i[r+2];if(n!==e||l!==t||h!==a){var d=this.getRedstoneWirePower(n,l,h,o);d!==this.getPower(n,l,h,o)&&this.setPower(n,l,h,d,!1,o)}}}unspreadPower(e,t,a,s,o,i){if(s){for(var r=this.getRedstoneConnectedTo(e,t,a,s,i),n=[],l=0;l<s;l++)for(var h=0;h<r.length;h+=4){var d=r[h],c=r[h+1],p=r[h+2];if(o||d!==e||c!==t||p!==a){var u=this.getRedstoneWirePower(d,c,p,i);u!==this.getPower(d,c,p,i)&&(this.setPower(d,c,p,u,!0,i),n[h]=!0)}}for(h=0;h<n.length;h+=4)if(n[h]){e=r[h],t=r[h+1],a=r[h+2];this.powerChangeUpdate(e,t,a,e,t,a,!1,i),this.powerChangeUpdate(e+1,t,a,e,t,a,!1,i),this.powerChangeUpdate(e-1,t,a,e,t,a,!1,i),this.powerChangeUpdate(e,t,a+1,e,t,a,!1,i),this.powerChangeUpdate(e,t,a-1,e,t,a,!1,i),this.powerChangeUpdate(e,t+1,a,e,t,a,!1,i),this.powerChangeUpdate(e,t-1,a,e,t,a,!1,i),this.updateTags(e,t,a,i,!0)}}}getPowerForWire(e,t,a,s,o){var i=this.getBlock(e,t,a,s);return"redstoneDust"===S[i].name&&o!==(i&ze)?0:this.getPower(e,t,a,s)}getRedstoneWirePower(e,t,a,s){var o=this.getTags(e,t,a,s),i=this.getBlock(e,t,a,s),r=i&ze,n=this.getPowerForWire(e+1,t,a,s,r),l=this.getPowerForWire(e-1,t,a,s,r),h=this.getPowerForWire(e,t,a+1,s,r),d=this.getPowerForWire(e,t,a-1,s,r),c=this.getPowerForWire(e,t+1,a,s,r),p=this.getPowerForWire(e,t-1,a,s,r),u=o&&ct(o,"westUp",i)?this.getPowerForWire(e+1,t+1,a,s,r):0,m=o&&ct(o,"eastUp",i)?this.getPowerForWire(e-1,t+1,a,s,r):0,g=o&&ct(o,"northUp",i)?this.getPowerForWire(e,t+1,a+1,s,r):0,k=o&&ct(o,"southUp",i)?this.getPowerForWire(e,t+1,a-1,s,r):0,y=o&&ct(o,"westDown",i)?this.getPowerForWire(e+1,t-1,a,s,r):0,b=o&&ct(o,"eastDown",i)?this.getPowerForWire(e-1,t-1,a,s,r):0,w=o&&ct(o,"northDown",i)?this.getPowerForWire(e,t-1,a+1,s,r):0,f=o&&ct(o,"southDown",i)?this.getPowerForWire(e,t-1,a-1,s,r):0,B=max(n,l,h,d,c,p,g,k,m,u,w,f,b,y,this.redstoneComponentPowering(e,t,a,s)+1)-1;return"strong"===this.getSurroundingBlockPower(e,t,a,s)&&(B=15),B<0?0:B}repeaterIsPowering(e,t,a,s,o,i,r){var n=this.getBlock(s,o,i,r);return n&&("repeater"===S[n].name||S[n].logicGate||"comparator"===S[n].name)?S[n].canHavePower(s,o,i,e,t,a,r,this):0}observerIsPowering(e,t,a,s,o,i,r){var n=this.getBlock(s,o,i,r);return n&&"observer"===S[n].name?S[n].canHavePower(s,o,i,e,t,a,r,this):0}redstoneComponentPowering(e,t,a,s){return max(this.repeaterIsPowering(e,t,a,e+1,t,a,s),this.repeaterIsPowering(e,t,a,e-1,t,a,s),this.repeaterIsPowering(e,t,a,e,t,a+1,s),this.repeaterIsPowering(e,t,a,e,t,a-1,s),this.observerIsPowering(e,t,a,e+1,t,a,s),this.observerIsPowering(e,t,a,e-1,t,a,s),this.observerIsPowering(e,t,a,e,t+1,a,s),this.observerIsPowering(e,t,a,e,t-1,a,s),this.observerIsPowering(e,t,a,e,t,a+1,s),this.observerIsPowering(e,t,a,e,t,a-1,s))}getRedstonePower(e,t,a,s){var o=this.getPower(e+1,t,a,s),i=this.getPower(e-1,t,a,s),r=this.getPower(e,t,a+1,s),n=this.getPower(e,t,a-1,s),l=this.getPower(e,t+1,a,s),h=this.getPower(e,t-1,a,s);return max(o,i,r,n,l,h,this.redstoneComponentPowering(e,t,a,s))}getRepeaterPower(e,t,a,s,o,i,r){return max(this.getPower(s,o,i,r),this.repeaterIsPowering(e,t,a,s,o,i,r),this.observerIsPowering(e,t,a,s,o,i,r))}getPower(e,t,a,s){return this.getTagByName(e,t,a,"power",s)||0}setPower(e,t,a,s,o,i){var r=this.getBlock(e,t,a,i);if(r&&S[r].noSetPower)return;if(S[r].tagBits)this.setTagByName(e,t,a,"power",s,o,i,!0);else{var n=this.getTags(e,t,a,i)||{};s?n.power=s:delete n.power,this.setTags(e,t,a,n,!1,i,!0)}this.updateBlock(e,t,a,!1,!0,null,null,null,i),o||(this.powerChangeUpdate(e,t,a,e,t,a,!1,i),this.powerChangeUpdate(e+1,t,a,e,t,a,!1,i),this.powerChangeUpdate(e-1,t,a,e,t,a,!1,i),this.powerChangeUpdate(e,t,a+1,e,t,a,!1,i),this.powerChangeUpdate(e,t,a-1,e,t,a,!1,i),this.powerChangeUpdate(e,t+1,a,e,t,a,!1,i),this.powerChangeUpdate(e,t-1,a,e,t,a,!1,i))}blockPowerNames={top:"blockPowerTop",bottom:"blockPowerBottom",north:"blockPowerNorth",south:"blockPowerSouth",east:"blockPowerEast",west:"blockPowerWest"};setBlockPower(e,t,a,s,o,i){var r=this.getBlock(e,t,a,i);if(r&&S[r].noSetPower)return;if(null!==s&&"weak"!==s&&"strong"!==s&&(s=null,console.error("Oh no! It can only be strong or weak or null. But it was",s)),s=s?"strong"===s?2:1:0,S[r].tagBits)this.setTagByName(e,t,a,this.blockPowerNames[o],s,!1,i);else{var n=this.getTags(e,t,a,i)||{};s?(n.blockPower||(n.blockPower={}),n.blockPower[o]=s):n.blockPower&&(delete n.blockPower[o],n.blockPower.top||n.blockPower.bottom||n.blockPower.north||n.blockPower.south||n.blockPower.east||n.blockPower.west||delete n.blockPower),this.setTags(e,t,a,n,!1,i)}this.powerChangeUpdate(e,t,a,e,t,a,!0,i),"west"!==o&&this.powerChangeUpdate(e+1,t,a,e,t,a,!0,i),"east"!==o&&this.powerChangeUpdate(e-1,t,a,e,t,a,!0,i),"north"!==o&&this.powerChangeUpdate(e,t,a+1,e,t,a,!0,i),"south"!==o&&this.powerChangeUpdate(e,t,a-1,e,t,a,!0,i),"top"!==o&&this.powerChangeUpdate(e,t+1,a,e,t,a,!0,i),"bottom"!==o&&this.powerChangeUpdate(e,t-1,a,e,t,a,!0,i)}getBlockPower(e,t,a,s,o){var i=this.getTags(e,t,a,o);if(!i)return null;let r,n=this.getBlock(e,t,a,o);if(S[n].tagBits)r=s?this.getTagByName(e,t,a,this.blockPowerNames[s],o):max(this.getTagByName(e,t,a,this.blockPowerNames.top,o),this.getTagByName(e,t,a,this.blockPowerNames.bottom,o),this.getTagByName(e,t,a,this.blockPowerNames.north,o),this.getTagByName(e,t,a,this.blockPowerNames.south,o),this.getTagByName(e,t,a,this.blockPowerNames.east,o),this.getTagByName(e,t,a,this.blockPowerNames.west,o));else{var l=i.blockPower;if(!l)return null;r=s?l[s]:max(l.top,l.bottom,l.north,l.south,l.east,l.west)}return r?2===r?"strong":"weak":null}getSurroundingBlockPower(e,t,a,s){var o=this.getBlockPower(e,t,a-1,null,s),i=this.getBlockPower(e,t,a+1,null,s),r=this.getBlockPower(e-1,t,a,null,s),n=this.getBlockPower(e+1,t,a,null,s),l=this.getBlockPower(e,t+1,a,null,s),h=this.getBlockPower(e,t-1,a,null,s);return"strong"===l||"strong"===h||"strong"===o||"strong"===i||"strong"===r||"strong"===n?"strong":"weak"===l||"weak"===h||"weak"===o||"weak"===i||"weak"===r||"weak"===n?"weak":null}powerChangeUpdate(e,t,a,s,o,i,r,n){var l=this.getBlock(e,t,a,n);l&&S[l].onpowerupdate&&S[l].onpowerupdate(e,t,a,s,o,i,r,n,this)}setTimeout(e,t,a,s,o,i,r){let n;if(a||0===a)for(let e=this.timeoutQueue.length-1;e>=0;e--){let t=this.timeoutQueue[e];if(t.x===a&&t.y===s&&t.z===o&&t.dimension===i){n=t;break}}n?(n.func=e,n.time=performance.now()+t,n.x=a,n.y=s,n.z=o,n.dimension=i):this.timeoutQueue.push({func:e,time:performance.now()+t,x:a,y:s,z:o,dimension:i})}loadChunks(){this.chunkGenQueue.length=0,this.lightingQueue.length=0,this.populateQueue.length=0,this.generateQueue.length=0,this.loadQueue.length=0,this.loaded.length=0;for(let e of this.players){let t="nether"===e.dimension?this.netherChunks:"end"===e.dimension?this.endChunks:this.chunks,a=e.x>>4,s=e.z>>4,o=min(this.loadDistance,e.loadDistance);Ct.length=0,zt=e.x,Lt=e.z;let i=a+o+2,r=s-o-2,n=s+o+2;for(let l=a-o-2;l<=i;l++)for(let i=r;i<=n;i++){let r;t[l]||(t[l]=[]),t[l][i]||(r=new pt(16*l,16*i,e.dimension,this),t[l][i]=r),r=t[l][i],!r.allGenerated&&Nt(a,s,l,i)<=o&&!this.chunkGenQueue.includes(r)&&Ct.push(r),this.loaded.includes(r)||(this.loaded[this.loaded.length]=r)}this.chunkGenQueue.push(...Ct.sort(Rt))}}async tick(){let e=performance.now();this.loadedUpdate&&this.loadChunks(),ga=e;let t=0,a=0;for(var s of this.players)s.hidden||(s.sleeping&&t++,a++);let o=a&&t===a;this.settings.dayNightCycle&&(this.time+=o?6.25:.125),this.settings.weatherCycle&&(this.nextWeather-=o?6.25:.125,this.nextWeather<=0&&(this.nextWeather=0,this.weather=this.weather?"":"rain",this.nextWeather=this.weather?1e3*rand(.5,1):1e3*rand(.5,7.5))),"rain"===this.weather||"snow"===this.weather?(this.slowWeatherAmount>=.5&&(this.weatherAmount+=.02,this.weatherAmount>1&&(this.weatherAmount=1)),this.slowWeatherAmount+=.01,this.slowWeatherAmount>1&&(this.slowWeatherAmount=1)):(this.weatherAmount-=.02,this.weatherAmount<0&&(this.weatherAmount=0),this.slowWeatherAmount-=.01,this.slowWeatherAmount<0&&(this.slowWeatherAmount=0));let i=this.time%1e3;this.skyLight=i>725&&i<850?1-(i-725)/125:i>150&&i<275?(i-150)/125:i>=850||i<=150?0:1;for(let e=0;e<this.loaded.length;e++)this.loaded[e].tick();for(let e=this.waitingEntities.length-1;e>=0;e--)this.waitingEntities[e].goToChunk()&&this.waitingEntities.splice(e,1);for(let e of this.entities)e.updateAlways&&e.updateAlways();for(let e in this.players)this.players[e].update(),this.players[e].updateLoaded();for(let t=this.timeoutQueue.length-1;t>=0;t--)e-this.timeoutQueue[t].time>=0&&this.timeoutQueue.splice(t,1)[0].func();if("island"===this.superflat&&this.islandGenerator.stage<10)return this.islandGenerator.promise||(this.islandGenerator.promise=new Promise((e=>this.islandGenerator.promiseResolve=e)),this.loadPromises.push(this.islandGenerator.promise)),this.islandGenerator.Generate(performance.now()),void(this.islandGenerator.stage>=10&&this.islandGenerator.promiseResolve());if(this.ticking)return;this.ticking=!0;let r=!0;for(;r;){if(r=!1,ka.start=performance.now(),this.generateQueue.length){for(let e=0;e<this.generateQueue.length;e++){let t=this.generateQueue[e];t.generated?t.caves||this.usePreBeta?(this.generateQueue.splice(e,1),e--):t.carveCaves():t.generate()}r=!0}if(this.populateQueue.length&&!r){let e=this.populateQueue[this.populateQueue.length-1];e.populated?(this.populateQueue.pop(),this.populateQueue.length&&(r=!0)):(!e.caves&&this.usePreBeta?e.carveCaves():e.populated||await e.populate(),r=!0)}if(this.loadQueue.length&&!r&&(this.loadQueue.pop().load(),r=!0),this.lightingQueue.length&&!r&&(this.lightingQueue.pop().fillLight(),r=!0),this.chunkGenQueue.length&&!r){let e=this.chunkGenQueue[0];this.fillReqs(e.x>>4,e.z>>4,e.type)&&(e.allGenerated=!0,this.chunkGenQueue.shift(),this.generatedChunks++),r=!0}r&&await yieldThread()}this.ticking=!1}fillReqs(e,t,a){let s=!0,o="nether"===a?this.netherLoadFrom:"end"===a?this.endLoadFrom:this.loadFrom;for(let o=e-2;o<=e+2;o++)for(let i=t-2;i<=t+2;i++){let r=this.getChunk(16*o,16*i,a);r?(r.generated&&(r.caves||this.usePreBeta)||this.generateQueue.includes(r)||(this.generateQueue.push(r),s=!1),!r.populated&&o>=e-1&&o<=e+1&&i>=t-1&&i<=t+1&&!this.populateQueue.includes(r)&&(this.populateQueue.push(r),s=!1)):s=!1}let i=this.getChunk(16*e,16*t,a);return i.loaded||this.loadQueue.includes(i)||(o[e+","+t]?this.loadQueue.push(i):i.loaded=!0,s=!1),i.lit||this.lightingQueue.includes(i)||(this.lightingQueue.push(i),s=!1),s}getTop(e,t,a){let s=this.getChunk(e,t,a);return s&&s.tops[16*(15&t)+(15&e)]||0}getSolidTop(e,t,a){let s=this.getChunk(e,t,a);return s&&s.solidTops[16*(15&t)+(15&e)]||0}getSaveString(){let e=this.chunks,t=this.netherChunks,a=this.endChunks,s=new Set,o={},i={},r={};for(let t in e)for(let a in e[t]){let n=e[t][a];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],a=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==a[e]||h[e]){s.add(l[e]),d=!0;let a=(e>>8)+t.x,n=(e>>4&15)+t.y-y,c=(15&e)+t.z,p=`${a>>3},${n>>3},${c>>3},0`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&n)<<6|(7&a)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&a]=l[e],o[p][2][(7&a)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&a)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&a)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&a]=l[e],h[e]&&(i[p][(7&n)<<6|(7&a)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),r[p]++)}d||(t.edited=!1)}}for(let e in this.loadFrom){const t=this.loadFrom[e],a=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in a){s.add(a[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},0`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=a[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=a[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=a[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=a[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=a[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=a[e],n[e]&&(i[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),r[p]++)}}for(let e in t)for(let a in t[e]){let n=t[e][a];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],a=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==a[e]||h[e]){s.add(l[e]),d=!0;let a=(e>>8)+t.x,n=(e>>4&15)+t.y-y,c=(15&e)+t.z,p=`${a>>3},${n>>3},${c>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&n)<<6|(7&a)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&a]=l[e],o[p][2][(7&a)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&a)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&a)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&a]=l[e],h[e]&&(i[p][(7&n)<<6|(7&a)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),r[p]++)}d||(t.edited=!1)}}for(let e in this.netherLoadFrom){const t=this.netherLoadFrom[e],a=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in a){s.add(a[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=a[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=a[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=a[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=a[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=a[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=a[e],n[e]&&(i[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),r[p]++)}}for(let e in a)for(let t in a[e]){let n=a[e][t];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],a=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==a[e]||h[e]){s.add(l[e]),d=!0;let a=(e>>8)+t.x,n=(e>>4&15)+t.y-y,c=(15&e)+t.z,p=`${a>>3},${n>>3},${c>>3},2`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&n)<<6|(7&a)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&a]=l[e],o[p][2][(7&a)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&a)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&a)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&a]=l[e],h[e]&&(i[p][(7&n)<<6|(7&a)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),r[p]++)}d||(t.edited=!1)}}for(let e in this.endLoadFrom){const t=this.endLoadFrom[e],a=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in a){s.add(a[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));i[p]=[],r[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=a[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=a[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=a[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=a[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=a[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=a[e],n[e]&&(i[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),r[p]++)}}let n=Array.from(s),l={};n.forEach(((e,t)=>l[e]=t));let h=Y.bits(n.length),d="island"===this.superflat?2:"void"===this.superflat?3:this.superflat,c=this.usePreBeta?1:0,p="rain"===this.weather?1:"snow"===this.weather?2:0,u=new Y;u.addString(this.name),u.add(this.worldSeed,32),u.add(round(this.time),32),u.add(p,2).add(this.nextWeather,17),u.add(d,2).add(this.caves,1).add(this.trees,1),u.add(version.length,8);for(let e of version)u.add(e.charCodeAt(0),8);u.add(c,1),u.add(n.length,32);for(let e of n)u.add(e,32);let m=Object.entries(o);u.add(m.length,32);for(let[e,t]of m){let[a,s,o,n]=e.split(",").map(Number);u.add(a,16).add(s,8).add(o,16).add(n,3);let d=null;for(let a=0;a<6;a++){let s=new Y,o=t[a];s.add(a,3);let n=null,c=[],p=[];for(let e=0;e<o.length;e++){const t=o[e];t>=0?(!n&&e<o.length-2&&o[e+1]>=0&&o[e+2]>=0&&(n=[e,[]],c.push(n)),n?n[1].length&&t===n[1][n[1].length-1][1]?n[1][n[1].length-1][0]++:n[1].push([1,t]):p.push([e,o[e]])):n=null}s.add(c.length,8),s.add(p.length,9);for(let[e,t]of c){let a=0;for(let e of t)a=Math.max(a,e[0]);let o=Y.bits(a);s.add(e,9).add(t.length,9).add(o,4);for(let[e,a]of t)s.add(e-1,o).add(l[a],h)}for(let[e,t]of p)s.add(e,9).add(l[t],h);if(s.add(r[e],9),r[e])for(let t in i[e]){let a=i[e][t];s.add(t,9),"number"==typeof a?(s.add(0,1),s.add(a,32)):(s.add(1,1),s.addString(a,16))}(!d||s.bitLength<d.bitLength)&&(d=s)}u.append(d)}u.add(ma.length,8);for(let e of ma)u.add(this.settings[e]?1:0,1);let g=this.entities.filter((e=>!e.remote));u.add(g.length,32);let k=performance.now();for(let e of g){let t=this.getEntPos(e,k);u.add(t.bitLength,16),u.append(t)}return u.add(this.survival?"hardcore"===this.survival?2:1:0,2).add(this.cheats?1:0,1),u.array}loadSave(e,t=!1){if("string"==typeof e){if(e.includes("Alpha"))try{return this.loadOldSave(e,t)}catch(e){console.error(e),alert("Unable to load save string.")}try{e=atoarr(e)}catch(e){throw alert("Malformatted save string. Unable to load"),e}}let a=new V(e);this.name=a.readString(),this.setSeed(a.read(32),!0),this.time=a.read(32);let s=a.read(2);this.weather=1===s?"rain":2===s?"snow":"",this.nextWeather=a.read(17);let o=a.read(2);this.caves=a.read(1),this.trees=a.read(1);let i=a.read(8);try{this.version="";for(let e=0;e<i;e++)this.version+=String.fromCharCode(a.read(8));if(!this.version.includes("Alpha")&&!this.version.includes("Beta"))throw""}catch(a){return console.error(a),this.loadCrossSaveCode(e,t)}let r=We("1.1.0",this.version.replace(/(Alpha|Beta) /,""));if((r?1:a.read(1))&&0===o?(this.superflat=!1,this.usePreBeta=!0):(this.superflat=2===o?"island":3===o?"void":Boolean(o),this.usePreBeta=!1),t)return;let n=a.read(32),l=[],h=Y.bits(n);for(let e=0;e<n;e++)l.push(a.read(32));const d=[(e,t,a,s)=>256*(a+(e>>6&7))+16*(t+(e>>3&7))+s+(e>>0&7),(e,t,a,s)=>256*(a+(e>>6&7))+16*(t+(e>>0&7))+s+(e>>3&7),(e,t,a,s)=>256*(a+(e>>3&7))+16*(t+(e>>6&7))+s+(e>>0&7),(e,t,a,s)=>256*(a+(e>>0&7))+16*(t+(e>>6&7))+s+(e>>3&7),(e,t,a,s)=>256*(a+(e>>0&7))+16*(t+(e>>3&7))+s+(e>>6&7),(e,t,a,s)=>256*(a+(e>>3&7))+16*(t+(e>>0&7))+s+(e>>6&7)];let c=a.read(32),p=[{},{},{}];for(let e=0;e<c;e++){let e=8*a.read(16,!0),t=8*a.read(r?5:8,!1),s=8*a.read(16,!0),o=a.read(3),i=a.read(3);r&&(t-=y);let n=e>>4,c=s>>4;e=e!==16*n?8:0,s=s!==16*c?8:0;let u=`${n},${c}`,m=p[o][u];m||(m={blocks:[],tags:[]},p[o][u]=m);let g=a.read(8),k=a.read(9);for(let o=0;o<g;o++){let o=a.read(9),r=a.read(9),n=a.read(4);for(let c=0;c<r;c++){let r=a.read(n)+1,c=a.read(h);for(let a=0;a<r;a++)m.blocks[d[i](o,e,t,s)]=l[c],o++}}for(let o=0;o<k;o++){let o=a.read(9),r=a.read(h);m.blocks[d[i](o,e,t,s)]=l[r]}let b=a.read(9);for(let o=0;o<b;o++){let o=a.read(9);if(a.read(1)){let i=a.readString(16);try{m.tags[d[0](o,e,t,s)]=JSON.parse(i)}catch(e){console.log(e)}}else m.tags[d[0](o,e,t,s)]=a.read(32)}}this.loadFrom=p[0],this.loadKeys=Object.keys(p[0]),this.netherLoadFrom=p[1],this.netherLoadKeys=Object.keys(p[1]),this.endLoadFrom=p[2],this.endLoadKeys=Object.keys(p[2]);let u=a.read(8);Object.assign(this.settings,ua);for(let e=0;e<u;e++)this.settings[ma[e]]=!!a.read(1);if(r){let e=this.playersInv[":host"]=this.playersInv[":host"]||{},t=a.read(8);t&&(e.survivStr=a.readToArrayBits(t));let s=a.read(16);s&&(e.inv=a.readToArrayBits(s))}let m=a.read(32);for(let e=0;e<m;e++){let e=a.read(16);this.posEntity(a.readToNew(e,!0),null,r)}r||(this.survival=a.read(2),this.survival=1===this.survival||2===this.survival&&"hardcore",this.cheats=a.read(1)),this.findSpawnPoint()}getBlockConvert(){const e=512,t=1024;return["air","grass","dirt","stone","bedrock","sand","gravel","leaves","glass","cobblestone","mossyCobble","stoneBricks","mossyStoneBricks","bricks","coalOre","ironOre","goldOre","diamondOre","redstoneOre","lapisOre","emeraldOre","coalBlock","ironBlock","goldBlock","diamondBlock","redstoneBlock","lapisBlock","emeraldBlock","oakPlanks","oakLog","acaciaPlanks","acaciaLog","birchPlanks","birchLog","darkOakPlanks","darkOakLog","junglePlanks","jungleLog","sprucePlanks","spruceLog","whiteWool","orangeWool","magentaWool","lightBlueWool","yellowWool","limeWool","pinkWool","grayWool","lightGrayWool","cyanWool","purpleWool","blueWool","brownWool","greenWool","redWool","blackWool","whiteConcrete","orangeConcrete","magentaConcrete","lightBlueConcrete","yellowConcrete","limeConcrete","pinkConcrete","grayConcrete","lightGrayConcrete","cyanConcrete","purpleConcrete","blueConcrete","brownConcrete","greenConcrete","redConcrete","blackConcrete","bookshelf","netherrack","soulSand","glowstone","netherWartBlock","netherBricks","redNetherBricks","netherQuartzOre","quartzBlock","quartzPillar","chiseledQuartzBlock","chiseledStoneBricks","smoothStone","andesite","polishedAndesite","diorite","polishedDiorite","granite","polishedGranite","light","water","lava","obsidian","cryingObsidian","endStone","endStoneBricks","chiseledNetherBricks","crackedNetherBricks","crackedPolishedBlackstoneBricks","crackedStoneBricks","polishedBlackstoneBricks","prismarineBricks","quartzBricks","oakDoorTop","oakDoorBottom","warpedDoorTop","warpedDoorBottom","ironTrapdoor"].reduce(((a,s,o)=>({...a,[o]:x[s],[256|o]:x[s]|J,[256|o|t]:x[s]|ze,[o|e]:x[s]|Q,[o|e|2048]:x[s]|Q|Re,[o|e|4096]:x[s]|Q|Ie,[o|e|6144]:x[s]|Q|Me,[o|e|t]:x[s]|Q|ze,[o|e|2048|t]:x[s]|Q|Re|ze,[o|e|4096|t]:x[s]|Q|Ie|ze,[o|e|6144|t]:x[s]|Q|Me|ze})),{})}loadCrossSaveCode(e,t){const a=this.getBlockConvert();let s=new V(e),o=s.read(8);this.name="";for(let e=0;e<o;e++)this.name+=String.fromCharCode(s.read(8));this.setSeed(s.read(32),!0),this.time=0*s.read(32)+500;let i=this.playersInv[":host"]={};i.customPos=!0,i.x=s.read(20,!0),i.y=s.read(8),i.z=s.read(20,!0);for(let e=0;e<9;e++){s.skip(16)}if(s.skip(4),s.skip(1),s.skip(1),this.superflat=Boolean(s.read(1)),this.caves=s.read(1),this.trees=s.read(1),this.version="Alpha "+[s.read(8),s.read(8),s.read(8)].join("."),this.usePreBeta=!this.superflat,t)return;let r=s.read(16),n=[],l=Y.bits(r);for(let e=0;e<r;e++)n.push(s.read(16));for(let e=0;e<n.length;e++)a[n[e]]&&(n[e]=a[n[e]]);const h=[(e,t,a,s)=>256*(a+(e>>6&7))+16*(t+(e>>3&7))+s+(e>>0&7),(e,t,a,s)=>256*(a+(e>>6&7))+16*(t+(e>>0&7))+s+(e>>3&7),(e,t,a,s)=>256*(a+(e>>3&7))+16*(t+(e>>6&7))+s+(e>>0&7),(e,t,a,s)=>256*(a+(e>>0&7))+16*(t+(e>>6&7))+s+(e>>3&7),(e,t,a,s)=>256*(a+(e>>0&7))+16*(t+(e>>3&7))+s+(e>>6&7),(e,t,a,s)=>256*(a+(e>>3&7))+16*(t+(e>>0&7))+s+(e>>6&7)];let d=s.read(32),c={};for(let e=0;e<d;e++){let e=8*s.read(16,!0),t=8*s.read(5,!1)-y,a=8*s.read(16,!0),o=s.read(3),i=e>>4,r=a>>4;e=e!==16*i?8:0,a=a!==16*r?8:0;let d=`${i},${r}`,p=c[d];p||(p={blocks:[],tags:[]},c[d]=p);let u=s.read(8),m=s.read(9);for(let i=0;i<u;i++){let i=s.read(9),r=s.read(9),d=s.read(4);for(let c=0;c<r;c++){let r=s.read(d)+1,c=s.read(l);for(let s=0;s<r;s++)p.blocks[h[o](i,e,t,a)]=n[c],i++}}for(let i=0;i<m;i++){let i=s.read(9),r=s.read(l);p.blocks[h[o](i,e,t,a)]=n[r]}}this.loadFrom=c,this.loadKeys=Object.keys(c),this.spawnPoint.y=this.superflat?6:round(this.noiseProfile.noise(8*g.smooth,8*g.smooth)*g.height)+2+g.extra,Object.assign(this.settings,ua)}loadOldSave(e,t){let a=e.split(";");if(!e.includes("Alpha "))return alert("too old");this.name=a.shift();let s=a.shift().split(",");this.setSeed(parseInt(s.shift(),36),!0),this.time="string"==typeof s[0]?parseFloat(s.shift()):(s.shift(),375),this.weather=s.shift()||"",this.nextWeather=parseFloat(s.shift())||this.nextWeather;let o=this.playersInv[":host"]={},i=a.shift().split(",");o.customPos=!0,o.x=parseInt(i[0],36),o.y=parseInt(i[1],36),o.z=parseInt(i[2],36);let r=parseInt(i[5],36);a[0].replace("Alpha ","");this.superflat=r>>1&3,0===this.superflat&&(this.superflat=!1),1===this.superflat&&(this.superflat=!0),2===this.superflat&&(this.superflat="island"),3===this.superflat&&(this.superflat="void"),this.caves=r>>4&1,this.trees=r>>5&1;let n=a.shift();if(this.version=n,this.usePreBeta=!this.superflat,t)return;let l=a.shift().split("|"),h=l[0].split(",").map((e=>parseInt(e,36))),d=l[1]?l[1].split(",").map((e=>parseInt(e,36))):"",c=l[2]?l[2].split(",").map((e=>parseInt(e,36))):"",p={},u={},m={};if(!We(n.replace("Alpha ",""),"0.7.1")){const e=this.getBlockConvert();for(let t=0;t<h.length;t++)e[h[t]]&&(h[t]=e[h[t]])}let k="";for(let e=0;a.length;e++){let e=a.shift().split(",");if(e[0].startsWith("|")&&(e[0]=e[0].substring(1),""===k?k="nether":"nether"===k?k="end":alert("Error: Save string cotains extra dimensions not in this version.")),!e[0])continue;let t=parseInt(e.shift(),36),s=parseInt(e.shift(),36),o=`${t},${parseInt(e.shift(),36)}`;p[o]||(p[o]={blocks:[],tags:[]});let i=p[o];var b="nether"===k?d:"end"===k?c:h;for(let t=0;t<e.length;t++){let a,o;if(e[t].includes("/")){let s=e[t].split("/");a=parseInt(s[0],36);try{o=parseInt(s[1],36)||JSON.parse(s[1].replace(/\\x2f/g,"/").replace(/\\x3b/g,";").replace(/\\x2c/g,",").replace(/\\x7c/g,"|"))}catch(e){console.error(e,s[1])}}else a=parseInt(e[t],36);let r=256*(16*s+(a>>4&15)-y)+16*(a>>8&15)+(15&a),n=a>>12;i.blocks[r]=b[n],i.tags[r]=o}}this.loadFrom=p,this.loadKeys=Object.keys(p),this.netherLoadFrom=u,this.netherLoadKeys=Object.keys(u),this.endLoadFrom=m,this.endLoadKeys=Object.keys(m),this.spawnPoint.y=this.superflat?6:round(this.noiseProfile.noise(8*g.smooth,8*g.smooth)*g.height)+2+g.extra,Object.assign(this.settings,ua)}setResourcePacks(e,t){this.activeResourcePacks.length=0,this.activeResourcePacks.push(...t),this.resourcePacks.length=0,this.resourcePacks.push(...e),this.sendAll({type:"resourcePacks",resourcePacks:this.resourcePacks,activeResourcePacks:this.activeResourcePacks})}loadMod(e){this.mod=e,this.modContainer&&(this.modContainer.contentWindow.postMessage({close:!0}),this.modContainer.remove());const t=window.URL.createObjectURL(new Blob(['\n<!doctype html>\n<html><head><meta charset="utf-8"></head><body><script>\nlet worker\naddEventListener(\'message\',e => {\n\tif(e.data.createWorker){\n\t\tconst workerURL = window.URL.createObjectURL(new Blob(e.data.data, { type: "text/javascript" }))\n\t\tworker = new Worker(workerURL)\n\t\tworker.onmessage = e => {\n\t\t\twindow.parent.postMessage(e.data, "*")\n\t\t}\n\t}else if(e.data.close){\n\t\tworker.terminate()\n\t}else{\n\t\tworker.postMessage(e.data)\n\t}\n})\nwindow.parent.postMessage({ready:true}, "*")\n<\/script></body></html>\n'],{type:"text/html"}));let a=this.modContainer=doc.createElement("iframe");a.src=t,a.className="hidden",a.sandbox="allow-scripts",doc.body.appendChild(a);let s=this;const o=["getBlock","setBlock","getTags","setTags","getTagByName","setTagByName"],i={showTitle:showTitle,sideMessage:sideMessage,customMenu:customMenu,safeEval:safeEval};a.messageListener=addEventListener("message",(t=>{if(t.source===a.contentWindow)if(t.data.ready)a.contentWindow.postMessage({createWorker:!0,data:[document.querySelector("#modPreCode").text.replace("SAFEFUNCTIONS",JSON.stringify(o)).replace("SAFEGLOBALFUNCTIONS",JSON.stringify(Object.keys(i)))+"\n","const host="+(host?"true":"false")+"\n",e]},"*");else{const{data:e}=t;o.includes(e.action)?a.contentWindow.postMessage({id:e.id,data:s[e.action](...e.data)},"*"):i[e.action]&&a.contentWindow.postMessage({id:e.id,data:i[e.action](...e.data)},"*")}}))}onpos(){this.sendAll({type:"settings",data:this.settings,time:this.time,weather:this.weather})}serverAddPlayer(e,t,a,s=!1,o=!1){let i=new at;i.id=t,i.host=s,i.connection=e,i.admin=o,i.loadChunks=[],i.loadDistance=0,i.posUpdated={},i.lastSendEntities=0,i.updateingLoadedI=0,this.players.push(i);let r=this;function n(e){for(let t of r.players)t!==i&&t.connection.send(e)}e.onmessage=async function(l){if("connect"===l.type){a=i.username=a||l.username,await Promise.all(r.loadPromises);let t=r.playersInv[s?":host":l.USER];t&&("string"==typeof t.inv&&(t.inv=atoarr(t.inv)),"string"==typeof t.survivStr&&(t.survivStr=atoarr(t.survivStr))),e.send({type:"loadSave",name:r.name,mod:r.mod,id:r.id,inv:t,resourcePacks:r.resourcePacks,activeResourcePacks:r.activeResourcePacks,spawnPointX:r.spawnPoint.x,spawnPointZ:r.spawnPoint.z,spawnPointY:r.spawnPoint.y,version:r.version,weather:r.weather,time:r.time,survival:r.survival?"hardcore"===r.survival?2:1:0,cheats:r.cheats}),e.send({type:"serverCmds",data:r.serverCommands}),n(l)}else if("pos"===l.type){let a=l.data;i.setPos(a.x,a.y,a.z,a.velx,a.vely,a.velz),i.setRot(a.rx,a.ry,a.bodyRot),i.sneaking=a.sneaking,i.dimension=a.dimension,i.survival=a.survival,i.harmEffect=a.harmEffect,i.crackPos=a.crackPos,i.crack=a.crack,i.burning=a.burning,i.holding=a.holding||0,i.walking=a.walking,i.sprinting=a.sprinting,i.punchEffect=a.punchEffect,i.eating=a.eating,i.sleeping=a.sleeping,i.sitting=a.sitting,i.swimming=a.swimming,i.usingItem=a.usingItem,i.hidden=a.hidden,i.spectating=a.spectating,i.afk=l.afk,i.scale=a.scale,l.inv&&(r.playersInv[s?":host":l.USER]=l.inv,e.onGetInv&&(e.onGetInv(),delete e.onGetInv)),i.pos=l,delete i.pos.inv;for(let e of r.players)e!==i&&e.pos&&(e.posUpdated[t]=i.pos);for(let t in i.posUpdated)i.posUpdated[t]&&(e.send(i.posUpdated[t]),i.posUpdated[t]=null);let o=performance.now();if(o-i.lastSendEntities>125){i.lastSendEntities=o;let e=r.getEntities(i),t=[],a=0;for(let s=0;s<e.length;s++){let o=e[s],r=o.length;a+r>1e4&&(i.connection.send({type:"entityPosAll",data:t}),a=0,t.length=0),a+=r,t.push(o)}a&&i.connection.send({type:"entityPosAll",data:t})}e.send({type:"canSendPos"})}else if("loadChunks"===l.type)i.updateingLoadedI++,i.loadDistance=l.loadDistance,i.loadChunks=l.data,i.dimension=l.dimension,r.loadedUpdate=!0;else if("mySkin"===l.type||"particles"===l.type||"achievment"===l.type||"hit"===l.type||"harmEffect"===l.type||"playSound"===l.type||"title"===l.type||"joined"===l.type)n(l);else if("message"===l.type)l.fromServer=!1,l.username=a,n(l);else if("setBlock"===l.type){let e=l.data;r.setBlock(e.x,e.y,e.z,e.block,!1,!1,!0,e.keepTags,e.dimension),n(l)}else if("setTags"===l.type)r.setTags(l.x,l.y,l.z,l.data,!0,l.dimension,l.lazy),n(l);else if("serverChangeBlock"===l.type)r.serverChangeBlock(l.x,l.y,l.z,l.dimension,l.action,l.block,l.p,l.face);else if("entityPos"===l.type)r.posEntity(new V(l.data,!0),!0),n(l);else if("entityDelete"===l.type)r.deleteEntity(l.id,!0),n(l);else if("entEvent"===l.type){var h=r&&r.entities[r.getEntity(l.id)];if(!h)return;"itemAmount"===l.event?h.amount=l.data:"damageMob"===l.event?h.onhit(l.data.damage,!0,l.data.vx,l.data.vz,l.data.from):"creeperForceExplode"===l.event?h.forceExplode(!0):"sheepFur"===l.event?h.fur=l.data:"sheepEat"===l.event?h.eating=1:"sheepColor"===l.event?(h.color=l.data.color,h.wool=l.data.wool):"mobAttack"===l.event?h.attackCooldown=h.maxAttackCooldown:"vel"===l.event?(h.velx=l.data.x,h.vely=l.data.y,h.velz=l.data.z):"tame"===l.event?(h.tame=!0,h.owner=l.data):"wolfCollarColor"===l.event?h.color=l.data:"sit"===l.event?h.sitting=l.data:"tp"===l.event?(h.x=l.data.x,h.y=l.data.y,h.z=l.data.z,h.lastY=0,h.path&&(h.path=null)):"wolfTarget"===l.event?h.target=l.data:"healthAdd"===l.event?h.health+=l.data:"name"===l.event&&(h.name=l.data),n(l)}else"kill"===l.type?"@a"===l.data?n({type:"kill",data:l.message}):this.sendPlayerName({type:"kill",data:l.message},l.data):"die"===l.type?(i.die=!0,n(l)):"remoteControl"===l.type?(s||o)&&this.sendPlayer(l,l.TO):"diamondsToYou"===l.type?this.sendPlayer(l,l.TO):"serverCmd"===l.type&&je(l.data,l.args,i,l.scope||{},r,l.id)},e.onclose=function(){let a=r.players.indexOf(i);-1!==a&&r.players.splice(a,1);for(let e of r.players)delete e.posUpdated[t];r.sendAll({type:"dc",data:i.id}),e.onGetInv&&e.onGetInv()},i.updateLoaded=async function(){if(this.updateingLoaded)return;let t=this.updateingLoadedI;this.updateingLoaded=!0;for(let a=0;a<i.loadChunks.length&&this.updateingLoadedI===t;a+=2){let t=i.loadChunks[a],s=i.loadChunks[a+1],o=r.getChunk(16*t,16*s,i.dimension);o&&o.allGenerated&&(e.send({type:"chunkData",x:t,z:s,data:await o.getData(),tops:o.tops,solidTops:o.solidTops,biomes:o.biomes,caveY:o.caveY,caveBiomes:o.caveBiomes}),i.loadChunks.splice(a,2),a-=2)}this.updateingLoaded=!1}}sendAll(e){for(let t of this.players)t.connection.send(e)}sendPlayerName(e,t){for(var a of this.players)a.username===t&&a.connection.send(e)}sendPlayer(e,t){for(var a of this.players)a.id===t&&a.connection.send(e)}sendAllInChunk(e,t,a,s){for(let o of this.players)o.dimension===s&&Nt(t,a,round(o.x/16),round(o.z/16))<=o.loadDistance&&o.connection.send(e)}requestAllInvs(){let e=[];for(let t of this.players)e.push(new Promise((e=>t.connection.onGetInv=e))),t.connection.send({type:"shouldSendInv"});return Promise.all(e)}close(){sendAllWorkers({deleteSeed:this.worldSeed});for(let e of this.players)e.connection.close();clearInterval(this.pos),this.modContainer&&(this.modContainer.contentWindow.postMessage({close:!0}),this.modContainer.remove())}}function wa(e){var t;(t=version)!==Ge&&(Ge=t,Ae=255,Z=0,Se=J=Fe("10000000000000"),ve=Q=Fe("100000000000000"),xe=$=Fe("110000000000000"),Pe=K=Fe("1001110000000000000"),Te=ae=Fe("10010000000000000"),Ne=se=Fe("100010000000000000"),oe=Fe("100110000000000000"),ie=Fe("101000000000000000"),ge=Fe("101010000000000000"),ke=Fe("101110000000000000"),Be=te=Fe("110000000000000000"),me=Fe("110010000000000000"),Ce=ee=Fe("1000010000000000000"),ne=Fe("1000100000000000000"),le=Fe("1000110000000000000"),re=Fe("10001000000000000000"),he=Fe("1010000000000000000"),de=Fe("10000000000000000000"),ce=Fe("11000000000000000000"),pe=Fe("11000100000000000000"),ue=Fe("10000100000000000000"),ye=Fe("10000110000000000000"),be=Fe("1000000000000000"),we=Fe("1010000000000000"),fe=Fe("1100000000000000"),ze=Fe("10000000000"),Le=0,Re=Fe("100000000000"),Ie=Fe("1000000000000"),Me=Fe("1100000000000"),De=Fe("1100000000000"),Ae=Fe("11111111111"),Oe=Fe("11111110000000000000")),N(),e("Initialized server block data."),X(),e("Initialized server shapes."),sendAllWorkers({blockIds:P,biomeIds:ha,blockStates:{CROSS:$,LAYER1:Be,LAYER2:Se,LAYER3:ve,LAYER4:xe,LAYER5:Pe,LAYER6:Te,LAYER7:Ne,LAYER8:Ce,isCube:Ae},semiTrans:T})}win.ServerWorld=ba,win.initServerEverything=wa}