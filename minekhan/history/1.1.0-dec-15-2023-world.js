"use strict";const version="Beta 1.1.0";let win,workerCount,workerURL,isNode=!1;try{win=window}catch{win=module.exports,isNode=!0}isNode?(workerCount=1,workerURL=__dirname+"/worker.js",win.Worker=require("worker_threads").Worker):(workerCount=navigator.hardwareConcurrency,workerURL=URL.createObjectURL(new Blob([document.querySelector("#workerCode").text],{type:"text/javascript"}))),win.serverVersion=version,workerCount=(workerCount||4)-1||1;{let e=win.workers=[],s=win.allWorkers=[],a=[],o=[];for(let i=0,n=workerCount;i<n;i++){let l=new win.Worker(workerURL);l.id=i;let h=function(){e.push(l),o[l.id].length?o[l.id].shift()():a.length&&a.shift()()},d=function(e){let t=isNode?e:e.data;if("started"===t)return h();let[s,a,o]=l.theJob;if(t.progress)return o(t.progress);a(t),h()};isNode?l.on("message",d):l.onmessage=d,s.push(l),o.push([])}function r(t,a){let r=[],i=new Promise((i=>{r[1]=i;let n=s[a];e.includes(n)?(e.splice(e.indexOf(n),1),n.theJob=r,n.postMessage(t)):o[a].push((()=>{n=s[a],e.splice(e.indexOf(n),1),n.theJob=r,n.postMessage(t)}))}));return r[0]=i,i}win.doWork=function(t,s){let o=[],r=new Promise((s=>{o[1]=s;let r=e.shift();r?(r.theJob=o,r.postMessage(t)):a.push((()=>{r=e.shift(),r.theJob=o,r.postMessage(t)}))}));return o[0]=r,o[2]=s,r},win.sendAllWorkers=async function(e){let t=[];for(let a=0;a<s.length;a++)t.push(r(e,a));await Promise.all(t)}}const{cos:cos,sin:sin,round:round,floor:floor,ceil:ceil,min:min,max:max,abs:abs,sqrt:sqrt,atan:atan,atan2:atan2}=Math,rand=function(e,t){return 2===arguments.length?Math.random()*(t-e)+e:1===arguments.length?Math.random()*e:Math.random()},avg=function(){for(var e=0,t=0,s=0;s<arguments.length;s++)(arguments[s]||0===arguments[s])&&(e+=arguments[s],t++);return e/=t},mod=function(e,t){return e-floor(e/t)*t};function xyArrayHas(e,t,s,a,o,r=e.length,i=t&&t.length){for(var n=0;n<r;n+=4)if(e[n]===s&&e[n+1]===a&&e[n+2]===o)return!0;if(t)for(n=0;n<i;n+=4)if(t[n]===s&&t[n+1]===a&&t[n+2]===o)return!0}function insertSorted(e,t){let s=0,a=e.length;for(;s<a;){let o=s+a>>>1;e[o]<t?s=o+1:a=o}return e.splice(s,0,t),e}function emptyIfNullish(e){return e||0===e?e:""}function atoarr(e){let t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);return s}function chunkString(e,t){const s=Math.ceil(e.length/t),a=Array(s);let o=0;for(let r=0;r<s;r++)a[r]=e.substr(o,t),o+=t;return a}function chunkArray(e,t){let s=[];for(let a=0;a<e.length;a+=t){const o=e.slice(a,a+t);s.push(o)}return s}function sleep(e){return new Promise((t=>setTimeout(t,e)))}Math.PI2=Math.PI/2,Math.PI4=Math.PI/4,Math.PId=2*Math.PI,String.prototype.hashCode=function(){var e,t=0;if(0===this.length)return t;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t},Uint8Array.prototype.toString=function(){let e="";for(let t=0;t<this.length;t++)e+=String.fromCharCode(this[t]);return btoa(e)},Uint8Array.prototype.toJSON=function(){return"BitArray("+8*this.length+")"};const generateID=()=>""+Date.now().toString(36)+(1e6*Math.random()|0).toString(36);function map(e,t,s,a,o){return a+(e-t)/(s-t)*(o-a)}function mapClamped(e,t,s){return Math.min(Math.max((e-t)/(s-t),0),1)}function lerp(e,t,s){return t+e*(s-t)}function dist2(e,t,s,a){let o=e-s,r=t-a;return sqrt(o*o+r*r)}function dist3(e,t,s,a,o,r){let i=e-a,n=t-o,l=s-r;return sqrt(i*i+n*n+l*l)}function dist3Sq(e,t,s,a,o,r){let i=e-a,n=t-o,l=s-r;return i*i+n*n+l*l}function mag(e,t,s){return sqrt(e*e+t*t+s*s)}function line3DConncected(e,t,s,a,o,r,i){for(var n=Math.round(e),l=Math.round(t),h=Math.round(s),d=Math.round(a),c=Math.round(o),p=Math.round(r),u=Math.abs(n-d),m=Math.abs(l-c),g=Math.abs(h-p),k=d<n?1:-1,y=c<l?1:-1,b=p<h?1:-1,w=Math.sqrt(u*u+m*m+g*g),f=.5*w/u,B=.5*w/m,S=.5*w/g,v=w/u,x=w/m,P=w/g;d!==n||c!==l||p!==h;)f<B?f<S?(d+=k,f+=v):f>S?(p+=b,S+=P):(d+=k,f+=v,p+=b,S+=P):f>B?B<S?(c+=y,B+=x):B>S?(p+=b,S+=P):(c+=y,B+=x,p+=b,S+=P):B<S?(c+=y,B+=x,d+=k,f+=v):B>S?(p+=b,S+=P):(d+=k,f+=v,c+=y,B+=x,p+=b,S+=P),i.push(d,c,p)}function line3D(e,t,s,a,o,r,i){a=round(a),o=round(o),r=round(r),e=round(e),t=round(t),s=round(s),i.push(a,o,r);let n,l,h,d=abs(e-a),c=abs(t-o),p=abs(s-r);if(n=e>a?1:-1,l=t>o?1:-1,h=s>r?1:-1,d>=c&&d>=p){let t=2*c-d,s=2*p-d;for(;a!=e;)a+=n,t>=0&&(o+=l,t-=2*d),s>=0&&(r+=h,s-=2*d),t+=2*c,s+=2*p,i.push(a,o,r)}else if(c>=d&&c>=p){let e=2*d-c,s=2*p-c;for(;o!=t;)o+=l,e>=0&&(a+=n,e-=2*c),s>=0&&(r+=h,s-=2*c),e+=2*d,s+=2*p,i.push(a,o,r)}else{let e=2*c-p,t=2*d-p;for(;r!=s;)r+=h,e>=0&&(o+=l,e-=2*p),t>=0&&(a+=n,t-=2*p),e+=2*c,t+=2*d,i.push(a,o,r)}}let emptyFunc=function(){};{const u=new MessageChannel;let m={},g=0;u.port1.onmessage=e=>{m[e.data](),delete m[e.data]},win.yieldThread=function(){return new Promise((e=>{let t=g++;m[t]=e,u.port2.postMessage(t)}))}}function mapFrom(e,t,s){return(e-t)/(s-t)}function preferMiddle(e,t,s,a){let o=t;return e>(t=mapFrom(t,s,a))?(e=mapFrom(e,t,1),e=lerp(e**=2,o,a)):(e=mapFrom(e,t,0),e=lerp(e**=2,o,s)),e}function preferMiddleSimple(e){return e=2*(e-.5),e=(e**=3)/2+.5}{let k,y=1e3/20;function w(e){return 3===e.length?(e[3]=e[2],e[4]=e[2],e[5]=e[2]):2===e.length?(e[2]=e[1],e[3]=e[2],e[4]=e[2],e[5]=e[2],e[1]=e[0]):4===e.length&&(e[4]=e[5]=e[3],e[3]=e[2]),e}let f={height:80,smooth:.01,extra:30,caveSize:0,biomeSmooth:.007};win.generator=f;const{doWork:B,sendAllWorkers:S,yieldThread:v}=win,x=255,P=-64,T=192,N=P-40,C=127,z=62,L=[{name:"air",id:0,textures:new Array(6).fill("none"),transparent:!0,shadow:!1,hidden:!0},{name:"grass",Name:"Grass Block",textures:["dirt","grassTop","grassSide"],hardness:.6,blastResistance:.6,drop:"dirt",type:"ground",grassSound:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l),d="snow"===L[h].name||"snowBlock"===L[h].name;a===I.grass&&d?o.setBlock(e,t,s,I.grass|ue,!1,!1,!1,!1,l):a!==(I.grass|ue)||d||o.setBlock(e,t,s,I.grass,!1,!1,!1,!1,l)},compostChance:.3,category:"nature"},{name:"dirt",Name:"Dirt",hardness:.5,blastResistance:.5,type:"ground",category:"nature",digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"stone",Name:"Stone",drop:"cobblestone",type:"rock1",category:"nature",hardness:5,blastResistance:6,stoneSound:!0},{name:"bedrock",Name:"Bedrock",category:"nature",hardness:1e3,blastResistance:36e5,stoneSound:!0,pistonPush:!1,pistonPull:!1},{name:"sand",Name:"Sand",hardness:.5,blastResistance:.5,fallingDust:[212/255,195/255,148/255],category:"nature",onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},digSound:["block.sand.dig1","block.sand.dig2","block.sand.dig3","block.sand.dig4"],stepSound:["block.sand.step1","block.sand.step2","block.sand.step3","block.sand.step4","block.sand.step5"]},{name:"gravel",Name:"Gravel",hardness:.6,blastResistance:.6,type:"ground",category:"nature",fallingDust:[132/255,126/255,124/255],onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},drop:function(){return 1===round(ds(10))?"flint":"gravel"},digSound:["block.gravel.dig1","block.gravel.dig2","block.gravel.dig3","block.gravel.dig4"],stepSound:["block.gravel.step1","block.gravel.step2","block.gravel.step3","block.gravel.step4"]},{name:"leaves",Name:"Leaves",transparent:!0,shadow:!1,cullFace:"never",hardness:.2,blastResistance:.2,type:"plant2",category:"nature",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"oakSapling":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"glass",Name:"Glass",transparent:!0,shadow:!1,hardness:.3,blastResistance:.3,type:"glass",category:"build",glassSound:!0},{name:"cobblestone",Name:"Cobblestone",hardness:2,blastResistance:6,type:"rock1",category:"build",stoneSound:!0},{name:"mossyCobble",Name:"Mossy Cobblestone",hardness:2,blastResistance:6,type:"rock1",category:"build",stoneSound:!0},{name:"stoneBricks",Name:"Stone Bricks",hardness:1.5,type:"rock1",category:"build",stoneSound:!0},{name:"mossyStoneBricks",Name:"Mossy Stone Bricks",hardness:1.5,type:"rock1",category:"build",stoneSound:!0},{name:"bricks",Name:"Bricks",hardness:2,type:"rock1",category:"build",stoneSound:!0},{name:"coalOre",Name:"Coal Ore",hardness:3,type:"rock1",category:"nature",drop:"coal",stoneSound:!0,experience:.1},{name:"ironOre",Name:"Iron Ore",hardness:3,type:"rock2",category:"nature",drop:"rawIron",stoneSound:!0,dropAmount:[1,3]},{name:"goldOre",Name:"Gold Ore",hardness:3,type:"rock3",category:"nature",drop:"rawGold",stoneSound:!0,dropAmount:[1,3]},{name:"diamondOre",Name:"Diamond Ore",hardness:3,type:"rock3",category:"nature",drop:"diamond",stoneSound:!0,experience:1,dropAmount:[1,3]},{name:"redstoneOre",Name:"Redstone Ore",hardness:3,type:"rock3",category:"nature",stoneSound:!0,drop:"redstone",dropAmount:[6,9],experience:.3},{name:"lapisOre",Name:"Lapis Lazuli Ore",hardness:3,type:"rock2",category:"nature",drop:"lapisLazuli",stoneSound:!0,experience:.5,dropAmount:[1,3]},{name:"emeraldOre",Name:"Emerald Ore",hardness:3,type:"rock3",category:"nature",drop:"emerald",stoneSound:!0,experience:1.5,dropAmount:[1,3]},{name:"coalBlock",Name:"Block of Coal",hardness:5,type:"rock1",category:"build",stoneSound:!0,burnChance:.4,burnTime:50},{name:"ironBlock",Name:"Block of Iron",hardness:5,type:"metal2",category:"build",stoneSound:!0},{name:"goldBlock",Name:"Block of Gold",hardness:3,type:"metal3",category:"build",stoneSound:!0},{name:"diamondBlock",Name:"Block of Diamond",hardness:3,type:"metal3",category:"build",stoneSound:!0},{name:"redstoneBlock",Name:"Block of Redstone",hardness:5,type:"metal1",category:"redstone",stoneSound:!0,onset:function(e,t,s,a,o){o.setPower(e,t,s,16,!1,a),o.spreadPower(e,t,s,16,a)},ondelete:function(e,t,s,a,o,r,i){i.setPower(e,t,s,0,!1,r),i.unspreadPower(e,t,s,16,!1,r)},damage:1,dieMessage:()=>username+" died from radiation from block of redstone."},{name:"lapisBlock",Name:"Block of Lapis Lazuli",hardness:3,type:"metal2",category:"build",stoneSound:!0},{name:"emeraldBlock",Name:"Block of Emerald",hardness:5,type:"metal3",category:"build",stoneSound:!0},{name:"oakPlanks",Name:"Oak Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"oakLog",Name:"Oak Log",textures:["logTop","logSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"acaciaPlanks",Name:"Acacia Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"acaciaLog",Name:"Acacia Log",textures:["acaciaLogTop","acaciaLogSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"birchPlanks",Name:"Birch Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"birchLog",Name:"Birch Log",textures:["birchLogTop","birchLogSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"darkOakPlanks",Name:"Dark Oak Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"darkOakLog",Name:"Dark Oak Log",textures:["darkOakLogTop","darkOakLogSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"junglePlanks",Name:"Jungle Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"jungleLog",Name:"Jungle Log",textures:["jungleLogTop","jungleLogSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"sprucePlanks",Name:"Spruce Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"spruceLog",Name:"Spruce Log",textures:["spruceLogTop","spruceLogSide"],hardness:2,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"whiteWool",Name:"White Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"orangeWool",Name:"Orange Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"magentaWool",Name:"Magenta Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"lightBlueWool",Name:"Light Blue Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"yellowWool",Name:"Yellow Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"limeWool",Name:"Lime Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"pinkWool",Name:"Pink Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"grayWool",Name:"Gray Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"lightGrayWool",Name:"Light Gray Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"cyanWool",Name:"Cyan Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"purpleWool",Name:"Purple Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"blueWool",Name:"Blue Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"brownWool",Name:"Brown Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"greenWool",Name:"Green Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"redWool",Name:"Red Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"blackWool",Name:"Black Wool",hardness:.8,clothSound:!0,shearBreakTime:.2,type:"wool",category:"build",burnChance:.2,burnTime:30},{name:"whiteConcrete",Name:"White Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"orangeConcrete",Name:"Orange Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"magentaConcrete",Name:"Magenta Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"lightBlueConcrete",Name:"Light Blue Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"yellowConcrete",Name:"Yellow Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"limeConcrete",Name:"Lime Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"pinkConcrete",Name:"Pink Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"grayConcrete",Name:"Gray Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"lightGrayConcrete",Name:"Light Gray Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"cyanConcrete",Name:"Cyan Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"purpleConcrete",Name:"Purple Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"blueConcrete",Name:"Blue Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"brownConcrete",Name:"Brown Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"greenConcrete",Name:"Green Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"redConcrete",Name:"Red Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"blackConcrete",Name:"Black Concrete",hardness:1.8,type:"rock1",category:"build",stoneSound:!0},{name:"bookshelf",Name:"Bookshelf",textures:["oakPlanks","bookshelf"],stoneSound:!0,type:"wood",category:"decoration",burnChance:.4,burnTime:30},{name:"netherrack",Name:"Netherrack",hardness:.4,type:"rock1",category:"nature",burnTime:1/0,digSound:["block.netherrack.dig1","block.netherrack.dig2","block.netherrack.dig3","block.netherrack.dig4","block.netherrack.dig5","block.netherrack.dig6"],stepSound:["block.netherrack.step1","block.netherrack.step2","block.netherrack.step3","block.netherrack.step4","block.netherrack.step5","block.netherrack.step6"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"soulSand",Name:"Soul Sand",category:"nature",speedFactor:.5,canHaveSoulFire:!0,digSound:["block.soul_sand.dig1","block.soul_sand.dig2","block.soul_sand.dig3","block.soul_sand.dig4","block.soul_sand.dig5","block.soul_sand.dig6","block.soul_sand.step7","block.soul_sand.step8","block.soul_sand.step9"],stepSound:["block.soul_sand.step1","block.soul_sand.step2","block.soul_sand.step3","block.soul_sand.step4","block.soul_sand.step5","block.soul_sand.step6"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"glowstone",Name:"Glowstone",hardness:.3,type:"rock1",category:"decoration",lightLevel:15,glassSound:!0,shadow:!1,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"netherBricks",Name:"Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"redNetherBricks",Name:"Red Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"netherQuartzOre",Name:"Nether Quartz Ore",category:"nature",digSound:["block.nether_ore.dig1","block.nether_ore.dig2","block.nether_ore.dig3","block.nether_ore.dig4"],stepSound:["block.nether_ore.step1","block.nether_ore.step2","block.nether_ore.step3","block.nether_ore.step4","block.nether_ore.step5"],drop:"quartz",dropAmount:[1,2],hardness:3,blastResistance:3,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"quartzBlock",Name:"Block of Quartz",category:"build",textures:["quartzBlockBottom","quartzBlockTop","quartzBlockSide"],stoneSound:!0,hardness:1.5,blastResistance:6},{name:"quartzPillar",Name:"Pillar",category:"build",textures:["quartzPillarTop","quartzPillar"],stoneSound:!0,hardness:1.5,blastResistance:6},{name:"chiseledQuartzBlock",Name:"Chiseled Quartz Block",category:"build",textures:["chiseledQuartzBlockTop","chiseledQuartzBlock"],stoneSound:!0,hardness:1.5,blastResistance:6},{name:"chiseledStoneBricks",Name:"Chiseled Stone Bricks",category:"build",hardness:1.5,blastResistance:6,stoneSound:!0},{name:"smoothStone",Name:"Smooth Stone",category:"build",hardness:1.5,blastResistance:6,stoneSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"andesite",Name:"Andesite",stoneSound:!0,category:"nature",hardness:1.5,blastResistance:6,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedAndesite",Name:"Polished Andesite",category:"build",hardness:1.5,blastResistance:6,stoneSound:!0},{name:"diorite",Name:"Diorite",stoneSound:!0,category:"nature",hardness:1.5,blastResistance:6,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedDiorite",Name:"Polished Diorite",category:"build",hardness:1.5,blastResistance:6,stoneSound:!0},{name:"granite",Name:"Granite",stoneSound:!0,category:"nature",hardness:1.5,blastResistance:6,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedGranite",Name:"Polished Granite",category:"build",hardness:1.5,blastResistance:6,stoneSound:!0},{name:"tnt",Name:"TNT",textures:["tntBottom","tntTop","tntSides"],superTntTextures:["superTntBottom","superTntTop","superTnt"],ultraTntTextures:["ultraTntBottom","ultraTntTop","ultraTnt"],explode:function(e,t,s,a,o,r){r.setBlock(e,t,s,0,!1,!1,!1,!1,o);var i=new wt[ft.PrimedTNT](e,t,s);if(r.addEntity(i,!1,o),r.playSound(e,t,s,"entity.tnt.fuse"),"explosion"===a)i.timeLimit=rand(10,30)},superTntExplode:function(e,t,s,a,o){o.setBlock(e,t,s,0,!1,!1,!1,!1,a);var r=new wt[ft.PrimedSuperTNT](e,t,s);o.addEntity(r,!1,a),o.playSound(e,t,s,"entity.tnt.fuse")},ultraTntExplode:function(e,t,s,a,o){o.setBlock(e,t,s,0,!1,!1,!1,!1,a);var r=new wt[ft.PrimedUltraTNT](e,t,s);o.addEntity(r,!1,a),o.playSound(e,t,s,"entity.tnt.fuse")},onpowerupdate:function(e,t,s,a,o,r,i,n,l){l.getRedstonePower(e,t,s,n)>0&&this.explode(e,t,s,null,n,l)},onset:function(e,t,s,a,o){o.getRedstonePower(e,t,s,a)>0&&this.explode(e,t,s,null,a,o)},burnChance:.6,onburn:function(e,t,s,a,o){this.explode(e,t,s,null,a,o)},category:"redstone",grassSound:!0},{name:"portal",solid:!1,shadow:!1,portal:!0,transparent:!0,cullFace:"same",lightLevel:11,flatIcon:!0,drop:"air",ontouch:function(){thisSceneCurrent&&(touchingPortal=!0,portalEffect+=2.5,portalEffect>=100&&portalFadeOutEffect<=0&&(portalFadeOutEffect=100,""===p.dimension?(p.x/=8,p.z/=8):(p.x*=8,p.z*=8),goToDimension("nether"===p.dimension?"":"nether"),playSound("block.portal.travel"),send({type:"playSound",data:"block.portal.travel",x:p.x,y:p.y,z:p.z}),achievment("Into the Nether")))},glassSound:!0,ambientSound:"block.portal.portal",pistonPush:!1,pistonPull:!1,hidden:!0,searchForPortal:function(e,t,s,a){for(let o=0;o<128;o++)for(let r=0;r<128;r++)for(let i=0;i<128;i++){let n=e+(o%2?-(o+1)/2:o/2),l=t+(r%2?-(r+1)/2:r/2),h=s+(i%2?-(i+1)/2:i/2);if("portal"===L[world.getBlock(n,l,h,a)].name)return[n,l,h]}},doneLoading:function(){let e=this.searchForPortal(round(p.x),round(p.y),round(p.z),p.dimension);if(e)p.x=e[0],p.y=e[1]+p.bottomH,p.z=e[2],p.lastY=0;else{let e=0,t=round(p.x),s=(round(p.y),round(p.z)),a=32;e:for(let o=32;o<128;o++){for(let a=t-2;a<t+2;a++)for(let t=s-2;t<s+2;t++)if(L[world.getBlock(a,o,t,p.dimension)].solid){e=0;continue e}if(e++,a=o,6===e)break e}if(6===e){let e=t,o=s,r=a;rand()>.5?(world.setBlock(e-2,r-5,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,r-5,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-5,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,r-5,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,r-4,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,r-4,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-4,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,r-4,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,r-3,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,r-3,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-3,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,r-3,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,r-2,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,r-2,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-2,o,I.portal|Se|He,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,r-2,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-2,r-1,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e-1,r-1,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-1,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e+1,r-1,o,I.obsidian,!1,!1,!1,!1,p.dimension)):(world.setBlock(e,r-5,o-2,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-5,o-1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-5,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-5,o+1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-4,o-2,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-4,o-1,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-4,o,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-4,o+1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-3,o-2,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-3,o-1,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-3,o,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-3,o+1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-2,o-2,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-2,o-1,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-2,o,I.portal|Se|Ye,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-2,o+1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-1,o-2,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-1,o-1,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-1,o,I.obsidian,!1,!1,!1,!1,p.dimension),world.setBlock(e,r-1,o+1,I.obsidian,!1,!1,!1,!1,p.dimension)),p.y=a-5+p.bottomH,p.x,p.z=o,p.lastY=0}else console.log("no portal")}}},{name:"obsidian",Name:"Obsidian",stoneSound:!0,type:"rock4",category:"nature",hardness:50,blastResistance:1200,pistonPush:!1,pistonPull:!1,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"redstone",Name:"Redstone Dust",item:!0,useAs:"redstoneDust",category:"redstone"},{name:"redstoneDust",textures:"redstoneDustDot",shadow:!1,transparent:!0,solid:!1,hidden:!0,smoothLight:!1,damage:(e,t,s,a)=>world.getPower(e,t,s,a)/15,dieMessage:()=>username+" died from radiation from redstone dust.",drop:"redstone",tagBits:{north:[0,1],south:[1,1],east:[2,1],west:[3,1],northUp:[4,1],southUp:[5,1],eastUp:[6,1],westUp:[7,1],northDown:[8,1],southDown:[9,1],eastDown:[10,1],westDown:[11,1],up:[12,1],down:[13,1]},onupdate:function(e,t,s,a,o,r,i,n,l){let h,d,c,p,u,m,g=o.getTags(e,t,s,l),k=Gt(g,"northUp",this.id),y=Gt(g,"southUp",this.id),b=Gt(g,"eastUp",this.id),w=Gt(g,"westUp",this.id),f=Gt(g,"northDown",this.id),B=Gt(g,"southDown",this.id),S=Gt(g,"eastDown",this.id),v=Gt(g,"westDown",this.id),x=k,P=y,T=b,N=w,C=f,z=B,R=S,I=v,M=o.getBlock(e,t+1,s);M&&!L[M].transparent?w=b=y=k=u=!1:(w=this.connectable(e+1,t+1,s,"westUp",l,a,o),b=this.connectable(e-1,t+1,s,"eastUp",l,a,o),y=this.connectable(e,t+1,s-1,"southUp",l,a,o),k=this.connectable(e,t+1,s+1,"northUp",l,a,o),u=this.connectable(e,t+1,s,"up",l,a,o)),v=this.connectable(e+1,t-1,s,"westDown",l,a,o),S=this.connectable(e-1,t-1,s,"eastDown",l,a,o),B=this.connectable(e,t-1,s-1,"southDown",l,a,o),f=this.connectable(e,t-1,s+1,"northDown",l,a,o),m=this.connectable(e,t-1,s,"down",l,a,o),p=w||v||this.connectable(e+1,t,s,"west",l,a,o),c=b||S||this.connectable(e-1,t,s,"east",l,a,o),d=y||B||this.connectable(e,t,s-1,"south",l,a,o),h=k||f||this.connectable(e,t,s+1,"north",l,a,o),h+d+c+p===1&&(h&&(d=!0),d&&(h=!0),c&&(p=!0),p&&(c=!0)),(u||m)&&(h=d=c=p=!0),o.setTagByName(e,t,s,"north",h,!0,l,!0),o.setTagByName(e,t,s,"south",d,!0,l,!0),o.setTagByName(e,t,s,"east",c,!0,l,!0),o.setTagByName(e,t,s,"west",p,!0,l,!0),o.setTagByName(e,t,s,"northUp",k,!0,l,!0),o.setTagByName(e,t,s,"southUp",y,!0,l,!0),o.setTagByName(e,t,s,"eastUp",b,!0,l,!0),o.setTagByName(e,t,s,"westUp",w,!0,l,!0),o.setTagByName(e,t,s,"northDown",f,!0,l,!0),o.setTagByName(e,t,s,"southDown",B,!0,l,!0),o.setTagByName(e,t,s,"eastDown",S,!0,l,!0),o.setTagByName(e,t,s,"westDown",v,!0,l,!0),o.setTagByName(e,t,s,"up",u,!0,l,!0),o.setTagByName(e,t,s,"down",m,!1,l,!1);let D=h+d+c+p,A=this.id;2===D?h&&p?A=this.id|pe|Ye:p&&d?A=this.id|pe|je:d&&c?A=this.id|pe|Ve:c&&h?A=this.id|pe|He:((h||d)&&(A=this.id|ce|He),(c||p)&&(A=this.id|ce|Ye)):3===D?c&&p?A=h?this.id|ge|He:this.id|ge|je:h&&d&&(A=c?this.id|ge|Ve:this.id|ge|Ye):4===D&&(A=this.id|Be),(a&_e)===_e&&(A|=_e),o.getBlock(e,t,s,l)!==A&&o.setBlock(e,t,s,A,!1,!1,!1,!0,l),x!=k&&(o.updateBlock(e,t+1,s+1,!1,!1,null,null,null,l),o.unspreadPower(e,t+1,s+1,o.getPower(e,t+1,s+1,l),!0,l)),P!=y&&(o.updateBlock(e,t+1,s-1,!1,!1,null,null,null,l),o.unspreadPower(e,t+1,s-1,o.getPower(e,t+1,s-1,l),!0,l)),N!=w&&(o.updateBlock(e+1,t+1,s,!1,!1,null,null,null,l),o.unspreadPower(e+1,t+1,s,o.getPower(e+1,t+1,s,l),!0,l)),T!=b&&(o.updateBlock(e-1,t+1,s,!1,!1,null,null,null,l),o.unspreadPower(e-1,t+1,s,o.getPower(e-1,t+1,s,l),!0,l)),C!=f&&(o.updateBlock(e,t-1,s+1,!1,!1,null,null,null,l),o.unspreadPower(e,t-1,s+1,o.getPower(e,t-1,s+1,l),!0,l)),z!=B&&(o.updateBlock(e,t-1,s-1,!1,!1,null,null,null,l),o.unspreadPower(e,t-1,s-1,o.getPower(e,t-1,s-1,l),!0,l)),I!=v&&(o.updateBlock(e+1,t-1,s,!1,!1,null,null,null,l),o.unspreadPower(e+1,t-1,s,o.getPower(e+1,t-1,s,l),!0,l)),R!=S&&(o.updateBlock(e-1,t-1,s,!1,!1,null,null,null,l),o.unspreadPower(e-1,t-1,s,o.getPower(e-1,t-1,s,l),!0,l)),this.onpowerupdate(e,t,s,e,t,s,!1,l,o)},onset:function(e,t,s,a,o){let r=o.getRedstoneWirePower(e,t,s,a);"strong"===o.getSurroundingBlockPower(e,t,s,a)&&(r=15),o.setTagByName(e,t,s,"power",r,!1,a),r&&o.spreadPower(e,t,s,r,a)},ondelete:function(e,t,s,a,o,r,i){const n=Gt(a,"power",this.id);var l;(n&&i.unspreadPower(e,t,s,n,!1,r),Gt(a,"north",this.id))&&((l=i.getBlock(e,t,s+1,r))&&!L[l].transparent&&i.setBlockPower(e,t,s+1,null,"south",r));Gt(a,"south",this.id)&&((l=i.getBlock(e,t,s-1,r))&&!L[l].transparent&&i.setBlockPower(e,t,s-1,null,"north",r));Gt(a,"west",this.id)&&((l=i.getBlock(e+1,t,s,r))&&!L[l].transparent&&i.setBlockPower(e+1,t,s,null,"east",r));Gt(a,"east",this.id)&&((l=i.getBlock(e-1,t,s,r))&&!L[l].transparent&&i.setBlockPower(e-1,t,s,null,"west",r));(l=i.getBlock(e,t-1,s,r))&&!L[l].transparent&&i.setBlockPower(e,t-1,s,null,"top",r),Gt(a,"northUp",this.id)&&(i.updateBlock(e,t+1,s+1,!1,!1,null,null,null,r),i.unspreadPower(e,t+1,s+1,i.getPower(e,t+1,s+1,r),!0,r)),Gt(a,"southUp",this.id)&&(i.updateBlock(e,t+1,s-1,!1,!1,null,null,null,r),i.unspreadPower(e,t+1,s-1,i.getPower(e,t+1,s-1,r),!0,r)),Gt(a,"westUp",this.id)&&(i.updateBlock(e+1,t+1,s,!1,!1,null,null,null,r),i.unspreadPower(e+1,t+1,s,i.getPower(e+1,t+1,s,r),!0,r)),Gt(a,"eastUp",this.id)&&(i.updateBlock(e-1,t+1,s,!1,!1,null,null,null,r),i.unspreadPower(e-1,t+1,s,i.getPower(e-1,t+1,s,r),!0,r)),Gt(a,"northDown",this.id)&&(i.updateBlock(e,t-1,s+1,!1,!1,null,null,null,r),i.unspreadPower(e,t-1,s+1,i.getPower(e,t-1,s+1,r),!0,r)),Gt(a,"southDown",this.id)&&(i.updateBlock(e,t-1,s-1,!1,!1,null,null,null,r),i.unspreadPower(e,t-1,s-1,i.getPower(e,t-1,s-1,r),!0,r)),Gt(a,"westDown",this.id)&&(i.updateBlock(e+1,t-1,s,!1,!1,null,null,null,r),i.unspreadPower(e+1,t-1,s,i.getPower(e+1,t-1,s,r),!0,r)),Gt(a,"eastDown",this.id)&&(i.updateBlock(e-1,t-1,s,!1,!1,null,null,null,r),i.unspreadPower(e-1,t-1,s,i.getPower(e-1,t-1,s,r),!0,r))},onpowerupdate:function(e,t,s,a,o,r,i,n,l){if(e!==a||t!==o||s!==r||i){if(i){var h="strong"===l.getSurroundingBlockPower(e,t,s,n),d=l.getPower(e,t,s,n);h&&!d?(l.setPower(e,t,s,15,!1,n),l.spreadPower(e,t,s,15,n)):!h&&d&&l.unspreadPower(e,t,s,15,!0,n)}}else{var c=l.getTags(e,t,s,n);if(Gt(c,"power",this.id)){if(Gt(c,"north",this.id)&&"weak"!==l.getBlockPower(e,t,s+1,"south",n))(p=l.getBlock(e,t,s+1,n))&&!L[p].transparent&&l.setBlockPower(e,t,s+1,"weak","south",n);if(Gt(c,"south",this.id)&&"weak"!==l.getBlockPower(e,t,s-1,"north",n))(p=l.getBlock(e,t,s-1,n))&&!L[p].transparent&&l.setBlockPower(e,t,s-1,"weak","north",n);if(Gt(c,"west",this.id)&&"weak"!==l.getBlockPower(e+1,t,s,"east",n))(p=l.getBlock(e+1,t,s,n))&&!L[p].transparent&&l.setBlockPower(e+1,t,s,"weak","east",n);if(Gt(c,"east",this.id)&&"weak"!==l.getBlockPower(e-1,t,s,"west",n))(p=l.getBlock(e-1,t,s,n))&&!L[p].transparent&&l.setBlockPower(e-1,t,s,"weak","west",n)}else{if(l.getBlockPower(e,t,s+1,"south",n))(p=l.getBlock(e,t,s+1,n))&&!L[p].transparent&&l.setBlockPower(e,t,s+1,null,"south",n);l.getBlockPower(e,t,s-1,"north",n)&&(p=l.getBlock(e,t,s-1,n))&&!L[p].transparent&&l.setBlockPower(e,t,s-1,null,"north",n),l.getBlockPower(e+1,t,s,"east",n)&&(p=l.getBlock(e+1,t,s,n))&&!L[p].transparent&&l.setBlockPower(e+1,t,s,null,"east",n),l.getBlockPower(e-1,t,s,"west",n)&&(p=l.getBlock(e-1,t,s,n))&&!L[p].transparent&&l.setBlockPower(e-1,t,s,null,"west",n)}var p,u=Gt(c,"power",this.id)?"weak":null;if(u!==l.getBlockPower(e,t-1,s,"top",n))(p=l.getBlock(e,t-1,s,n))&&!L[p].transparent&&l.setBlockPower(e,t-1,s,u,"top",n)}},connectables:["redstoneBlock","redstoneLamp","tnt","redstoneTorch","lever","redstoneConnector","is:button","piston","pistonSticky","is:pressurePlate","dropper","dispenser","target","is:coloredRedstoneLamp","noteBlock","daylightDetector","is:commandBlock"],connectable:function(e,t,s,a,o,r,i){var n=i.getBlock(e,t,s,o);if(!n)return!1;var l=!1,h=!1;switch(a){case"northUp":case"southUp":case"eastUp":case"westUp":case"up":l=!0;break;case"northDown":case"southDown":case"eastDown":case"westDown":case"down":h=!0}if(h&&"down"!==a){var d=i.getBlock(e,t+1,s,o);if(d&&!L[d].transparent)return!1}if(l||h)return"redstoneDust"===L[n].name&&(n&_e)==(r&_e);if("redstoneDust"===L[n].name&&(n&_e)==(r&_e))return!0;if(this.connectables.includes(L[n].name))return!0;for(var c of this.connectables)if(c.startsWith("is:")&&L[n][c.replace("is:","")])return!0;if("repeater"===L[n].name||"notGate"===L[n].name){var p=!1;switch(u=L[n].getFacing(e,t,s,o,i)){case"north":case"south":p="north"===a||"south"===a;break;case"east":case"west":p="east"===a||"west"===a}return p}if("observer"===L[n].name)switch(u=L[n].getFacing(e,t,s,o,i)){case"east":return"east"===a;case"west":return"west"===a;case"north":return"south"===a;case"south":return"north"===a}else if(L[n].logicGate){switch(u=L[n].getFacing(e,t,s,o,i)){case"east":return"east"===a||"north"===a||"south"===a;case"west":return"west"===a||"north"===a||"south"===a;case"north":return"south"===a||"east"===a||"west"===a;case"south":return"north"===a||"east"===a||"west"===a}}else if("comparator"===L[n].name){var u;switch(u=L[n].getFacing(e,t,s,o,i)){case"east":p=p||"east"===a||"north"===a||"south"===a;case"west":p=p||"west"===a||"north"===a||"south"===a;case"north":p=p||"south"===a||"east"===a||"west"===a;case"south":p=p||"north"===a||"east"===a||"west"===a}switch(u){case"north":case"south":p=p||"north"===a||"south"===a;break;case"east":case"west":p=p||"east"===a||"west"===a}return p}return!1}},{name:"blueRedstone",Name:"Blue Redstone Dust",item:!0,useAs:()=>I.redstoneDust|_e,category:"redstone"},{name:"soup",category:"food"},{name:"soup2",category:"food"},{name:"soup3",transparent:!0,category:"food"},{name:"soup4",category:"food"},{name:"randomSoup",category:"food"},{name:"redStain",transparent:!0},{name:"poision potion",transparent:!0,crossShape:!0},{name:"light",textures:"none",transparent:!0,lightLevel:15,solid:!1,iconTexture:"light_15",flatIcon:!0,shadow:!1,noHitbox:!0,pistonPush:!1,pistonPull:!1,rarity:"epic"},{name:"autumnLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",decreaseLight:1},{name:"darkLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",hardness:.2,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8)return"stick"},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"redBerryLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",hardness:.2,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"greenGrapes":1===e?"purpleGrapes":"stick"}},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"blueBerryLeaves",transparent:!0,cullFace:"never",burnChance:.2,burnTime:30,category:"nature",hardness:.2,blastResistance:.2,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"greenGrapes":1===e?"purpleGrapes":"stick"}},dropSelfWhenSheared:!0,shearBreakTime:.05,compostChance:.3,grassSound:!0,decreaseLight:1},{name:"yellowLeaves",transparent:!0,cullFace:0,burnChance:.2,burnTime:30,category:"nature",decreaseLight:1,hardness:.2},{name:"lilyOftheValley",Name:"Lily of The Valley",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"poppy",Name:"Poppy",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"dandelion",Name:"Dandelion",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"blueOrchid",Name:"Blue Orchid",solid:!1,transparent:!0,shadow:!1,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature",potCross:!0},{name:"pinkTulip",Name:"Pink Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"orangeTulip",Name:"Orange Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"redTulip",Name:"Red Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"whiteTulip",Name:"White Tulip",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"azureBluet",Name:"Azure Bluet",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"cornFlower",Name:"Cornflower",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"purpleFlower",Name:"Purple Flower (i don't think this exsists in minecraft)",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature",hidden:!0},{name:"allium",Name:"Allium",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"oxeyeDaisy",Name:"Oxeye Daisy",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"lilac",Name:"Lilac",solid:!1,transparent:!0,shadow:!1,textures:"lilacTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"roseBush",Name:"Rose Bush",solid:!1,transparent:!0,shadow:!1,textures:"roseBushTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"peony",Name:"Peony",solid:!1,transparent:!0,shadow:!1,textures:"peonyTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"witherRose",Name:"Wither Rose",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,ontouch:()=>{witherEffect=120,witherDamage=1,witherTime=2e3},compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"TallGrass",Name:"Grass",solid:!1,transparent:!0,shadow:!1,crossShape:!0,drop:"wheatSeeds",dropAmount:[0,1],dropSelfWhenSheared:!0,shearDropAmount:1,shade:!1,compostChance:.5,liquidBreakable:"drop",category:"nature"},{name:"oakDoor",Name:"Oak Door",transparent:!0,shadow:!1,textures:"oakDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"spruceDoor",Name:"Spruce Door",transparent:!0,shadow:!1,textures:"spruceDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"ironDoor",Name:"Iron Door",transparent:!0,shadow:!1,textures:"ironDoorBottom",door:!0,stoneSound:!0,hardness:3,type:"wood",category:"build"},{name:"darkOakDoor",Name:"Dark Oak Door",transparent:!0,shadow:!1,textures:"darkOakDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"birchDoor",Name:"Birch Door",transparent:!0,shadow:!1,textures:"birchDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"jungleDoor",Name:"Jungle Door",transparent:!0,shadow:!1,textures:"jungleDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"acaciaDoor",Name:"Acacia Door",transparent:!0,shadow:!1,textures:"acaciaDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"warpedDoor",Name:"Warped Door",transparent:!0,shadow:!1,textures:"warpedDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"crimsonDoor",Name:"Crimson Door",transparent:!0,shadow:!1,textures:"crimsonDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"torch",Name:"Torch",transparent:!0,shadow:!1,torch:!0,lightLevel:13,woodSound:!0,solid:!1,category:"decoration"},{name:"soulTorch",Name:"Soul Torch",transparent:!0,shadow:!1,torch:!0,lightLevel:10,woodSound:!0,solid:!1,category:"decoration"},{name:"lantern",Name:"Lantern",transparent:!0,shadow:!1,lightLevel:13,iconTexture:"lanternIcon",lantern:!0,category:"decoration",digSound:["block.lantern.dig1","block.lantern.dig2","block.lantern.dig3","block.lantern.dig4","block.lantern.dig5","block.lantern.dig6"],placeSound:["block.lantern.place1","block.lantern.place2","block.lantern.place3","block.lantern.place4","block.lantern.place5","block.lantern.place6"]},{name:"soulLantern",Name:"Soul Lantern",transparent:!0,shadow:!1,lightLevel:10,iconTexture:"soulLanternIcon",lantern:!0,category:"decoration",digSound:["block.lantern.dig1","block.lantern.dig2","block.lantern.dig3","block.lantern.dig4","block.lantern.dig5","block.lantern.dig6"],placeSound:["block.lantern.place1","block.lantern.place2","block.lantern.place3","block.lantern.place4","block.lantern.place5","block.lantern.place6"]},{name:"beacon",Name:"Beacon",hardness:3,transparent:!0,shadow:!1,beacon:!0,lightLevel:15,glassSound:!0,pistonPush:!1,pistonPull:!1,category:"decoration",rarity:"rare",tagBits:null,beaconBlocks:["ironBlock","goldBlock","emeraldBlock","diamondBlock","netheriteBlock"],getSize:function(e,t,s,a,o){let r;e:for(let a=1;a<4;a++){for(let r=e-a;r<=e+a;r++)for(let e=s-a;e<=s+a;e++){let s=o.getBlock(r,t-a,e);if(!this.beaconBlocks.includes(L[s].name))break e}r=a}return r},update:function(e,t,s,a,o){let r=this.getSize(e,t,s,a,o),i=o.getBlock(e,t,s,a);return r?i!==(this.id|we)&&o.setBlock(e,t,s,this.id|we,!1,!1,!1,!0,a):i!==this.id&&o.setBlock(e,t,s,this.id,!1,!1,!1,!0,a),r},onplace:function(e,t,s,a,o,r){this.update(e,t,s,a,r)}},{name:"cactus",Name:"Cactus",textures:["cactusBottom","cactusTop","cactusSide"],transparent:!0,cactus:!0,damage:1,potCross:!0,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},compostChance:.5,liquidBreakable:"drop",category:"nature"},{name:"glassPane",Name:"Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["glassPaneTop","glassPaneTop","glass","glass","glassPaneSide","glassPaneSide"],glassSound:!0,category:"build"},{name:"ladder",Name:"Ladder",transparent:!0,shadow:!1,wallFlat:!0,ladder:!0,hardness:.4,type:"wood",category:"decoration"},{name:"vine",Name:"Vine",transparent:!0,shadow:!1,wallFlat:!0,ladder:!0,drop:"air",dropSelfWhenSheared:!0,shearBreakTime:.35,liquidBreakable:"drop",solid:!1,shade:!1,onupdate:function(e,t,s,a,o,r,i,n,l){var h=e,d=s;switch(a){case this.id|ve|He:d++;break;case this.id|ve|je:d--;break;case this.id|ve|Ye:h++;break;case this.id|ve|Ve:h--}var c=o.getBlock(h,t,d,l),p=o.getBlock(e,t+1,s,l);!o.settings.blocksFall||c&&L[c].solid||p===a||o.setTimeout((function(){var r=o.getBlock(h,t,d,l),i=o.getBlock(e,t+1,s,l);r&&L[r].solid||i===a||(o.setBlock(e,t,s,0,!1,!1,!1,!1,l),o.addItems(e,t,s,l,0,0,0,a&Ze,!0),o.blockParticles(a,e,t,s,30,"break",l),o.blockSound(a,"dig",e,t,s))}),y,e,t,s,l)},compostChance:.5,category:"nature"},{name:"Water",textures:["Water","waterFlow"],transparent:!0,liquid:!0,wet:!0,solid:!1,shadow:!1,semiTrans:!0,cullFace:"never",blastResistance:100,hidden:!0,dripThroughBlocks:[43/255,63/255,213/255],getLevelDifference:function(e){return e-1},canDuplicate:!0,drop:"air",density:1,inLiquid:1,flowSound:"liquid.water",onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l);if(h&&"Lava"===L[h].name)return o.setBlock(e,t,s,I.stone,!1,!1,!1,!1,l);var d=o.getBlock(e,t,s+1,l),c=o.getBlock(e,t,s-1,l),p=o.getBlock(e+1,t,s,l),u=o.getBlock(e-1,t,s,l);if(d&&"Lava"===L[d].name||c&&"Lava"===L[c].name||p&&"Lava"===L[p].name||u&&"Lava"===L[u].name)return o.setBlock(e,t,s,I.cobblestone,!1,!1,!1,!1,l);if(o.settings.blocksFall){var m=this;o.setTimeout((()=>m.flow(e,t,s,l,o)),5*y,e,t,s,l)}},getY:function(e,t,s,a){var o=world.getBlock(e,t,s,a);return min(2*(this.getLevel(o)||(o?8:0)),14.5)/16-.5},decreaseLight:1},{name:"Lava",textures:["Lava","lavaFlow"],transparent:!0,liquid:!0,solid:!1,lightLevel:15,damage:4,burnEnt:!0,dieMessage:()=>username+" tried to swim in lava.",shadow:!1,blastResistance:100,hidden:!0,temperature:25,dripThroughBlocks:[210/255,59/255,17/255],drop:"air",density:2,inLiquid:2,flowSound:"liquid.lava",getLevelDifference:function(e,t){return"nether"===t?e-1:e-2},tick:function(e,t,s,a,o){L[I.fire].spread(e,t,s,a,o)},onupdate:function(e,t,s,a,o,r,i,n,l){let h=o.getBlock(e,t+1,s,l);if(h&&"Water"===L[h].name)return o.setBlock(e,t,s,I.obsidian,!1,!1,!1,!1,l);const d=o.getBlock(e,t-1,s,l),c=o.getBlock(e,t,s+1,l),p=o.getBlock(e,t,s-1,l),u=o.getBlock(e+1,t,s,l),m=o.getBlock(e-1,t,s,l);if("soulSoil"===L[d].name&&("ice"===L[c].name||"packedIce"===L[c].name||"blueIce"===L[c].name||"ice"===L[p].name||"packedIce"===L[p].name||"blueIce"===L[p].name||"ice"===L[u].name||"packedIce"===L[u].name||"blueIce"===L[u].name||"ice"===L[m].name||"packedIce"===L[m].name||"blueIce"===L[m].name))return o.setBlock(e,t,s,I.basalt,!1,!1,!1,!1,l);if("honeyBlock"===L[d].name||"honeyBlock"===L[c].name||"honeyBlock"===L[p].name||"honeyBlock"===L[u].name||"honeyBlock"===L[m].name)return o.setBlock(e,t,s,I.limestone,!1,!1,!1,!1,l);if(o.settings.blocksFall){var g=this;o.setTimeout((()=>g.flow(e,t,s,l,o)),y*("nether"===l?10:30),e,t,s,l)}},getY:function(e,t,s,a){var o=world.getBlock(e,t,s,a);return min(2*this.getLevel(o),14.5)/16-.5},onspawnflow:function(e,t,s,a,o){if(o.getBlock(e,t-1,s,a)===I.Water)return o.spawnBlock(e,t-1,s,I.stone,a,!0),!0}},{name:"craftingTable",Name:"Crafting Table",textures:["oakPlanks","craftingTableTop","craftingTableFront","craftingTableSide"],onclientclick:()=>{changeScene("crafting"),releasePointer()},woodSound:!0,hardness:2.5,type:"wood",category:"items"},{name:"crimsonNylium",Name:"Crimson Nylium",textures:["netherrack","crimsonNyliumTop","crimsonNyliumSide"],nyliumSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"warpedNylium",Name:"Warped Nylium",textures:["netherrack","warpedNyliumTop","warpedNyliumSide"],nyliumSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"crimsonStem",Name:"Crimson Stem",textures:["crimsonStemTop","crimsonStemSide"],stemSound:!0,type:"wood",category:"nature"},{name:"warpedStem",Name:"Warped Stem",textures:["warpedStemTop","warpedStemSide"],stemSound:!0,type:"wood",category:"nature"},{name:"netherWartBlock",Name:"Nether Wart Block",hardness:1,compostChance:.85,category:"nature",digSound:["block.netherwart.dig1","block.netherwart.dig2","block.netherwart.dig3","block.netherwart.dig4","block.netherwart.dig5","block.netherwart.dig6"],stepSound:["block.netherwart.step1","block.netherwart.step2","block.netherwart.step3","block.netherwart.step4","block.netherwart.step5"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"warpedWartBlock",Name:"Warped Wart Block",hardness:1,compostChance:.85,category:"nature",digSound:["block.netherwart.dig1","block.netherwart.dig2","block.netherwart.dig3","block.netherwart.dig4","block.netherwart.dig5","block.netherwart.dig6"],stepSound:["block.netherwart.step1","block.netherwart.step2","block.netherwart.step3","block.netherwart.step4","block.netherwart.step5"],randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"shroomlight",lightLevel:15,Name:"Shroomlight",hardness:1,compostChance:.65,category:"nature",digSound:["block.shroomlight.dig1","block.shroomlight.dig2","block.shroomlight.dig3","block.shroomlight.dig4","block.shroomlight.dig5"],stepSound:["block.shroomlight.step1","block.shroomlight.step2","block.shroomlight.step3","block.shroomlight.step4","block.shroomlight.step5","block.shroomlight.step6"]},{name:"warpedFungus",Name:"Warped Fungus",solid:!1,shadow:!1,transparent:!0,crossShape:!0,potCross:!0,compostChance:.65,category:"nature",digSound:["block.fungus.dig1","block.fungus.dig2","block.fungus.dig3","block.fungus.dig4","block.fungus.dig5","block.fungus.dig6"],growBonemeal:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnNetherMushroom(15&e,t-1,15&s,e,s,"warpedForest"),win.serverRestoreWorldGen()}},{name:"blackstone",Name:"Blackstone",textures:["blackstoneTop","blackstone"],stoneSound:!0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"gildedBlackstone",Name:"Gilded Blackstone",category:"nature",stoneSound:!0,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"polishedBlackstoneBricks",Name:"Polished Blackstone Bricks",category:"build",stoneSound:!0},{name:"chiseledPolishedBlackstone",Name:"Chiseled Polished Blackstone",category:"build",stoneSound:!0},{name:"netheriteBlock",Name:"Netherite Block",type:"rock4",category:"build",hardness:50,blastResistance:1200,digSound:["block.netherite.dig1","block.netherite.dig2","block.netherite.dig3","block.netherite.dig4"],stepSound:["block.netherite.step1","block.netherite.step2","block.netherite.step3","block.netherite.step4","block.netherite.step5","block.netherite.step6"]},{name:"basalt",Name:"Basalt",category:"nature",textures:["basaltTop","basaltSide"],basaltSound:!0,hardness:1.25},{name:"polishedBasalt",Name:"Polished Basalt",category:"build",textures:["polishedBasaltTop","polishedBasaltSide"],basaltSound:!0,hardness:1.25},{name:"chain",Name:"Chain",category:"build",transparent:!0,shadow:!1,chain:!0,iconTexture:"chainIcon",digSound:["block.chain.dig1","block.chain.dig2","block.chain.dig3","block.chain.dig4"],stepSound:["block.chain.step1","block.chain.step2","block.chain.step3","block.chain.step4","block.chain.step5","block.chain.step6"]},{name:"warpedPlanks",Name:"Warped Planks",hardness:2,type:"wood",category:"build",woodSound:!0},{name:"warpedTrapdoor",Name:"Warped Trapdoor",transparent:!0,shadow:!1,trapdoor:!0,woodSound:!0,category:"build"},{name:"magma",Name:"Magma Block",lightLevel:15,hardness:.5,type:"rock1",damage:1,dieMessage:()=>username+" discovered the floor was lava.",burnTime:1/0,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"crimsonFungus",Name:"Crimson Fungus",solid:!1,shadow:!1,transparent:!0,crossShape:!0,potCross:!0,compostChance:.65,category:"nature",digSound:["block.fungus.dig1","block.fungus.dig2","block.fungus.dig3","block.fungus.dig4","block.fungus.dig5","block.fungus.dig6"],growBonemeal:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnNetherMushroom(15&e,t-1,15&s,e,s,"crimsonForest"),win.serverRestoreWorldGen()}},{name:"warpedRoots",Name:"Warped Roots",transparent:!0,solid:!1,shadow:!1,crossShape:!0,rootSound:!0,compostChance:.65,category:"nature",potCross:!0,potCrossTexture:"warpedRootsPot"},{name:"crimsonRoots",Name:"Crimson Roots",transparent:!0,solid:!1,shadow:!1,crossShape:!0,rootSound:!0,compostChance:.65,category:"nature",potCross:!0,potCrossTexture:"crimsonRootsPot"},{name:"twistingVines",transparent:!0,solid:!1,shadow:!1,transparent:!0,crossShape:!0,ladder:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l);("twistingVines"===L[h].name||"twistingVinesPlant"===L[h].name)&&o.setBlock(e,t,s,I.twistingVinesPlant|ue,!1,!1,!1,!1,l)},hidden:!0,drop:"twistinVinesPlant"},{name:"twistingVinesPlant",Name:"Twisting Vines",transparent:!0,solid:!1,shadow:!1,transparent:!0,crossShape:!0,ladder:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l);"twistingVines"===L[h].name||"twistingVinesPlant"===L[h].name||o.setBlock(e,t,s,I.twistingVines|ue,!1,!1,!1,!1,l)},category:"nature"},{name:"weepingVines",transparent:!0,solid:!1,shadow:!1,crossShape:!0,ladder:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);("weepingVines"===L[h].name||"weepingVinesPlant"===L[h].name)&&o.setBlock(e,t,s,I.weepingVinesPlant|ue,!1,!1,!1,!1,l)},hidden:!0,drop:"weepingVinesPlant"},{name:"weepingVinesPlant",Name:"Weeping Vines",transparent:!0,solid:!1,shadow:!1,crossShape:!0,ladder:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);"weepingVines"===L[h].name||"weepingVinesPlant"===L[h].name||o.setBlock(e,t,s,I.weepingVines|ue,!1,!1,!1,!1,l)},category:"nature"},{name:"netherSprouts",Name:"Nether Sprouts",solid:!1,shadow:!1,transparent:!0,crossShape:!0,compostChance:.5,category:"nature",digSound:["block.nether_sprouts.dig1","block.nether_sprouts.dig2","block.nether_sprouts.dig3","block.nether_sprouts.dig4"],stepSound:["block.nether_sprouts.step1","block.nether_sprouts.step2","block.nether_sprouts.step3","block.nether_sprouts.step4","block.nether_sprouts.step5"]},{name:"stoneButton",Name:"Stone Button",textures:"stone",category:"redstone",button:!0,transparent:!0,shadow:!1,stone:!0},{name:"RespawnAnchorOff",category:"items",textures:["respawnAnchorBottom","respawnAnchorTopOff","respawnAnchorSide0"]},{name:"RespawnAnchor1",textures:["respawnAnchorBottom","respawnAnchorTop1","respawnAnchorSide1"],hidden:!0},{name:"RespawnAnchor2",textures:["respawnAnchorBottom","respawnAnchorTop2","respawnAnchorSide2"],hidden:!0},{name:"RespawnAnchor3",textures:["respawnAnchorBottom","respawnAnchorTop3","respawnAnchorSide3"],hidden:!0},{name:"RespawnAnchor",textures:["respawnAnchorBottom","respawnAnchorTop","respawnAnchorSide4"],hidden:!0},{name:"redBed",Name:"Red Bed",textures:"bedbottom",iconTexture:"bedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"flintAndSteel",Name:"Flint & Steel",textures:"flintAndSteel",item:!0,serveronuse:(e,t,s,a,o,r,i)=>{if(a===I.tnt)L[I.tnt].explode(e,t,s,null,o,r);else if(a===(I.tnt|ce))L[I.tnt].superTntExplode(e,t,s,o,r);else if(a===(I.tnt|pe))L[I.tnt].ultraTntExplode(e,t,s,o,r);else if(a===I.untnt)L[I.untnt].explode(e,t,s,null,o,r);else{var n=r.getBlock(e,t,s,o),l=I.fire;switch(n&&L[n].canHaveSoulFire&&(l=I.soulFire),hitBox.face){case"top":t++;break;case"bottom":l|=pe,t--;break;case"north":l|=ce|je,s++;break;case"south":l|=ce|He,s--;break;case"east":l|=ce|Ve,e++;break;case"west":l|=ce|Ye,e--}if(a===I.obsidian&&L[I.fire].tryCreatePortal(e,t,s,o))return;r.setBlock(e,t,s,l,!1,!1,!1,!1,o),r.playSound(e,t,s,"block.fire.ignite")}},durability:64,stackSize:1,category:"items"},{name:"barrier",Name:"That Invisible Block with a  Icon",textures:"none",iconTexture:"barrier",flatIcon:!0,transparent:!0,hardness:1/0,pistonPush:!1,pistonPull:!1,category:"items",rarity:"epic"},{name:"oakSapling",Name:"Oak Sapling",crossShape:!0,potCross:!0,transparent:!0,solid:!1,shadow:!1,liquidBreakable:"drop",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnSmallTree(15&e,t-1,15&s,e,s,!1),win.serverRestoreWorldGen()},compostChance:.3,category:"nature"},{name:"crimsonTrapdoor",Name:"Crimson Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"oakTrapdoor",Name:"Oak Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"spruceTrapdoor",Name:"Spruce Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"darkOakTrapdoor",Name:"Dark Oak Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"birchTrapdoor",Name:"Birck Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"jungleTrapdoor",Name:"Jungle Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"acaciaTrapdoor",Name:"Acaica Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"ironTrapdoor",Name:"Iron Trapdoor",transparent:!0,trapdoor:!0,stoneSound:!0,category:"build"},{name:"cryingObsidian",Name:"Obsidian: ",shadow:!1,lightLevel:10,stoneSound:!0,type:"rock4",hardness:50,blastResistance:1200,pistonPush:!1,pistonPull:!1,drip:[106/255,6/255,187/255],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"netherGoldOre",Name:"Nether Gold Ore",digSound:["block.nether_ore.dig1","block.nether_ore.dig2","block.nether_ore.dig3","block.nether_ore.dig4"],stepSound:["block.nether_ore.step1","block.nether_ore.step2","block.nether_ore.step3","block.nether_ore.step4","block.nether_ore.step5"],drop:"goldNugget",dropAmount:[1,3],category:"nature",hardness:3,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"flowerPot",Name:"Flower Pot",transparent:!0,shadow:!1,pot:!0,iconTexture:"flowerPotIcon",flatIcon:!0,category:"decoration",liquidBreakable:"drop"},{name:"acaciaSapling",Name:"Acacia Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnAcacia(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()}},{name:"birchSapling",Name:"Birch Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,category:"nature",liquidBreakable:"drop",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnSmallTree(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()},compostChance:.3},{name:"darkOakSapling",Name:"Dark Oak Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop"},{name:"jungleSapling",Name:"Jungle Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnCocoaTree(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()}},{name:"spruceSapling",Name:"Spruce Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,compostChance:.3,category:"nature",liquidBreakable:"drop",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnSpruce(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()}},{name:"unused_blueOrchidPot",textures:"error",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0},{name:"unused_warpedRoots",textures:"error",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0,drop:"warpedRoots",liquidBreakable:"drop"},{name:"unused_crimsonRoots",textures:"error",transparent:!0,shadow:!1,solid:!1,potCross:!0,hidden:!0,drop:"crimsonRoots",liquidBreakable:"drop"},{name:"whiteCarpet",Name:"White Carpet",textures:"whiteWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"orangeCarpet",Name:"Orange Carpet",textures:"orangeWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"magentaCarpet",Name:"Magenta Carpet",textures:"magentaWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"lightBlueCarpet",Name:"Light Blue Carpet",textures:"lightBlueWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"yellowCarpet",Name:"Yellow Carpet",textures:"yellowWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"limeCarpet",Name:"Lime Carpet",textures:"limeWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"pinkCarpet",Name:"Pink Carpet",textures:"pinkWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"grayCarpet",Name:"Gray Carpet",textures:"grayWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"lightGrayCarpet",Name:"Light Gray Carpet",textures:"lightGrayWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"cyanCarpet",Name:"Cyan Carpet",textures:"cyanWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"purpleCarpet",Name:"Purple Carpet",textures:"purpleWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"blueCarpet",Name:"Blue Carpet",textures:"blueWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"brownCarpet",Name:"Brown Carpet",textures:"brownWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"greenCarpet",Name:"Green Carpet",textures:"greenWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"redCarpet",Name:"Red Carpet",textures:"redWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"blackCarpet",Name:"Black Carpet",textures:"blackWool",category:"decoration",carpet:!0,clothSound:!0,type:"wool"},{name:"polishedBlackstone",Name:"Polished Blackstone",category:"build",stoneSound:!0},{name:"chiseledNetherBricks",Name:"Chiseled Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"crackedNetherBricks",Name:"Cracked Nether Bricks",category:"build",digSound:["block.nether_bricks.dig1","block.nether_bricks.dig2","block.nether_bricks.dig3","block.nether_bricks.dig4","block.nether_bricks.dig5","block.nether_bricks.dig6"],stepSound:["block.nether_bricks.step1","block.nether_bricks.step2","block.nether_bricks.step3","block.nether_bricks.step4","block.nether_bricks.step5","block.nether_bricks.step6"]},{name:"smoothBasalt",Name:"Smooth Basalt",basaltSound:!0},{name:"oakLogSW",textures:["logSide","logSide","logTop","logSide"],SW:!0,woodSound:!0,hidden:!0},{name:"acaciaLogSW",textures:["acaciaLogSide","acaciaLogSide","acaciaLogTop","acaciaLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"birchLogSW",textures:["birchLogSide","birchLogSide","birchLogTop","birchLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"darkOakLogSW",textures:["darkOakLogSide","darkOakLogSide","darkOakLogTop","darkOakLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"jungleLogSW",textures:["jungleLogSide","jungleLogSide","jungleLogTop","jungleLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"spruceLogSW",textures:["spruceLogSide","spruceLogSide","spruceLogTop","spruceLogSide"],SW:!0,woodSound:!0,hidden:!0},{name:"crimsonStemSW",textures:["crimsonStemSide","crimsonStemSide","crimsonStemTop","crimsonStemSide"],SW:!0,stemSound:!0,hidden:!0},{name:"warpedStemSW",textures:["warpedStemSide","warpedStemSide","warpedStemTop","warpedStemSide"],SW:!0,stemSound:!0,hidden:!0},{name:"basaltSW",textures:["basaltSide","basaltSide","basaltTop","basaltSide"],SW:!0,basaltSound:!0,hidden:!0},{name:"polishedBasaltSW",textures:["polishedBasaltSide","polishedBasaltSide","polishedBasaltTop","polishedBasaltSide"],SW:!0,basaltSound:!0,hidden:!0},{name:"crimsonPlanks",Name:"Crimson Planks",woodSound:!0,hardness:2,type:"wood",category:"build"},{name:"deadBush",Name:"Dead Bush",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,drop:"stick",dropAmount:[0,2],dropSelfWhenSheared:!0,shearDropAmount:1,liquidBreakable:"drop",category:"nature"},{name:"stick",Name:"Stick",category:"items",item:!0},{name:"coal",Name:"Coal",category:"items",item:!0},{name:"ironIngot",Name:"Iron Ingot",category:"items",item:!0},{name:"copperIngot",Name:"Copper Ingot",category:"items",item:!0},{name:"goldIngot",Name:"Gold Ingot",category:"items",item:!0},{name:"diamond",Name:"Diamond",category:"items",item:!0},{name:"lapisLazuli",Name:"Lapis Lazuli",category:"items",item:!0},{name:"emerald",Name:"Emerald",category:"items",item:!0},{name:"copperOre",Name:"Copper Ore",hardness:3,drop:"rawCopper",dropAmount:[2,5],type:"rock2",category:"nature",stoneSound:!0},{name:"rawIron",Name:"Raw Iron",category:"items",item:!0},{name:"rawCopper",Name:"Raw Copper",category:"items",item:!0},{name:"rawGold",Name:"Raw Gold",category:"items",item:!0},{name:"netherWart",Name:"Nether Wart",transparent:!0,shadow:!1,solid:!1,crop:!0,flatIcon:!0,iconTexture:"netherWartIcon",compostChance:.65,category:"nature"},{name:"wheat",Name:"Wheat",transparent:!0,shadow:!1,solid:!1,crop:!0,flatIcon:!0,iconTexture:"wheatIcon",fullDrop:["wheat","wheatSeeds"],drop:"wheatSeeds",liquidBreakable:"drop",textures:new Array(6).fill("wheatStage0"),textures1:new Array(6).fill("wheatStage1"),textures2:new Array(6).fill("wheatStage2"),textures3:new Array(6).fill("wheatStage3"),textures4:new Array(6).fill("wheatStage4"),textures5:new Array(6).fill("wheatStage5"),textures6:new Array(6).fill("wheatStage6"),textures7:new Array(6).fill("wheat"),compostChance:.65,category:"nature"},{name:"lodestone",Name:"Lodestone",textures:["lodestoneTop","lodestoneSide"]},{name:"anvil",Name:"Anvil",transparent:!0,anvil:!0,digSound:"block.anvil.land",stepSound:["block.stone.step1","block.stone.step2","block.stone.step3","block.stone.step4","block.stone.step5","block.stone.step6"],onclientclick:function(e,t,s,a){changeScene("anvil"),releasePointer()},onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},category:"items"},{name:"slimeBlock",Name:"Slime Block",transparent:!0,shadow:!1,bounciness:1,speedFactor:.5,shapeName:"slimeBlock",category:"build",sticky:!0},{name:"soulSoil",Name:"Soul Soil",speedFactor:.5,canHaveSoulFire:!0,category:"nature"},{name:"blueIce",Name:"Blue Ice",category:"nature",slide:.9,glassSound:!0,temperature:3},{name:"ice",Name:"Ice",category:"nature",transparent:!0,shadow:!1,slide:.9,glassSound:!0,temperature:3,semiTrans:!0},{name:"packedIce",Name:"Packed Ice",category:"nature",slide:.9,glassSound:!0,temperature:3},{name:"calcite",Name:"Calcite",category:"nature"},{name:"furnace",Name:"Furnace",textures:["furnaceTop","furnaceTop","furnaceSide","furnaceFront","furnaceSide","furnaceSide"],SW:!0,tagBits:null,setContents:function(e,t,s,a,o){var r={furnace:!0,input:0,fuel:0,output:0,smeltStart:0,burnStart:0,canBurn:!1,smelting:!1,xp:0};return o.setTags(e,t,s,r,!1,a),r},onclientclick:(e,t,s,a)=>{containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("furnace"),releasePointer()},stoneSound:!0,category:"items"},{name:"blastFurnace",Name:"Blast Furnace",textures:["blastFurnaceTop","blastFurnaceTop","blastFurnaceSide","blastFurnaceFront","blastFurnaceSide","blastFurnaceSide"],rotate:!0,category:"items"},{name:"smoker",Name:"Smoker",textures:["smokerBottom","smokerTop","smokerSide","smokerFront","smokerSide","smokerSide"],rotate:!0,category:"items"},{name:"noteBlock",Name:"Note Block",tagBits:{on:[0,1],note:[1,5]},onclick:function(e,t,s,a,o){var r=o.getTagByName(e,t,s,"note",a);r||0===r||(r=-1),++r>=24&&(r=0),o.setTagByName(e,t,s,"note",r,!1,a),L[I.noteBlock].playNote(e,t,s,a,o)},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=!(!l.getRedstonePower(e,t,s,n)&&!l.getSurroundingBlockPower(e,t,s,n));h!==(l.getTagByName(e,t,s,"on",n)||!1)&&(l.setTagByName(e,t,s,"on",h,!1,n),h&&this.playNote(e,t,s,n,l))},playNote:function(e,t,s,a,o){var r=o.getTagByName(e,t,s,"note",a)||0;if(r||0===r){var i=2**((r-12)/12),n="harp",l=o.getBlock(e,t-1,s,a);if(l&&this.noteTypes[L[l].name]&&(n=this.noteTypes[L[l].name]),l)for(var h in this.noteTypes)h.startsWith("type:")&&h.replace("type:","")===L[l].type&&(n=this.noteTypes[h]);o.playSound(e,t,s,"note."+n,1,i),o.sendAll({type:"particles",particleType:"NoteParticle",x:e,y:t+.5,z:s,dimension:a,data:r})}},noteTypes:function(e){var t={};for(var s in e)if("string"==typeof e[s])t[e[s]]=s;else for(var a of e[s])t[a]=s;return t}({bass:"type:wood",snare:["sand","gravel"],hat:["glass","seaLantern","beacon"],bd:["type:rock1","type:rock2","type:rock3"],bell:"goldBlock",flute:["clay","honeycombBlock"],icechime:["packedIce"],guitar:"type:wool",xylobone:["boneBlock","boneBlockSW"],iron_xylophone:["ironBlock"],cow_bell:"soulSand",didgeridoo:"pumpkin",bit:"emeraldBlock",banjo:["hayBlock","hayBlockSW"],pling:"glowstone"}),category:"redstone"},{name:"jukebox",Name:"Jukebox",textures:["jukeboxTop","jukeboxSide"],category:"items"},{name:"loom",Name:"Loom",textures:["loomBottom","loomTop","loomFront","loomSide","loomSide","loomSide"],rotate:!0,category:"items"},{name:"sandstone",Name:"Sandstone",textures:["sandstoneBottom","sandstoneTop","sandstone"],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"chiseledSandstone",Name:"Chiseled Sandstone",textures:["sandstoneBottom","sandstoneTop","chiseledSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"cutSandstone",Name:"Cut Sandstone",textures:["sandstoneBottom","sandstoneTop","cutSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"smoothSandstone",Name:"Smooth Sandstone",textures:"sandstoneTop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"DoubleTallGrass",Name:"Tall Grass",solid:!1,transparent:!0,shadow:!1,textures:"tallGrassTop",tallcrossShape:!0,drop:function(){var e=rand();return e>.9?"tomatoSeeds":e>.5?"wheatSeeds":void 0},shade:!1,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"apple",Name:"Apple",item:!0,edible:!0,eatWhenFull:!1,food:4,saturation:2.4,eatResult:"appleCore",compostChance:.65,category:"food"},{name:"woodenPickaxe",Name:"Wooden Pickaxe",item:!0,pickaxe:!0,mineSpeed:2,durability:59,attackDamage:2,category:"tools"},{name:"stonePickaxe",Name:"Stone Pickaxe",item:!0,pickaxe:!0,mineSpeed:4,durability:131,attackDamage:2,material:"cobblestone",category:"tools"},{name:"ironPickaxe",Name:"Iron Pickaxe",item:!0,pickaxe:!0,mineSpeed:6,durability:250,attackDamage:3,material:"ironIngot",category:"tools"},{name:"goldenPickaxe",Name:"Golden Pickaxe",item:!0,pickaxe:!0,mineSpeed:12,durability:32,attackDamage:4,material:"goldIngot",category:"tools"},{name:"diamondPickaxe",Name:"Diamond Pickaxe",item:!0,pickaxe:!0,mineSpeed:8,durability:1561,attackDamage:5,material:"diamond",category:"tools"},{name:"flint",Name:"Flint",item:!0,category:"items"},{name:"mossBlock",Name:"Moss Block",hardness:.1,type:"plant2",compostChance:.65,category:"nature"},{name:"mossCarpet",Name:"Moss Carpet",textures:"mossBlock",hardness:.1,carpet:!0,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"caveVines",Name:"Cave Vines",solid:!1,transparent:!0,shadow:!1,crossShape:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);("caveVines"===L[h].name||"caveVinesPlant"===L[h].name||"caveVinesLit"===L[h].name||"caveVinesPlantLit"===L[h].name)&&o.setBlock(e,t,s,I.caveVinesPlant|ue,!1,!1,!1,!1,l)},liquidBreakable:"drop",category:"nature"},{name:"caveVinesPlant",solid:!1,transparent:!0,shadow:!1,crossShape:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);"caveVines"===L[h].name||"caveVinesPlant"===L[h].name||"caveVinesLit"===L[h].name||"caveVinesPlantLit"===L[h].name||o.setBlock(e,t,s,I.caveVines|ue,!1,!1,!1,!1,l)},hidden:!0,drop:"caveVines",liquidBreakable:"drop"},{name:"caveVinesLit",Name:"Cave Vines With Glow Berries",solid:!1,transparent:!0,shadow:!1,crossShape:!0,lightLevel:14,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);("caveVines"===L[h].name||"caveVinesPlant"===L[h].name||"caveVinesLit"===L[h].name||"caveVinesPlantLit"===L[h].name)&&o.setBlock(e,t,s,I.caveVinesPlantLit|ue,!1,!1,!1,!1,l)},liquidBreakable:"drop",category:"nature"},{name:"caveVinesPlantLit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,lightLevel:14,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t-1,s,l);"caveVines"===L[h].name||"caveVinesPlant"===L[h].name||"caveVinesLit"===L[h].name||"caveVinesPlantLit"===L[h].name||o.setBlock(e,t,s,I.caveVinesLit|ue,!1,!1,!1,!1,l)},hidden:!0,liquidBreakable:"drop"},{name:"sporeBlossom",Name:"Spore Blossom",sporeBlossom:!0,shadow:!1,transparent:!0,compostChance:.65,category:"nature"},{name:"rootedDirt",Name:"Rooted Dirt",category:"nature",type:"ground",hardness:.5,blastResistance:.5,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"hangingRoots",Name:"Hanging Roots",solid:!1,transparent:!0,shadow:!1,crossShape:!0,compostChance:.3,liquidBreakable:"drop",category:"nature"},{name:"azalea",Name:"Azalea",textures:["azaleaTop","azaleaSide"],potTex:["pottedAzaleaBushTop","pottedAzaleaBushSide"],azalea:!0,transparent:!0,potCross:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"floweringAzalea",Name:"Flowering Azalea",textures:["floweringAzaleaTop","floweringAzaleaSide"],potTex:["pottedFloweringAzaleaBushTop","pottedFloweringAzaleaBushSide"],azalea:!0,transparent:!0,potCross:!0,compostChance:.85,liquidBreakable:"drop",category:"nature",lightLevel:10},{name:"sunflower",Name:"Sunflower",textures:["sunflowerBack","sunflowerFront","sunflowerConnected"],sunflower:!0,transparent:!0,shadow:!1,iconTexture:"sunflowerFront",solid:!1,category:"nature"},{name:"bucket",Name:"Bucket",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{a===I.Water&&(o(I.waterBucket),world.setBlock(e,t,s,0,!1,!1,!1,!1,n)),a===I.Lava&&(o(I.lavaBucket),world.setBlock(e,t,s,0,!1,!1,!1,!1,n)),a===I.powderSnow&&(o(I.powderSnowBucket),world.setBlock(e,t,s,0,!1,!1,!1,!1,n)),a===I.oil&&(o(I.oilBucket),world.setBlock(e,t,s,0,!1,!1,!1,!1,n))},stackSize:1,allHitbox:!0,category:"items"},{name:"waterBucket",Name:"Water Bucket",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{survival&&o(I.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],I.Water,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"lavaBucket",Name:"Lava Bucket",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{survival&&o(I.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],I.Lava,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"spawnCow",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Cow](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Cow](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"sugarCane",Name:"Sugar Cane",iconTexture:"sugarCaneIcon",flatIcon:!0,solid:!1,transparent:!0,shadow:!1,compostChance:.5,category:"nature",shade:!1,smoothLight:!1},{name:"woodenSword",Name:"Wooden Swords aren't even sharp!",item:!0,sword:!0,durability:59,attackDamage:4,category:"tools"},{name:"stoneSword",Name:"Stone Sword",item:!0,sword:!0,durability:131,attackDamage:5,material:"cobblestone",category:"tools"},{name:"ironSword",Name:"Iron Sword",item:!0,sword:!0,durability:250,attackDamage:6,material:"ironIngot",category:"tools"},{name:"goldenSword",Name:"Golden Sword",item:!0,sword:!0,durability:32,attackDamage:4,material:"goldIngot",category:"tools"},{name:"diamondSword",Name:"Diamond Sword",item:!0,sword:!0,durability:1561,attackDamage:7,material:"diamond",category:"tools"},{name:"azaleaLeaves",Name:"Azalea Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",drop:function(){if(rand()>.05){return 0===floor(rand(2))?"azalea":"floweringAzalea"}},burnChance:.2,burnTime:30,compostChance:.3,category:"nature",grassSound:!0,leaves:!0},{name:"floweringAzaleaLeaves",Name:"Flowering Azalea Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",drop:function(){if(rand()>.05){return 0===floor(rand(2))?"azalea":"floweringAzalea"}},burnChance:.2,burnTime:30,compostChance:.5,category:"nature",grassSound:!0,leaves:!0},{name:"spawnPig",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Pig](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Pig](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"tuff",Name:"Tuff",category:"nature",hardness:1.5},{name:"deepslate",Name:"Deepslate",textures:["deepslateTop","deepslate"],category:"nature",hardness:3,deepslateSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0},{name:"cobbledDeepslate",Name:"Cobbled Deepslate",deepslateSound:!0,category:"nature",hardness:3.5,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"chiseledDeepslate",Name:"Chiseled Deepslate",category:"build",hardness:3.5,deepslateSound:!0},{name:"polishedDeepslate",Name:"Polished Deepslate",category:"build",hardness:3.5,deepslateSound:!0},{name:"deepslateTiles",Name:"Deepslate Tiles",category:"build",hardness:3.5,deepslateSound:!0},{name:"deepslateBricks",Name:"Deepslate Bricks",category:"build",hardness:3.5,deepslateBricksSound:!0},{name:"crackedDeepslateTiles",Name:"Cracked Deepslate Tiles",category:"build",hardness:3.5,deepslateSound:!0},{name:"crackedDeepslateBricks",Name:"Cracked Deepslate Bricks",category:"build",hardness:3.5,deepslateBricksSound:!0},{name:"deepslateCoalOre",Name:"Deepslate Coal Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"coal",dropAmount:[1,3]},{name:"deepslateIronOre",Name:"Deepslate Iron Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"rawIron",dropAmount:[1,3]},{name:"deepslateCopperOre",Name:"Deepslate Copper Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"rawCopper",dropAmount:[2,5]},{name:"deepslateGoldOre",Name:"Deepslate Gold Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"rawGold",dropAmount:[1,3]},{name:"deepslateDiamondOre",Name:"Deepslate Diamond Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"diamond",dropAmount:[1,3]},{name:"deepslateRedstoneOre",Name:"Deepslate Redstone Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"redstone",dropAmount:[6,9]},{name:"deepslateEmeraldOre",Name:"Deepslate Emerald Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"emerald",dropAmount:[1,3]},{name:"deepslateLapisOre",Name:"Deepslate Lapis Lazuli Ore",category:"nature",hardness:4.5,deepslateSound:!0,drop:"lapisLazuli",dropAmount:[1,3]},{name:"amethystBlock",Name:"Amethyst Block",category:"nature",hardness:1.5,amethystSound:!0},{name:"amethystShard",Name:"Amythest Shard",category:"items",item:!0},{name:"buddingAmethyst",Name:"Budding Amethyst",category:"nature",hardness:1.5,amethystSound:!0},{name:"smallAmethystBud",Name:"Small Amethyst Bud",category:"nature",hardness:1.5,sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:1},{name:"mediumAmethystBud",Name:"Medium Amethyst Bud",category:"nature",hardness:1.5,sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:2},{name:"largeAmethystBud",Name:"Large Amethyst Bud",category:"nature",hardness:1.5,sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,lightLevel:4},{name:"amethystCluster",Name:"Amethyst Cluster",category:"nature",hardness:1.5,sideCross:!0,solid:!1,transparent:!0,shadow:!1,amethystClusterSound:!0,drop:"amethystShard",lightLevel:5},{name:"snowBlock",Name:"Block of Snow",textures:"snow",hardness:.2,drop:"snowball",dropAmount:4,temperature:5,category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"snow",Name:"Snow Layer",layers:!0,transparent:!0,shadow:!0,drop:"snowball",hardness:.1,fallingDust:[248/255,253/255,253/255],onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},temperature:5,liquidBreakable:"drop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"powderSnow",Name:"Powder Snow",solid:!1,powder:!0,hardness:.25,drop:"air",transparent:!0,temperature:5,category:"nature"},{name:"snowball",Name:"Snowball",item:!0,onuse:function(e,t,s,a,o,r,i,n){var l=p.direction;world.addEntity(new wt[ft.Snowball](p.x+l.x,p.y+l.y,p.z+l.z,.8*l.x,.8*l.y,.8*l.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"powderSnowBucket",Name:"Powder Snow Bucket",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{survival&&o(I.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],I.powderSnow,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"bread",Name:"Bread",edible:!0,item:!0,eatWhenFull:!1,food:6,saturation:11,compostChance:.85,category:"food"},{name:"boneBlock",Name:"Bone Block",textures:["boneBlockTop","boneBlockSide"],category:"nature"},{name:"farmland",Name:"Farmland",textures:["dirt","farmland","dirt"],_1PixLower:!0,category:"nature",hardness:.6,blastResistance:.5,tick:function(e,t,s,a,o,r){for(var i=this.id,n=t-4;n<=t+4;n++)for(var l=a-4;l<=a+4;l++){var h=r.getBlock(n,s,l,o),d=r.getBlock(n,s+1,l,o);(h&&"Water"===L[h].name||d&&"Water"===L[d].name)&&(i=this.id|ce)}e!==i&&r.setBlock(t,s,a,i,!1,!1,!1,!1,o)}},{name:"glowBerries",Name:"Glow Berries",edible:!0,item:!0,eatWhenFull:!1,food:2,saturation:.4,compostChance:.3,category:"food"},{name:"hayBlock",Name:"Hay Bale",textures:["hayBlockTop","hayBlockSide"],type:"plant2",damageResistance:.8,burnChance:.2,burnTime:20,category:"decoration"},{name:"hayBlockSW",textures:["hayBlockSide","hayBlockSide","hayBlockTop","hayBlockSide"],SW:!0,type:"plant2",damageResistance:.8,compostChance:.85,hidden:!0},{name:"woodenShovel",Name:"Wooden Shovel",item:!0,shovel:!0,durability:59,mineSpeed:2,attackDamage:2,category:"tools"},{name:"stoneShovel",Name:"Stone Shovel",item:!0,shovel:!0,durability:131,mineSpeed:3.6,attackDamage:4,material:"cobblestone",category:"tools"},{name:"ironShovel",Name:"Iron Shovel",item:!0,shovel:!0,durability:250,mineSpeed:6,attackDamage:4,material:"ironIngot",category:"tools"},{name:"goldenShovel",Name:"Golden Shovel",item:!0,shovel:!0,durability:32,mineSpeed:12,attackDamage:2,material:"goldIngot",category:"tools"},{name:"diamondShovel",Name:"Diamond Shovel",item:!0,shovel:!0,durability:1561,mineSpeed:8,attackDamage:5,material:"diamond",category:"tools"},{name:"woodenAxe",Name:"Wooden Axe",item:!0,axe:!0,durability:59,mineSpeed:2,attackDamage:7,attackSpeed:.8,category:"tools"},{name:"stoneAxe",Name:"Stone Axe",item:!0,axe:!0,durability:131,mineSpeed:4,attackDamage:9,attackSpeed:.8,material:"cobblestone",category:"tools"},{name:"ironAxe",Name:"Iron Axe",item:!0,axe:!0,durability:250,mineSpeed:6,attackDamage:9,attackSpeed:.9,material:"ironIngot",category:"tools"},{name:"goldenAxe",Name:"Golden Axe",item:!0,axe:!0,durability:32,mineSpeed:12,attackDamage:7,attackSpeed:1,material:"goldIngot",category:"tools"},{name:"diamondAxe",Name:"Diamond Axe",item:!0,axe:!0,durability:1561,mineSpeed:8,attackDamage:9,attackSpeed:1,material:"diamond",category:"tools"},{name:"strippedOakLog",Name:"Stripped Oak Log",textures:["strippedOakLogTop","strippedOakLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedOakLogSW",textures:["strippedOakLog","strippedOakLog","strippedOakLogTop","strippedOakLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedBirchLog",Name:"Stripped Birch Log",textures:["strippedBirchLogTop","strippedBirchLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedBirchLogSW",textures:["strippedBirchLog","strippedBirchLog","strippedBirchLogTop","strippedBirchLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedAcaciaLog",Name:"Stripped Acacia Log",textures:["strippedAcaciaLogTop","strippedAcaciaLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedAcaciaLogSW",textures:["strippedAcaciaLog","strippedAcaciaLog","strippedAcaciaLogTop","strippedAcaciaLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedJungleLog",Name:"Stripped Jungle Log",textures:["strippedJungleLogTop","strippedJungleLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedJungleLogSW",textures:["strippedJungleLog","strippedJungleLog","strippedJungleLogTop","strippedJungleLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedSpruceLog",Name:"Stripped Spruce Log",textures:["strippedSpruceLogTop","strippedSpruceLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedSpruceLogSW",textures:["strippedSpruceLog","strippedSpruceLog","strippedSpruceLogTop","strippedSpruceLog"],woodSound:!0,SW:!0,hidden:!0},{name:"strippedDarkOakLog",Name:"Stripped Dark Oak Log",textures:["strippedDarkOakLogTop","strippedDarkOakLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"strippedDarkOakLogSW",textures:["strippedDarkOakLog","strippedDarkOakLog","strippedDarkOakLogTop","strippedDarkOakLog"],woodSound:!0,SW:!0,hidden:!0},{name:"boneBlockSW",textures:["boneBlockSide","boneBlockSide","boneBlockTop","boneBlockSide"],SW:!0,hidden:!0},{name:"redMushroom",Name:"Red Mushroom",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,lightLevel:1,compostChance:.65,liquidBreakable:"drop",category:"nature",growBonemeal:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnHugeMushroom(15&e,t-1,15&s,e,s,!1),win.serverRestoreWorldGen()}},{name:"brownMushroom",Name:"Brown Mushroom",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,lightLevel:1,compostChance:.65,liquidBreakable:"drop",category:"nature",growBonemeal:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnHugeMushroom(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()}},{name:"mushroomStem",Name:"Mushroom Stem",mushroomBlock:!0,compostChance:.65,category:"nature"},{name:"redMushroomBlock",Name:"Red Mushroom Block",mushroomBlock:!0,compostChance:.85,category:"nature"},{name:"brownMushroomBlock",Name:"Brown Mushroom Block",mushroomBlock:!0,compostChance:.85,category:"nature"},{name:"mycelium",Name:"Mycelium",textures:["dirt","myceliumTop","myceliumSide"],type:"ground",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,hardness:.6,blastResistance:.6,drop:"dirt",grassSound:!0},{name:"terracotta",Name:"Terracotta",category:"build"},{name:"redTerracotta",Name:"Terracotta with watermelon juice",category:"build"},{name:"blueTerracotta",Name:"Terracotta with blueberry juice",category:"build"},{name:"cyanTerracotta",Name:"Terracotta with cyan colored fruit punch",category:"build"},{name:"grayTerracotta",Name:"Dusty Terracotta",category:"build"},{name:"limeTerracotta",Name:"Terracotta with leaf juice",category:"build"},{name:"pinkTerracotta",Name:"Terracotta with fruit punch",category:"build"},{name:"blackTerracotta",Name:"Terracotta painted black",category:"build"},{name:"brownTerracotta",Name:"Dirty Terracotta",category:"build"},{name:"greenTerracotta",Name:"Terracotta with some other leaf juice",category:"build"},{name:"whiteTerracotta",Name:"Terracotta with flour",category:"build"},{name:"orangeTerracotta",Name:"Orange Terracotta",category:"build"},{name:"purpleTerracotta",Name:"Purple Terracotta",category:"build"},{name:"yellowTerracotta",Name:"Terracotta with lemon juice",category:"build"},{name:"magentaTerracotta",Name:"Magenta Terracotta",category:"build"},{name:"lightBlueTerracotta",Name:"Light Blue Terracotta",category:"build"},{name:"lightGrayTerracotta",Name:"Light Gray Terracotta",category:"build"},{name:"redGlazedTerracotta",Name:"Watermelon Swirl",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"blueGlazedTerracotta",Name:"Blue Fan",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"cyanGlazedTerracotta",Name:"Creeper in the skies",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"grayGlazedTerracotta",Name:"Bunch of Dust",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"limeGlazedTerracotta",Name:"Overlapping lilies",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"pinkGlazedTerracotta",Name:"Pink turtle shell",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"blackGlazedTerracotta",Name:"Red monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"brownGlazedTerracotta",Name:"Mudslide in the ocean",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"greenGlazedTerracotta",Name:"Camouflaged monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"whiteGlazedTerracotta",Name:"Sun & clouds",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"orangeGlazedTerracotta",Name:"Flower Monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"purpleGlazedTerracotta",Name:"Sword & pickaxe monster",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"yellowGlazedTerracotta",Name:"Some kind of bug",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"magentaGlazedTerracotta",Name:"Arrow",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"lightBlueGlazedTerracotta",Name:"Monster sticking out tongue and eyes facing opposite direction",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"lightGrayGlazedTerracotta",Name:"Monster with blue eyes and mouth",category:"build",pistonPush:!1,pistonPull:!1,randomRotate:"pattern",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"ancientDebris",Name:"Ancient Debris",textures:["ancientDebrisTop","ancientDebrisSide"],hardness:30,type:"rock4",category:"nature"},{name:"wheatSeeds",Name:"Seeds",item:!0,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"wheat":void 0},compostChance:.3,category:"items"},{name:"yellowStainedGlass",Name:"Yellow Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"whiteStainedGlass",Name:"White Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"redStainedGlass",Name:"Red Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"purpleStainedGlass",Name:"Purple Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"pinkStainedGlass",Name:"Pink Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"orangeStainedGlass",Name:"Orange Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"magentaStainedGlass",Name:"Magenta Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"limeStainedGlass",Name:"Lime Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"lightGrayStainedGlass",Name:"Light Gray Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"lightBlueStainedGlass",Name:"Light Blue Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"greenStainedGlass",Name:"Green Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"grayStainedGlass",Name:"Gray Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"cyanStainedGlass",Name:"Cyan Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"brownStainedGlass",Name:"Brown Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"blueStainedGlass",Name:"Blue Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"blackStainedGlass",Name:"Black Stained Glass",transparent:!0,shadow:!1,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"yellowStainedGlassPane",Name:"Yellow Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["yellowStainedGlassPaneTop","yellowStainedGlassPaneTop","yellowStainedGlass","yellowStainedGlass","yellowStainedGlassPaneSide","yellowStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"whiteStainedGlassPane",Name:"White Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["whiteStainedGlassPaneTop","whiteStainedGlassPaneTop","whiteStainedGlass","whiteStainedGlass","whiteStainedGlassPaneSide","whiteStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"redStainedGlassPane",Name:"Red Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["redStainedGlassPaneTop","redStainedGlassPaneTop","redStainedGlass","redStainedGlass","redStainedGlassPaneSide","redStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"purpleStainedGlassPane",Name:"Purple Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["purpleStainedGlassPaneTop","purpleStainedGlassPaneTop","purpleStainedGlass","purpleStainedGlass","purpleStainedGlassPaneSide","purpleStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"pinkStainedGlassPane",Name:"Pink Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["pinkStainedGlassPaneTop","pinkStainedGlassPaneTop","pinkStainedGlass","pinkStainedGlass","pinkStainedGlassPaneSide","pinkStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"orangeStainedGlassPane",Name:"Orange Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["orangeStainedGlassPaneTop","orangeStainedGlassPaneTop","orangeStainedGlass","orangeStainedGlass","orangeStainedGlassPaneSide","orangeStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"magentaStainedGlassPane",Name:"Magenta Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["magentaStainedGlassPaneTop","magentaStainedGlassPaneTop","magentaStainedGlass","magentaStainedGlass","magentaStainedGlassPaneSide","magentaStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"limeStainedGlassPane",Name:"Lime Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["limeStainedGlassPaneTop","limeStainedGlassPaneTop","limeStainedGlass","limeStainedGlass","limeStainedGlassPaneSide","limeStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"lightGrayStainedGlassPane",Name:"Light Gray Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["lightGrayStainedGlassPaneTop","lightGrayStainedGlassPaneTop","lightGrayStainedGlass","lightGrayStainedGlass","lightGrayStainedGlassPaneSide","lightGrayStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"lightBlueStainedGlassPane",Name:"Light Blue Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["lightBlueStainedGlassPaneTop","lightBlueStainedGlassPaneTop","lightBlueStainedGlass","lightBlueStainedGlass","lightBlueStainedGlassPaneSide","lightBlueStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"greenStainedGlassPane",Name:"Green Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["greenStainedGlassPaneTop","greenStainedGlassPaneTop","greenStainedGlass","greenStainedGlass","greenStainedGlassPaneSide","greenStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"grayStainedGlassPane",Name:"Gray Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["grayStainedGlassPaneTop","grayStainedGlassPaneTop","grayStainedGlass","grayStainedGlass","grayStainedGlassPaneSide","grayStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"cyanStainedGlassPane",Name:"Cyan Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["cyanStainedGlassPaneTop","cyanStainedGlassPaneTop","cyanStainedGlass","cyanStainedGlass","cyanStainedGlassPaneSide","cyanStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"brownStainedGlassPane",Name:"Brown Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["brownStainedGlassPaneTop","brownStainedGlassPaneTop","brownStainedGlass","brownStainedGlass","brownStainedGlassPaneSide","brownStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"blueStainedGlassPane",Name:"Blue Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["blueStainedGlassPaneTop","blueStainedGlassPaneTop","blueStainedGlass","blueStainedGlass","blueStainedGlassPaneSide","blueStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"blackStainedGlassPane",Name:"Black Stained Glass Pane",transparent:!0,shadow:!1,hardness:.3,pane:!0,textures:["blackStainedGlassPaneTop","blackStainedGlassPaneTop","blackStainedGlass","blackStainedGlass","blackStainedGlassPaneSide","blackStainedGlassPaneSide"],glassSound:!0,category:"build"},{name:"cobweb",Name:"Cobweb",solid:!1,transparent:!0,shadow:!1,crossShape:!0,hardness:4,drop:"air",dropSelfWhenSheared:!0,shearBreakTime:.4,liquidBreakable:"drop",category:"decoration"},{name:"strippedCrimsonStem",Name:"Stripped Crimson Stem",textures:["strippedCrimsonStemTop","strippedCrimsonStem"],hardness:2,stemSound:!0,category:"build"},{name:"strippedCrimsonStemSW",textures:["strippedCrimsonStem","strippedCrimsonStem","strippedCrimsonStemTop","strippedCrimsonStem"],hardness:2,stemSound:!0,SW:!0,hidden:!0},{name:"strippedWarpedStem",Name:"Stripped Warped Stem",textures:["strippedWarpedStemTop","strippedWarpedStem"],hardness:2,stemSound:!0,category:"build"},{name:"strippedWarpedStemSW",textures:["strippedWarpedStem","strippedWarpedStem","strippedWarpedStemTop","strippedWarpedStem"],hardness:2,stemSound:!0,SW:!0,hidden:!0},{name:"oakPressurePlate",Name:"Oak Pressure Plate",textures:"oakPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"birchPressurePlate",Name:"Birch Pressure Plate",textures:"birchPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"sprucePressurePlate",Name:"Spruce Pressure Plate",textures:"sprucePlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"junglePressurePlate",Name:"Jungle Pressure Plate",textures:"junglePlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"acaciaPressurePlate",Name:"Acacia Pressure Plate",textures:"acaciaPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"darkOakPressurePlate",Name:"Dark Oak Pressure Plate",textures:"darkOakPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"warpedPressurePlate",Name:"Warped Pressure Plate",textures:"warpedPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"crimsonPressurePlate",Name:"Crimson Pressure Plate",textures:"crimsonPlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"stonePressurePlate",Name:"Stone Pressure Plate",textures:"stone",pressurePlate:!0,type:"stone",hardness:.5,category:"redstone"},{name:"polishedBlackstonePressurePlate",textures:"polishedBlackstone",pressurePlate:!0,type:"stone",hardness:.5,category:"redstone"},{name:"lightWeightedPressurePlate",textures:"goldBlock",pressurePlate:!0,type:"stone",hardness:.5,lightWeighted:!0,category:"redstone"},{name:"heavyWeightedPressurePlate",textures:"ironBlock",pressurePlate:!0,type:"stone",hardness:.5,heavyWeighted:!0,category:"redstone"},{name:"oakButton",Name:"Oak Button",textures:"oakPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"birchButton",Name:"Birch Button",textures:"birchPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"acaciaButton",Name:"Acacia Button",textures:"acaciaPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"darkOakButton",Name:"Dark Oak Button",textures:"darkOakPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"jungleButton",Name:"Jungle Button",textures:"junglePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"spruceButton",Name:"Spruce Button",textures:"sprucePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"warpedButton",Name:"Warped Button",textures:"warpedPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"crimsonButton",Name:"Crimson Button",textures:"crimsonPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"polishedBlackstoneButton",Name:"Polished Blackstone Button",textures:"polishedBlackstone",button:!0,transparent:!0,shadow:!1,stone:!0,category:"redstone"},{name:"copperBlock",Name:"Block of Copper",category:"build"},{name:"crackedPolishedBlackstoneBricks",Name:"Cracked Polished Blackstone Bricks",category:"build"},{name:"crackedStoneBricks",Name:"Cracked Stone Bricks",category:"build"},{name:"woodenHoe",Name:"Wooden Hoe",item:!0,hoe:!0,durability:59,mineSpeed:2,attackDamage:1,attackSpeed:1,category:"tools"},{name:"stoneHoe",Name:"Stone Hoe",item:!0,hoe:!0,durability:131,mineSpeed:4,attackDamage:1,attackSpeed:2,material:"cobblestone",category:"tools"},{name:"ironHoe",Name:"Iron Hoe",item:!0,hoe:!0,durability:250,mineSpeed:6,attackDamage:1,attackSpeed:3,material:"ironIngot",category:"tools"},{name:"goldenHoe",Name:"Golden Hoe",item:!0,hoe:!0,durability:32,mineSpeed:12,attackDamage:1,attackSpeed:1,material:"goldIngot",category:"tools"},{name:"diamondHoe",Name:"Diamond Hoe",item:!0,hoe:!0,durability:1561,mineSpeed:8,attackDamage:1,attackSpeed:4,material:"diamond",category:"tools"},{name:"podzol",Name:"Podzol",textures:["dirt","podzolTop","podzolSide"],category:"nature",hardness:.5,blastResistance:.5,type:"ground",onupdate:function(e,t,s,a,o,r,i,n,l){let h=o.getBlock(e,t+1,s,l),d="snow"===L[h].name||"snowBlock"===L[h].name;a===I.podzol&&d?o.setBlock(e,t,s,I.podzol|ue,!1,!1,!1,!1,l):a!==(I.podzol|ue)||d||o.setBlock(e,t,s,I.podzol,!1,!1,!1,!1,l)},compostChance:.3,randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"rawIronBlock",Name:"Block of Raw Iron",type:"rock2",hardness:5,category:"build"},{name:"rawGoldBlock",Name:"Block of Raw Gold",type:"rock3",hardness:5,category:"build"},{name:"rawCopperBlock",Name:"Block of Raw Copper",type:"rock2",hardness:5,category:"build"},{name:"netheriteScrap",Name:"Netherite Scrap",item:!0,category:"items"},{name:"netheriteIngot",Name:"Netherite Ingot",item:!0,category:"items"},{name:"netheritePickaxe",Name:"Netherite Pickaxe",item:!0,pickaxe:!0,mineSpeed:9,durability:2031,attackDamage:6,material:"netheriteIngot",category:"tools"},{name:"netheriteSword",Name:"Netherite Sword",item:!0,sword:!0,durability:2031,attackDamage:8,material:"netheriteIngot",category:"tools"},{name:"netheriteAxe",Name:"Netherite Axe",item:!0,axe:!0,durability:2031,mineSpeed:9,attackDamage:10,attackSpeed:1,material:"netheriteIngot",category:"tools"},{name:"netheriteShovel",Name:"Netherite Shovel",item:!0,shovel:!0,durability:2031,mineSpeed:9,attackDamage:6,material:"netheriteIngot",category:"tools"},{name:"netheriteHoe",Name:"Nethrite Hoe",item:!0,hoe:!0,durability:2031,mineSpeed:9,attackDamage:1,attackSpeed:4,material:"netheriteIngot",category:"tools"},{name:"cartographyTable",Name:"Cartograpgy Table",textures:["cartographyTableSide3","cartographyTableTop","cartographyTableSide3","cartographyTableSide1","cartographyTableSide2","cartographyTableSide3"],rotate:!0,category:"items"},{name:"cake",Name:"Cake",textures:["cakeBottom","cakeTop","cakeSide"],cake:!0,transparent:!0,flatIcon:!0,iconTexture:"cake",compostChance:1,category:"food"},{name:"smithingTable",Name:"Smithing Table",textures:["smithingTableBottom","smithingTableTop","smithingTableFront","smithingTableSide"],category:"items"},{name:"stonecutter",Name:"Stonecutter",textures:["stonecutterBottom","stonecutterTop","stonecutterSide"],transparent:!0,stonecutter:!0,category:"items"},{name:"itemFrame",Name:"Item Frame",transparent:!0,itemFrame:!0,flatIcon:!0,iconTexture:"itemFrameIcon",category:"items"},{name:"enderPearl",Name:"Ender Pearl",item:!0,onuse:function(e,t,s,a,o,r,i,n){world.addEntity(new wt[ft.EnderPearl](p.x,p.y,p.z,p.direction.x,p.direction.y,p.direction.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"ironNugget",Name:"Iron Nugget",item:!0,category:"items"},{name:"goldNugget",Name:"Gold Nugget",item:!0,category:"items"},{name:"pumpkin",Name:"Pumpkin",textures:["pumpkinSide","pumpkinTop","pumpkinSide"],compostChance:.65,category:"nature"},{name:"carvedPumpkin",Name:"Carved Pumpkin",textures:["pumpkinSide","pumpkinTop","pumpkinSide","carvedPumpkin","pumpkinSide","pumpkinSide"],rotate:!0,compostChance:.65,category:"nature"},{name:"jackOLantern",Name:"Jack o'Lantern",textures:["pumpkinSide","pumpkinTop","pumpkinSide","jackOLantern","pumpkinSide","pumpkinSide"],lightLevel:15,rotate:!0,compostChance:.65,category:"nature"},{name:"shears",Name:"Shears",item:!0,shears:!0,category:"items"},{name:"pumpkinSeeds",Name:"Pumpkin Seeds",item:!0,compostChance:.3,category:"items"},{name:"melonSeeds",Name:"Watermelon Seeds",item:!0,compostChance:.3,category:"items"},{name:"melon",Name:"Watermelon",textures:["melonSide","melonTop","melonSide"],hardness:1,drop:"melonSlice",dropAmount:[3,7],compostChance:.65,category:"nature"},{name:"melonSlice",Name:"Slice of Watermelon",item:!0,edible:!0,food:2,saturation:1.2,compostChance:.5,category:"nature"},{name:"redstoneLamp",Name:"Redstone Lamp",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),d=this.id;h&&(d=this.id|ce),l.getBlock(e,t,s,n)!==d&&l.setBlock(e,t,s,d,!1,!1,!1,!1,n)},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)},category:"redstone"},{name:"glowstoneDust",Name:"Glowstone Dust",item:!0,category:"items"},{name:"quartz",Name:"Quartz",item:!0,category:"items"},{name:"endPortalFrame",Name:"End Portal Frame",textures:["endStone","endPortalFrameTop","endPortalFrameSide"],category:"items",blastResistance:36e5,hardness:1/0,lightLevel:1,glassSound:!0,eyeplace:function(e,t,s,a,o){this.findFullFrame(e+1,t,s,a,o),this.findFullFrame(e-1,t,s,a,o),this.findFullFrame(e,t,s+1,a,o),this.findFullFrame(e,t,s-1,a,o)},findFullFrame:function(e,t,s,a,o){if(L[o.getBlock(e,t,s)].solid)return;let r=[],i=[e,t,s,0],n=e,l=s,h=e,d=s;for(;i.length;){let[c,p,u]=i;if(Math.max(Math.abs(e-c),Math.abs(t-p),Math.abs(s-u))>2)return;if(n=Math.min(n,c),l=Math.min(l,u),h=Math.max(h,c),d=Math.max(d,u),!xyArrayHas(r,i,c,p,u+1)){let e=o.getBlock(c,p,u+1,a);if(L[e].solid){if(L[e].name!==this.name)return}else i.push(c,p,u+1,0)}if(!xyArrayHas(r,i,c,p,u-1)){let e=o.getBlock(c,p,u-1,a);if(L[e].solid){if(L[e].name!==this.name)return}else i.push(c,p,u-1,0)}if(!xyArrayHas(r,i,c+1,p,u)){let e=o.getBlock(c+1,p,u,a);if(L[e].solid){if(L[e].name!==this.name)return}else i.push(c+1,p,u,0)}if(!xyArrayHas(r,i,c-1,p,u)){let e=o.getBlock(c-1,p,u,a);if(L[e].solid){if(L[e].name!==this.name)return}else i.push(c-1,p,u,0)}r.push(...i.splice(0,4))}e=n-1,s=l-1,o.getBlock(e+1,t,s,a)===(this.id|ce|je)&&o.getBlock(e+2,t,s,a)===(this.id|ce|je)&&o.getBlock(e+3,t,s,a)===(this.id|ce|je)&&o.getBlock(e+4,t,s+1,a)===(this.id|ce|Ye)&&o.getBlock(e+4,t,s+2,a)===(this.id|ce|Ye)&&o.getBlock(e+4,t,s+3,a)===(this.id|ce|Ye)&&o.getBlock(e+1,t,s+4,a)===(this.id|ce|He)&&o.getBlock(e+2,t,s+4,a)===(this.id|ce|He)&&o.getBlock(e+3,t,s+4,a)===(this.id|ce|He)&&o.getBlock(e,t,s+1,a)===(this.id|ce|Ve)&&o.getBlock(e,t,s+2,a)===(this.id|ce|Ve)&&o.getBlock(e,t,s+3,a)===(this.id|ce|Ve)&&(o.setBlock(e+1,t,s+1,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+2,t,s+1,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+3,t,s+1,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+1,t,s+2,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+2,t,s+2,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+3,t,s+2,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+1,t,s+3,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+2,t,s+3,I.endPortal,!1,!1,!1,!1,a),o.setBlock(e+3,t,s+3,I.endPortal,!1,!1,!1,!1,a),o.playSound(e+2,t,s+2,"block.end_portal.endportal"))}},{name:"eyeOfEnder",Name:"Eye of Ender",flatIcon:!0,item:!0,placeSound:["block.end_portal.eyeplace1","block.end_portal.eyeplace2","block.end_portal.eyeplace3"],category:"items"},{name:"endStone",Name:"End Stone",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"redSand",Name:"Red Sand",hardness:.5,fallingDust:[178/255,94/255,26/255],onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},category:"nature",digSound:["block.sand.dig1","block.sand.dig2","block.sand.dig3","block.sand.dig4"],stepSound:["block.sand.step1","block.sand.step2","block.sand.step3","block.sand.step4","block.sand.step5"]},{name:"redSandstone",Name:"Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","redSandstone"],category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"chiseledRedSandstone",Name:"Chiseled Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","chiseledRedSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"cutRedSandstone",Name:"Cut Red Sandstone",textures:["redSandstoneBottom","redSandstoneTop","cutRedSandstone"],category:"build",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0},{name:"smoothRedSandstone",Name:"Smooth Red Sandstone",textures:"redSandstoneTop",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"purpurBlock",Name:"Purpur Block",category:"build"},{name:"purpurPillar",Name:"Purpur Pillar",textures:["purpurPillarTop","purpurPillar"],category:"build"},{name:"purpurPillarSW",textures:["purpurPillar","purpurPillar","purpurPillarTop","purpurPillar"],SW:!0,hidden:!0},{name:"prismarine",Name:"Prismarine",category:"build"},{name:"prismarineBricks",Name:"Prismarine Bricks",category:"build"},{name:"darkPrismarine",Name:"Dark Prismarine",category:"build"},{name:"prismarineCrystals",Name:"Prismarine Crystals",category:"items",item:!0},{name:"prismarineShard",Name:"Prismarine Shard",item:!0,category:"items"},{name:"seaLantern",Name:"Sea Lantern",lightLevel:15,hardness:.3,category:"decoration"},{name:"oakLeaves",Name:"Oak Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"oakSapling":rand()>.8?"orange":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"acaciaLeaves",Name:"Acacia Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"acaciaSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"birchLeaves",Name:"Birch Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"birchSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"darkOakLeaves",Name:"Dark Oak Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"darkOakSapling":"apple"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"jungleLeaves",Name:"Jungle Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"jungleSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"spruceLeaves",Name:"Spruce Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"spruceSapling"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature"},{name:"spyglass",Name:"Spyglass",textures:"spyglassModel",iconTexture:"spyglass",item:!0,spyglass:!0,category:"items"},{name:"egg",Name:"Egg",item:!0,onuse:function(e,t,s,a,o,r,i,n){var l=p.direction;world.addEntity(new wt[ft.Egg](p.x+l.x,p.y+l.y,p.z+l.z,.8*l.x,.8*l.y,.8*l.z),!1,n)},minusOnUse:!0,useAnywhere:!0,category:"items"},{name:"noodles",Name:"Noodles",item:!0,category:"food",hidden:!0},{name:"bowl",Name:"Bowl",item:!0,category:"items"},{name:"mushroomStew",Name:"Mushroom Stew",edible:!0,item:!0,eatWhenFull:!1,food:6,saturation:7.2,eatResult:"bowl",category:"food"},{name:"ramen",Name:"Ramen! Yum!",edible:!0,item:!0,eatWhenFull:!0,food:8,saturation:10,eatResult:"bowl",category:"food",hidden:!0},{name:"orange",Name:"Orange",edible:!0,item:!0,eatWhenFull:!1,food:4,saturation:2.4,category:"food"},{name:"fern",Name:"Fern",solid:!1,transparent:!0,shadow:!1,flatIcon:!0,compostChance:.65,liquidBreakable:"drop",category:"nature",potCross:!0},{name:"largeFern",Name:"Large Fern",solid:!1,transparent:!0,shadow:!1,textures:"largeFernTop",tallcrossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"fire",fire:!0,damage:1,burnEnt:!0,transparent:!0,shadow:!1,solid:!1,lightLevel:15,ambientSound:"block.fire.fire",temperature:20,shade:!1,smoothLight:!1,hidden:!0,liquidBreakable:!0,noHitbox:!0,tagBits:{age:[0,8]},getAttached:function(e,t,s,a,o,r,i){var n=e,l=t,h=s;switch(a){case this.id:l--;break;case this.id|pe:l++;break;case this.id|ce|He:h++;break;case this.id|ce|je:h--;break;case this.id|ce|Ye:n++;break;case this.id|ce|Ve:n--}var d=i.getBlock(n,l,h,o);return r?d:[d,n,l,h]},onupdate:function(e,t,s,a,o,r,i,n,l){var h=this.getAttached(e,t,s,a,l,!0,o);h&&(L[h].solid||L[h].liquid)||o.setBlock(e,t,s,0,!1,!1,!1,!1,l)},tick:function(e,t,s,a,o){var r=o.getBlock(e,t,s,a),i=this.getAttached(e,t,s,r,a,!1,o),n=i[1],l=i[2],h=i[3];i=i[0];var d=o.getTagByName(e,t,s,"age",a);if(d||(d=0),(d+=rand(10,11))>=15&&(!i||!L[i].burnTime))return o.setBlock(e,t,s,0,!1,!1,!1,!1,a);if(i&&L[i].burnTime&&d>L[i].burnTime)return o.setBlock(e,t,s,0,!1,!1,!1,!1,a),void o.setBlock(n,l,h,0,!1,!1,!1,!1,a);if(d>255&&(d=255),o.setTagByName(e,t,s,"age",d,!1,a),"rain"===o.weather&&o.weatherAmount>.5){t>o.getSolidTop(e,s,a)&&o.setBlock(e,t,s,0,!1,!1,!1,!1,a)}this.spread(e,t,s,a,o)},spread:function(e,t,s,a,o){for(var r=e-1;r<=e+1;r++)for(var i=t-1;i<=t+4;i++)for(var n=s-1;n<=s+1;n++){if((l=o.getBlock(r,i,n,a))&&L[l].burnChance&&rand()<L[l].burnChance){var l;let e,t,s;L[l].onburn&&L[l].onburn(r,i,n,a,o);for(var h=0;h<6;h++){switch(e=r,t=i,s=n,floor(rand(6))){case 0:l=this.id,t++;break;case 1:l=this.id|pe,t--;break;case 2:l=this.id|ce|He,s--;break;case 3:l=this.id|ce|je,s++;break;case 4:l=this.id|ce|Ye,e--;break;case 5:l=this.id|ce|Ve,e++}if(!o.getBlock(e,t,s,a))break}o.getBlock(e,t,s,a)||o.setBlock(e,t,s,l,!1,!1,!1,!1,a)}}},tryCreatePortalZ:function(e,t,s,a){let o,r=[],i=[e,t,s,0];for(;i.length;){let[n,l,h,d]=i.splice(0,4);if(r.push(n,l,h,d),max(abs(n-e),abs(l-t),abs(h-s))>23)return;if(o=world.getBlock(n,l,h+1,a),!xyArrayHas(r,i,n,l,h+1))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l,h+1,d+1);if(o=world.getBlock(n,l,h-1,a),!xyArrayHas(r,i,n,l,h-1))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l,h-1,d+1);if(o=world.getBlock(n,l+1,h,a),!xyArrayHas(r,i,n,l+1,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l+1,h,d+1);if(o=world.getBlock(n,l-1,h,a),!xyArrayHas(r,i,n,l-1,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l-1,h,d+1)}for(let e=0;e<r.length;e+=4)world.setBlock(r[e],r[e+1],r[e+2],I.portal|Se|Ye,!1,!1,!1,!1,a);return!0},tryCreatePortalX:function(e,t,s,a){let o,r=[],i=[e,t,s,0];for(;i.length;){let[n,l,h,d]=i.splice(0,4);if(r.push(n,l,h,d),max(abs(n-e),abs(l-t),abs(h-s))>23)return;if(o=world.getBlock(n+1,l,h,a),!xyArrayHas(r,i,n+1,l,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n+1,l,h,d+1);if(o=world.getBlock(n-1,l,h,a),!xyArrayHas(r,i,n-1,l,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n-1,l,h,d+1);if(o=world.getBlock(n,l+1,h,a),!xyArrayHas(r,i,n,l+1,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l+1,h,d+1);if(o=world.getBlock(n,l-1,h,a),!xyArrayHas(r,i,n,l-1,h))if(L[o].solid){if(o!==I.obsidian)return}else i.push(n,l-1,h,d+1)}for(let e=0;e<r.length;e+=4)world.setBlock(r[e],r[e+1],r[e+2],I.portal|Se|He,!1,!1,!1,!1,a);return!0},tryCreatePortal:function(e,t,s,a){return this.tryCreatePortalZ(e,t,s,a)||this.tryCreatePortalX(e,t,s,a)}},{name:"endRod",Name:"End Rod",transparent:!0,shadow:!1,lightLevel:15,category:"decoration"},{name:"oakWood",Name:"Oak Wood",textures:"logSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"acaciaWood",Name:"Acacia Wood",textures:"acaciaLogSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"birchWood",Name:"Birch Wood",textures:"birchLogSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"darkOakWood",Name:"Dark Oak Wood",textures:"darkOakLogSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"jungleWood",Name:"Jungle Wood",textures:"jungleLogSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"spruceWood",Name:"Spruce Wood",textures:"spruceLogSide",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"crimsonHyphae",textures:"crimsonStemSide",stemSound:!0,breakTime:2,type:"wood",category:"nature"},{name:"warpedHyphae",textures:"warpedStemSide",stemSound:!0,breakTime:2,type:"wood",category:"nature"},{name:"strippedOakWood",Name:"Stripped Oak Wood",textures:"strippedOakLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedAcaciaWood",Name:"Stripped Acacia Wood",textures:"strippedAcaciaLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedBirchWood",Name:"Stripped Birch Wood",textures:"strippedBirchLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedDarkOakWood",Name:"Stripped Dark Oak Wood",textures:"strippedDarkOakLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedJungleWood",Name:"Stripped Jungle Wood",textures:"strippedJungleLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedSpruceWood",Name:"Stripped Spruce Wood",textures:"strippedSpruceLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"strippedCrimsonHyphae",textures:"strippedCrimsonStem",stemSound:!0,hardness:2,type:"wood",category:"build"},{name:"strippedWarpedHyphae",textures:"strippedWarpedStem",stemSound:!0,hardness:2,type:"wood",category:"build"},{name:"oakFenceGate",Name:"Oak Fence Gate",textures:"oakPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"acaciaFenceGate",Name:"Acacia Fence Gate",textures:"acaciaPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"birchFenceGate",Name:"Birch Fence Gate",textures:"birchPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"darkOakFenceGate",Name:"Dark Oak Fence Gate",textures:"darkOakPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"jungleFenceGate",Name:"Jungle Fence Gate",textures:"junglePlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"spruceFenceGate",Name:"Spruce Fence Gate",textures:"sprucePlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"crimsonFenceGate",Name:"Crimson Fence Gate",textures:"crimsonPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"warpedFenceGate",Name:"Warped Fence Gate",textures:"warpedPlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"kelp",Name:"Kelp",flatIcon:!0,iconTexture:"kelpIcon",transparent:!0,solid:!1,shadow:!1,crossShape:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l);("kelp"===L[h].name||"kelpPlant"===L[h].name)&&o.setBlock(e,t,s,I.kelpPlant|ue,!1,!1,!1,!1,l)},category:"nature"},{name:"kelpPlant",transparent:!0,solid:!1,shadow:!1,crossShape:!0,onupdate:function(e,t,s,a,o,r,i,n,l){var h=o.getBlock(e,t+1,s,l);"kelp"===L[h].name||"kelpPlant"===L[h].name||o.setBlock(e,t,s,I.kelp|ue,!1,!1,!1,!1,l)},hidden:!0},{name:"seagrass",Name:"Seagrass",iconTexture:"seagrassIcon",transparent:!0,solid:!1,shadow:!1,crop:!0,category:"nature"},{name:"tallSeagrass",Name:"Tall Seagrass",textures:"tallSeagrassTop",transparent:!0,solid:!1,shadow:!1,tallCrop:!0,category:"nature"},{name:"barrel",Name:"Barrel",textures:["barrelBottom","barrelTop","barrelSide"],texturesOpen:w(["barrelBottom","barrelTopOpen","barrelSide"]),texturesSW:w(["barrelSide","barrelSide","barrelTop","barrelSide"]),texturesSWOpen:w(["barrelSide","barrelSide","barrelTopOpen","barrelSide"]),texturesDown:w(["barrelTop","barrelBottom","barrelSide"]),texturesDownOpen:w(["barrelTopOpen","barrelBottom","barrelSide"]),woodSound:!0,barrel:!0,category:"items",tagBits:null,setContents:function(e,t,s,a,o){let r={chest:!0,contents:new Array(27).fill(0)};return o.setTags(e,t,s,r,!1,a),r},onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("chest"),releasePointer()},onbreak:function(e,t,s,a,o,r,i){if(o&&o.chest&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&i.addItems(e,t,s,r,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}}},{name:"endStoneBricks",Name:"End Stone Bricks",stoneSound:!0,category:"build"},{name:"beeNest",Name:"Bee Nest",textures:["beeNestBottom","beeNestTop","beeNestSide","beeNestFront","beeNestSide","beeNestSide"],texturesHoney:["beeNestBottom","beeNestTop","beeNestSide","beeNestFrontHoney","beeNestSide","beeNestSide"],rotate:!0,category:"nature"},{name:"beehive",Name:"Beehive",textures:["beehiveEnd","beehiveEnd","beehiveSide","beehiveFront","beehiveSide","beehiveSide"],texturesHoney:["beehiveEnd","beehiveEnd","beehiveSide","beehiveFrontHoney","beehiveSide","beehiveSide"],rotate:!0,category:"items"},{name:"honeyBlock",Name:"Block of Honey",textures:"honeyBlockBottom",transparent:!0,shapeName:"honeyBlock",damageResistance:.8,category:"build",sticky:!0},{name:"honeycomb",Name:"Honeycomb",item:!0,category:"items"},{name:"honeycombBlock",Name:"Honeycomb Block",category:"build"},{name:"coarseDirt",Name:"Coarse Dirt",hardness:1,type:"ground",category:"nature",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"]},{name:"inkSac",Name:"Ink Sac",item:!0,category:"items"},{name:"glowInkSac",Name:"Glow Ink Sac",item:!0,category:"items"},{name:"glowItemFrame",Name:"Glow Item Frame",transparent:!0,itemFrame:!0,flatIcon:!0,iconTexture:"glowItemFrameIcon",category:"items"},{name:"glowLichen",Name:"Glow Lichen",transparent:!0,shadow:!1,wallFlat:!0,flatIcon:!0,solid:!1,lightLevel:7,compostChance:.5,category:"nature"},{name:"sponge",Name:"Sponge",wetTexture:new Array(6).fill("wetSponge"),category:"items",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"cutCopper",Name:"Cut Copper",category:"build"},{name:"exposedCopper",Name:"Exposed Block of Copper",category:"build"},{name:"exposedCutCopper",Name:"Exposed Cut Copper",category:"build"},{name:"weatheredCopper",Name:"Weathered Block of Copper",category:"build"},{name:"weatheredCutCopper",Name:"Weathered Cut Copper",category:"build"},{name:"oxidizedCopper",Name:"Oxidized Block of Copper",category:"build"},{name:"oxidizedCutCopper",Name:"Oxidized Cut Copper",category:"build"},{name:"quartzBricks",Name:"Quartz Bricks",stoneSound:!0,category:"build"},{name:"campfire",Name:"Campfire",flatIcon:!0,iconTexture:"campfire",textures:"campfireLogLit",campfire:!0,shadow:!1,lightLevel:15,transparent:!0,woodSound:!0,drop:"campfire",category:"items",damageUp:2,burnEnt:!0,smoothLight:!1,activate:function(e,t,s,a,o,r){r.burning&&o===(this.id|ce)&&onBoxEnt(e,t,s,1,1,1,r)&&world.setBlock(e,t,s,this.id,!1,!1,!1,!1,a)}},{name:"soulCampfire",Name:"Soul Campfire",flatIcon:!0,iconTexture:"soulCampfire",textures:"soulCampfireLogLit",campfire:!0,shadow:!1,lightLevel:10,transparent:!0,woodSound:!0,drop:"soulCampfire",category:"items",damageUp:4,burnEnt:!0,smoothLight:!1,activate:function(e,t,s,a,o,r){r.burning&&o===(this.id|ce)&&onBoxEnt(e,t,s,1,1,1,r)&&world.setBlock(e,t,s,this.id,!1,!1,!1,!1,a)}},{name:"bambooShoot",Name:"Bamboo Shoot",textures:"bambooStage0",solid:!1,transparent:!0,shadow:!1,crossShape:!0,liquidBreakable:"drop",category:"nature",potCross:!0},{name:"bambooStalk",Name:"Bamboo",iconTexture:"bamboo",flatIcon:!0,bamboo:!0,shadow:!1,potCross:!0,transparent:!0,drop:"bambooStalk",hardness:1,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},liquidBreakable:"drop",category:"nature"},{name:"chest",Name:"Chest",textures:"chestFront",transparent:!0,chest:!0,tagBits:null,setContents:function(e,t,s,a,o){let r={chest:!0,contents:new Array(27).fill(0)};return o.setTags(e,t,s,r,!1,a),r},onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("chest"),releasePointer()},onbreak:function(e,t,s,a,o,r,i){if(o&&o.chest&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&i.addItems(e,t,s,r,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},category:"items"},{name:"boneMeal",Name:'Bone "Meal"',item:!0,serveronuse:function(e,t,s,a,o,r,i){if(L[a].grow)L[a].grow(e,t,s,o,r);else if(L[a].growBonemeal)L[a].growBonemeal(e,t,s,o,r);else if("wheat"===L[a].name)r.setBlock(e,t,s,I.wheat|ye,!1,!1,!1,!1,o);else if("tomatoPlant"===L[a].name)r.setBlock(e,t,s,I.tomatoPlant|me,!1,!1,!1,!1,o);else if("beetroots"===L[a].name)r.setBlock(e,t,s,I.beetroots|ue,!1,!1,!1,!1,o);else if("carrots"===L[a].name)r.setBlock(e,t,s,I.carrots|ue,!1,!1,!1,!1,o);else{if("potatoes"!==L[a].name)return!0;r.setBlock(e,t,s,I.potatoes|ue,!1,!1,!1,!1,o)}r.glint(e,t,s,o)},minusOnUse:!0,category:"items"},{name:"clay",Name:"Clay",hardness:.6,type:"ground",digSound:["block.dirt.dig1","block.dirt.dig2","block.dirt.dig3","block.dirt.dig4"],stepSound:["block.dirt.step1","block.dirt.step2","block.dirt.step3","block.dirt.step4"],drop:"clayBall",dropAmount:4,category:"nature"},{name:"clayBall",Name:"Clay Ball",item:!0,category:"items"},{name:"brick",Name:"Brick",item:!0,category:"items"},{name:"charcoal",Name:"Charcoal",item:!0,category:"items"},{name:"appleCore",Name:"Apple Core",item:!0,category:"items"},{name:"tintedGlass",Name:"Tinted Glass",transparent:!0,shadow:!0,hardness:.3,type:"glass",glassSound:!0,category:"build"},{name:"tomato",Name:"Tomato",item:!0,edible:!0,eatWhenFull:!1,food:3,saturation:2,eatResult:"tomatoSeeds",category:"nature"},{name:"tomatoPlant",Name:"Tomato Plant",textures:new Array(6).fill("tomatoPlantStage0"),textures1:new Array(6).fill("tomatoPlantStage1"),textures2:new Array(6).fill("tomatoPlantStage2"),textures3:new Array(6).fill("tomatoPlantStage3"),textures4:new Array(6).fill("tomatoPlantStage4"),iconTexture:"tomatoPlantStage3",flatIcon:!0,shadow:!1,transparent:!0,solid:!1,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},category:"nature",liquidBreakable:"drop"},{name:"tomatoSeeds",Name:"Tomato Seeds",item:!0,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"tomatoPlant":(Messages.write("tomato seeds need to be planted on farmland"),void(p.lastPlace=Date.now()))},category:"nature"},{name:"newCactusFruit",Name:"New Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,cactusFruit:!0,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},compostChance:.3,liquidBreakable:!0,category:"nature"},{name:"greenCactusFruit",Name:"Green Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,cactusFruit:!0,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},compostChance:.4,liquidBreakable:!0,category:"nature"},{name:"redCactusFruit",Name:"Red Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,edible:!0,eatWhenFull:!1,food:2,saturation:1,cactusFruit:!0,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},compostChance:.5,liquidBreakable:!0,category:"food"},{name:"purpleCactusFruit",Name:"Purple Cactus Fruit",solid:!1,transparent:!0,shadow:!1,crossShape:!0,edible:!0,eatWhenFull:!1,food:3,saturation:2,cactusFruit:!0,onupdate:function(e,t,s,a,o,r,i,n,l){Ht(e,t,s,a,o,l)},compostChance:.6,liquidBreakable:!0,category:"food"},{name:"cherry",Name:"Cherry",item:!0,edible:!0,eatWhenFull:!1,food:1,saturation:1,compostChance:.5,category:"food"},{name:"cherryLog",Name:"Cherry Log",textures:["cherryLogTop","cherryLog"],woodSound:!0,hardness:2,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"cherryLogSW",textures:["cherryLog","cherryLog","cherryLogTop","cherryLog"],rotate:!0,woodSound:!0,hidden:!0},{name:"greenCherryLeaves",Name:"Green Cherry Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));return 0===e?"stick":1===e?"cherrySapling":"cherry"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature",hidden:!0},{name:"cherryLeaves",Name:"Cherry Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return"cherrySapling";if(rand()>.5)return"cherry"}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature"},{name:"cherrySapling",Name:"Cherry Sapling",transparent:!0,shadow:!1,solid:!1,crossShape:!0,potCross:!0,category:"nature",grow:function(e,t,s,a,o){win.serverSaveWorldGen(),o.getChunk(e,s,a).spawnCherryTree(15&e,t-1,15&s,e,s,!0),win.serverRestoreWorldGen()}},{name:"cherryWood",Name:"Cherry Wood",textures:"cherryLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"slingshot",Name:"Slingshot",item:!0,onuse:function(e,t,s,a,o,r,i,n){var l=p.direction;world.addEntity(new wt[ft.SlingshotShot](p.x,p.y,p.z,l.x,l.y,l.z),!1,n)},useAnywhere:!0,stackSize:1,category:"tools"},{name:"redstoneTorch",Name:"Redstone Torch",transparent:!0,shadow:!1,redstoneTorch:!0,lightLevel:7,woodSound:!0,solid:!1,flatIcon:!0,onupdate:function(e,t,s,a,o,r,i,n,l){(this.onpowerupdate(e,t,s,null,null,null,null,l,o),16===o.getPower(e,t,s,l))&&((a=o.getBlock(e,t+1,s,l))&&!L[a].transparent&&o.setBlockPower(e,t+1,s,"strong","bottom",l),(a=o.getBlock(e,t-1,s,l))&&"redstoneDust"===L[a].name&&(o.setPower(e,t-1,s,15,!1,l),o.spreadPower(e,t-1,s,15,l)))},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=this;l.setTimeout((function(){var a=l.getBlock(e,t,s,n),o=e,r=t,i=s,d=h.id|ce,c=h.id|pe;switch(a){case d|He:case c|He:i++;break;case d|je:case c|je:i--;break;case d|Ye:case c|Ye:o++;break;case d|Ve:case c|Ve:o--;break;default:r--}l.getBlock(o,r,i,n);var p=!l.getPower(o,r,i,n)&&!l.getBlockPower(o,r,i,null,n),u=a;if(p)switch(a){case c|He:u=d|He;break;case c|je:u=d|je;break;case c|Ye:u=d|Ye;break;case c|Ve:u=d|Ve;break;case h.id|ue:u=h.id}else switch(a){case d|He:u=c|He;break;case d|je:u=c|je;break;case d|Ye:u=c|Ye;break;case d|Ve:u=c|Ve;break;case h.id:u=h.id|ue}if(a!==u){l.setBlock(e,t,s,u,!1,!1,!1,!1,n),p?(l.setPower(e,t,s,16,!1,n),l.spreadPower(e,t,s,16,n)):(l.setPower(e,t,s,0,!1,n),l.unspreadPower(e,t,s,16,!1,n));var m=l.getBlock(e,t+1,s,n);m&&!L[m].transparent&&l.setBlockPower(e,t+1,s,p?"strong":null,"bottom",n),(m=l.getBlock(e,t-1,s,n))&&"redstoneDust"===L[m].name&&(p?(l.setPower(e,t-1,s,15,!1,n),l.spreadPower(e,t-1,s,15,n)):l.unspreadPower(e,t-1,s,15,!0,n))}}),2*y,e,t,s,n)},onset:function(e,t,s,a,o){o.setPower(e,t,s,16,!1,a),o.spreadPower(e,t,s,16,a)},ondelete:function(e,t,s,a,o,r,i){i.setPower(e,t,s,0,!1,r),i.unspreadPower(e,t,s,16,!1,r);var n=i.getBlock(e,t+1,s,r);n&&!L[n].transparent&&i.setBlockPower(e,t+1,s,null,"bottom",r),(n=i.getBlock(e,t-1,s,r))&&"redstoneDust"===L[n].name&&i.unspreadPower(e,t-1,s,15,!0,r)},category:"redstone"},{name:"redstoneConnector",Name:"Block That Redstone Dust Connects To",stoneSound:!0,category:"redstone"},{name:"lever",Name:"Lever",transparent:!0,shadow:!1,solid:!1,lever:!0,flatIcon:!0,onclick:function(e,t,s,a,o){var r,i,n,l=o.getBlock(e,t,s,a),h=L[I.lever],d=h.id,c=h.id|ce,p=e,u=t,m=s;switch(l){case d|He:case c|He:m++,r="south";break;case d|je:case c|je:m--,r="north";break;case d|Ye:case c|Ye:p++,r="east";break;case d|Ve:case c|Ve:p--,r="west";break;case h.id|pe:case h.id|ue:u--,r="top";break;case h.id|me:case h.id|ge:u++,r="bottom"}switch(l){case d|He:n=!0,i=c|He;break;case d|je:n=!0,i=c|je;break;case d|Ye:n=!0,i=c|Ye;break;case d|Ve:n=!0,i=c|Ve;break;case c|He:n=!1,i=d|He;break;case c|je:n=!1,i=d|je;break;case c|Ye:n=!1,i=d|Ye;break;case c|Ve:n=!1,i=d|Ve;break;case h.id|pe:n=!0,i=h.id|ue;break;case h.id|ue:n=!1,i=h.id|pe;break;case h.id|me:n=!0,i=h.id|ge;break;case h.id|ge:n=!1,i=h.id|me}o.setBlock(e,t,s,i,!1,!1,!1,!1,a),n?(o.setPower(e,t,s,16,!1,a),o.spreadPower(e,t,s,15,a)):(o.setPower(e,t,s,0,!1,a),o.unspreadPower(e,t,s,16,!1,a));var g=o.getBlock(p,u,m,a);g&&!L[g].transparent&&o.setBlockPower(p,u,m,n?"strong":null,r,a)},ondelete:function(e,t,s,a,o,r,i){if(Gt(a,"power",this.id)){i.unspreadPower(e,t,s,16,!1,r);var n,l=o,h=L[I.lever],d=h.id,c=h.id|ce,p=e,u=t,m=s;switch(l){case d|He:case c|He:m++,n="south";break;case d|je:case c|je:m--,n="north";break;case d|Ye:case c|Ye:p++,n="east";break;case d|Ve:case c|Ve:p--,n="west";break;case h.id|pe:case h.id|ue:u--,n="top";break;case h.id|me:case h.id|ge:u++,n="bottom"}var g=i.getBlock(p,u,m,r);g&&!L[g].transparent&&i.setBlockPower(p,u,m,null,n,r)}},category:"redstone"},{name:"repeater",Name:"Redstone Repeater",flatIcon:!0,iconTexture:"repeaterIcon",repeater:!0,transparent:!0,onupdate:function(e,t,s,a,o,r,i,n,l){this.onpowerupdate(e,t,s,null,null,null,null,l,o)},ondelete:function(e,t,s,a,o,r,i){i.unspreadPower(e,t,s,16,!1,r),i.setBlockPower(e,t,s+1,null,"south",r),i.setBlockPower(e,t,s-1,null,"north",r),i.setBlockPower(e+1,t,s,null,"east",r),i.setBlockPower(e-1,t,s,null,"west",r)},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h,d,c=e,p=t,u=s,m=e,g=t,k=s,b=l.getBlock(e,t,s,n),w=this.id,f=this.id|ce,B=this.id|pe,S=this.id|ge,v=this.id|Be,x=this.id|Se,P=this.id|ve,T=this.id|Pe;switch(b){case w|He:case f|He:case B|He:case S|He:case v|He:case x|He:case P|He:case T|He:u--,k++,h="south";break;case w|je:case f|je:case B|je:case S|je:case v|je:case x|je:case P|je:case T|je:u++,k--,h="north";break;case w|Ye:case f|Ye:case B|Ye:case S|Ye:case v|Ye:case x|Ye:case P|Ye:case T|Ye:c--,m++,h="east";break;case w|Ve:case f|Ve:case B|Ve:case S|Ve:case v|Ve:case x|Ve:case P|Ve:case T|Ve:c++,m--,h="west"}if(c===e&&p===t&&u===s)return console.log("doesn't match up");switch(b){case w|He:case w|je:case w|Ye:case w|Ve:case v|He:case v|je:case v|Ye:case v|Ve:d=1;break;case f|He:case f|je:case f|Ye:case f|Ve:case x|He:case x|je:case x|Ye:case x|Ve:d=2;break;case B|He:case B|je:case B|Ye:case B|Ve:case P|He:case P|je:case P|Ye:case P|Ve:d=3;break;case S|He:case S|je:case S|Ye:case S|Ve:case T|He:case T|je:case T|Ye:case T|Ve:d=4}if(!d)return console.log("delay hasn't been set");var N=!1;switch(b){case v|He:case x|He:case P|He:case T|He:case v|je:case x|je:case P|je:case T|je:case v|Ye:case x|Ye:case P|Ye:case T|Ye:case v|Ve:case x|Ve:case P|Ve:case T|Ve:N=!0}var C=l.getBlock(m,g,k,n);if(C&&"redstoneDust"===L[C].name?N&&15!==l.getPower(m,g,k,n)&&(l.setPower(m,g,k,15,!1,n),l.spreadPower(m,g,k,15,n)):C&&!L[C].transparent&&(N?l.setBlockPower(m,g,k,"strong",h,n):l.setBlockPower(m,g,k,null,h,n)),N!==!(!l.getRepeaterPower(e,t,s,c,p,u,n)&&!l.getBlockPower(c,p,u,null,n))){l.setTimeout((function(){b=l.getBlock(e,t,s,n);var a=!(!l.getRepeaterPower(e,t,s,c,p,u,n)&&!l.getBlockPower(c,p,u,null,n)),o=!1;switch(b){case v|He:case x|He:case P|He:case T|He:case v|je:case x|je:case P|je:case T|je:case v|Ye:case x|Ye:case P|Ye:case T|Ye:case v|Ve:case x|Ve:case P|Ve:case T|Ve:o=!0}if(a!==o){var r,i="north";switch(b){case w|He:r=v;break;case f|He:r=x;break;case B|He:r=P;break;case S|He:r=T;break;case v|He:r=w;break;case x|He:r=f;break;case P|He:r=B;break;case T|He:r=S;break;case w|je:r=v,i="south";break;case f|je:r=x,i="south";break;case B|je:r=P,i="south";break;case S|je:r=T,i="south";break;case v|je:r=w,i="south";break;case x|je:r=f,i="south";break;case P|je:r=B,i="south";break;case T|je:r=S,i="south";break;case w|Ye:r=v,i="east";break;case f|Ye:r=x,i="east";break;case B|Ye:r=P,i="east";break;case S|Ye:r=T,i="east";break;case v|Ye:r=w,i="east";break;case x|Ye:r=f,i="east";break;case P|Ye:r=B,i="east";break;case T|Ye:r=S,i="east";break;case w|Ve:r=v,i="west";break;case f|Ve:r=x,i="west";break;case B|Ve:r=P,i="west";break;case S|Ve:r=T,i="west";break;case v|Ve:r=w,i="west";break;case x|Ve:r=f,i="west";break;case P|Ve:r=B,i="west";break;case T|Ve:r=S,i="west"}switch(i){case"north":break;case"south":r|=je;break;case"east":r|=Ye;break;case"west":r|=Ve}b!==r&&l.setBlock(e,t,s,r,!1,!1,!1,!1,n);var d=l.getBlock(m,g,k,n);a?d&&"redstoneDust"===L[d].name?15!==l.getPower(m,g,k,n)&&(l.setPower(m,g,k,15,!1,n),l.spreadPower(m,g,k,15,n)):d&&!L[d].transparent&&l.setBlockPower(m,g,k,"strong",h,n):d&&"redstoneDust"===L[d].name?l.unspreadPower(m,g,k,15,!0,n):d&&!L[d].transparent&&l.setBlockPower(m,g,k,null,h,n)}}),y*d*2,e,t,s,n)}},onclick:function(e,t,s,a){var o,r=L[I.repeater],i=world.getBlock(e,t,s,a),n=r.id,l=r.id|ce,h=r.id|pe,d=r.id|ge,c=r.id|Be,p=r.id|Se,u=r.id|ve,m=r.id|Pe;switch(i){case n|He:o=l|He;break;case l|He:o=h|He;break;case h|He:o=d|He;break;case d|He:o=n|He;break;case c|He:o=p|He;break;case p|He:o=u|He;break;case u|He:o=m|He;break;case m|He:o=c|He;break;case n|je:o=l|je;break;case l|je:o=h|je;break;case h|je:o=d|je;break;case d|je:o=n|je;break;case c|je:o=p|je;break;case p|je:o=u|je;break;case u|je:o=m|je;break;case m|je:o=c|je;break;case n|Ye:o=l|Ye;break;case l|Ye:o=h|Ye;break;case h|Ye:o=d|Ye;break;case d|Ye:o=n|Ye;break;case c|Ye:o=p|Ye;break;case p|Ye:o=u|Ye;break;case u|Ye:o=m|Ye;break;case m|Ye:o=c|Ye;break;case n|Ve:o=l|Ve;break;case l|Ve:o=h|Ve;break;case h|Ve:o=d|Ve;break;case d|Ve:o=n|Ve;break;case c|Ve:o=p|Ve;break;case p|Ve:o=u|Ve;break;case u|Ve:o=m|Ve;break;case m|Ve:o=c|Ve}world.setBlock(e,t,s,o,!1,!1,!1,!1,a)},getFacing:function(e,t,s,a,o){var r,i=o.getBlock(e,t,s,a),n=this.id,l=this.id|ce,h=this.id|pe,d=this.id|ge,c=this.id|Be,p=this.id|Se,u=this.id|ve,m=this.id|Pe;switch(i){case n|He:case l|He:case h|He:case d|He:case c|He:case p|He:case u|He:case m|He:r="north";break;case n|je:case l|je:case h|je:case d|je:case c|je:case p|je:case u|je:case m|je:r="south";break;case n|Ye:case l|Ye:case h|Ye:case d|Ye:case c|Ye:case p|Ye:case u|Ye:case m|Ye:r="east";break;case n|Ve:case l|Ve:case h|Ve:case d|Ve:case c|Ve:case p|Ve:case u|Ve:case m|Ve:r="west"}return r},canHavePower:function(e,t,s,a,o,r,i,n){var l=e,h=t,d=s,c=n.getBlock(e,t,s,i),p=this.id,u=this.id|ce,m=this.id|pe,g=this.id|ge,k=this.id|Be,y=this.id|Se,b=this.id|ve,w=this.id|Pe;switch(c){case p|He:case u|He:case m|He:case g|He:case k|He:case y|He:case b|He:case w|He:d++;break;case p|je:case u|je:case m|je:case g|je:case k|je:case y|je:case b|je:case w|je:d--;break;case p|Ye:case u|Ye:case m|Ye:case g|Ye:case k|Ye:case y|Ye:case b|Ye:case w|Ye:l++;break;case p|Ve:case u|Ve:case m|Ve:case g|Ve:case k|Ve:case y|Ve:case b|Ve:case w|Ve:l--}var f=!1;switch(c){case k|He:case y|He:case b|He:case w|He:case k|je:case y|je:case b|je:case w|je:case k|Ye:case y|Ye:case b|Ye:case w|Ye:case k|Ve:case y|Ve:case b|Ve:case w|Ve:f=!0}return f&&l===a&&h===o&&d===r?15:0},category:"redstone"},{name:"piston",Name:"Piston",textures:["pistonBack","pistonFront","pistonSide"],piston:!0,headSideTexture:"pistonHeadSide",frontOpenTexture:"pistonFrontOpen",headBackTexture:"pistonFront",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h,d=!1,c=!1;switch(l.getBlock(e,t,s,n)){case this.id:h="top";break;case this.id|_e:h="bottom";break;case this.id|ce|He:h="north";break;case this.id|ce|je:h="south";break;case this.id|ce|Ye:h="east";break;case this.id|ce|Ve:h="west";break;case this.id|me:h="top",d=!0;break;case this.id|me|_e:h="bottom",d=!0;break;case this.id|Se|He:h="north",d=!0;break;case this.id|Se|je:h="south",d=!0;break;case this.id|Se|Ye:h="east",d=!0;break;case this.id|Se|Ve:h="west",d=!0;break;default:return}if(d)switch(h){case"top":l.getBlock(e,t+1,s,n)===(this.id|pe)&&(c=!0);break;case"bottom":l.getBlock(e,t-1,s,n)===(this.id|pe|_e)&&(c=!0);break;case"north":l.getBlock(e,t,s-1,n)===(this.id|ge|He)&&(c=!0);break;case"south":l.getBlock(e,t,s+1,n)===(this.id|ge|je)&&(c=!0);break;case"east":l.getBlock(e-1,t,s,n)===(this.id|ge|Ye)&&(c=!0);break;case"west":l.getBlock(e+1,t,s,n)===(this.id|ge|Ve)&&(c=!0)}var p=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n);p&&!d?this.extend(e,t,s,h,n,l):!p&&d&&c&&this.retract(e,t,s,h,n,l)},onupdate:function(e,t,s,a,o,r,i,n,l){this.onpowerupdate(e,t,s,null,null,null,null,l,o)},onbreak:function(e,t,s,a,o,r,i){let n=e,l=t,h=s;switch(a){case this.id|me:case this.id|pe|_e:l++;break;case this.id|me|_e:case this.id|pe:l--;break;case this.id|Se|He:case this.id|ge|je:h--;break;case this.id|Se|je:case this.id|ge|He:h++;break;case this.id|Se|Ye:case this.id|ge|Ve:n--;break;case this.id|Se|Ve:case this.id|ge|Ye:n++;break;default:return}i.setBlock(n,l,h,0,!1,!1,!1,!1,r)},extend:function(e,t,s,a,o,r){var i,n,l,h=e,d=t,c=s,p=0,u=0,m=0;switch(a){case"top":l=this.id|me,i=this.id|pe,n=this.id|ue,d++,u=1;break;case"bottom":l=this.id|me|_e,i=this.id|pe|_e,n=this.id|ue|_e,d--,u=-1;break;case"north":l=this.id|Se|He,i=this.id|ge|He,n=this.id|Be|He,c--,m=-1;break;case"south":l=this.id|Se|je,i=this.id|ge|je,n=this.id|Be|je,c++,m=1;break;case"east":l=this.id|Se|Ye,i=this.id|ge|Ye,n=this.id|Be|Ye,h--,p=-1;break;case"west":l=this.id|Se|Ve,i=this.id|ge|Ve,n=this.id|Be|Ve,h++,p=1;break;default:return console.log("oh no! piston isn't facing anywhere")}var g=Ps(e,t,s,p,u,m,o,r);if(!1!==g){r.setBlock(e,t,s,l,!1,!1,!1,!1,o);var k=new wt[ft.MovingBlock](n,e,t,s,h,d,c,2*y,!0);k.endAs=i,r.addEntity(k,!1,o);for(var b=0;b<g.length;b+=4){var w=g[b],f=g[b+1],B=g[b+2],S=r.getTags(w,f,B,o);r.setBlock(w,f,B,0,!1,!1,!1,!1,o),r.addEntity(new wt[ft.MovingBlock](g[b+3],w,f,B,w+p,f+u,B+m,2*y,!0,S),!1,o)}}},retract:function(e,t,s,a,o,r){var i,n,l=e,h=t,d=s;switch(a){case"top":n=this.id,i=this.id|pe,this.id|ue,h++;break;case"bottom":n=this.id|_e,i=this.id|pe|_e,this.id|ue|_e,h--;break;case"north":n=this.id|ce|He,i=this.id|ge|He,this.id|Be|He,d--;break;case"south":n=this.id|ce|je,i=this.id|ge|je,this.id|Be|je,d++;break;case"east":n=this.id|ce|Ye,i=this.id|ge|Ye,this.id|Be|Ye,l--;break;case"west":n=this.id|ce|Ve,i=this.id|ge|Ve,this.id|Be|Ve,l++;break;default:return console.log("oh no! piston isn't facing anywhere")}r.setBlock(l,h,d,0,!1,!1,!1,!1,o);var c=new wt[ft.MovingBlock](i,l,h,d,e,t,s,2*y);r.addEntity(c,!1,o),r.setTimeout((function(){r.setBlock(e,t,s,n,!1,!1,!1,!1,o)}),2*y)},category:"redstone"},{name:"smoothQuartz",Name:"Smooth Quartz Block",textures:"quartzBlockBottom",stoneSound:!0,category:"build"},{name:"pistonSticky",Name:"Sticky Piston",textures:["pistonBack","pistonFrontSticky","pistonSide"],piston:!0,headSideTexture:"pistonHeadSide",frontOpenTexture:"pistonFrontOpen",headBackTexture:"pistonFront",category:"redstone",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h,d=!1,c=!1;switch(l.getBlock(e,t,s,n)){case this.id:h="top";break;case this.id|_e:h="bottom";break;case this.id|ce|He:h="north";break;case this.id|ce|je:h="south";break;case this.id|ce|Ye:h="east";break;case this.id|ce|Ve:h="west";break;case this.id|me:h="top",d=!0;break;case this.id|me|_e:h="bottom",d=!0;break;case this.id|Se|He:h="north",d=!0;break;case this.id|Se|je:h="south",d=!0;break;case this.id|Se|Ye:h="east",d=!0;break;case this.id|Se|Ve:h="west",d=!0;break;default:return}if(d)switch(h){case"top":l.getBlock(e,t+1,s,n)===(this.id|pe)&&(c=!0);break;case"bottom":l.getBlock(e,t-1,s,n)===(this.id|pe|_e)&&(c=!0);break;case"north":l.getBlock(e,t,s-1,n)===(this.id|ge|He)&&(c=!0);break;case"south":l.getBlock(e,t,s+1,n)===(this.id|ge|je)&&(c=!0);break;case"east":l.getBlock(e-1,t,s,n)===(this.id|ge|Ye)&&(c=!0);break;case"west":l.getBlock(e+1,t,s,n)===(this.id|ge|Ve)&&(c=!0)}var p=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n);p&&!d?this.extend(e,t,s,h,n,l):!p&&d&&c&&this.retract(e,t,s,h,n,l)},onupdate:function(e,t,s,a,o,r,i,n,l){this.onpowerupdate(e,t,s,null,null,null,null,l,o)},onbreak:function(e,t,s,a,o,r,i){let n=e,l=t,h=s;switch(a){case this.id|me:case this.id|pe|_e:l++;break;case this.id|me|_e:case this.id|pe:l--;break;case this.id|Se|He:case this.id|ge|je:h--;break;case this.id|Se|je:case this.id|ge|He:h++;break;case this.id|Se|Ye:case this.id|ge|Ve:n--;break;case this.id|Se|Ve:case this.id|ge|Ye:n++;break;default:return}i.setBlock(n,l,h,0,!1,!1,!1,!1,r)},extend:function(e,t,s,a,o,r){var i,n,l,h=e,d=t,c=s,p=0,u=0,m=0;switch(a){case"top":l=this.id|me,i=this.id|pe,n=this.id|ue,d++,u=1;break;case"bottom":l=this.id|me|_e,i=this.id|pe|_e,n=this.id|ue|_e,d--,u=-1;break;case"north":l=this.id|Se|He,i=this.id|ge|He,n=this.id|Be|He,c--,m=-1;break;case"south":l=this.id|Se|je,i=this.id|ge|je,n=this.id|Be|je,c++,m=1;break;case"east":l=this.id|Se|Ye,i=this.id|ge|Ye,n=this.id|Be|Ye,h--,p=-1;break;case"west":l=this.id|Se|Ve,i=this.id|ge|Ve,n=this.id|Be|Ve,h++,p=1;break;default:return console.log("oh no! piston isn't facing anywhere")}var g=Ps(e,t,s,p,u,m,o,r);if(!1!==g){r.setBlock(e,t,s,l,!1,!1,!1,!1,o);for(var k=new wt[ft.MovingBlock](n,e,t,s,h,d,c,2*y,!0),b=0;b<g.length;b+=4){var w=g[b],f=g[b+1],B=g[b+2],S=r.getTags(w,f,B,o);r.setBlock(w,f,B,0,!1,!1,!1,!1,o),r.addEntity(new wt[ft.MovingBlock](g[b+3],w,f,B,w+p,f+u,B+m,2*y,!0,S),!1,o)}k.endAs=i,r.addEntity(k,!1,o)}},retract:function(e,t,s,a,o,r){var i,n,l=e,h=t,d=s,c=0,p=0,u=0;switch(a){case"top":n=this.id,i=this.id|pe,this.id|ue,h++,p=1;break;case"bottom":n=this.id|_e,i=this.id|pe|_e,this.id|ue|_e,h--,p=-1;break;case"north":n=this.id|ce|He,i=this.id|ge|He,this.id|Be|He,d--,u=-1;break;case"south":n=this.id|ce|je,i=this.id|ge|je,this.id|Be|je,d++,u=1;break;case"east":n=this.id|ce|Ye,i=this.id|ge|Ye,this.id|Be|Ye,l--,c=-1;break;case"west":n=this.id|ce|Ve,i=this.id|ge|Ve,this.id|Be|Ve,l++,c=1;break;default:return console.log("oh no! piston isn't facing anywhere")}r.setBlock(l,h,d,0,!1,!1,!1,!1,o);var m=new wt[ft.MovingBlock](i,l,h,d,e,t,s,2*y);r.addEntity(m,!1,o),r.setTimeout((function(){r.setBlock(e,t,s,n,!1,!1,!1,!1,o)}),2*y);var g=Ts(e,t,s,c,p,u,o,r);if(g)for(var k=0;k<g.length;k+=4){var b=g[k],w=g[k+1],f=g[k+2],B=r.getTags(b,w,f,o);r.setBlock(b,w,f,0,!1,!1,!1,!1,o),r.addEntity(new wt[ft.MovingBlock](g[k+3],b,w,f,b-c,w-p,f-u,2*y,!0,B),!1,o)}}},{name:"observer",Name:"Observer",textures:["observerTop","observerTop","observerBack","observerFront","observerSide","observerSide"],blastResistance:3.5,hardness:3,getFacing:function(e,t,s,a,o){var r;switch(o.getBlock(e,t,s,a)){case this.id|He:case this.id|pe|He:r="north";break;case this.id|je:case this.id|pe|je:r="south";break;case this.id|Ye:case this.id|pe|Ye:r="east";break;case this.id|Ve:case this.id|pe|Ve:r="west";break;case this.id|ce:case this.id|ue:r="bottom";break;case this.id|ce|_e:case this.id|ue|_e:r="top";break;default:return}return r},detected:function(e,t,s,a,o,r,i,n=!1,l){var h,d=i.getBlock(e,t,s,l),c=0,p=0,u=0;switch(d){case this.id|He:"north",u=-1,h=this.id|pe|He;break;case this.id|je:"south",u=1,h=this.id|pe|je;break;case this.id|Ye:"east",c=-1,h=this.id|pe|Ye;break;case this.id|Ve:"west",c=1,h=this.id|pe|Ve;break;case this.id|ce:"bottom",p=-1,h=this.id|ue;break;case this.id|ce|_e:"top",p=1,h=this.id|ue|_e;break;default:return}(e+c===a&&t+p===o&&s+u===r||n)&&i.setTimeout((function(){var a=i.getBlock(e,t,s,l);if(!a||"observer"!==L[a].name)return;i.setBlock(e,t,s,h,!1,!0,!1,!1,l);let o=i.getBlock(e-c,t-p,s-u,l);o&&"redstoneDust"===L[o].name&&(i.setPower(e-c,t-p,s-u,15,!1,l),i.spreadPower(e-c,t-p,s-u,15,l)),i.setTimeout((function(){let a=i.getBlock(e,t,s,l);a&&"observer"===L[a].name&&(o=i.getBlock(e-c,t-p,s-u,l),i.setBlock(e,t,s,d,!1,!0,!1,!1,l),o&&"redstoneDust"===L[o].name&&i.unspreadPower(e-c,t-p,s-u,15,!0,l))}),2*y)}),y,e,t,s,l)},onupdate:function(e,t,s,a,o,r,i,n,l){this.detected(e,t,s,r,i,n,o,!1,l)},onset:function(e,t,s,a,o){this.detected(e,t,s,e,t,s,o,!0,a)},canHavePower:function(e,t,s,a,o,r,i,n){var l=0,h=0,d=0;switch(n.getBlock(e,t,s,i)){case this.id|pe|He:d=-1;break;case this.id|pe|je:d=1;break;case this.id|pe|Ye:l=-1;break;case this.id|pe|Ve:l=1;break;case this.id|ue:h=-1;break;case this.id|ue|_e:h=1;break;default:return}return e-l===a&&t-h===o&&s-d===r?15:0},category:"redstone"},{name:"string",Name:"String",item:!0,category:"items"},{name:"redDye",Name:"Red Dye",item:!0,dye:"red",category:"items"},{name:"lightGrayDye",Name:"Light Gray Dye",item:!0,dye:"lightGray",category:"items"},{name:"lightBlueDye",Name:"Light Blue Dye",item:!0,dye:"lightBlue",category:"items"},{name:"magentaDye",Name:"Magenta Dye",item:!0,dye:"magenta",category:"items"},{name:"yellowDye",Name:"Yellow Dye",item:!0,dye:"yellow",category:"items"},{name:"purpleDye",Name:"Purple Dye",item:!0,dye:"purple",category:"items"},{name:"orangeDye",Name:"Orange Dye",item:!0,dye:"orange",category:"items"},{name:"whiteDye",Name:"White Dye",item:!0,dye:"white",category:"items"},{name:"greenDye",Name:"Green Dye",item:!0,dye:"green",category:"items"},{name:"brownDye",Name:"Brown Dye",item:!0,dye:"brown",category:"items"},{name:"blackDye",Name:"Black Dye",item:!0,dye:"black",category:"items"},{name:"pinkDye",Name:"Pink Dye",item:!0,dye:"pink",category:"items"},{name:"limeDye",Name:"Lime Dye",item:!0,dye:"lime",category:"items"},{name:"grayDye",Name:"Gray Dye",item:!0,dye:"gray",category:"items"},{name:"cyanDye",Name:"Cyan Dye",item:!0,dye:"cyan",category:"items"},{name:"blueDye",Name:"Blue Dye",item:!0,dye:"blue",category:"items"},{name:"endPortal",flatIcon:!0,solid:!1,transparent:!0,blastResistance:36e5,lightLevel:15,pistonPush:!1,pistonPull:!1,hidden:!0,drop:"air",ontouch:function(){if(thisSceneCurrent){if(""===p.dimension){let e=round(rand(-64,64)),t=round(rand(-64,64));p.x=e,p.z=t}else p.x=world.spawnPoint.x,p.y=world.spawnPoint.y,p.z=world.spawnPoint.z;fromEndPortal=!0,goToDimension("end"===p.dimension?"":"end"),playSound("block.portal.travel"),multiplayer&&send({type:"playSound",data:"block.portal.travel",x:p.x,y:p.y,z:p.z}),achievment("Into the End"),""!==p.dimension||didEndPoem||cheats||(doEndPoem=didEndPoem=!0,changeScene("endPoem"),releasePointer(),endPoemVideo.classList.remove("hidden"),endPoemVideo.currentTime=0,endPoemVideo.onended=()=>{doEndPoem=!1,endPoemVideo.classList.add("hidden"),endPoemVideo.pause()},endPoemVideo.play())}},doneLoading:function(){if(fromEndPortal=!1,"end"===p.dimension){p.y=world.getTop(p.x,p.z,p.dimension)+p.bottomH,p.y<25&&(p.y=25),world.getBlock(p.x,floor(p.y-p.bottomH),p.z,p.dimension)||world.setBlock(p.x,floor(p.y-p.bottomH),p.z,I.obsidian,!1,!1,!1,!1,p.dimension);let e=world.getTop(0,0,"end");world.setBlock(0,e+1,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+3,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,-1,I.torch|ce|He,!1,!1,!1,!1,"end"),world.setBlock(0,e+2,1,I.torch|ce|je,!1,!1,!1,!1,"end"),world.setBlock(-1,e+2,0,I.torch|ce|Ye,!1,!1,!1,!1,"end"),world.setBlock(1,e+2,0,I.torch|ce|Ve,!1,!1,!1,!1,"end"),world.setBlock(-1,e,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,-2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,-2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,-2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e,2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e,2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e,2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e+1,-3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+1,-3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e+1,-3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-1,e+1,3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+1,3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(1,e+1,3,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-3,e+1,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,-1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,0,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(3,e+1,1,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e+1,-2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e+1,-2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(-2,e+1,2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(2,e+1,2,I.bedrock,!1,!1,!1,!1,"end"),world.setBlock(0,e+4,0,I.oakSign,!1,!1,!1,!1,"end");const t=atob("QmV3YXJlIHRoZQpvbmUgdGhhdApyb2xscy4=");world.setTags(0,e+4,0,{rot:0,text:t,text2:t},!1,"end")}}},{name:"thatch",Name:"Thatch",type:"plant2",burnChance:.2,burnTime:20,compostChance:.85,category:"build"},{name:"pearlescentFroglight",Name:"Pearlescent Froglight",textures:["pearlescentFroglightTop","pearlescentFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"verdantFroglight",Name:"Verdant Froglight",textures:["verdantFroglightTop","verdantFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"ochreFroglight",Name:"Ochre Froglight",textures:["ochreFroglightTop","ochreFroglightSide"],lightLevel:15,shadow:!1,category:"nature"},{name:"mangroveLeaves",Name:"Mangrove Leaves",transparent:!0,cullFace:"never",hardness:.2,type:"plant2",leaves:!0,drop:function(){if(rand()>.8){let e=floor(rand(3));if(0===e)return"stick";if(1===e)return""}},dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,grassSound:!0,category:"nature"},{name:"mangroveLog",Name:"Mangrove Log",textures:["mangroveLogTop","mangroveLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"strippedMangroveLog",Name:"Stripped Mangrove Log",textures:["strippedMangroveLogTop","strippedMangroveLog"],hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build",log:!0},{name:"mangroveLogSW",textures:["mangroveLog","mangroveLog","mangroveLogTop","mangroveLog"],SW:!0,woodSound:!0,hidden:!0},{name:"strippedMangroveLogSW",textures:["strippedMangroveLog","strippedMangroveLog","strippedMangroveLogTop","strippedMangroveLog"],SW:!0,woodSound:!0,hidden:!0},{name:"mangrovePlanks",Name:"Mangrove Planks",type:"wood",category:"build",hardness:2,woodSound:!0,burnChance:.1,burnTime:40},{name:"mangroveDoor",Name:"Mangrove Door",transparent:!0,shadow:!1,textures:"mangroveDoorBottom",door:!0,woodSound:!0,hardness:3,type:"wood",category:"build"},{name:"mangroveTrapdoor",Name:"Mangrove Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"mangroveButton",Name:"Mangrove Button",textures:"mangrovePlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"mangrovePressurePlate",Name:"Mangrove Pressure Plate",textures:"mangrovePlanks",pressurePlate:!0,hardness:.5,type:"wood",category:"redstone"},{name:"mangroveFenceGate",Name:"Mangrove Fence Gate",textures:"mangrovePlanks",fenceGate:!0,hardness:2,woodSound:!0,type:"wood",category:"build"},{name:"mangroveRoots",textures:["mangroveRootsTop","mangroveRootsSide"],transparent:!0,type:"wood",hardness:.7,blastResistance:.7,cullFace:"never",compostChance:.3,category:"nature"},{name:"muddyMangroveRoots",textures:["muddyMangroveRootsTop","muddyMangroveRootsSide"],type:"wood",hardness:.7,blastResistance:.7,category:"nature"},{name:"mangroveWood",Name:"Mangrove Wood",textures:"mangroveLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"strippedMangroveWood",Name:"Stripped Mangrove Wood",textures:"strippedMangroveLog",hardness:2,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"build"},{name:"mud",Name:"Mud",hardness:.5,blastResistance:.5,type:"ground",digSound:["block.mud.break1","block.mud.break2","block.mud.break3","block.mud.break4","block.mud.break5","block.mud.break6"],stepSound:["block.mud.step1","block.mud.step2","block.mud.step3","block.mud.step4","block.mud.step5","block.mud.step6"],category:"nature"},{name:"mudBricks",Name:"Mud Bricks",category:"build",hardness:1.5},{name:"packedMud",Name:"Packed Mud",randomRotate:!0,randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,category:"build",hardness:1},{name:"reinforcedDeepslate",textures:["reinforcedDeepslateBottom","reinforcedDeepslateTop","reinforcedDeepslateSide"],blastResistance:1200,hardness:55,pistonPush:!1,pistonPull:!1,category:"build"},{name:"redRedstoneLamp",Name:"Red Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),d=this.id;h&&(d=this.id|ce),l.getBlock(e,t,s,n)!==d&&l.setBlock(e,t,s,d,!1,!1,!1,!1,n)},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"yellowRedstoneLamp",Name:"Yellow Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),d=this.id;h&&(d=this.id|ce),l.getBlock(e,t,s,n)!==d&&l.setBlock(e,t,s,d,!1,!1,!1,!1,n)},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"greenRedstoneLamp",Name:"Green Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),d=this.id;h&&(d=this.id|ce),l.getBlock(e,t,s,n)!==d&&l.setBlock(e,t,s,d,!1,!1,!1,!1,n)},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"blueRedstoneLamp",Name:"Blue Redstone Lamp",textures:"redstoneLamp",onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),d=this.id;h&&(d=this.id|ce),l.getBlock(e,t,s,n)!==d&&l.setBlock(e,t,s,d,!1,!1,!1,!1,n)},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)},coloredRedstoneLamp:!0,category:"redstone"},{name:"soulFire",fire:!0,damage:2,burnEnt:!0,transparent:!0,shadow:!1,solid:!1,lightLevel:15,ambientSound:"block.fire.fire",temperature:20,shade:!1,smoothLight:!1,hidden:!0,noHitbox:!0,getAttached:function(e,t,s,a,o,r,i){var n=e,l=t,h=s;switch(a){case this.id:l--;break;case this.id|pe:l++;break;case this.id|ce|He:h++;break;case this.id|ce|je:h--;break;case this.id|ce|Ye:n++;break;case this.id|ce|Ve:n--}var d=i.getBlock(n,l,h,o);return r?d:[d,n,l,h]},onupdate:function(e,t,s,a,o,r,i,n,l){var h=this.getAttached(e,t,s,a,l,!0,o);h&&L[h].canHaveSoulFire||o.setBlock(e,t,s,0,!1,!1,!1,!1,l)}},{name:"sweetBerries",Name:"Sweet Berries (they're spiky)",item:!0,edible:!0,food:4,saturation:1.2,eatResult:"stick",useAs:"sweetBerryBush",compostChance:.3,category:"food"},{name:"sweetBerryBush",textures:"sweetBerryBushStage0",textures1:new Array(6).fill("sweetBerryBushStage1"),textures2:new Array(6).fill("sweetBerryBushStage2"),textures3:new Array(6).fill("sweetBerryBushStage3"),flatIcon:!0,solid:!1,transparent:!0,shadow:!1,smoothLight:!1,hidden:!0,drop:"sweetBerries",liquidBreakable:"drop",category:"nature"},{name:"smallDripleaf",Name:"Small Dripleaf",textures:"smallDripleafStemBottom",shapeName:"smallDripleaf",solid:!1,transparent:!0,shadow:!1,smoothLight:!1,liquidBreakable:"drop",category:"nature"},{name:"bigDripleaf",Name:"Big Dripleaf",textures:"bigDripleafStem",shapeName:"bigDripleaf",crossShape:!0,transparent:!0,shadow:!1,smoothLight:!1,liquidBreakable:"drop",onupdate:function(e,t,s,a,o,r,i,n,l){var h=I.bigDripleaf,d=o.getBlock(e,t+1,s,l),c=d===h||d===(h|ue);a===h&&c?o.setBlock(e,t,s,h|ue,!1,!1,!1,!1,l):a!==(h|ue)||c||o.setBlock(e,t,s,h,!1,!1,!1,!1,l)},category:"nature"},{name:"orGate",Name:"OR Gate",textures:["smoothStone","orGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,s,a,o,r,i){return!!(i.getRepeaterPower(e,t,s,e-r,t,s-o,a)||i.getBlockPower(e-r,t,s-o,null,a)||i.getRepeaterPower(e,t,s,e+r,t,s+o,a)||i.getBlockPower(e+r,t,s+o,null,a))},category:"redstone"},{name:"andGate",Name:"AND Gate",textures:["smoothStone","andGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,s,a,o,r,i){return!(!i.getRepeaterPower(e,t,s,e-r,t,s-o,a)&&!i.getBlockPower(e-r,t,s-o,null,a)||!i.getRepeaterPower(e,t,s,e+r,t,s+o,a)&&!i.getBlockPower(e+r,t,s+o,null,a))},category:"redstone"},{name:"notGate",Name:"NOT Gate",textures:["smoothStone","notGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,s,a,o,r,i){return!i.getRepeaterPower(e,t,s,e-o,t,s-r,a)&&!i.getBlockPower(e-o,t,s-r,null,a)},category:"redstone"},{name:"xorGate",Name:"XOR Gate",textures:["smoothStone","xorGate","repeaterSide"],shapeName:"logicGate",transparent:!0,shadow:!1,logicGate:!0,shouldBeOn:function(e,t,s,a,o,r,i){var n=i.getRepeaterPower(e,t,s,e-r,t,s-o,a)||i.getBlockPower(e-r,t,s-o,null,a),l=i.getRepeaterPower(e,t,s,e+r,t,s+o,a)||i.getBlockPower(e+r,t,s+o,null,a);return!(!n&&!l||n&&l)},category:"redstone"},{name:"dripstoneBlock",Name:"Dripstone Block",type:"rock1",hardness:1.5,blastResistance:1,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0,category:"nature"},{name:"pointedDripstone",Name:"Sharp Dripstone",flatIcon:!0,iconTexture:"pointedDripstone",transparent:!0,shadow:!1,hardness:1.5,blastResistance:3,type:"rock1",drop:"pointedDripstone",pointing:function(e,t,s,a,o){var r=o.getBlock(e,t,s,a);if(L[r].name===this.name)return(r&_e)===_e?-1:1},onupdate:function(e,t,s,a,o,r,i,n,l){var h=(a&_e)===_e,d=h?-1:1;if(h){var c=o.getBlock(e,t+1,s,l);if(o.settings.blocksFall&&(!c||!L[c].solid))return o.setBlock(e,t,s,0,!1,!1,!1,!1,l),void o.addEntity(new wt[ft.BlockEntity](a,e,t,s),!1,l)}else if(Ht(e,t,s,this.id,o,l))return;var p=h?this.id|_e:this.id;this.pointing(e,t+d,s,l,o)===d&&this.pointing(e,t+2*d,s,l,o)!==d?p|=ue:this.pointing(e,t+d,s,l,o)!==d||this.pointing(e,t-d,s,l,o)?this.pointing(e,t+d,s,l,o)===d?p|=pe:this.pointing(e,t+d,s,l,o)===-d&&(p|=me):p|=ce,a!==p&&o.setBlock(e,t,s,p,!1,!1,!1,!1,l)},spawnUpdate:function(e,t,s,a,o,r){let i=(a&_e)===_e,n=i?-1:1,l=i?this.id|_e:this.id;this.pointing(e,t+n,s,r,o)===n&&this.pointing(e,t+2*n,s,r,o)!==n?l|=ue:this.pointing(e,t+n,s,r,o)!==n||this.pointing(e,t-n,s,r,o)?this.pointing(e,t+n,s,r,o)===n?l|=pe:this.pointing(e,t+n,s,r,o)===-n&&(l|=me):l|=ce,a!==l&&o.spawnBlock(e,t,s,l,r,!0)},category:"nature"},{name:"oakSign",Name:"Oak sign",textures:"oakPlanks",poleTop:"logTop",poleSide:"logSide",iconTexture:"oakSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"birchSign",Name:"Birch Sign",textures:"birchPlanks",poleTop:"birchLogTop",poleSide:"birchLogSide",iconTexture:"birchSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"acaciaSign",Name:"Acacia Sign",textures:"acaciaPlanks",poleTop:"acaciaLogTop",poleSide:"acaciaLogSide",iconTexture:"acaciaSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"jungleSign",Name:"Jungle Sign",textures:"junglePlanks",poleTop:"jungleLogTop",poleSide:"jungleLogSide",iconTexture:"jungleSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"spruceSign",Name:"Spruce Sign",textures:"sprucePlanks",poleTop:"spruceLogTop",poleSide:"spruceLogSide",iconTexture:"spruceSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"darkOakSign",Name:"Dark Oak Sign",textures:"darkOakPlanks",poleTop:"darkOakLogTop",poleSide:"darkOakLogSide",iconTexture:"darkOakSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",color:[.85,.7,.2],category:"decoration"},{name:"mangroveSign",Name:"Mangrove Sign",textures:"mangrovePlanks",poleTop:"mangroveLogTop",poleSide:"mangroveLog",iconTexture:"mangroveSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"composter",Name:"Make bonemeal",textures:"composter",transparent:!0,blastResistance:.6,hardness:.6,woodSound:!0,type:"wood",getLevel:function(e){var t=this.id;switch(e){case t:return 0;case t|ce:return 1;case t|pe:return 2;case t|ue:return 3;case t|me:return 4;case t|ge:return 5;case t|ke:return 6;case t|ye:return 7}},category:"items"},{name:"cocoaBeans",Name:"Cocoa Beans",item:!0,useAs:"cocoa",category:"items"},{name:"cocoa",textures:"cocoaStage0",hardness:.2,blastResistance:3,transparent:!0,shadow:!1,drop:"cocoaBeans",woodSound:!0,hidden:!0,liquidBreakable:"drop"},{name:"cookie",Name:"Cookie",item:!0,edible:!0,food:2,saturation:.4,compostChance:.85,category:"food"},{name:"pumpkinPie",Name:"Pumpkin Pie",item:!0,edible:!0,food:8,saturation:4.8,compostChance:1,category:"food"},{name:"rawChicken",Name:"Raw Chicken",item:!0,edible:!0,food:2,saturation:1.2,category:"food"},{name:"cookedChicken",Name:"Cooked Chicken",item:!0,edible:!0,food:6,saturation:7.2,category:"food"},{name:"rawCod",Name:"Raw Cod",item:!0,edible:!0,food:2,saturation:.4,category:"food"},{name:"cookedCod",Name:"Cooked Cod",item:!0,edible:!0,food:5,saturation:6,category:"food"},{name:"rawMutton",Name:"Raw Mutton",item:!0,edible:!0,food:2,saturation:1.2,category:"food"},{name:"cookedMutton",Name:"Cooked Mutton",item:!0,edible:!0,food:6,saturation:9.6,category:"food"},{name:"rawPorkchop",Name:"Raw Porkchop",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedPorkchop",Name:"Cooked Porkchop",item:!0,edible:!0,food:8,saturation:12.8,category:"food"},{name:"rawRabbit",Name:"Raw Rabbit",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedRabbit",Name:"Cooked Rabbit",item:!0,edible:!0,food:5,saturation:6,category:"food"},{name:"rawSalmon",Name:"Raw Salmon",item:!0,edible:!0,food:2,saturation:.4,category:"food"},{name:"cookedSalmon",Name:"Cooked Salmon",item:!0,edible:!0,food:6,saturation:9.6,category:"food"},{name:"tropicalFish",Name:"Tropical Fish",item:!0,edible:!0,food:1,saturation:.2,category:"food"},{name:"beetroot",Name:"Beetroot",item:!0,edible:!0,food:1,saturation:1.2,compostChance:.65,category:"food"},{name:"beetrootSoup",Name:"Beetroot Soup",item:!0,edible:!0,food:7.2,saturation:13.2,eatResult:"bowl",category:"food"},{name:"carrot",Name:"Carrot",item:!0,edible:!0,food:3,saturation:3.6,compostChance:.65,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"carrots":void 0},category:"food"},{name:"goldenCarrot",Name:"Golden Carrot",item:!0,edible:!0,food:6,saturation:14.4,category:"food"},{name:"rabbitStew",Name:"Rabbit Stew",item:!0,edible:!0,food:10,saturation:12,category:"food"},{name:"goldenApple",Name:"Golden Apple",item:!0,edible:!0,food:4,saturation:9.6,category:"food",rarity:"rare"},{name:"rawBeef",Name:"Raw Beef",item:!0,edible:!0,food:3,saturation:1.8,category:"food"},{name:"cookedBeef",Name:"stake cooked befe",item:!0,edible:!0,food:8,saturation:12.8,category:"food"},{name:"potato",Name:"Potato",item:!0,edible:!0,food:1,saturation:.6,compostChance:.85,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"potatoes":void 0},category:"food"},{name:"bakedPotato",Name:"Baked Potato",item:!0,edible:!0,food:5,saturation:6,compostChance:.85,category:"food"},{name:"sugar",Name:"Sugar",item:!0,category:"items"},{name:"milkBucket",Name:"Milk Bucket",item:!0,category:"items"},{name:"beetrootSeeds",Name:"Beetroot Seeds",item:!0,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"beetroots":void 0},category:"items"},{name:"beetroots",textures:"beetrootsStage0",textures1:new Array(6).fill("beetrootsStage1"),textures2:new Array(6).fill("beetrootsStage2"),textures3:new Array(6).fill("beetrootsStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"beetrootSeeds",hidden:!0,liquidBreakable:"drop"},{name:"potatoes",textures:"potatoesStage0",textures1:new Array(6).fill("potatoesStage1"),textures2:new Array(6).fill("potatoesStage2"),textures3:new Array(6).fill("potatoesStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"potato",hidden:!0,liquidBreakable:"drop"},{name:"carrots",textures:"carrotsStage0",textures1:new Array(6).fill("carrotsStage1"),textures2:new Array(6).fill("carrotsStage2"),textures3:new Array(6).fill("carrotsStage3"),transparent:!0,shadow:!1,solid:!1,crop:!0,drop:"carrot",hidden:!0,liquidBreakable:"drop"},{name:"mudPie",Name:"Mud Pie",item:!0,edible:!0,food:1,saturation:1,category:"food"},{name:"purpleGrapes",Name:"Purple Grapes",item:!0,edible:!0,food:3,saturation:3,category:"food"},{name:"greenGrapes",Name:"Green Grapes",item:!0,edible:!0,food:3,saturation:3,category:"food"},{name:"oakChair",Name:"Oak Chair",textures:"oakPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"lightGrayBed",Name:"Light Gray Bed",textures:"lightGrayBedbottom",iconTexture:"lightGrayBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"lightBlueBed",Name:"Light Blue Bed",textures:"lightBlueBedbottom",iconTexture:"lightBlueBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"magentaBed",Name:"Magenta Bed",textures:"magentaBedbottom",iconTexture:"magentaBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"yellowBed",Name:"Yellow Bed",textures:"yellowBedbottom",iconTexture:"yellowBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"purpleBed",Name:"Purple Bed",textures:"purpleBedbottom",iconTexture:"purpleBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"orangeBed",Name:"Orange Bed",textures:"orangeBedbottom",iconTexture:"orangeBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"whiteBed",Name:"White Bed",textures:"whiteBedbottom",iconTexture:"whiteBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"greenBed",Name:"Green Bed",textures:"greenBedbottom",iconTexture:"greenBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"brownBed",Name:"Brown Bed",textures:"brownBedbottom",iconTexture:"brownBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"blackBed",Name:"Black Bed",textures:"blackBedbottom",iconTexture:"blackBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"pinkBed",Name:"Pink Bed",textures:"pinkBedbottom",iconTexture:"pinkBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"limeBed",Name:"Lime Bed",textures:"limeBedbottom",iconTexture:"limeBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"grayBed",Name:"Gray Bed",textures:"grayBedbottom",iconTexture:"grayBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"cyanBed",Name:"Cyan Bed",textures:"cyanBedbottom",iconTexture:"cyanBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"blueBed",Name:"Blue Bed",textures:"blueBedbottom",iconTexture:"blueBedIcon",flatIcon:!0,onclientclick:(e,t,s,a)=>{clickBed(e,t,s,a)},transparent:!0,bed:!0,bounciness:.6,category:"items"},{name:"quicksand",Name:"Quicksand",quicksand:!0,solid:!1,category:"nature"},{name:"bow",Name:"Bow",pullTextures:["bow","bowPulling0","bowPulling1","bowPulling2"],useAnywhere:!0,canPlace:()=>!1,stackSize:1,category:"tools"},{name:"arrow",Name:"Arrow",textures:"arrowIcon",item:!0,category:"items"},{name:"glisteringMelonSlice",Name:"Slice of Watermelon With Unedible Gold",item:!0,category:"items"},{name:"untnt",Name:"UnTNT",textures:["untntBottom","untntTop","untnt"],explode:function(e,t,s,a,o,r){r.setBlock(e,t,s,0,!1,!1,!1,!1,o);var i=new wt[ft.PrimedUnTNT](e,t,s);if(r.addEntity(i,!1,o),r.playSound(e,t,s,"entity.tnt.fuse"),"explosion"===a)i.timeLimit=rand(10,30)},burnChance:.6,onburn:function(e,t,s,a,o){this.explode(e,t,s,null,a,o)},category:"redstone"},{name:"crimsonSign",Name:"Crimson Sign",textures:"crimsonPlanks",poleTop:"crimsonStemTop",poleSide:"crimsonStemSide",iconTexture:"crimsonSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"warpedSign",Name:"Warped Sign",textures:"warpedPlanks",poleTop:"warpedStemTop",poleSide:"warpedStemSide",iconTexture:"warpedSign",flatIcon:!0,sign:!0,hardness:1,woodSound:!0,type:"wood",category:"decoration"},{name:"dropper",Name:"Dropper",textures:["furnaceTop","furnaceTop","furnaceSide","dropperFront","furnaceSide","furnaceSide"],upTextures:w(["furnaceTop","dropperFrontVertical","furnaceTop"]),downTextures:w(["dropperFrontVertical","furnaceTop","furnaceTop"]),stoneSound:!0,category:"redstone",tagBits:null,setContents:function(e,t,s,a,o){let r={dispenser:!0,contents:new Array(9).fill(0)};return o.setTags(e,t,s,r,!1,a),r},onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("dispenser"),releasePointer()},onbreak:function(e,t,s,a,o,r,i){if(o&&o.dispenser&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&i.addItems(e,t,s,r,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getBlock(e,t,s,n),d=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),c=l.getTags(e,t,s,n);if(d!==(c&&c.on||!1)&&(l.setTagByName(e,t,s,"on",d,!1,n),d)){var p=this;l.setTimeout((function(){if(l.playSound(e,t,s,"click"),c&&c.contents){var a=c.contents.filter((e=>e)),o=floor(rand(a.length));if(a[o]){o=c.contents.indexOf(a[o]),a=c.contents;var r=0,i=0,d=0,u=e,m=t,g=s,k=e,y=t,b=s;switch(h){case p.id|He:d=-.25,g-=.75,b--;break;case p.id|je:d=.25,g+=.75,b++;break;case p.id|Ye:r=-.25,u-=.75,k--;break;case p.id|Ve:r=.25,u+=.75,k++;break;case p.id|ce:i=.25,m+=.75,y++;break;case p.id|pe:i=-.25,m-=.75,y--}jt(k,y,b,n,a[o].id,a[o].durability,a[o].customName,!1,l)||l.addItems(u,m,g,n,r,i,d,a[o].id,!1,1,a[o].durability,a[o].customName),a[o].amount--,a[o].amount<=0&&(a[o]=0),l.setTags(e,t,s,c,!1,n)}}}),4*y,e,t,s,n)}},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)}},{name:"dispenser",Name:"Dispenser",textures:["furnaceTop","furnaceTop","furnaceSide","dispenserFront","furnaceSide","furnaceSide"],upTextures:w(["furnaceTop","dispenserFrontVertical","furnaceTop"]),downTextures:w(["dispenserFrontVertical","furnaceTop","furnaceTop"]),stoneSound:!0,category:"redstone",hardness:3.5,type:"rock2",tagBits:null,setContents:function(e,t,s,a,o){let r={dispenser:!0,contents:new Array(9).fill(0)};return o.setTags(e,t,s,r,!1,a),r},onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("dispenser"),releasePointer()},onbreak:function(e,t,s,a,o,r,i){if(o&&o.dispenser&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&i.addItems(e,t,s,r,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=l.getBlock(e,t,s,n),d=l.getRedstonePower(e,t,s,n)||l.getSurroundingBlockPower(e,t,s,n),c=l.getTags(e,t,s,n);if(d!==(c&&c.on||!1)&&(l.setTagByName(e,t,s,"on",d,!1,n),d)){var p=this;l.setTimeout((function(){if(l.playSound(e,t,s,"click"),c&&c.contents){var a=c.contents.filter((e=>e)),o=floor(rand(a.length));if(a[o]){o=c.contents.indexOf(a[o]),a=c.contents;var r=0,i=0,d=0,u=e,m=t,g=s;switch(h){case p.id|He:d=-.25,g--;break;case p.id|je:d=.25,g++;break;case p.id|Ye:r=-.25,u--;break;case p.id|Ve:r=.25,u++;break;case p.id|ce:i=.25,m++;break;case p.id|pe:i=-.25,m--}var k=l.getBlock(u,m,g,n);if(!k||!L[k].solid){var y=L[a[o].id],b=!0;if("arrow"===y.name)l.addEntity(new wt[ft.Arrow](u,m,g,4*r,4*i,4*d),!1,n);else if("boneMeal"===y.name)y.serveronuse(u,m,g,k,n,l);else if("snowball"===y.name)l.addEntity(new wt[ft.Snowball](u,m,g,4*r,4*i,4*d),!1,n);else if("egg"===y.name)l.addEntity(new wt[ft.Egg](u,m,g,4*r,4*i,4*d),!1,n);else if("bucket"===y.name){k===I.Water&&(!0,a[o].id=I.waterBucket),k===I.Lava&&(!0,a[o].id=I.lavaBucket),k===I.powderSnow&&(!0,a[o].id=I.powderSnowBucket),k===I.oil&&(!0,a[o].id=I.oilBucket),l.setBlock(u,m,g,0,!1,!1,!1,!1,n),b=!1}else"waterBucket"===y.name?(l.setBlock(u,m,g,I.Water,!1,!1,!1,!1,n),a[o].id=I.bucket,b=!1):"lavaBucket"===y.name?(l.setBlock(u,m,g,I.Lava,!1,!1,!1,!1,n),a[o].id=I.bucket,b=!1):"powderSnowBucket"===y.name?(l.setBlock(u,m,g,I.powderSnow,!1,!1,!1,!1,n),a[o].id=I.bucket,b=!1):"oilBucket"===y.name?(l.setBlock(u,m,g,I.oil,!1,!1,!1,!1,n),a[o].id=I.bucket,b=!1):"tnt"===y.name?y.explode(u,m,g,null,n,l):y.item?l.addItems(u,m,g,n,r,i,d,a[o].id,!1,1,a[o].durability,a[o].customName):l.setBlock(u,m,g,a[o].id,!1,!1,!1,!1,n);b&&a[o].amount--,a[o].amount<=0&&(a[o]=0),l.setTags(e,t,s,c,!1,n)}}}}),4*y,e,t,s,n)}},onset:function(e,t,s,a,o){this.onpowerupdate(e,t,s,null,null,null,null,a,o)}},{name:"hopper",Name:"Hopper",textures:"hopper",flatIcon:!0,iconTexture:"hopperIcon",blastResistance:4.8,transparent:!0,hardness:3,type:"metal2",stoneSound:!0,category:"redstone",tagBits:null,setContents:function(e,t,s,a,o){let r={hopper:!0,contents:new Array(5).fill(0)};return o.setTags(e,t,s,r,!1,a),r},onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("hopper"),releasePointer()},onbreak:function(e,t,s,a,o,r,i){if(o&&o.hopper&&o.contents){o=o.contents;for(var n=0;n<o.length;n++)o[n]&&i.addItems(e,t,s,r,0,0,0,o[n].id,!0,o[n].amount,o[n].durability,o[n].customName)}},pushItem:function(e,t,s,a,o,r){var i,n=e,l=t,h=s,d=0,c=0,p=0;switch(r.getBlock(e,t,s,a)){case this.id:l--,c=-1,i=!0;break;case this.id|ce|He:h++,p=1;break;case this.id|ce|je:h--,p=-1;break;case this.id|ce|Ye:n++,d=1;break;case this.id|ce|Ve:n--,d=-1}for(var u=r.getBlock(n,l,h,a),m=0;m<o.contents.length;m++){var g=o.contents[m];if(g&&g.id){var k;if(u&&L[u].solid)if("furnace"===L[u].name){var y,b=r.getTags(n,l,h,a);b||(b=L[u].setContents(n,l,h,a,this.world));var w=b[y=i?"input":"fuel"];w?w.id===g.id&&(!w.customName&&!g.customName||w.customName===g.customName)&&w.amount<L[w.id].stackSize&&(w.amount++,k=!0):(w={id:g.id,amount:1,durability:g.durability,customName:g.customName},k=!0),k&&(b[y]=w,r.setTags(n,l,h,b,!1,a))}else jt(n,l,h,a,g.id,g.durability,g.customName,!1,r)&&(k=!0);else r.addItems(e+.625*d,t+.625*c,s+.625*p,a,d/8,c/8,p/8,g.id,!1,1,g.durability,g.customName),k=!0;if(k)return g.amount--,g.amount||(o.contents[m]=0),!0}}},pullItem:function(e,t,s,a,o,r){var i=r.getBlock(e,t+1,s,a),n=r.getTags(e,t+1,s,a);if(n)if("furnace"===L[i].name){if((h=n.output)&&h.id){if(!jt(e,t,s,a,h.id,h.durability,h.customName,!0,r))return;return h.amount--,h.amount||(n.output=0),r.tagsChanged(e,t,s,n,!1,a),!0}}else if(n.contents)for(var l=0;l<n.contents.length;l++){var h;if((h=n.contents[l])&&h.id){if(!jt(e,t,s,a,h.id,h.durability,h.customName,!0,r))return;return h.amount--,h.amount||(n.contents[l]=0),r.tagsChanged(e,t,s,n,!1,a),!0}}},update:function(e,t,s,a,o){if(!this.isLocked(e,t,s,a,o)){var r=o.getTags(e,t,s,a);r||(r=this.setContents(e,t,s,a,o));var i=!1;this.pushItem(e,t,s,a,r,o)&&(i=!0),this.pullItem(e,t,s,a,r,o)&&(i=!0),i&&o.setTags(e,t,s,r,!1,a)}},onupdate:function(e,t,s,a,o,r,i,n,l){var h=this;o.setTimeout((()=>h.update(e,t,s,l,o)),8*y,e,t,s,l)},onpowerupdate:function(e,t,s,a,o,r,i,n,l){this.onupdate(e,t,s,null,l,a,o,r,n,l)},ontagsupdate:function(e,t,s,a,o,r){this.onupdate(e,t,s,null,r,null,null,null,a,r)},isLocked:function(e,t,s,a,o){return o.getRedstonePower(e,t,s,a)||o.getSurroundingBlockPower(e,t,s,a)},itemOnTop(e,t,s,a,o){let r=o.world;if(!this.isLocked(e,t,s,a,r)){for(var i=o.amount;i&&jt(e,t,s,a,o.block,o.durability,o.name,!1,r);)i--;return i}}},{name:"target",Name:"Target",textures:["targetTop","targetSide"],hardness:.5,blastResistance:.5,burnChance:.2,burnTime:20,category:"redstone",grassSound:!0,type:"plant2",cornerDist:sqrt(.75),sideDist:.5,projectileHit:function(e,t,s,a,o){let r=o.world;var i=dist3(o.x+o.direction.x/2,o.y+o.direction.y/2,o.z+o.direction.z/2,e,t,s),n=round(map(i,this.sideDist,this.cornerDist,15,0));r.setPower(e,t,s,n,!1,a),r.spreadPower(e,t,s,n,a),r.setTimeout((function(){r.setPower(e,t,s,0,!1,a),r.unspreadPower(e,t,s,n,!1,a)}),8*y,e,t,s,a)}},{name:"comparator",Name:"Redstone Comparator",transparent:!0,flatIcon:!0,iconTexture:"comparatorIcon",category:"redstone",tagBits:{output:[0,4]},on:function(e,t,s,a,o,r,i,n,l){var h=e-o,d=t-r,c=s-i,p=min(max(l.getRepeaterPower(e,t,s,h,d,c,a),ceil(15*(Yt(h,d,c,a,l)||0))),15);l.getBlockPower(h,d,c,null,a)&&(p=15);var u=min(max(l.getRepeaterPower(e,t,s,e-i,t-r,s-o,a),l.getRepeaterPower(e,t,s,e+i,t-r,s+o,a)),15);return n?max(p-u,0):p*(u<=p)},onupdate:function(e,t,s,a,o,r,i,n,l){this.onpowerupdate(e,t,s,null,null,null,null,l,o)},ontagsupdate:function(e,t,s,a,o,r){this.onpowerupdate(e,t,s,null,null,null,null,a,r)},ondelete:function(e,t,s,a,o,r,i){i.unspreadPower(e,t,s,16,!1,r),i.setBlockPower(e,t,s+1,null,"south",r),i.setBlockPower(e,t,s-1,null,"north",r),i.setBlockPower(e+1,t,s,null,"east",r),i.setBlockPower(e-1,t,s,null,"west",r)},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h,d=0,c=0,p=l.getBlock(e,t,s,n),u=this.id,m=this.id|ce,g=this.id|pe,k=this.id|ge;switch(p){case g|He:case k|He:h=!0;case u|He:case m|He:c=1,"south";break;case g|je:case k|je:h=!0;case u|je:case m|je:c=-1,"north";break;case g|Ye:case k|Ye:h=!0;case u|Ye:case m|Ye:d=1,"east";break;case g|Ve:case k|Ve:h=!0;case u|Ve:case m|Ve:d=-1,"west"}if(!d&&!c)return console.log("doesn't match up");var b=e+d,w=t+0,f=s+c,B=l.getTagByName(e,t,s,"output",n)||0,S=this.on(e,t,s,n,d,0,c,h,l),v=l.getBlock(b,w,f,n);if(v&&"redstoneDust"===L[v].name&&B){var x=l.getPower(b,w,f,n);B<x?l.unspreadPower(b,w,f,x,!0,n):B>x&&(l.setPower(b,w,f,B,!1,n),l.spreadPower(b,w,f,B,n))}if(S!==B){var P=this;l.setTimeout((function(){if(p=l.getBlock(e,t,s,n),S=P.on(e,t,s,n,d,0,c,h,l),B=l.getTagByName(e,t,s,"output",n)||0,S!==B){l.setTagByName(e,t,s,"output",S,!1,n);var a=!1;switch(p){case k|He:case m|He:case k|je:case m|je:case k|Ye:case m|Ye:case k|Ve:case m|Ve:a=!0}if(!!S!==a){var o;switch(p){case u|He:o=m|He;break;case m|He:o=u|He;break;case g|He:o=k|He;break;case k|He:o=g|He;break;case u|je:o=m|je;break;case m|je:o=u|je;break;case g|je:o=k|je;break;case k|je:o=g|je;break;case u|Ye:o=m|Ye;break;case m|Ye:o=u|Ye;break;case g|Ye:o=k|Ye;break;case k|Ye:o=g|Ye;break;case u|Ve:o=m|Ve;break;case m|Ve:o=u|Ve;break;case g|Ve:o=k|Ve;break;case k|Ve:o=g|Ve}p!==o&&l.setBlock(e,t,s,o,!1,!1,!1,!0,n)}var r=l.getBlock(b,w,f,n);if(S){if(r&&"redstoneDust"===L[r].name){var i=l.getPower(b,w,f,n);S<i?l.unspreadPower(b,w,f,i,!0,n):S>i&&(l.setPower(b,w,f,S,!1,n),l.spreadPower(b,w,f,S,n))}}else r&&"redstoneDust"===L[r].name&&l.unspreadPower(b,w,f,B,!0,n)}}),2*y,e,t,s,n)}},onclick:function(e,t,s,a,o){var r,i=L[I.comparator],n=o.getBlock(e,t,s,a),l=i.id,h=i.id|ce,d=i.id|pe,c=i.id|ge;switch(n){case l|He:r=d|He;break;case h|He:r=c|He;break;case d|He:r=l|He;break;case c|He:r=h|He;break;case l|je:r=d|je;break;case h|je:r=c|je;break;case d|je:r=l|je;break;case c|je:r=h|je;break;case l|Ye:r=d|Ye;break;case h|Ye:r=c|Ye;break;case d|Ye:r=l|Ye;break;case c|Ye:r=h|Ye;break;case l|Ve:r=d|Ve;break;case h|Ve:r=c|Ve;break;case d|Ve:r=l|Ve;break;case c|Ve:r=h|Ve}o.setBlock(e,t,s,r,!1,!1,!1,!0,a)},getFacing:function(e,t,s,a,o){var r,i=o.getBlock(e,t,s,a),n=this.id,l=this.id|ce,h=this.id|pe,d=this.id|ge;switch(i){case n|He:case l|He:case h|He:case d|He:r="north";break;case n|je:case l|je:case h|je:case d|je:r="south";break;case n|Ye:case l|Ye:case h|Ye:case d|Ye:r="east";break;case n|Ve:case l|Ve:case h|Ve:case d|Ve:r="west"}return r},canHavePower:function(e,t,s,a,o,r,i,n){var l=e,h=t,d=s,c=n.getBlock(e,t,s,i),p=this.id,u=this.id|ce,m=this.id|pe,g=this.id|ge;switch(c){case m|He:case g|He:case p|He:case u|He:d++;break;case m|je:case g|je:case p|je:case u|je:d--;break;case m|Ye:case g|Ye:case p|Ye:case u|Ye:l++;break;case m|Ve:case g|Ve:case p|Ve:case u|Ve:l--}return l===a&&h===o&&d===r&&n.getTagByName(e,t,s,"output",i)||0}},{name:"acaciaChair",Name:"Acacia Chair",textures:"acaciaPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"birchChair",Name:"Birch Chair",textures:"birchPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"jungleChair",Name:"Jungle Chair",textures:"junglePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"darkOakChair",Name:"Dark Oak Chair",textures:"darkOakPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"spruceChair",Name:"Spruce Chair",textures:"sprucePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"mangroveChair",Name:"Mangrove Chair",textures:"mangrovePlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"crimsonChair",Name:"Crimson Chair",textures:"crimsonPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"warpedChair",Name:"Warped Chair",textures:"warpedPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"blackChair",Name:"Black Chair",textures:"blackWool",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"spawnCreeper",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Creeper](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Creeper](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"gunpowder",Name:"Gray exploding stuff",item:!0},{name:"rottenFlesh",Name:"Rotten Flesh",item:!0},{name:"spawnSheep",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Sheep](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Sheep](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"spawnChicken",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Chicken](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Chicken](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"feather",Name:"Feather",item:!0},{name:"spawnZombie",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Zombie](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Zombie](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"spawnSkeleton",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Skeleton](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Skeleton](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"bone",Name:"Bone",item:!0,category:"items"},{name:"spawner",Name:"Mob Spawner",transparent:!0,blastResistance:5,hardness:5,drop:"air",experience:15,tagBits:null,tick:function(e,t,s,a,o,r){let i=r.getTagByName(t,s,a,"spawn",o);if(i){r.sendAll({type:"particles",particleType:"flameCube",x:t,y:s,z:a,dimension:o,amount:20});for(let e=0;e<10;e++){let e=t+round(rand(-4.5,4)),n=s+round(rand(-1.5,1.5)),l=a+round(rand(-4.5,4)),h=r.getBlock(e,n,l,o);if(L[h].transparent){L[i].spawnMob(e,n,l,o,r);break}}}},onclientclick:function(e,t,s,a){if(!holding||!L[holding].spawnMob)return!0;if(world.setTagByName(e,t,s,"spawn",holding,!1,a),!settings.performanceFast)for(let o=0;o<30;o++)world.addParticle(new wt[ft.FlameParticle](e+rand(-.6,.6),t+rand(-.6,.6),s+rand(-.6,.6)),a);multiplayer&&send({type:"particles",particleType:"flameCube",x:e,y:t,z:s,dimension:a,amount:30})}},{name:"daylightDetector",Name:"Daylight detector",textures:["daylightDetectorSide","daylightDetectorTop","daylightDetectorSide"],invertedTextures:w(["daylightDetectorSide","daylightDetectorInvertedTop","daylightDetectorSide"]),transparent:!0,blastResistance:.2,hardness:.2,woodSound:!0,onclick:function(e,t,s,a,o){let r=o.getBlock(e,t,s,a),i=L[I.daylightDetector];r=r===(i.id|ce)?i.id:i.id|ce,o.setBlock(e,t,s,r,!1,!1,!1,!1,a)},tick:function(e,t,s,a,o,r){let i=round(r.getLight(t,s,a,0,o)*r.skyLight);e===(this.id|ce)&&(i=15-i);let n=r.getPower(t,s,a,o);n!==i&&(r.setPower(t,s,a,i,!1,o),i?i<n?r.unspreadPower(t,s,a,n,!1,o):i>n&&r.spreadPower(t,s,a,i,o):r.unspreadPower(t,s,a,n,!1,o))},onset:function(e,t,s,a,o){this.tick(o.getBlock(e,t,s,a),e,t,s,a,o)},ondelete:function(e,t,s,a,o,r,i){i.setPower(e,t,s,0,!1,r),i.unspreadPower(e,t,s,16,!1,r)},category:"redstone"},{name:"commandBlock",Name:"Command Block",textures:["commandBlockBack","commandBlockFront","commandBlockSide"],errorTextures:w(["commandBlockBackError","commandBlockFrontError","commandBlockSideError"]),sideTextures:["commandBlockSide","commandBlockSide","commandBlockBack","commandBlockFront","commandBlockSide","commandBlockSide"],sideErrorTextures:["commandBlockSideError","commandBlockSideError","commandBlockBackError","commandBlockFrontError","commandBlockSideError","commandBlockSideError"],flipTextures:w(["commandBlockFront","commandBlockBack","commandBlockSide"]),flipErrorTextures:w(["commandBlockFrontError","commandBlockBackError","commandBlockSideError"]),commandBlock:!0,tagBits:null,onclientclick:function(e,t,s,a){containerData.x=e,containerData.y=t,containerData.z=s,containerData.dimension=a,changeScene("commandBlock"),releasePointer()},trigger:function(e,t,s,a,o){let r=o.getTagByName(e,t,s,"data",a),i=o.getTagByName(e,t,s,"running",a);r&&!i&&(o.setTagByName(e,t,s,"running",!0,!1,a),gt(r,{x:e,y:t,z:s,dimension:a},o,!0,(r=>{let i,n="none";n="";for(let e=0;e<r.length;e+=2)e&&(n+="<br>"),n+=Messages.format(r[e]);o.setTagByName(e,t,s,"output",n,!1,a);let l=o.getBlock(e,t,s,a);switch(l){case this.id:case this.id|_e:i=this.id;break;case this.id|ce|He:case this.id|ce|_e|He:i=this.id|ce|He;break;case this.id|ce|je:case this.id|ce|_e|je:i=this.id|ce|je;break;case this.id|ce|Ye:case this.id|ce|_e|Ye:i=this.id|ce|Ye;break;case this.id|ce|Ve:case this.id|ce|_e|Ve:i=this.id|ce|Ve;break;case this.id|pe:case this.id|pe|_e:i=this.id|pe}r&&"error"===r[r.length-1]&&(i|=_e),l!==i&&o.setBlock(e,t,s,i,!1,!1,!1,!0,a)})).then((()=>o.setTagByName(e,t,s,"running",!1,!1,a))))},onpowerupdate:function(e,t,s,a,o,r,i,n,l){var h=!(!l.getRedstonePower(e,t,s,n)&&!l.getSurroundingBlockPower(e,t,s,n));h!==(l.getTagByName(e,t,s,"on",n)||!1)&&(l.setTagByName(e,t,s,"on",h,!1,n),h&&this.trigger(e,t,s,n,l))},rarity:"epic",category:"redstone"},{name:"spiderEye",item:!0,category:"items"},{name:"spawnSpider",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Spider](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Spider](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"spawnCaveSpider",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Spider](h[0],h[1],h[2],!0);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Spider](e,t,s,!0),!1,a)},minusOnUse:!0,category:"items"},{name:"spawnWolf",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Wolf](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Wolf](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"nameTag",Name:"Name Tag",item:!0,onserverentityuse:function(e,t){e.mob&&t.customName&&(e.name=t.customName,e.world.sendEntityPos(e))}},{name:"blazeRod",Name:"Blaze Rod",item:!0},{name:"blazePowder",Name:"Blaze Powder",item:!0},{name:"spawnBlaze",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{var h=getPosition();let d=new wt[ft.Blaze](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Blaze](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"fireCharge",item:!0},{name:"spawnEnderDragon",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{var l=getPosition();world.addEntity(new wt[ft.EnderDragon](l[0],l[1],l[2]),!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.EnderDragon](e,t,s),!1,a)},minusOnUse:!0,category:"items",hidden:!0},{name:"debugStick",Name:function(){let e;return e=blockMode===de?"Get Tags":blockMode===ce?"Change Block State":blockMode===pe?"Change Block Rotation":"No Function",e+" - Debug Stick - Press Enter to change mode"},item:!0,hidden:!0,onuse:function(e,t,s,a,o,r,i,n){let l=L[I.debugStick];blockMode===de?l.useGetTags(e,t,s,a,n):blockMode===ce?l.useChangeBlockState(e,t,s,a,n):blockMode===pe&&l.useChangeBlockRotation(e,t,s,a,n)},useGetTags:(e,t,s,a,o)=>{let r=world.getTags(e,t,s,o),i="dDEBUG<br>";if(a&&L[a].tagBits)for(let e in L[a].tagBits)i+=e+": "+Gt(r,e,a)+"<br>";else i+=JSON.stringify(r);Messages.add(i)},useChangeBlockState:(e,t,s,a,o)=>{if(!a)return;let r=a&(Ze|Xe),i=[de,ce,pe,ue,me,ge,ke,ye,be,we,fe,Be,Se,ve,xe,Pe,Te,Ne,Ce,ze,Le,Re,Ie,Me,De],n=a&~Ze&~Xe,l=i.indexOf(n);do{l++,l>=i.length&&(l=0),n=i[l]}while(!L[a|n]);world.setBlock(e,t,s,r|n,!1,!0,!1,!0,o)},useChangeBlockRotation:(e,t,s,a,o)=>{if(!a)return;let r=a&~Xe&~_e,i=[He,je,Ye,Ve,He|_e,je|_e,Ye|_e,Ve|_e],n=a&(Xe|_e),l=i.indexOf(n);do{l++,l>=i.length&&(l=0),n=i[l]}while(!L[a|n]);world.setBlock(e,t,s,r|n,!1,!0,!1,!0,o)}},{name:"oil",textures:"oil",transparent:!0,liquid:!0,solid:!1,shadow:!1,blastResistance:100,hidden:!0,drop:"air",burnChance:1,burnTime:15,density:.1,inLiquid:3,getLevelDifference:function(e){return e-2},onupdate:function(e,t,s,a,o,r,i,n,l){if(o.settings.blocksFall){var h=this;o.setTimeout((()=>h.flow(e,t,s,l,o)),5*y,e,t,s,l)}},getY:function(e,t,s,a){var o=world.getBlock(e,t,s,a);return min(2*(this.getLevel(o)||(o?8:0)),14.5)/16-.5}},{name:"oilBucket",Name:"Oil Bucket",item:!0,onuse:(e,t,s,a,o,r,i,n)=>{survival&&o(I.bucket);var l=getPosition();world.setBlock(l[0],l[1],l[2],I.oil,!1,!1,!1,!1,n)},stackSize:1,category:"items"},{name:"silverBlock",Name:"Block of Silver",hardness:5,type:"metal2",category:"build",stoneSound:!0},{name:"limestone",Name:"Limestone",type:"rock1",category:"nature",hardness:1.25,blastResistance:.8,stoneSound:!0,randomRotate:"flip",randomRotateTop:!0,randomRotateBottom:!0,randomRotateNorth:!0,randomRotateSouth:!0,randomRotateEast:!0,randomRotateWest:!0},{name:"spawnEnderman",item:!0,onuse:(e,t,s,a,o,r,i,n,l)=>{let h=getPosition(),d=new wt[ft.Enderman](h[0],h[1],h[2]);l.customName&&(d.name=l.customName),world.addEntity(d,!1,n)},spawnMob:function(e,t,s,a,o){o.addEntity(new wt[ft.Enderman](e,t,s),!1,a)},minusOnUse:!0,category:"items"},{name:"bambooBlock",Name:"Block of Bamboo",textures:["bambooBlockTop","bambooBlock"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"bambooBlockSW",textures:["bambooBlock","bambooBlock","bambooBlockTop","bambooBlock"],SW:!0,hidden:!0},{name:"strippedBambooBlock",Name:"Stripped Block of Bamboo",textures:["strippedBambooBlockTop","strippedBambooBlock"],breakTime:3,woodSound:!0,type:"wood",category:"nature",burnChance:.1,burnTime:50,log:!0},{name:"strippedBambooBlockSW",textures:["strippedBambooBlock","strippedBambooBlock","strippedBambooBlockTop","strippedBambooBlock"],SW:!0,hidden:!0},{name:"bambooPlanks",Name:"Bamboo Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"bambooMosaic",Name:"Bamboo Mosaic",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"bambooButton",Name:"Bamboo Button",textures:"bambooPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"bambooDoor",Name:"Bamboo Door",transparent:!0,shadow:!1,textures:"bambooDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"bambooFenceGate",Name:"Bamboo Fence Gate",textures:"bambooPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"bambooPressurePlate",Name:"Bamboo Pressure Plate",textures:"bambooPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"bambooSign",Name:"Bamboo sign",textures:"bambooPlanks",poleTop:"bambooBlockTop",poleSide:"bambooBlock",iconTexture:"bambooSign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"bambooTrapdoor",Name:"Bamboo Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"strippedCherryLog",Name:"Stripped Cherry Log",textures:["strippedCherryLogTop","strippedCherryLog"],woodSound:!0,breakTime:3,type:"wood",burnChance:.1,burnTime:50,category:"nature"},{name:"strippedCherryLogSW",textures:["strippedCherryLog","strippedCherryLog","strippedCherryLogTop","strippedCherryLog"],SW:!0,hidden:!0},{name:"cherryPlanks",Name:"Cherry Planks",type:"wood",category:"build",breakTime:3,woodSound:!0,burnChance:.1,burnTime:40},{name:"cherryButton",Name:"Cherry Button",textures:"cherryPlanks",button:!0,transparent:!0,shadow:!1,category:"redstone"},{name:"cherryDoor",Name:"Cherry Door",transparent:!0,shadow:!1,textures:"cherryDoorBottom",door:!0,woodSound:!0,breakTime:4.5,type:"wood",category:"build"},{name:"cherryFenceGate",Name:"Cherry Fence Gate",textures:"cherryPlanks",fenceGate:!0,breakTime:3,woodSound:!0,type:"wood",category:"build"},{name:"cherryPressurePlate",Name:"Cherry Pressure Plate",textures:"cherryPlanks",pressurePlate:!0,breakTime:.75,type:"wood",category:"redstone"},{name:"cherrySign",Name:"Cherry sign",textures:"cherryPlanks",poleTop:"cherryLogTop",poleSide:"cherryLog",iconTexture:"cherrySign",flatIcon:!0,sign:!0,breakTime:1.5,woodSound:!0,type:"wood",category:"decoration"},{name:"cherryTrapdoor",Name:"Cherry Trapdoor",transparent:!0,trapdoor:!0,woodSound:!0,category:"build"},{name:"cherryChair",Name:"Cherry Chair",textures:"cherryPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"bambooChair",Name:"Bamboo Chair",textures:"bambooPlanks",shapeName:"chair",transparent:!0,shadow:!1,onclientclick:k,category:"items"},{name:"suspicousSand",Name:"sussy Sand",textures:"suspiciousSand0",breakTime:.75,blastResistance:.5,onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},drop:"air"},{name:"suspicousGravel",Name:"Gravel is sus",textures:"suspiciousGravel0",breakTime:.75,blastResistance:.5,onupdate:function(e,t,s,a,o,r,i,n,l){_t(e,t,s,a,o,!1,l)},ongetexploded:function(e,t,s,a,o,r){_t(e,t,s,a,o,!0,r)},drop:"air"},{name:"pitcherPlant",Name:"Pitcher Plant",shapeName:"pitcherPlant",flatIcon:!0,solid:!1,transparent:!0,shadow:!1,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"pitcherPod",Name:"Pitcher Pod",item:!0,useAs:function(e,t,s,a,o){if(a)return"top"===o&&"farmland"===L[a].name?"pitcherCrop":void 0},category:"items"},{name:"pitcherCrop",textures:"pitcherCropSide",textures1:new Array(6).fill("pitcherCropBottomStage1"),textures2:new Array(6).fill("pitcherCropBottomStage2"),textures3:new Array(6).fill("pitcherCropBottomStage3"),textures4:new Array(6).fill("pitcherCropBottomStage4"),transparent:!0,shadow:!1,solid:!1,drop:"pitcherPod",hidden:!0,liquidBreakable:"drop"},{name:"torchflower",Name:'"Torch" flower',textures1:new Array(6).fill("torchflowerCropStage0"),textures2:new Array(6).fill("torchflowerCropStage1"),drop:"torchflowerSeeds",solid:!1,transparent:!0,shadow:!1,potCross:!0,crossShape:!0,compostChance:.65,liquidBreakable:"drop",category:"nature"},{name:"torchflowerSeeds",Name:"Torchflower seeds",item:!0,useAs:function(e,t,s,a,o){return I.torchflower|ce},category:"items"},{name:"driedOakLeaves",Name:"Dried Oak Leaves",thickTexture:"driedOakLeavesThick",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,groundLeaves:!0},{name:"driedBirchLeaves",Name:"Dried Birch Leaves",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,groundLeaves:!0},{name:"driedSpruceLeaves",Name:"Dried Spruce Leaves",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,groundLeaves:!0},{name:"strippedCherryWood",Name:"Stripped Cherry Wood",textures:"strippedCherryLog",breakTime:3,woodSound:!0,type:"wood",burnChance:.1,burnTime:50,category:"nature",log:!0},{name:"pinkPetals",Name:"Pink flowers",textures:["pinkPetalsFlower","pinkPetalsStem"],iconTexture:"pinkPetals",flowerbed:!0,solid:!1,transparent:!0,shadow:!1,liquidBreakable:"drop",category:"nature",randomRotateOnSpawn:!0,addPetal:function(e,t,s,a,o){let r,i=o.getBlock(e,t,s,a),n=i&Xe;switch(i&~Xe){case this.id:r=this.id|ce;break;case this.id|ce:r=this.id|pe;break;case this.id|pe:r=this.id|ge}r&&o.setBlock(e,t,s,r|n,!1,!1,!1,!1,a)}},{name:"lilyPad",Name:"Lily Pad",transparent:!0,shadow:!1,shapeName:"flat",flatIcon:!0,liquidBreakable:"drop",category:"nature",type:"plant2",allHitbox:!0},{name:"lightPanel",Name:"Light Panel",transparent:!0,shadow:!1,shapeName:"ceilingPanel",lightLevel:15,category:"build",glassSound:!0,flatIcon:!0},{name:"bambooLeaves",Name:"Bamboo Leaves",transparent:!0,cullFace:0,breakTime:.3,type:"plant2",leaves:!0,dropSelfWhenSheared:!0,shearBreakTime:.05,burnChance:.2,burnTime:30,compostChance:.3,grassSound:!0,category:"nature",drop:function(){if(rand()>.8){let e=floor(rand(2));if(0===e)return"stick";if(1===e)return"bambooShoot"}}},{name:"driedBambooLeaves",Name:"Dried Bamboo Leaves",breakTime:.15,drop:"air",category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,groundLeaves:!0},{name:"groundBerries",Name:"Ground Berries",textures:["groundBerries","groundBerriesStem"],breakTime:.15,category:"nature",grassSound:!0,transparent:!0,shadow:!1,solid:!1,shapeName:"groundBush",randomRotateOnSpawn:!0},{name:"brainCoralBlock",Name:"Sponge-like Coral Block",category:"nature",coralBlock:!0},{name:"bubbleCoralBlock",Name:"Bubble Coral Block",category:"nature",coralBlock:!0},{name:"fireCoralBlock",Name:"Fire Coral Block",category:"nature",coralBlock:!0},{name:"hornCoralBlock",Name:"Horn Coral Block",category:"nature",coralBlock:!0},{name:"tubeCoralBlock",Name:"Tube Coral Block",category:"nature",coralBlock:!0},{name:"brainCoral",Name:"Sponge-like Coral (standing)",category:"nature",coral:!0,transparent:!0,solid:!1,shadow:!1,potCross:!0,wetgrassSound:!0},{name:"bubbleCoral",Name:"Bubble Coral (standing)",category:"nature",coral:!0,transparent:!0,solid:!1,shadow:!1,potCross:!0,wetgrassSound:!0},{name:"fireCoral",Name:"Fire Coral (standing)",category:"nature",coral:!0,transparent:!0,solid:!1,shadow:!1,potCross:!0,wetgrassSound:!0},{name:"hornCoral",Name:"Horn Coral (standing)",category:"nature",coral:!0,transparent:!0,solid:!1,shadow:!1,potCross:!0,wetgrassSound:!0},{name:"tubeCoral",Name:"Tube Coral (standing)",category:"nature",coral:!0,transparent:!0,solid:!1,shadow:!1,potCross:!0,wetgrassSound:!0},{name:"brainCoralFan",Name:"Sponge-like Coral Fan",category:"nature",coralFan:!0,transparent:!0,solid:!1,shadow:!1,wetgrassSound:!0},{name:"bubbleCoralFan",Name:"Bubble Coral Fan",category:"nature",coralFan:!0,transparent:!0,solid:!1,shadow:!1,wetgrassSound:!0},{name:"fireCoralFan",Name:"Fire Coral Fan",category:"nature",coralFan:!0,transparent:!0,solid:!1,shadow:!1,wetgrassSound:!0},{name:"hornCoralFan",Name:"Horn Coral Fan",category:"nature",coralFan:!0,transparent:!0,solid:!1,shadow:!1,wetgrassSound:!0},{name:"tubeCoralFan",Name:"Tube Coral Fan",category:"nature",coralFan:!0,transparent:!0,solid:!1,shadow:!1,wetgrassSound:!0}],R=L.length;console.log(R," blocks on server side"),win.SERVER_BLOCK_COUNT=R,win.serverBlockData=L,win.emptyFunc=function(){};let I={};win.serverBlockIds=I;let M={grass:!0,dirt:!0,stone:!0,gravel:!0,snowBlock:!0,snow:!0,packedIce:!0,ice:!0,Water:!0,powderSnow:!0,mud:!0,coarseDirt:!0,podzol:!0,sand:!0,bedrock:!0,deepslate:!0,sandstone:!0,limestone:!0,mycelium:!0,redSand:!0,rootedDirt:!0,redSandstone:!0,calcite:!0,terracotta:!0,lightGrayTerracotta:!0,whiteTerracotta:!0,yellowTerracotta:!0,orangeTerracotta:!0,glass:!0,orangeConcrete:!0},D=[];function A(){const e=["block.stone.dig1","block.stone.dig2","block.stone.dig3","block.stone.dig4"],t=["block.stone.step1","block.stone.step2","block.stone.step3","block.stone.step4","block.stone.step5","block.stone.step6"],s=["block.wood.dig1","block.wood.dig2","block.wood.dig3","block.wood.dig4"],a=["block.wood.step1","block.wood.step2","block.wood.step3","block.wood.step4","block.wood.step5","block.wood.step6"],o=["block.cloth.dig1","block.cloth.dig2","block.cloth.dig3","block.cloth.dig4"],r=["block.cloth.step1","block.cloth.step2","block.cloth.step3","block.cloth.step4"],i=["block.glass.dig1","block.glass.dig2","block.glass.dig3"],n=["block.nylium.dig1","block.nylium.dig2","block.nylium.dig3","block.nylium.dig4","block.nylium.dig5","block.nylium.dig6"],l=["block.nylium.step1","block.nylium.step2","block.nylium.step3","block.nylium.step4","block.nylium.step5","block.nylium.step6"],h=["block.stem.dig1","block.stem.dig2","block.stem.dig3","block.stem.dig4","block.stem.dig5","block.stem.dig6"],d=["block.stem.step1","block.stem.step2","block.stem.step3","block.stem.step4","block.stem.step5","block.stem.step6"],c=["block.basalt.dig1","block.basalt.dig2","block.basalt.dig3","block.basalt.dig4","block.basalt.dig5"],p=["block.basalt.step1","block.basalt.step2","block.basalt.step3","block.basalt.step4","block.basalt.step5","block.basalt.step6"],u=["block.roots.dig1","block.roots.dig2","block.roots.dig3","block.roots.dig4","block.roots.dig5","block.roots.dig6"],m=["block.roots.step1","block.roots.step2","block.roots.step3","block.roots.step4","block.roots.step5","block.roots.step6"],g=["block.amethyst.place1","block.amethyst.place2","block.amethyst.place3","block.amethyst.place4"],k=["block.amethyst.dig1","block.amethyst.dig2","block.amethyst.dig3","block.amethyst.dig4"],y=function(){for(var e=[],t=0;t<14;t++)e.push("block.amethyst.step"+(t+1));return e}(),b=["block.amethyst_cluster.place1","block.amethyst_cluster.place2","block.amethyst_cluster.place3","block.amethyst_cluster.place4"],w=["block.amethyst_cluster.dig1","block.amethyst_cluster.dig2","block.amethyst_cluster.dig3","block.amethyst_cluster.dig4"],f=["block.deepslate.place1","block.deepslate.place2","block.deepslate.place3","block.deepslate.place4","block.deepslate.place5","block.deepslate.place6"],B=["block.deepslate.step1","block.deepslate.step2","block.deepslate.step3","block.deepslate.step4","block.deepslate.step5","block.deepslate.step6"],S=["block.deepslate.dig1","block.deepslate.dig2","block.deepslate.dig3","block.deepslate.dig4"],v=[1,2,3,4,5,6].map((e=>"block.deepslate_bricks.place"+e)),x=[1,2,3,4,5].map((e=>"block.deepslate_bricks.step"+e)),P=["block.grass.dig1","block.grass.dig2","block.grass.dig3","block.grass.dig4"],T=["block.grass.step1","block.grass.step2","block.grass.step3","block.grass.step4","block.grass.step5","block.grass.step6"],N=["block.coral.dig1","block.coral.dig2","block.coral.dig3","block.coral.dig4"],C=["block.coral.step1","block.coral.step2","block.coral.step3","block.coral.step4","block.coral.step5","block.coral.step6"],z=["block.wetgrass.dig1","block.wetgrass.dig2","block.wetgrass.dig3","block.wetgrass.dig4"],A=["block.wetgrass.step1","block.wetgrass.step2","block.wetgrass.step3","block.wetgrass.step4","block.wetgrass.step5","block.wetgrass.step6"],O={power:[15,5],blockPowerNorth:[20,2],blockPowerSouth:[22,2],blockPowerEast:[24,2],blockPowerWest:[26,2],blockPowerTop:[28,2],blockPowerBottom:[30,2]};for(let I=1;I<R;++I){const R=L[I];if(R.id=I,"textures"in R)if("string"==typeof R.textures)R.textures=new Array(6).fill(R.textures);else{const{textures:e}=R;3===e.length?(e[3]=e[2],e[4]=e[2],e[5]=e[2]):2===e.length?(e[2]=e[1],e[3]=e[2],e[4]=e[2],e[5]=e[2],e[1]=e[0]):4===e.length&&(e[4]=e[5]=e[3],e[3]=e[2])}else R.textures=new Array(6).fill(R.name);R.transparent=R.transparent||!1,R.shadow=void 0===R.shadow||R.shadow,R.shade=void 0===R.shade||R.shade,R.smoothLight=void 0===R.smoothLight||R.smoothLight,R.lightLevel=R.lightLevel||0,void 0===R.solid&&(R.solid=!0),R.hardness=R.hardness||0,void 0===R.dropAmount&&(R.dropAmount=1),R.leaves&&void 0===R.decreaseLight&&(R.decreaseLight=1),(R.crossShape||R.tallcrossShape||R.sideCross||R.ladder||R.torch||R.lantern||R.chain||R.sunflower||R.crop||R.tallCrop)&&(R.smoothLight=!1),R.item&&(R.transparent=!0,R.shadow=!1),R.liquid&&(R.noHitbox=!0),R.stackSize||(R.stackSize=64),R.pickaxe&&(R.stackSize=1,R.attackTime=20/1.2),R.sword&&(R.stackSize=1,R.attackTime=12.5),R.shovel&&(R.stackSize=1,R.attackTime=20),(R.axe||R.hoe)&&(R.stackSize=1),R.tool=R.tool||R.pickaxe||R.sword||R.shovel||R.axe||R.hoe,R.attackSpeed&&(R.attackTime=20/R.attackSpeed),null!==R.tagBits&&(R.tagBits?Object.assign(R.tagBits,O):R.tagBits=O),R.stoneSound&&(R.digSound=e,R.stepSound=t),R.woodSound&&(R.digSound=s,R.stepSound=a),R.clothSound&&(R.digSound=o,R.stepSound=r),R.glassSound&&(R.digSound=i,R.placeSound=e),R.nyliumSound&&(R.digSound=n,R.stepSound=l),R.stemSound&&(R.digSound=h,R.stepSound=d),R.basaltSound&&(R.digSound=c,R.stepSound=p),R.rootSound&&(R.digSound=u,R.stepSound=m),R.amethystSound&&(R.placeSound=g,R.digSound=k,R.stepSound=y),R.amethystClusterSound&&(R.placeSound=b,R.digSound=w),R.deepslateSound&&(R.placeSound=f,R.digSound=S,R.stepSound=B),R.deepslateBricksSound&&(R.placeSound=v,R.stepSound=x),R.grassSound&&(R.digSound=P,R.stepSound=T),R.coralBlock&&(R.digSound=N,R.stepSound=C),R.wetgrassSound&&(R.digSound=z,R.stepSound=A),R.Name=R.Name||R.name,R.pistonPush=void 0===R.pistonPush||R.pistonPush,R.pistonPull=void 0===R.pistonPull||R.pistonPull}L.forEach((e=>{if(I[e.name]=e.id,e.SW&&e.name.includes("SW")){let t=e.name.replace("SW","");if(I[t]){e.drop=t;let s=L[I[t]];e.hardness=s.hardness,e.type=s.type,e.burnChance=s.burnChance,e.burnTime=s.burnTime,e.log=s.log,s.swId=e.id}}M[e.name]&&(M[e.name]=e.id),e.semiTrans&&D.push(e.id)}))}const O={plant:"axe",wood:"axe",metal1:"pickaxe",metal2:["stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe"],metal3:["ironPickaxe","diamondPickaxe","netheritePickaxe"],metal4:["diamondPickaxe","netheritePickaxe"],rock1:"pickaxe",rock2:["stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe"],rock3:["ironPickaxe","diamondPickaxe","netheritePickaxe"],rock4:["diamondPickaxe","netheritePickaxe"],ground:"shovel",plant2:"hoe",wool:"air"};win.breakTypes=O;const G=["plant","wood","plant2","ground","wool"];win.handBreakable=G;var allPickaxes=["woodenPickaxe","stonePickaxe","ironPickaxe","diamondPickaxe","netheritePickaxe","goldenPickaxe"],allShovels=["woodenShovel","stoneShovel","ironShovel","diamondShovel","netheriteShovel","goldenShovel"];for(var b in O){var t=O[b];"pickaxe"===t&&(O[b]=allPickaxes),"shovel"===t&&(O[b]=allShovels)}let W={endPortal:{data:["sssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss","sssssssss\ns       s\ns sssss s\ns sllls s\ns sllls s\ns sllls s\ns sssss s\ns  sss  s\ns  sss  s\ns  ttt  s\ns       s\nsss   sss\nsls   sls\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns  sss  s\ns  ttt  s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns  ---  s\ns (   ) s\ns (   ) s\ns (   ) s\ns  ___  s\ns  ttt  s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\ns       s\nsssssssss","sssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss\nsssssssss"],pallete:{s:"stoneBricks",_:(e,t,s,a)=>ds()>.75?I.endPortalFrame|ce|t:I.endPortalFrame|t,"-":(e,t,s,a)=>ds()>.75?I.endPortalFrame|ce|a:I.endPortalFrame|a,"(":(e,t,s,a)=>ds()>.75?I.endPortalFrame|ce|s:I.endPortalFrame|s,")":(e,t,s,a)=>ds()>.75?I.endPortalFrame|ce|e:I.endPortalFrame|e,l:"Lava"," ":"air",t:(e,t,s,a)=>I.stoneBricks|pe|a},getY:(e,t,s)=>10+Math.round(s%16)}},F=[];for(let Ys in W){let Vs=W[Ys],Xs={pallete:Vs.pallete,getY:Vs.getY,data:[]},Zs={pallete:Vs.pallete,getY:Vs.getY,data:[]},Qs={pallete:Vs.pallete,getY:Vs.getY,data:[]},Js=[],$s=0,Ks=Vs.data.length,ea=0;for(let ta=0;ta<Vs.data.length;ta++){let sa=Vs.data[ta].split("\n");$s=Math.max($s,sa.length);for(let aa=0;aa<sa.length;aa++){let oa=sa[aa];ea=Math.max(ea,oa.length);for(let ra=0;ra<oa.length;ra++)Vs.pallete[oa[ra]]&&(Js.push(aa,ta,ra,Vs.pallete[oa[ra]]),Xs.data.push(sa.length-aa,ta,oa.length-ra,Vs.pallete[oa[ra]]),Zs.data.push(ra,ta,aa,Vs.pallete[oa[ra]]),Qs.data.push(oa.length-ra,ta,sa.length-aa,Vs.pallete[oa[ra]]))}}Vs.data=Js,Vs.w=$s,Vs.h=Ks,Vs.d=ea,Xs.w=$s,Xs.h=Ks,Xs.d=ea,Zs.w=ea,Zs.h=Ks,Zs.d=$s,Qs.w=ea,Qs.h=Ks,Qs.d=$s,Vs.variants=[Vs,Zs,Xs,Qs],F.push(Ys)}function E(e,t,s,a,o,r,i,n,l,h,d,c,p){return{x:e,y:t,z:s,w:a,h:o,tx:r,ty:i,txf:n,tyf:l,rt:h,tw:d||a,th:c||o,t:p}}function U(e,t,s,a,o,r,i,n,l,h,d,c,p,u,m,g,k){return{x:e,y:t,z:s,x2:a,y2:o,z2:r,x3:i,y3:n,z3:l,x4:h,y4:d,z4:c,tx:p,ty:u,tw:m=m||16,th:g=g||16,t:k,custom:!0}}function q(){var e,t=[],s=[],a=[],o=[];for(e=0;e<16;e++)t.push(E(0,e,7.5,16,1,0,16-e-1)),s.push(E(0,e+1,8.5,16,1,0,16-e-1)),a.push(E(e+1,16,7.5,1,16,16-e-1,0)),o.push(E(e,16,8.5,1,16,16-e-1,0));return[t,s,[E(16,16,8.5,16,16,0,0,!0)],[E(0,16,7.5,16,16,0,0)],a,o]}function _(e){return[[E(0,0,0,16,16,0,0)],[E(0,e,16,16,16,0,0)],[E(16,e,16,16,e,0,16-e)],[E(0,e,0,16,e,0,16-e)],[E(16,e,0,16,e,0,16-e)],[E(0,e,16,16,e,0,16-e)]]}function H(e){return[[E(0,0,0,16,16,0,0),E(16,0,0,-16,16,16,0,!1,!1,!1,null,null,"in")],[E(0,e,16,16,16,0,0),E(16,e,16,-16,16,16,0,!1,!1,!1,null,null,"in")],[E(16,e,16,16,e,0,16-e),E(0,e,16,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[E(0,e,0,16,e,0,16-e),E(16,e,0,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[E(16,e,0,16,e,0,16-e),E(16,e,16,-16,e,16,16-e,!1,!1,!1,null,null,"in")],[E(0,e,16,16,e,0,16-e),E(0,e,0,-16,e,16,16-e,!1,!1,!1,null,null,"in")]]}function j(e=1,t=!1){let s=(t=t?16:0)?"redstoneTorch":"redstoneTorchOff",a=[[E(0,0,0,16,16,0,0,!1,!1,null,null,null,"smoothStone")],[E(0,2,16,16,16,t,0),E(7,7,14,2,2,7,6,!1,!1,null,null,null,s),E(7,7,12-2*e,2,2,7,6,!1,!1,null,null,null,s)],[E(16,2,16,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(9,7,14,2,5,7,6,!1,!1,null,null,null,s),E(9,7,12-2*e,2,5,7,6,!1,!1,null,null,null,s)],[E(0,2,0,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(7,7,12,2,5,7,6,!1,!1,null,null,null,s),E(7,7,10-2*e,2,5,7,6,!1,!1,null,null,null,s)],[E(16,2,0,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(9,7,12,2,5,7,6,!1,!1,null,null,null,s),E(9,7,10-2*e,2,5,7,6,!1,!1,null,null,null,s)],[E(0,2,16,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(7,7,14,2,5,7,6,!1,!1,null,null,null,s),E(7,7,12-2*e,2,5,7,6,!1,!1,null,null,null,s)]];return t&&(a[0].push(E(6,7,9-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[1].push(E(6,5,13-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[2].push(E(10,8,10-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[3].push(E(6,8,12-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[4].push(E(7,8,9-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[5].push(E(9,8,13-2*e,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[0].push(E(6,7,11,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[1].push(E(6,5,15,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[2].push(E(10,8,12,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[3].push(E(6,8,14,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[4].push(E(7,8,11,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),a[5].push(E(9,8,15,4,4,6,5,!1,!1,null,null,null,"redstoneTorch"))),a}function Y(e,t){let s=e?1:0,a=e?"redstoneTorch":"redstoneTorchOff",o=(t=t?16:0)?"redstoneTorch":"redstoneTorchOff",r=[[E(0,0,0,16,16,0,0,!1,!1,null,null,null,"smoothStone")],[E(0,2,16,16,16,t,0),E(7,4+s,14,2,2,7,6,!1,!1,null,null,null,a),E(4,7,5,2,2,7,6,!1,!1,null,null,null,o),E(10,7,5,2,2,7,6,!1,!1,null,null,null,o)],[E(16,2,16,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(9,4+s,14,2,2,7,6,!1,!1,null,null,null,a),E(6,7,5,2,5,7,6,!1,!1,null,null,null,o),E(12,7,5,2,5,7,6,!1,!1,null,null,null,o)],[E(0,2,0,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(7,4+s,12,2,2,7,6,!1,!1,null,null,null,a),E(4,7,3,2,5,7,6,!1,!1,null,null,null,o),E(10,7,3,2,5,7,6,!1,!1,null,null,null,o)],[E(16,2,0,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(9,4+s,12,2,2,7,6,!1,!1,null,null,null,a),E(6,7,3,2,5,7,6,!1,!1,null,null,null,o),E(12,7,3,2,5,7,6,!1,!1,null,null,null,o)],[E(0,2,16,16,2,0,14,!1,!1,null,null,null,"smoothStone"),E(7,4+s,14,2,2,7,6,!1,!1,null,null,null,a),E(4,7,5,2,5,7,6,!1,!1,null,null,null,o),E(10,7,5,2,5,7,6,!1,!1,null,null,null,o)]];return e&&(r[0].push(E(6,5,11,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[1].push(E(6,3,15,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[2].push(E(10,6,12,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[3].push(E(6,6,14,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[4].push(E(7,6,11,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[5].push(E(9,6,15,4,4,6,5,!1,!1,null,null,null,"redstoneTorch"))),t&&(r[0].push(E(3,7,2,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[1].push(E(3,5,6,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[2].push(E(7,8,3,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[3].push(E(3,8,5,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[4].push(E(4,8,2,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[5].push(E(6,8,6,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[0].push(E(9,7,2,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[1].push(E(9,5,6,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[2].push(E(13,8,3,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[3].push(E(9,8,5,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[4].push(E(10,8,2,4,4,6,5,!1,!1,null,null,null,"redstoneTorch")),r[5].push(E(12,8,6,4,4,6,5,!1,!1,null,null,null,"redstoneTorch"))),r}function V(e,t,s,a){return e[2].push(U(t,a,s,t+1,a,s+1,t+1,0,s+1,t,0,s,0,4,1,a)),e[3].push(U(t+1,a,s,t,a,s+1,t,0,s+1,t+1,0,s,0,4,1,a)),e[4].push(U(t+1,a,s+1,t,a,s,t,0,s,t+1,0,s+1,0,4,1,a)),e[5].push(U(t,a,s+1,t+1,a,s,t+1,0,s,t,0,s+1,0,4,1,a)),e}let X={cube:{verts:[[E(0,0,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,0,16,16,0,0)],[E(16,16,0,16,16,0,0)],[E(0,16,16,16,16,0,0)]]},rotate:{verts:[[E(0,0,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,0,16,16,0,0)],[E(16,16,0,16,16,0,0)],[E(0,16,16,16,16,0,0)]],rotate:!0},flipped:{verts:[[E(0,0,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,16,0,0,!1,!0)],[E(0,16,0,16,16,0,0,!1,!0)],[E(16,16,0,16,16,0,0,!1,!0)],[E(0,16,16,16,16,0,0,!1,!0)]]},SW:{verts:[[E(0,0,0,16,16,0,0)],[E(0,16,16,16,16,0,0,!1,!1,2)],[E(16,16,16,16,16,0,0)],[E(0,16,0,16,16,0,0)],[E(16,16,0,16,16,0,0,!1,!1,1)],[E(0,16,16,16,16,0,0,!1,!1,-1)]],rotate:!0},_1PixLower:{verts:[[E(0,0,0,16,16,0,0)],[E(0,15,16,16,16,0,0)],[E(16,15,16,16,15,0,1)],[E(0,15,0,16,15,0,1)],[E(16,15,0,16,15,0,1)],[E(0,15,16,16,15,0,1)]]},none:{verts:[[],[],[],[],[],[]],hitbox:"cube"},slab:{verts:[[E(0,0,0,16,16,0,0)],[E(0,8,16,16,16,0,0)],[E(16,8,16,16,8,0,0)],[E(0,8,0,16,8,0,0)],[E(16,8,0,16,8,0,0)],[E(0,8,16,16,8,0,0)]],flip:!0},verticalSlab:{verts:[[E(0,0,8,16,8,0,0)],[E(0,16,16,16,8,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,8,16,16,0,0)],[E(16,16,8,8,16,0,0)],[E(0,16,16,8,16,0,0)]],rotate:!0},stair:{verts:[[E(0,0,0,16,16,0,0)],[E(0,8,8,16,8,0,8),E(0,16,16,16,8,0,0)],[E(16,16,16,16,16,0,0)],[E(0,8,0,16,8,0,0),E(0,16,8,16,8,0,0)],[E(16,8,0,8,8,8,0),E(16,16,8,8,16,0,0)],[E(0,8,8,8,8,0,0),E(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerOut:{verts:[[E(0,0,0,16,16,0,0)],[E(0,8,16,16,16,0,0),E(0,16,16,8,8,0,0)],[E(8,16,16,8,8,0,0),E(16,8,16,16,8,0,0)],[E(0,8,0,16,8,0,0),E(0,16,8,8,8,0,0)],[E(16,8,0,16,8,0,0),E(8,8,8,8,16,0,0)],[E(0,8,8,8,8,0,0),E(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerIn:{verts:[[E(0,0,0,16,16,0,0)],[E(8,8,8,8,8,0,0),E(0,16,16,16,8,0,0),E(0,16,8,8,8,0,0)],[E(16,16,16,16,16,0,0)],[E(8,16,8,8,8,0,0),E(0,16,0,8,8,0,0),E(0,8,0,16,8,0,0)],[E(8,16,0,8,8,0,0),E(16,16,8,8,8,0,0),E(16,8,0,16,8,0,0)],[E(0,16,16,16,16,0,0)]],flip:!0,rotate:!0},cross:{verts:[[],[],[U(2,16,2,14,16,14,14,0,14,2,0,2,0,0)],[U(14,16,2,2,16,14,2,0,14,14,0,2,0,0)],[U(14,16,14,2,16,2,2,0,2,14,0,14,0,0)],[U(2,16,14,14,16,2,14,0,2,2,0,14,0,0)]],hitbox:"cube"},sideCross:{verts:[[],[],[U(2,2,16,14,14,16,14,14,0,2,2,0,0,16,16,-16)],[U(14,2,16,2,14,16,2,14,0,14,2,0,0,16,16,-16)],[U(14,14,16,2,2,16,2,2,0,14,14,0,0,16,16,-16)],[U(2,14,16,14,2,16,14,2,0,2,14,0,0,16,16,-16)]],rotate:!0,hitbox:"cube"},bottomCross:{verts:[[],[],[U(2,16,2,14,16,14,14,0,14,2,0,2,0,16,16,-16)],[U(14,16,2,2,16,14,2,0,14,14,0,2,0,16,16,-16)],[U(14,16,14,2,16,2,2,0,2,14,0,14,0,16,16,-16)],[U(2,16,14,14,16,2,14,0,2,2,0,14,0,16,16,-16)]],size:6,hitbox:"cube"},tallCross:{verts:[[],[],[U(2,16,2,14,16,14,14,0,14,2,0,2,16,0),U(2,32,2,14,32,14,14,16,14,2,16,2,0,0)],[U(14,16,2,2,16,14,2,0,14,14,0,2,16,0),U(14,32,2,2,32,14,2,16,14,14,16,2,0,0)],[U(14,16,14,2,16,2,2,0,2,14,0,14,16,0),U(14,32,14,2,32,2,2,16,2,14,16,14,0,0)],[U(2,16,14,14,16,2,14,0,2,2,0,14,16,0),U(2,32,14,14,32,2,14,16,2,2,16,14,0,0)]],hitbox:"tallCube"},door:{verts:[[E(0,0,0,16,3,16,0,!1,!1,!1,null,2)],[E(0,16,3,16,3,16,0),E(0,32,3,16,3,0,0,!1,!1,!1,null,2)],[E(16,16,3,16,16,16,0),E(16,32,3,16,16,0,0)],[E(0,32,0,16,16,0,0,!0),E(0,16,0,16,16,16,0,!0)],[E(16,16,0,3,16,16,0,!1,!1,!1,2),E(16,32,0,3,16,0,0,!1,!1,!1,2)],[E(0,16,3,3,16,16,0,!1,!1,!1,2),E(0,32,3,3,16,0,0,!1,!1,!1,2)]],rotate:!0},torchHitbox:{verts:[[E(7,0,7,2,2,7,14)],[E(7,10,9,2,2,7,6)],[E(9,10,9,2,10,7,6)],[E(7,10,7,2,10,7,6)],[E(9,10,7,2,10,7,6)],[E(7,10,9,2,10,7,6)]]},torch:{verts:[[E(7,0,7,2,2,7,14)],[E(7,10,9,2,2,7,6)],[E(16,16,9,16,16,0,0)],[E(0,16,7,16,16,0,0)],[E(9,16,0,16,16,0,0)],[E(7,16,16,16,16,0,0)]],hitbox:"torchHitbox"},wallTorch:{verts:[[U(9,4,17,7,4,17,7,3,15,9,3,15,7,14,2,2)],[U(9,13,11,7,13,11,7,14,13,9,14,13,7,6,2,2)],[U(16,20,10.6,0,20,10.6,0,4,17,16,4,17,0,0,16,16)],[U(0,19,8.6,16,19,8.6,16,3,15,0,3,15,0,0,16,16)],[U(9,15.5,1.6,9,23.5,17.6,9,7.5,24,9,-.5,8,0,0,16,16)],[U(7,23.5,17.6,7,15.5,1.6,7,-.5,8,7,7.5,24,0,0,16,16)]],rotate:!0},lantern:{verts:[[E(5,0,5,6,6,0,9)],[E(6,9,10,4,4,1,10),E(5,7,11,6,6,0,9)],[E(10,9,10,4,2,1,0),E(11,7,11,6,7,0,2),E(9.5,11,8,3,2,11,10)],[E(6,9,6,4,2,1,0),E(5,7,5,6,7,0,2),E(6.5,11,8,3,2,11,10)],[E(10,9,6,4,2,1,0),E(11,7,5,6,7,0,2)],[E(6,9,10,4,2,1,0),E(5,7,11,6,7,0,2)]],texVerts:[],varients:[],buffer:null,size:6},lanternHang:{verts:[[E(5,0,5,6,6,0,9)],[E(6,9,10,4,4,1,10),E(5,7,11,6,6,0,9)],[E(10,9,10,4,2,1,0),E(11,7,11,6,7,0,2),E(9.5,11,8,3,2,11,10),E(9.5,16,8,3,3,11,2)],[E(6,9,6,4,2,1,0),E(5,7,5,6,7,0,2),E(6.5,11,8,3,2,11,10),E(6.5,16,8,3,3,11,2)],[E(10,9,6,4,2,1,0),E(11,7,5,6,7,0,2),E(8,14,6.5,3,4,11,1)],[E(6,9,10,4,2,1,0),E(5,7,11,6,7,0,2),E(8,14,9.5,3,4,11,1)]],texVerts:[],varients:[],buffer:null,size:6},beacon:{verts:[[E(0,0,0,16,16,0,0,null,null,null,null,null,"glass"),E(2,.001,2,12,12,0,0,null,null,null,null,null,"obsidian")],[E(3,13,13,10,10,3,3),E(0,16,16,16,16,0,0,null,null,null,null,null,"glass"),E(2,3,14,12,12,0,3,null,null,null,null,null,"obsidian")],[E(13,13,13,10,10,3,3),E(16,16,16,16,16,0,0,null,null,null,null,null,"glass"),E(14,3,14,12,3,0,3,null,null,null,null,null,"obsidian")],[E(3,13,3,10,10,3,3),E(0,16,0,16,16,0,0,null,null,null,null,null,"glass"),E(2,3,2,12,3,0,3,null,null,null,null,null,"obsidian")],[E(13,13,3,10,10,3,3),E(16,16,0,16,16,0,0,null,null,null,null,null,"glass"),E(14,3,2,12,3,0,3,null,null,null,null,null,"obsidian")],[E(3,13,13,10,10,3,3),E(0,16,16,16,16,0,0,null,null,null,null,null,"glass"),E(2,3,14,12,3,0,3,null,null,null,null,null,"obsidian")]],size:6},cactus:{verts:[[E(0,0,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,15,16,16,0,0)],[E(0,16,1,16,16,0,0)],[E(15,16,0,16,16,0,0)],[E(1,16,16,16,16,0,0)]],hitbox:"cube"},pane:{verts:[[E(0,0,7,16,2,0,7)],[E(0,16,9,16,2,0,7)],[E(16,16,9,16,16,0,0)],[E(0,16,7,16,16,0,0)],[E(16,16,7,2,16,7,0)],[E(0,16,9,2,16,7,0)]],rotate:!0},horizontalPane:{verts:[[E(0,7,0,16,16,0,0)],[E(0,9,16,16,16,0,0)],[E(16,9,16,16,2,0,7)],[E(0,9,0,16,2,0,7)],[E(16,9,0,16,2,0,7)],[E(0,9,16,16,2,0,7)]]},portal:{verts:[[E(0,0,7,16,2,0,0)],[E(0,16,9,16,2,0,0)],[E(16,16,9,16,16,0,0)],[E(0,16,7,16,16,0,0)],[E(16,16,7,2,16,0,0)],[E(0,16,9,2,16,0,0)]],rotate:!0},trapdoor:{verts:[[E(0,0,0,16,16,0,0)],[E(0,3,16,16,16,0,0)],[E(16,3,16,16,3,0,0)],[E(0,3,0,16,3,0,0)],[E(16,3,0,16,3,0,0)],[E(0,3,16,16,3,0,0)]],rotate:!0,flip:!0},trapdoorOpen:{verts:[[E(0,0,13,16,3,0,0)],[E(0,16,16,16,3,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,13,16,16,0,0)],[E(16,16,13,3,16,0,0)],[E(0,16,16,3,16,0,0)]],size:6,rotate:!0},wallFlat:{verts:[[E(0,0,0,0,0,0,0)],[E(0,16,16,0,0,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,15,16,16,0,0)],[E(0,0,0,0,0,0,0)],[E(0,0,16,0,0,0,0)]],rotate:!0},fence:{verts:[[E(6,0,6,4,4,0,1)],[E(6,16,10,4,4,0,1)],[E(10,16,10,4,16,6,0)],[E(6,16,6,4,16,6,0)],[E(10,16,6,4,16,6,0)],[E(6,16,10,4,16,6,0)]],size:6},wallpost:{verts:[[E(4,0,4,8,8,4,4)],[E(4,16,12,8,8,4,4)],[E(12,16,12,8,16,4,0)],[E(4,16,4,8,16,4,0)],[E(12,16,4,8,16,4,0)],[E(4,16,12,8,16,4,0)]],size:6},wall:{verts:[[E(4,0,4,8,8,4,4),E(5,0,12,6,4,5,10)],[E(4,16,12,8,8,4,4),E(5,16,16,6,4,5,10)],[E(12,16,12,8,16,4,0),E(11,16,16,6,16,5,0)],[E(4,16,4,8,16,4,0)],[E(12,16,4,8,16,4,0),E(11,16,12,4,16,12,0)],[E(4,16,12,8,16,4,0),E(5,16,16,4,16,12,0)]],rotate:!0},wallu:{verts:[[E(4,0,4,8,8,4,4),E(5,0,12,6,4,5,10)],[E(4,16,12,8,8,4,4),E(5,13,16,6,4,5,10)],[E(12,16,12,8,16,4,0),E(11,13,16,6,13,5,3)],[E(4,16,4,8,16,4,0)],[E(12,16,4,8,16,4,0),E(11,13,12,4,13,12,3)],[E(4,16,12,8,16,4,0),E(5,13,16,4,13,12,3)]],rotate:!0},fencq:{verts:[[E(6,0,6,4,4,0,1),E(10,12,7,6,2,0,2),E(10,6,7,6,2,0,2)],[E(6,16,10,4,4,0,1),E(10,15,9,6,2,0,2),E(10,9,9,6,2,0,2)],[E(10,16,10,4,16,6,0),E(16,15,9,6,3,6,0),E(16,9,9,6,3,6,0)],[E(6,16,6,4,16,6,0),E(10,15,7,6,3,6,0),E(10,9,7,6,3,6,0)],[E(10,16,6,4,16,6,0)],[E(6,16,10,4,16,6,0)]],rotate:!0},fench:{verts:[[E(6,0,6,4,4,0,1),E(10,12,7,6,2,0,2),E(10,6,7,6,2,0,2),E(0,12,7,6,2,0,0),E(0,6,7,6,2,0,0)],[E(6,16,10,4,4,0,1),E(10,15,9,6,2,0,2),E(10,9,9,6,2,0,2),E(0,15,9,6,2,0,0),E(0,9,9,6,2,0,0)],[E(10,16,10,4,16,6,0),E(16,15,9,6,3,6,0),E(16,9,9,6,3,6,0),E(6,15,9,6,3,0,0),E(6,9,9,6,3,0,0)],[E(6,16,6,4,16,6,0),E(10,15,7,6,3,6,0),E(10,9,7,6,3,6,0),E(0,15,7,6,3,0,0),E(0,9,7,6,3,0,0)],[E(10,16,6,4,16,6,0)],[E(6,16,10,4,16,6,0)]],rotate:!0},button:{verts:[[E(5,6,14,6,2,5,6)],[E(5,10,16,6,2,5,6)],[E(11,10,16,6,4,5,6)],[E(5,10,14,6,4,5,6)],[E(11,10,14,2,4,5,6)],[E(5,10,16,2,4,5,6)]],rotate:!0},chain:{verts:[[E(8,0,8,.5,.5,0,0)],[E(8,16,8,.5,.5,0,0)],[E(9.5,16,8,3,16,3,0)],[E(6.5,16,8,3,16,3,0)],[E(8,16,6.5,3,16,0,0)],[E(8,16,9.5,3,16,0,0)]],size:6},pot:{verts:[[E(5,0,5,6,6,5,10)],[E(5,6,11,6,6,5,5),E(6,4,10,4,4,-16,0)],[E(11,6,11,6,6,5,10),E(11,6,6,6,6,5,10)],[E(5,6,5,6,6,5,10),E(5,6,10,6,6,5,10)],[E(11,6,5,6,6,5,10),E(6,6,5,6,6,5,10)],[E(5,6,11,6,6,5,10),E(10,6,11,6,6,5,10)]],size:6},potCross:{verts:[[],[],[U(2,4,2,14,4,14,14,-12,14,2,-12,2,0,0)],[U(14,4,2,2,4,14,2,-12,14,14,-12,2,0,0)],[U(14,4,14,2,4,2,2,-12,2,14,-12,14,0,0)],[U(2,4,14,14,4,2,14,-12,2,2,-12,14,0,0)]],size:6},carpet:{verts:[[E(0,0,0,16,16,0,0)],[E(0,1,16,16,16,0,0)],[E(16,1,16,16,1,0,0)],[E(0,1,0,16,1,0,0)],[E(16,1,0,16,1,0,0)],[E(0,1,16,16,1,0,0)]]},wallCarpet:{verts:[[E(0,0,15,16,1,0,0)],[E(0,16,16,16,1,0,0)],[E(16,16,16,16,16,0,0)],[E(0,16,15,16,16,0,0)],[E(16,16,15,1,16,0,0)],[E(0,16,16,1,16,0,0)]],rotate:!0},bed:{verts:[[E(0,3,0,16,16,96,0),E(0,3,16,16,16,96,0),E(0,0,0,3,3,38,0),E(13,0,29,3,3,38,0),E(0,0,29,3,3,38,0),E(13,0,0,3,3,38,0)],[E(0,9,32,16,16,16,0),E(0,9,16,16,16,0,0)],[E(16,9,32,16,6,80,6),E(3,3,3,3,3,38,3),E(16,3,32,3,3,32,3),E(3,3,32,3,3,35,3),E(16,3,3,3,3,41,3)],[E(0,9,0,16,6,80,0),E(0,3,0,3,3,32,3),E(13,3,29,3,3,38,3),E(0,3,29,3,3,41,3),E(13,3,0,3,3,35,3)],[E(16,9,0,16,6,48,0),E(16,9,16,16,6,64,0),E(3,3,0,3,3,41,3),E(16,3,29,3,3,35,3),E(3,3,29,3,3,38,3),E(16,3,0,3,3,32,3)],[E(0,9,32,16,6,64,6),E(0,9,16,16,6,48,6),E(0,3,3,3,3,35,3),E(13,3,32,3,3,41,3),E(0,3,32,3,3,32,3),E(13,3,3,3,3,38,3)]],rotate:!0},cactusPot:{verts:[[],[E(6,1,10,4,4,6,6)],[E(10,1,10,4,11,6,0)],[E(6,1,6,4,11,6,0)],[E(10,1,6,4,11,6,0)],[E(6,1,10,4,11,6,0)]],size:6},crop:{verts:[[E(0,0,0,0,0,0,0)],[E(0,0,0,0,0,0,0)],[E(16,16,4,16,16,0,0),E(16,16,12,16,16,0,0)],[E(0,16,12,16,16,0,0),E(0,16,4,16,16,0,0)],[E(4,16,0,16,16,0,0),E(12,16,0,16,16,0,0)],[E(12,16,16,16,16,0,0),E(4,16,16,16,16,0,0)]],varients:[]},anvil:{verts:[[E(2,0,2,12,12,0,0),E(0,10,3,16,10,0,0)],[E(2,4,14,12,12,0,0),E(3,5,12,10,8,0,0),E(0,16,13,16,10,16,3)],[E(14,4,14,12,4,0,0),E(16,16,13,16,6,0,0),E(13,5,12,10,1,0,0),E(12,10,11,8,5,0,0)],[E(2,4,2,12,4,0,0),E(0,16,3,16,6,0,0),E(3,5,4,10,1,0,0),E(4,10,5,8,5,0,0)],[E(14,4,2,12,4,0,0),E(16,16,3,10,6,0,0),E(13,5,4,8,1,0,0),E(12,10,5,6,5,0,0)],[E(2,4,14,12,4,0,0),E(0,16,13,10,6,0,0),E(3,5,12,8,1,0,0),E(4,10,11,6,5,0,0)]],rotate:!0},sporeBlossom:{verts:[[E(1,15.9,1,14,14,-15,1)],[E(1,15.9,15,14,14,-15,1)],[U(0,15.9,8,16,15.9,8,16,11.1,-8,0,11.1,-8,16,16,-16,-16),U(16,15.9,8,0,15.9,8,0,11.1,-8,16,11.1,-8,16,16,-16,-16)],[U(0,15.9,8,16,15.9,8,16,11.1,24,0,11.1,24,16,16,-16,-16),U(16,15.9,8,0,15.9,8,0,11.1,24,16,11.1,24,16,16,-16,-16)],[U(8,15.9,0,8,15.9,16,-8,11.1,16,-8,11.1,0,16,16,-16,-16),U(8,15.9,16,8,15.9,0,-8,11.1,0,-8,11.1,16,16,16,-16,-16)],[U(8,15.9,0,8,15.9,16,24,11.1,16,24,11.1,0,16,16,-16,-16),U(8,15.9,16,8,15.9,0,24,11.1,0,24,11.1,16,16,16,-16,-16)]]},azalea:{verts:[[E(0,8,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,16,0,0),U(0,16,0,16,16,16,16,0,16,0,0,0,16,0)],[E(0,16,0,16,16,0,0),U(16,16,0,0,16,16,0,0,16,16,0,0,16,0)],[E(16,16,0,16,16,0,0),U(16,16,16,0,16,0,0,0,0,16,0,16,16,0)],[E(0,16,16,16,16,0,0),U(0,16,16,16,16,0,16,0,0,0,0,16,16,0)]]},azaleaPot:{verts:[[E(4,-7,4,8,8,4,4)],[E(4,-1,12,8,8,4,4)],[E(12,-1,12,8,11,4,5),U(4,-1,4,12,-1,12,12,-12,12,4,-12,4,20,5,8,11)],[E(4,-1,4,8,11,4,5),U(12,-1,4,4,-1,12,4,-12,12,12,-12,4,20,5,8,11)],[E(12,-1,4,8,11,4,5),U(12,-1,12,4,-1,4,4,-12,4,12,-12,12,20,5,8,11)],[E(4,-1,12,8,11,4,5),U(4,-1,12,12,-1,4,12,-12,4,4,-12,12,20,5,8,11)]]},sunflower:{verts:[[U(0,34,7,16,34,7,16,18,11,0,18,11,0,0)],[U(16,34,7,0,34,7,0,18,11,16,18,11,0,0)],[U(2,16,2,14,16,14,14,0,14,2,0,2,16,0),U(2,32,2,14,32,14,14,16,14,2,16,2,0,0)],[U(14,16,2,2,16,14,2,0,14,14,0,2,16,0),U(14,32,2,2,32,14,2,16,14,14,16,2,0,0)],[U(14,16,14,2,16,2,2,0,2,14,0,14,16,0),U(14,32,14,2,32,2,2,16,2,14,16,14,0,0)],[U(2,16,14,14,16,2,14,0,2,2,0,14,16,0),U(2,32,14,14,32,2,14,16,2,2,16,14,0,0)]],hitbox:"tallCube"},cake:{verts:[[E(1,0,1,14,14,1,1)],[E(1,8,15,14,14,1,1)],[E(15,8,15,14,8,1,8)],[E(1,8,1,14,8,1,8)],[E(15,8,1,14,8,1,8)],[E(1,8,15,14,8,1,8)]]},stonecutter:{verts:[[E(0,0,0,16,16,0,0)],[E(0,9,16,16,16,0,0)],[E(16,9,16,16,9,0,7),E(16,16,8,16,7,16,9)],[E(0,9,0,16,9,0,7),E(0,16,8,16,7,16,9)],[E(16,9,0,16,9,0,7)],[E(0,9,16,16,9,0,7)]]},itemFrame:{verts:[[E(2,2,15,12,1,-16,0),E(3,13,15,10,1,-16,0)],[E(2,14,16,12,1,-16,0),E(3,3,16,10,1,-16,0)],[E(14,14,16,12,12,-16,0)],[E(3,13,15.5,10,10,3,3),E(2,14,15,11,1,-14,2),E(13,14,15,1,11,-3,2),E(3,3,15,11,1,-13,13),E(2,13,15,1,11,-14,3)],[E(14,14,15,1,12,-16,0),E(3,13,15,1,10,-16,0)],[E(2,14,16,1,12,-16,0),E(13,13,16,1,10,-16,0)]],rotate:!0},endPortalFrame:{verts:[[E(0,0,0,16,16,0,0)],[E(0,13,16,16,16,0,0)],[E(16,13,16,16,13,0,3)],[E(0,13,0,16,13,0,3)],[E(16,13,0,16,13,0,3)],[E(0,13,16,16,13,0,3)]],rotate:!0},endPortalFrameWithEyeOfEnder:{verts:[[E(0,0,0,16,16,0,0)],[E(0,13,16,16,16,0,0),E(4,16,12,8,8,36,4)],[E(16,13,16,16,13,0,3),E(12,16,12,8,3,20,0)],[E(0,13,0,16,13,0,3),E(4,16,4,8,3,20,0)],[E(16,13,0,16,13,0,3),E(12,16,4,8,3,20,0)],[E(0,13,16,16,13,0,3),E(4,16,12,8,3,20,0)]],rotate:!0},fire:{verts:[[],[],[U(16,22.4,15.5,0,22.4,15.5,0,0,16,16,0,16,0,0),U(0,22.4,15.5,16,22.4,15.5,16,0,16,0,0,16,0,0),U(0,20,12,16,20,12,16,0,0,0,0,0,0,0),U(16,20,12,0,20,12,0,0,0,16,0,0,0,0)],[U(16,22.4,.5,0,22.4,.5,0,0,0,16,0,0,0,0),U(0,22.4,.5,16,22.4,.5,16,0,0,0,0,0,0,0),U(16,20,4,0,20,4,0,0,16,16,0,16,0,0),U(0,20,4,16,20,4,16,0,16,0,0,16,0,0)],[U(15.5,22.4,16,15.5,22.4,0,16,0,0,16,0,16,0,0),U(15.5,22.4,0,15.5,22.4,16,16,0,16,16,0,0,0,0),U(12,20,0,12,20,16,0,0,16,0,0,0,0,0),U(12,20,16,12,20,0,0,0,0,0,0,16,0,0)],[U(.5,22.4,16,.5,22.4,0,0,0,0,0,0,16,0,0),U(.5,22.4,0,.5,22.4,16,0,0,16,0,0,0,0,0),U(4,20,0,4,20,16,16,0,16,16,0,0,0,0),U(4,20,16,4,20,0,16,0,0,16,0,16,0,0)]],hitbox:"cube"},sideFire:{verts:[[],[],[U(16,22.4,14,0,22.4,14,0,0,16,16,0,16,0,0)],[U(0,22.4,14,16,22.4,14,16,0,16,0,0,16,0,0)],[],[]],rotate:!0,hitbox:"cube"},bottomFire:{verts:[[U(0,12,0,16,12,0,16,16,16,0,16,16,0,0),U(16,12,16,0,12,16,0,16,0,16,16,0,0,0),U(16,12,0,16,12,16,0,16,16,0,16,0,0,0),U(0,12,16,0,12,0,16,16,0,16,16,16,0,0)],[U(16,12,0,0,12,0,0,16,16,16,16,16,0,0),U(0,12,16,16,12,16,16,16,0,0,16,0,0,0),U(0,12,0,0,12,16,16,16,16,16,16,0,0,0),U(16,12,16,16,12,0,0,16,0,0,16,16,0,0)],[],[],[],[]],hitbox:"cube"},endRod:{verts:[[E(6,0,6,4,4,2,4)],[E(7,16,9,2,2,2,0),E(6,1,10,4,4,2,4)],[E(9,16,9,2,15,0,0),E(10,1,10,4,1,2,2)],[E(7,16,7,2,15,0,0),E(6,1,6,4,1,2,2)],[E(9,16,7,2,15,0,0),E(10,1,6,4,1,2,2)],[E(7,16,9,2,15,0,0),E(6,1,10,4,1,2,2)]],flip:!0},endRodSW:{verts:[[E(7,7,0,2,15,0,0),E(6,6,15,4,1,2,4)],[E(7,9,15,2,15,0,0),E(6,10,16,4,1,2,4)],[E(10,10,16,4,4,2,4)],[E(7,9,0,2,2,2,0),E(6,10,15,4,4,2,2)],[E(9,9,0,15,2,16,14),E(10,10,15,1,4,2,2)],[E(7,9,15,15,2,16,14),E(6,10,16,1,4,2,2)]],rotate:!0},door2:{verts:[[E(0,0,13,16,3,16,0,!1,!1,!1,null,2)],[E(0,32,16,16,3,16,0,!1,!1,!1,null,2)],[E(16,32,16,16,16,0,0),E(16,16,16,16,16,16,0)],[E(0,32,13,16,16,0,0,!0),E(0,16,13,16,16,16,0,!0)],[E(16,32,13,3,16,13,0,!1,!1,!1,2),E(16,16,13,3,16,29,0,!1,!1,!1,2)],[E(0,32,16,3,16,0,0,!1,!1,!1,2),E(0,16,16,3,16,16,0,!1,!1,!1,2)]],rotate:!0},fenceGate:{verts:[[E(0,5,7,2,2,0,1),E(2,12,7,12,2,0,2),E(2,6,7,12,2,0,2),E(14,5,7,2,2,0,0)],[E(0,16,9,2,2,0,1),E(2,15,9,12,2,0,2),E(2,9,9,12,2,0,2),E(14,16,9,2,2,0,0)],[E(2,16,9,2,11,0,0),E(14,15,9,12,3,2,1),E(14,9,9,12,3,2,7),E(16,16,9,2,11,14,0),E(10,12,9,4,3,6,4)],[E(0,16,7,2,11,14,0),E(2,15,7,12,3,2,1),E(2,9,7,12,3,2,7),E(14,16,7,2,11,2,0),E(6,12,7,4,3,6,4)],[E(2,16,7,2,11,6,0),E(10,12,7,2,3,0,0),E(16,16,7,2,11,0,0)],[E(0,16,9,2,11,6,0),E(14,16,9,2,11,0,0),E(6,12,9,2,3,0,0)]],flip:!1,rotate:!0},fenceGateWall:{verts:[[E(0,2,7,2,2,0,1),E(2,9,7,12,2,0,2),E(2,3,7,12,2,0,2),E(14,2,7,2,2,0,0)],[E(0,13,9,2,2,0,1),E(2,12,9,12,2,0,2),E(2,6,9,12,2,0,2),E(14,13,9,2,2,0,0)],[E(2,13,9,2,11,0,0),E(14,12,9,12,3,2,1),E(14,6,9,12,3,2,7),E(16,13,9,2,11,14,0),E(10,9,9,4,3,6,4)],[E(0,13,7,2,11,14,0),E(2,12,7,12,3,2,1),E(2,6,7,12,3,2,7),E(14,13,7,2,11,2,0),E(6,9,7,4,3,6,4)],[E(2,13,7,2,11,6,0),E(10,9,7,2,3,0,0),E(16,13,7,2,11,0,0)],[E(0,13,9,2,11,6,0),E(14,13,9,2,11,0,0),E(6,9,9,2,3,0,0)]],flip:!1,rotate:!0},fenceGateOpen:{verts:[[E(0,5,7,2,2,0,1),E(14,12,9,2,6,0,2),E(14,6,9,2,6,0,2),E(14,5,7,2,2,0,0),E(0,12,9,2,6,0,0),E(0,6,9,2,6,0,0)],[E(0,16,9,2,2,0,1),E(14,15,15,2,6,0,2),E(14,9,15,2,6,0,2),E(14,16,9,2,2,0,0),E(0,15,15,2,6,0,0),E(0,9,15,2,6,0,0)],[E(2,16,9,2,11,0,0),E(16,15,15,2,9,2,1),E(2,15,15,2,9,2,7),E(16,16,9,2,11,14,0)],[E(0,16,7,2,11,14,0),E(14,12,13,2,3,2,1),E(0,12,13,2,3,2,7),E(14,16,7,2,11,2,0)],[E(2,16,7,2,11,6,0),E(2,12,13,2,3,6,4),E(16,16,7,2,11,6,4),E(16,12,13,2,3,0,0),E(16,15,9,6,3,2,1),E(2,15,9,6,3,2,1),E(16,9,9,6,3,2,7),E(2,9,9,6,3,2,7)],[E(0,16,9,2,11,6,0),E(14,16,9,2,11,0,0),E(14,12,15,2,3,6,4),E(0,12,15,2,3,6,4),E(0,15,15,6,3,0,1),E(0,9,15,6,3,2,7),E(14,15,15,6,3,2,1),E(14,9,15,6,3,2,7)]],flip:!1,rotate:!0},fenceGateWallOpen:{verts:[[E(0,2,7,2,2,0,1),E(14,9,9,2,6,0,2),E(14,3,9,2,6,0,2),E(14,2,7,2,2,0,0),E(0,9,9,2,6,0,0),E(0,3,9,2,6,0,0)],[E(0,13,9,2,2,0,1),E(14,12,15,2,6,0,2),E(14,6,15,2,6,0,2),E(14,13,9,2,2,0,0),E(0,12,15,2,6,0,0),E(0,6,15,2,6,0,0)],[E(2,13,9,2,11,0,0),E(16,12,15,2,9,2,1),E(2,12,15,2,9,2,7),E(16,13,9,2,11,14,0)],[E(0,13,7,2,11,14,0),E(14,9,13,2,3,2,1),E(0,9,13,2,3,2,7),E(14,13,7,2,11,2,0)],[E(2,13,7,2,11,6,0),E(2,9,13,2,3,6,4),E(16,13,7,2,11,6,4),E(16,9,13,2,3,0,0),E(16,12,9,6,3,2,1),E(2,12,9,6,3,2,1),E(16,6,9,6,3,2,7),E(2,6,9,6,3,2,7)],[E(0,13,9,2,11,6,0),E(14,13,9,2,11,0,0),E(14,9,15,2,3,6,4),E(0,9,15,2,3,6,4),E(0,12,15,6,3,0,1),E(0,6,15,6,3,2,7),E(14,12,15,6,3,2,1),E(14,6,15,6,3,2,7)]],flip:!1,rotate:!0},tallCrop:{verts:[[],[],[E(16,32,4,16,16,0,0),E(16,32,12,16,16,0,0),E(16,16,4,16,16,16,0),E(16,16,12,16,16,16,0)],[E(0,32,12,16,16,0,0),E(0,32,4,16,16,0,0),E(0,16,12,16,16,16,0),E(0,16,4,16,16,16,0)],[E(4,32,0,16,16,0,0),E(12,32,0,16,16,0,0),E(4,16,0,16,16,16,0),E(12,16,0,16,16,16,0)],[E(12,32,16,16,16,0,0),E(4,32,16,16,16,0,0),E(12,16,16,16,16,16,0),E(4,16,16,16,16,16,0)]],varients:[]},chainSW:{verts:[[E(6.5,8,0,3,16,0,0)],[E(6.5,8,16,3,16,0,0)],[],[],[E(8,9.5,0,16,3,0,3)],[E(8,9.5,16,16,3,0,3)]],rotate:!0},campfire:{verts:[[E(1,0,0,4,16,16,0,!1,!1,1),E(11,0,0,4,16,16,0,!1,!1,1),E(0,3,1,16,4,0,4),E(0,3,11,16,4,0,4),E(5,0,0,6,16,16,10,!1,!1,1)],[E(1,4,16,4,16,16,0,!1,!1,1),E(11,4,16,4,16,16,0,!1,!1,1),E(0,7,5,16,4,16,0),E(0,7,15,16,4,16,0),E(5,1,16,6,16,0,10,!1,!1,1)],[E(5,4,16,4,4,16,4),E(15,4,16,4,4,16,4),E(16,7,5,16,4,0,0),E(16,7,15,16,4,0,0),E(11,1,16,6,1,0,15),U(0,16,0,16,16,16,16,0,16,0,0,0,32,0)],[E(1,4,0,4,4,16,4),E(11,4,0,4,4,16,4),E(0,7,1,16,4,0,0),E(0,7,11,16,4,0,0),E(5,1,0,6,1,0,15),U(16,16,0,0,16,16,0,0,16,16,0,0,32,0)],[E(15,4,0,16,4,16,0),E(5,4,0,16,4,0,0),E(16,7,1,4,4,16,4),E(16,7,11,4,4,16,4),U(16,16,16,0,16,0,0,0,0,16,0,16,32,0)],[E(11,4,16,16,4,0,0),E(1,4,16,16,4,16,0),E(0,7,5,4,4,16,4),E(0,7,15,4,4,16,4),U(0,16,16,16,16,0,16,0,0,0,0,16,32,0)]],hitbox:"slab"},campfireUnlit:{verts:[[E(1,0,0,4,16,16,0,!1,!1,1),E(11,0,0,4,16,16,0,!1,!1,1),E(0,3,1,16,4,16,0),E(0,3,11,16,4,16,0),E(5,0,0,6,16,16,10,!1,!1,1)],[E(1,4,16,4,16,16,0,!1,!1,1),E(11,4,16,4,16,16,0,!1,!1,1),E(0,7,5,16,4,16,0),E(0,7,15,16,4,16,0),E(5,1,16,6,16,16,10,!1,!1,1)],[E(5,4,16,4,4,16,4),E(15,4,16,4,4,16,4),E(16,7,5,16,4,16,0),E(16,7,15,16,4,16,0),E(11,1,16,6,1,0,15)],[E(1,4,0,4,4,16,4),E(11,4,0,4,4,16,4),E(0,7,1,16,4,16,0),E(0,7,11,16,4,16,0),E(5,1,0,6,1,0,15)],[E(15,4,0,16,4,16,0),E(5,4,0,16,4,16,0),E(16,7,1,4,4,16,4),E(16,7,11,4,4,16,4)],[E(11,4,16,16,4,16,0),E(1,4,16,16,4,16,0),E(0,7,5,4,4,16,4),E(0,7,15,4,4,16,4)]],hitbox:"slab"},bamboo:{verts:[[E(6.5,0,6.5,3,3,13,4)],[E(6.5,16,9.5,3,3,13,0)],[E(9.5,16,9.5,3,16,0,0)],[E(6.5,16,6.5,3,16,0,0)],[E(9.5,16,6.5,3,16,0,0)],[E(6.5,16,9.5,3,16,0,0)]],hitbox:"cube"},bambooSmallLeaf:{verts:[[E(6.5,0,6.5,3,3,13,4)],[E(6.5,16,9.5,3,3,13,0)],[E(9.5,16,9.5,3,16,0,0),E(16,16,8,16,16,48,0)],[E(6.5,16,6.5,3,16,0,0),E(0,16,8,16,16,48,0)],[E(9.5,16,6.5,3,16,0,0),E(8,16,0,16,16,48,0)],[E(6.5,16,9.5,3,16,0,0),E(8,16,16,16,16,48,0)]],hitbox:"cube"},bambooBigLeaf:{verts:[[E(6.5,0,6.5,3,3,13,4)],[E(6.5,16,9.5,3,3,13,0)],[E(9.5,16,9.5,3,16,0,0),E(16,16,8,16,16,32,0)],[E(6.5,16,6.5,3,16,0,0),E(0,16,8,16,16,32,0)],[E(9.5,16,6.5,3,16,0,0),E(8,16,0,16,16,32,0)],[E(6.5,16,9.5,3,16,0,0),E(8,16,16,16,16,32,0)]],hitbox:"cube"},bambooYoung:{verts:[[E(7,0,7,2,2,13,4)],[E(7,16,9,2,2,13,0)],[E(9,16,9,2,16,0,0)],[E(7,16,7,2,16,0,0)],[E(9,16,7,2,16,0,0)],[E(7,16,9,2,16,0,0)]],hitbox:"cube"},bambooYoungLeaf:{verts:[[E(7,0,7,2,2,13,4)],[E(7,16,9,2,2,13,0)],[E(9,16,9,2,16,0,0),E(16,16,8,16,16,48,0)],[E(7,16,7,2,16,0,0),E(0,16,8,16,16,48,0)],[E(9,16,7,2,16,0,0),E(8,16,0,16,16,48,0)],[E(7,16,9,2,16,0,0),E(8,16,16,16,16,47,0)]],hitbox:"cube"},bambooPot:{verts:[[],[E(7,0,9,2,2,13,0)],[E(9,0,9,2,16,0,0),E(16,0,8,16,16,16,0)],[E(7,0,7,2,16,0,0),E(0,0,8,16,16,16,0,!0)],[E(9,0,7,2,16,0,0)],[E(7,0,9,2,16,0,0)]]},chest:{verts:[[E(1,0,1,14,14,32,0),E(7,7,0,2,1,67,0)],[E(1,14,15,14,14,48,0),E(7,11,1,2,1,79,0)],[E(15,14,15,14,4,16,0),E(15,10,15,14,10,16,5),E(9,11,1,2,4,64,1)],[E(1,14,1,14,4,0,0),E(1,10,1,14,10,0,5),E(7,11,0,2,4,62,1)],[E(15,14,1,14,4,16,0),E(15,10,1,14,10,16,5),E(9,11,0,1,4,64,1)],[E(1,14,15,14,4,16,0),E(1,10,15,14,10,16,5),E(7,11,1,1,4,62,1)]],rotate:!0},pressurePlate:{verts:[[E(1,0,1,14,14,1,1)],[E(1,1,15,14,14,1,1)],[E(15,1,15,14,1,0,0)],[E(1,1,1,14,1,0,0)],[E(15,1,1,14,1,0,0)],[E(1,1,15,14,1,0,0)]]},pressurePlateActive:{verts:[[E(1,0,1,14,14,1,1)],[E(1,.5,15,14,14,1,1)],[E(15,.5,15,14,.5,0,0)],[E(1,.5,1,14,.5,0,0)],[E(15,.5,1,14,.5,0,0)],[E(1,.5,15,14,.5,0,0)]]},redstoneDust:{verts:[[E(0,.25,0,16,16,0,0,!1,!0)],[E(0,.25,16,16,16,0,0)],[E(16,16,.25,16,16,0,0,!1,!1,!1,null,null,"north"),E(16,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south")],[E(0,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south"),E(0,16,.25,16,16,0,0,!1,!1,!1,null,null,"north")],[E(.25,16,0,16,16,0,0,!1,!1,!1,null,null,"east"),E(15.75,16,0,16,16,0,0,!1,!1,!1,null,null,"west")],[E(15.75,16,16,16,16,0,0,!1,!1,!1,null,null,"west"),E(.25,16,16,16,16,0,0,!1,!1,!1,null,null,"east")]],hitbox:"carpet"},redstoneDustRotate:{verts:[[E(0,.25,0,16,16,0,0,!1,!0)],[E(0,.25,16,16,16,0,0)],[E(16,16,.25,16,16,0,0,!1,!1,!1,null,null,"north"),E(16,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south")],[E(0,16,15.75,16,16,0,0,!1,!1,!1,null,null,"south"),E(0,16,.25,16,16,0,0,!1,!1,!1,null,null,"north")],[E(.25,16,0,16,16,0,0,!1,!1,!1,null,null,"east"),E(15.75,16,0,16,16,0,0,!1,!1,!1,null,null,"west")],[E(15.75,16,16,16,16,0,0,!1,!1,!1,null,null,"west"),E(.25,16,16,16,16,0,0,!1,!1,!1,null,null,"east")]],rotate:!0,hitbox:"carpet"},redstoneTorch:{verts:[[E(7,0,7,2,2,7,14),E(6,10,6,4,4,6,5)],[E(7,10,9,2,2,7,6),E(6,8,10,4,4,6,5)],[E(9,10,9,2,10,7,6),E(10,11,7,4,4,6,5)],[E(7,10,7,2,10,7,6),E(6,11,9,4,4,6,5)],[E(9,10,7,2,10,7,6),E(7,11,6,4,4,6,5)],[E(7,10,9,2,10,7,6),E(9,11,10,4,4,6,5)]]},redstoneWallTorch:{verts:[[U(9,4,17,7,4,17,7,3,15,9,3,15,7,14,2,2),U(6,12.5,10,10,12.5,10,10,14.5,14,6,14.5,14,6,5,4,4)],[U(9,13,11,7,13,11,7,14,13,9,14,13,7,6,2,2),U(10,10.5,10.8,6,10.5,10.8,6,12.5,14.8,10,12.5,14.8,6,5,4,4)],[U(9,14,13,7,14,13,7,4,17,9,4,17,7,6,2,10),U(10,14,10.6,6,14,10.6,6,10,12.2,10,10,12.2,6,5,4,4)],[U(7,13,11,9,13,11,9,3,15,7,3,15,7,6,2,10),U(6,15,12.6,10,15,12.6,10,11,14.2,6,11,14.2,6,5,4,4)],[U(9,13,11,9,14,13,9,4,17,9,3,15,7,6,2,10),U(7,13.5,9.6,7,15.5,13.6,7,11.5,15.2,7,9.5,11.2,6,5,4,4)],[U(7,14,13,7,13,11,7,3,15,7,4,17,7,6,2,10),U(9,15.5,13.6,9,13.5,9.6,9,9.5,11.2,9,11.5,15.2,6,5,4,4)]],rotate:!0},leverWall:{verts:[[E(5,4,13,6,3,0,0,null,null,null,null,null,"cobblestone"),U(7,12,7,9,12,7,9,8.45,15,7,8.45,15,7,6,2,10)],[E(5,12,16,6,3,0,0,null,null,null,null,null,"cobblestone"),U(9,13.5,8,7,13.5,8,7,10,16,9,10,16,7,6,2,10)],[E(11,12,16,6,8,0,0,null,null,null,null,null,"cobblestone")],[E(5,12,13,6,8,0,0,null,null,null,null,null,"cobblestone"),U(7,13.5,8,9,13.5,8,9,12,7,7,12,7,7,6,2,2)],[E(11,12,13,3,8,0,0,null,null,null,null,null,"cobblestone"),U(9,12,7,9,13.5,8,9,10,16,9,8.45,15,7,6,2,10)],[E(5,12,16,3,8,0,0,null,null,null,null,null,"cobblestone"),U(7,13.5,8,7,12,7,7,8.45,15,7,10,16,7,6,2,10)]],rotate:!0},leverWallOn:{verts:[[E(5,4,13,6,3,0,0,null,null,null,null,null,"cobblestone"),U(7,2.5,8,9,2.5,8,9,6,16,7,6,16,7,6,2,10)],[E(5,12,16,6,3,0,0,null,null,null,null,null,"cobblestone"),U(9,4,7,7,4,7,7,7.55,15,9,7.55,15,7,6,2,10)],[E(11,12,16,6,8,0,0,null,null,null,null,null,"cobblestone")],[E(5,12,13,6,8,0,0,null,null,null,null,null,"cobblestone"),U(9,2.5,8,7,2.5,8,7,4,7,9,4,7,7,6,2,2)],[E(11,12,13,3,8,0,0,null,null,null,null,null,"cobblestone"),U(9,2.5,8,9,4,7,9,7.55,15,9,6,16,7,6,2,10)],[E(5,12,16,3,8,0,0,null,null,null,null,null,"cobblestone"),U(7,4,7,7,2.5,8,7,6,16,7,7.55,15,7,6,2,10)]],rotate:!0},leverFloor:{verts:[[E(5,0,4,6,8,0,0,null,null,null,null,null,"cobblestone"),U(9,8,13.5,7,8,13.5,7,0,10,9,0,10,7,6,2,10)],[E(5,3,12,6,8,0,0,null,null,null,null,null,"cobblestone"),U(7,9,12,9,9,12,9,1,8.45,7,1,8.45,7,6,2,10)],[E(11,3,12,6,3,0,0,null,null,null,null,null,"cobblestone"),U(7,8,13.5,9,8,13.5,9,9,12,7,9,12,7,6,2,2)],[E(5,3,4,6,3,0,0,null,null,null,null,null,"cobblestone")],[E(11,3,4,8,3,0,0,null,null,null,null,null,"cobblestone"),U(9,9,12,9,8,13.5,9,0,10,9,1,8.45,7,6,2,10)],[E(5,3,12,8,3,0,0,null,null,null,null,null,"cobblestone"),U(7,8,13.5,7,9,12,7,1,8.45,7,0,10,7,6,2,10)]]},leverFloorOn:{verts:[[E(5,0,4,6,8,0,0,null,null,null,null,null,"cobblestone"),U(7,8,2.5,9,8,2.5,9,0,6,7,0,6,7,6,2,10)],[E(5,3,12,6,8,0,0,null,null,null,null,null,"cobblestone"),U(9,9,4,7,9,4,7,1,7.55,9,1,7.55,7,6,2,10)],[E(11,3,12,6,3,0,0,null,null,null,null,null,"cobblestone")],[E(5,3,4,6,3,0,0,null,null,null,null,null,"cobblestone"),U(9,8,2.5,7,8,2.5,7,9,4,9,9,4,7,6,2,2)],[E(11,3,4,8,3,0,0,null,null,null,null,null,"cobblestone"),U(9,8,2.5,9,9,4,9,1,7.55,9,0,6,7,6,2,10)],[E(5,3,12,8,3,0,0,null,null,null,null,null,"cobblestone"),U(7,9,4,7,8,2.5,7,0,6,7,1,7.55,7,6,2,10)]]},leverCeil:{verts:[[E(5,13,4,6,8,0,0,null,null,null,null,null,"cobblestone"),U(9,7,12,7,7,12,7,15,8.45,9,15,8.45,7,6,2,10)],[E(5,16,12,6,8,0,0,null,null,null,null,null,"cobblestone"),U(7,8,13.5,9,8,13.5,9,16,10,7,16,10,7,6,2,10)],[E(11,16,12,6,3,0,0,null,null,null,null,null,"cobblestone"),U(9,8,13.5,7,8,13.5,7,7,12,9,7,12,7,6,2,2)],[E(5,16,4,6,3,0,0,null,null,null,null,null,"cobblestone")],[E(11,16,4,8,3,0,0,null,null,null,null,null,"cobblestone"),U(9,8,13.5,9,7,12,9,15,8.45,9,16,10,7,6,2,10)],[E(5,16,12,8,3,0,0,null,null,null,null,null,"cobblestone"),U(7,7,12,7,8,13.5,7,16,10,7,15,8.45,7,6,2,10)]]},leverCeilOn:{verts:[[E(5,13,4,6,8,0,0,null,null,null,null,null,"cobblestone"),U(7,7,4,9,7,4,9,15,7.55,7,15,7.55,7,6,2,10)],[E(5,16,12,6,8,0,0,null,null,null,null,null,"cobblestone"),U(9,8,2.5,7,8,2.5,7,16,6,9,16,6,7,6,2,10)],[E(11,16,12,6,3,0,0,null,null,null,null,null,"cobblestone")],[E(5,16,4,6,3,0,0,null,null,null,null,null,"cobblestone"),U(7,8,2.5,9,8,2.5,9,7,4,7,7,4,7,6,2,2)],[E(11,16,4,8,3,0,0,null,null,null,null,null,"cobblestone"),U(9,7,4,9,8,2.5,9,16,6,9,15,7.55,7,6,2,10)],[E(5,16,12,8,3,0,0,null,null,null,null,null,"cobblestone"),U(7,8,2.5,7,7,4,7,15,7.55,7,16,6,7,6,2,10)]]},buttonPushed:{verts:[[E(5,6,15,6,1,5,6)],[E(5,10,16,6,1,5,6)],[E(11,10,16,6,4,5,6)],[E(5,10,15,6,4,5,6)],[E(11,10,15,1,4,5,6)],[E(5,10,16,1,4,5,6)]],rotate:!0},repeater1:{verts:j(),rotate:!0},repeater2:{verts:j(2),rotate:!0},repeater3:{verts:j(3),rotate:!0},repeater4:{verts:j(4),rotate:!0},repeaterOn1:{verts:j(1,!0),rotate:!0},repeaterOn2:{verts:j(2,!0),rotate:!0},repeaterOn3:{verts:j(3,!0),rotate:!0},repeaterOn4:{verts:j(4,!0),rotate:!0},pistonOpen:{verts:[[E(0,0,0,16,16,0,0)],[E(0,12,16,16,16,0,0)],[E(16,12,16,16,12,0,4)],[E(0,12,0,16,12,0,4)],[E(16,12,0,16,12,0,4)],[E(0,12,16,16,12,0,4)]]},pistonOpenFlipped:{verts:[[E(0,4,0,16,16,0,0,!1,!0)],[E(0,16,16,16,16,0,0,!1,!0)],[E(16,16,16,16,12,0,4,!1,!0)],[E(0,16,0,16,12,0,4,!1,!0)],[E(16,16,0,16,12,0,4,!1,!0)],[E(0,16,16,16,12,0,4,!1,!0)]]},pistonOpenSW:{verts:[[E(0,0,4,16,12,0,4)],[E(0,16,16,16,12,0,4,!1,!1,2)],[E(16,16,16,16,16,0,0)],[E(0,16,4,16,16,0,0)],[E(16,16,4,12,16,0,4,!1,!1,1)],[E(0,16,16,12,16,0,4,!1,!1,-1)]],rotate:!0},pistonHead:{verts:[[E(0,12,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,4,0,0),E(10,12,10,4,12,6,4),E(10,0,10,4,4,6,9)],[E(0,16,0,16,4,0,0),E(6,12,6,4,12,6,4),E(6,0,6,4,4,6,9)],[E(16,16,0,16,4,0,0),E(10,12,6,4,12,6,4),E(10,0,6,4,4,6,9)],[E(0,16,16,16,4,0,0),E(6,12,10,4,12,6,4),E(6,0,10,4,4,6,9)]]},pistonHeadFlipped:{verts:[[E(0,0,0,16,16,0,0)],[E(0,4,16,16,16,0,0)],[E(16,4,16,16,4,0,0),E(10,20,10,4,12,6,4),E(10,8,10,4,4,6,9)],[E(0,4,0,16,4,0,0),E(6,20,6,4,12,6,4),E(6,8,6,4,4,6,9)],[E(16,4,0,16,4,0,0),E(10,20,6,4,12,6,4),E(10,8,6,4,4,6,9)],[E(0,4,16,16,4,0,0),E(6,20,10,4,12,6,4),E(6,8,10,4,4,6,9)]]},pistonHeadSW:{verts:[[E(0,0,0,16,4,0,0),E(6,6,4,4,12,6,4),E(6,6,16,4,4,6,9)],[E(0,16,4,16,4,0,0),E(6,10,16,4,12,6,4,!1,!0),E(6,10,20,4,4,6,9,!1,!0)],[E(16,16,4,16,16,0,0)],[E(0,16,0,16,16,0,0)],[E(16,16,0,4,16,0,0,!1,!1,!0),E(10,10,4,12,4,6,4,!1,!1,1),E(10,10,16,4,4,6,9,!1,!1,1)],[E(0,16,4,4,16,0,0,!1,!1,!0),E(6,10,16,12,4,6,4,!1,!1,-1),E(6,10,20,4,4,6,9,!1,!1,-1)]],rotate:!0},pistonHeadCut:{verts:[[E(0,12,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,4,0,0),E(10,12,10,4,12,6,4)],[E(0,16,0,16,4,0,0),E(6,12,6,4,12,6,4)],[E(16,16,0,16,4,0,0),E(10,12,6,4,12,6,4)],[E(0,16,16,16,4,0,0),E(6,12,10,4,12,6,4)]]},pistonHeadCutFlipped:{verts:[[E(0,0,0,16,16,0,0)],[E(0,4,16,16,16,0,0)],[E(16,4,16,16,4,0,0),E(10,16,10,4,12,6,4)],[E(0,4,0,16,4,0,0),E(6,16,6,4,12,6,4)],[E(16,4,0,16,4,0,0),E(10,16,6,4,12,6,4)],[E(0,4,16,16,4,0,0),E(6,16,10,4,12,6,4)]]},pistonHeadCutSW:{verts:[[E(0,0,0,16,4,0,0),E(6,6,4,4,12,6,4)],[E(0,16,4,16,4,0,0),E(6,10,16,4,12,6,4,!1,!0)],[E(16,16,4,16,16,0,0)],[E(0,16,0,16,16,0,0)],[E(16,16,0,4,16,0,0,!1,!1,!0),E(10,10,4,12,4,6,4,!1,!1,1)],[E(0,16,4,4,16,0,0,!1,!1,!0),E(6,10,16,12,4,6,4,!1,!1,-1)]],rotate:!0},slimeBlock:{verts:[[E(0,0,0,16,16,0,0),E(3,3,3,10,10,3,3)],[E(0,16,16,16,16,0,0),E(3,13,13,10,10,3,3)],[E(16,16,16,16,16,0,0),E(13,13,13,10,10,3,3)],[E(0,16,0,16,16,0,0),E(3,13,3,10,10,3,3)],[E(16,16,0,16,16,0,0),E(13,13,3,10,10,3,3)],[E(0,16,16,16,16,0,0),E(3,13,13,10,10,3,3)]]},honeyBlock:{verts:[[E(0,0,0,16,16,0,0),E(1,1,1,14,14,1,1)],[E(0,16,16,16,16,0,0),E(1,15,15,14,14,-31,1)],[E(16,16,16,16,16,0,0),E(15,15,15,14,14,-15,1)],[E(0,16,0,16,16,0,0),E(1,15,1,14,14,-15,1)],[E(16,16,0,16,16,0,0),E(15,15,1,14,14,-15,1)],[E(0,16,16,16,16,0,0),E(1,15,15,14,14,-15,1)]]},stairCornerOut:{verts:[[E(0,0,0,16,16,0,0)],[E(0,8,16,16,16,0,0),E(0,16,16,8,8,0,0)],[E(8,16,16,8,8,0,0),E(16,8,16,16,8,0,0)],[E(0,8,0,16,8,0,0),E(0,16,8,8,8,0,0)],[E(16,8,0,16,8,0,0),E(8,16,8,8,16,0,0)],[E(0,8,8,8,8,0,0),E(0,16,16,8,16,8,0)]],flip:!0,rotate:!0},stairCornerIn:{verts:[[E(0,0,0,16,16,0,0)],[E(8,8,8,8,8,0,0),E(0,16,16,16,8,0,0),E(0,16,8,8,8,0,0)],[E(16,16,16,16,16,0,0)],[E(8,16,8,8,8,0,0),E(0,16,0,8,8,0,0),E(0,8,0,16,8,0,0)],[E(8,16,0,8,8,0,0),E(16,16,8,8,8,0,0),E(16,8,0,16,8,0,0)],[E(0,16,16,16,16,0,0)]],flip:!0,rotate:!0},endPortal:{verts:[[E(0,8,0,16,16,0,0)],[E(0,8,16,16,16,0,0)],[],[],[],[]]},smallDripleaf:{verts:[[E(8,21,8,7,7,48,0,!1,!1,-1),E(1,26,1,7,7,48,0,!1,!1,1),E(1,30,8,7,7,48,0,!1,!1,2)],[E(8,21,15,7,7,48,0,!0,!1,-1),E(1,26,8,7,7,48,0,!0,!1,1),E(1,30,15,7,7,48,0,!0)],[E(15,21,15,7,1,32,0),E(8,26,8,7,1,32,0),E(8,30,15,7,1,32,0),U(2,16,2,14,16,14,14,0,14,2,0,2,0,0),U(2,32,2,14,32,14,14,16,14,2,16,2,16,0)],[E(8,21,8,7,1,32,0),E(1,26,1,7,1,32,0),E(1,30,8,7,1,32,0),U(14,16,2,2,16,14,2,0,14,14,0,2,0,0),U(14,32,2,2,32,14,2,16,14,14,16,2,16,0)],[E(15,21,8,7,1,32,0),E(8,26,1,7,1,32,0),E(8,30,8,7,1,32,0),U(14,16,14,2,16,2,2,0,2,14,0,14,0,0),U(14,32,14,2,32,2,2,16,2,14,16,14,16,0)],[E(8,21,15,7,1,32,0),E(1,26,8,7,1,32,0),E(1,30,15,7,1,32,0),U(2,16,14,14,16,2,14,0,2,2,0,14,0,0),U(2,32,14,14,32,2,14,16,2,2,16,14,16,0)]],rotate:!0,hitbox:"tallCube"},bigDripleaf:{verts:[[E(0,15,0,16,16,32,0)],[E(0,15,16,16,16,32,0,!1,!0)],[E(16,15,0,16,4,48,0),U(2,15,2,14,15,14,14,0,14,2,0,2,0,0)],[E(0,15,0,16,4,48,0),U(14,15,2,2,15,14,2,0,14,14,0,2,0,0)],[E(0,15,0,16,4,16,0,!0),E(16,15,0,16,4,16,0),U(14,15,14,2,15,2,2,0,2,14,0,14,0,0)],[E(0,15,16,16,4,16,0),E(16,15,16,16,4,16,0),U(2,15,14,14,15,2,14,0,2,2,0,14,0,0)]],rotate:!0,hitbox:"cube"},logicGate:{verts:[[E(0,0,0,16,16,0,0)],[E(0,2,16,16,16,0,0)],[E(16,2,16,16,2,0,2)],[E(0,2,0,16,2,0,2)],[E(16,2,0,16,2,0,14)],[E(0,2,16,16,2,0,14)]],rotate:!0},sign:{verts:[[E(-4,14,7,16,2,0,0),E(7,0,7,2,2,7,7,!1,!1,null,null,null,"poleTop"),E(12,14,7,8,2,0,0)],[E(-4,26,9,16,2,0,0),E(12,26,9,8,2,0,0)],[E(20,26,9,16,12,0,0),E(9,14,9,2,14,0,0,!1,!1,null,null,null,"poleSide"),E(4,26,9,8,12,0,0)],[E(-4,26,7,16,12,0,0),E(7,14,7,2,14,0,0,!1,!1,null,null,null,"poleSide"),E(12,26,7,8,12,0,0)],[E(20,26,7,2,12,0,0),E(9,14,7,2,14,0,0,!1,!1,null,null,null,"poleSide")],[E(-4,26,9,2,12,0,0),E(7,14,9,2,14,0,0,!1,!1,null,null,null,"poleSide")]]},wallSign:{verts:[[E(-4,6,16.7,16,2,0,0),E(12,6,16.7,8,2,0,0)],[E(-4,18,18.7,16,2,0,0),E(12,18,18.7,8,2,0,0)],[E(20,18,18.7,16,12,0,0),E(4,18,18.7,8,12,0,0)],[E(-4,18,16.7,16,12,0,0),E(12,18,16.7,8,12,0,0)],[E(20,18,16.7,2,12,0,0)],[E(-4,18,18.7,2,12,0,0)]]},composter:{verts:[[E(0,0,0,16,16,16,0)],[E(0,2,16,16,16,16,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter2:{verts:[[E(0,0,0,16,16,16,0)],[E(0,4,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter3:{verts:[[E(0,0,0,16,16,16,0)],[E(0,6,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter4:{verts:[[E(0,0,0,16,16,16,0)],[E(0,8,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter5:{verts:[[E(0,0,0,16,16,16,0)],[E(0,10,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter6:{verts:[[E(0,0,0,16,16,16,0)],[E(0,12,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter7:{verts:[[E(0,0,0,16,16,16,0)],[E(0,14,16,16,16,0,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},composter8:{verts:[[E(0,0,0,16,16,16,0)],[E(0,15,16,16,16,32,0),E(0,16,16,14,2,66,0),E(14,16,16,2,14,64,0),E(2,16,2,14,2,64,14),E(0,16,14,2,14,78,2)],[E(16,16,16,16,16,48,0),E(16,16,2,16,16,48,0)],[E(0,16,0,16,16,48,0),E(0,16,14,16,16,48,0)],[E(16,16,0,16,16,48,0),E(2,16,0,16,16,48,0)],[E(0,16,16,16,16,48,0),E(14,16,16,16,16,48,0)]]},cocoaStage0:{verts:[[E(6,7,11,4,4,0,0)],[E(6,12,15,4,4,0,0)],[E(10,12,15,4,5,11,4)],[E(6,12,11,4,5,11,4)],[E(10,12,11,4,5,11,4),E(8,16,12,4,4,12,0,!0)],[E(6,12,15,4,5,11,4),E(8,16,16,4,4,12,0)]],rotate:!0},cocoaStage1:{verts:[[E(5,5,9,6,6,0,0)],[E(5,12,15,6,6,0,0)],[E(11,12,15,6,7,9,4)],[E(5,12,9,6,7,9,4)],[E(11,12,9,6,7,9,4),E(8,16,12,4,4,12,0,!0)],[E(5,12,15,6,7,9,4),E(8,16,16,4,4,12,0)]],rotate:!0},cocoaStage2:{verts:[[E(4,3,7,8,8,0,0)],[E(4,12,15,8,8,0,0)],[E(12,12,15,8,9,8,4)],[E(4,12,7,8,9,8,4)],[E(12,12,7,8,9,8,4),E(8,16,12,4,4,12,0,!0)],[E(4,12,15,8,9,8,4),E(8,16,16,4,4,12,0)]],rotate:!0},chair:{verts:[[E(3,6,0,10,16,0,0),E(3,0,14,2,2,0,0),E(11,0,14,2,2,0,0),E(3,0,0,2,2,0,0),E(11,0,0,2,2,0,0)],[E(3,8,16,10,16,0,0),E(3,24,16,10,2,0,0)],[E(13,8,16,10,2,0,0),E(5,6,16,2,6,0,0),E(13,6,16,2,6,0,0),E(5,6,2,2,6,0,0),E(13,6,2,2,6,0,0),E(13,24,16,10,16,0,0)],[E(3,8,0,10,2,0,0),E(3,6,14,2,6,0,0),E(11,6,14,2,6,0,0),E(3,6,0,2,6,0,0),E(11,6,0,2,6,0,0),E(3,24,14,10,16,0,0)],[E(13,8,0,16,2,0,0),E(5,6,0,2,6,0,0),E(13,6,0,2,6,0,0),E(5,6,14,2,6,0,0),E(13,6,14,2,6,0,0),E(13,24,14,2,16,0,0)],[E(3,8,16,16,2,0,0),E(3,6,2,2,6,0,0),E(3,6,16,2,6,0,0),E(11,6,2,2,6,0,0),E(11,6,16,2,6,0,0),E(3,24,16,2,16,0,0)]],rotate:!0},arrow:{verts:[[E(5.5,8,0,5,16,0,0,!1,!1,!0)],[E(5.5,8,16,5,16,0,0,!1,!0,!0)],[],[E(5.5,10.5,1,5,5,0,5)],[E(8,10.5,0,16,5,0,0,!0)],[E(8,10.5,16,16,5,0,0)]]},spyglass:{verts:[[E(6.9,2.4,6.9,2.2,2.2,0,0,!1,!1,!1,2,2)],[E(6.9,8.6,9.1,2.2,2.2,0,5,!1,!1,!1,2,2),E(7,13.5,9,2,2,0,13)],[E(9.1,8.6,9.1,2.2,6.2,0,7,!1,!1,!1,2,6),E(9,13.5,9,2,5,0,2)],[E(6.9,8.6,6.9,2.2,6.2,0,7,!1,!1,!1,2,6),E(7,13.5,7,2,5,0,2)],[E(9.1,8.6,6.9,2.2,6.2,0,7,!1,!1,!1,2,6),E(9,13.5,7,2,5,0,2)],[E(6.9,8.6,9.1,2.2,6.2,0,7,!1,!1,!1,2,6),E(7,13.5,9,2,5,0,2)]]},hopper:{verts:[[E(0,10,0,16,16,0,0),E(4,4,4,8,8,4,4),E(6,0,6,4,4,6,6)],[E(0,16,16,13,3,35,0),E(0,10,16,16,16,0,0),E(3,16,3,13,3,32,13),E(0,16,13,3,13,45,3),E(13,16,16,3,13,32,0)],[E(16,16,16,16,6,16,0),E(12,10,12,8,6,20,6),E(10,4,10,4,4,22,12),E(13,16,3,10,6,19,0)],[E(0,16,0,16,6,16,0),E(4,10,4,8,6,20,6),E(6,4,6,4,4,22,12),E(3,16,13,10,6,19,0)],[E(16,16,0,16,6,16,0),E(12,10,4,8,6,20,6),E(10,4,6,4,4,22,12),E(3,16,3,10,6,19,0)],[E(0,16,16,16,6,16,0),E(4,10,12,8,6,20,6),E(6,4,10,4,4,22,12),E(13,16,13,10,6,19,0)]]},hopperWall:{verts:[[E(0,10,0,16,16,-16,0),E(4,4,4,8,8,-12,4),E(6,4,12,4,4,-10,6)],[E(0,16,16,13,3,19,0),E(0,10,16,16,16,-16,0),E(3,16,3,13,3,16,13),E(0,16,13,3,13,29,3),E(13,16,16,3,13,16,0),E(6,8,16,4,4,6,12)],[E(16,16,16,16,6,0,0),E(12,10,12,8,6,4,6),E(13,16,3,10,6,3,0),E(10,8,16,4,4,6,12)],[E(0,16,0,16,6,0,0),E(4,10,4,8,6,4,6),E(3,16,13,10,6,3,0)],[E(16,16,0,16,6,0,0),E(12,10,4,8,6,4,6),E(10,8,12,4,4,6,12),E(3,16,3,10,6,3,0)],[E(0,16,16,16,6,0,0),E(4,10,12,8,6,4,6),E(6,8,16,4,4,6,12),E(13,16,13,10,6,3,0)]],rotate:!0},comparator:{verts:Y(),rotate:!0},comparatorOn:{verts:Y(!1,!0),rotate:!0},comparatorSubtract:{verts:Y(!0),rotate:!0},comparatorSubtractOn:{verts:Y(!0,!0),rotate:!0},daylightDetector:{verts:[[E(0,0,0,16,16,0,0)],[E(0,6,16,16,16,0,0)],[E(16,6,16,16,6,0,0)],[E(0,6,0,16,6,0,0)],[E(16,6,0,16,6,0,0)],[E(0,6,16,16,6,0,0)]]},pitcherPlant:{verts:[[],[],[U(2,11,2,14,11,14,14,-5,14,2,-5,2,0,0,16,16,"pitcherCropBottomStage4"),U(2,29,2,14,29,14,14,11,14,2,11,2,0,0,16,16,"pitcherCropTopStage4")],[U(14,11,2,2,11,14,2,-5,14,14,-5,2,0,0,16,16,"pitcherCropBottomStage4"),U(14,29,2,2,29,14,2,11,14,14,11,2,0,0,16,16,"pitcherCropTopStage4")],[U(14,11,14,2,11,2,2,-5,2,14,-5,14,0,0,16,16,"pitcherCropBottomStage4"),U(14,29,14,2,29,2,2,11,2,14,11,14,0,0,16,16,"pitcherCropTopStage4")],[U(2,11,14,14,11,2,14,-5,2,2,-5,14,0,0,16,16,"pitcherCropBottomStage4"),U(2,29,14,14,29,2,14,11,2,2,11,14,0,0,16,16,"pitcherCropTopStage4")]]},pitcherCropStage0:{verts:[[E(5,0,5,6,6,5,5,null,null,null,null,null,"pitcherCropBottom")],[E(5,4,11,6,6,5,5,null,null,null,null,null,"pitcherCropTop")],[E(11,4,11,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[E(5,4,5,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[E(11,4,5,6,4,3,10,null,null,null,null,null,"pitcherCropSide")],[E(5,4,11,6,4,3,10,null,null,null,null,null,"pitcherCropSide")]],hitbox:"slab"},pitcherCropStage1:{verts:[[E(3,0,3,10,10,3,3,null,null,null,null,null,"pitcherCropBottom")],[E(3,6,13,10,10,3,3,null,null,null,null,null,"pitcherCropTop")],[E(13,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(2,22,2,14,22,14,14,6,14,2,6,2,0,0)],[E(3,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(14,22,2,2,22,14,2,6,14,14,6,2,0,0)],[E(13,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(14,22,14,2,22,2,2,6,2,14,6,14,0,0)],[E(3,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(2,22,14,14,22,2,14,6,2,2,6,14,0,0)]],hitbox:"cube"},pitcherCropStage3:{verts:[[E(3,0,3,10,10,3,3,null,null,null,null,null,"pitcherCropBottom")],[E(3,6,13,10,10,3,3,null,null,null,null,null,"pitcherCropTop")],[E(13,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(2,17,2,14,17,14,14,1,14,2,1,2,0,0),U(2,33,2,14,33,14,14,17,14,2,17,2,16,0)],[E(3,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(14,17,2,2,17,14,2,1,14,14,1,2,0,0),U(14,33,2,2,33,14,2,17,14,14,17,2,16,0)],[E(13,6,3,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(14,17,14,2,17,2,2,1,2,14,1,14,0,0),U(14,33,14,2,33,2,2,17,2,14,17,14,16,0)],[E(3,6,13,10,6,3,10,null,null,null,null,null,"pitcherCropSide"),U(2,17,14,14,17,2,14,1,2,2,1,14,0,0),U(2,33,14,14,33,2,14,17,2,2,17,14,16,0)]],hitbox:"tallCube"},flat:{verts:[[E(0,.25,0,16,16,0,0,!1,!0)],[E(0,.25,16,16,16,0,0)],[],[],[],[]],hitbox:"carpet"},flowerbed1:{verts:V(V(V([[E(8,3,8,8,8,0,0,!1,!0)],[E(8,3,16,8,8,0,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),hitbox:"layer2",rotate:!0},flowerbed2:{verts:V(V(V([[E(8,3,0,8,16,0,0,!1,!0)],[E(8,3,8,16,16,0,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),hitbox:"layer2",rotate:!0},flowerbed3:{verts:V(V(V(V(V(V([[E(8,3,0,8,16,0,0,!1,!0),E(0,2,0,8,8,8,8,!1,!0)],[E(8,3,16,8,16,0,0),E(0,2,8,8,8,8,8)],[],[],[],[]],11,14,3),14,10,3),9,9,3),6,6,2),3.5,1.5,2),1,5,2),hitbox:"layer2",rotate:!0},flowerbed4:{verts:V(V(V(V(V(V([[E(8,3,0,8,16,0,0,!1,!0),E(0,2,0,8,16,8,0,!1,!0)],[E(8,3,16,8,16,0,0),E(0,2,16,8,16,8,0)],[],[],[],[]],11,14,3),14,10,3),9,9,3),6,6,2),3.5,1.5,2),1,5,2),hitbox:"layer2",rotate:!0},fern:{verts:[[],[],[U(16,10,0,0,10,0,0,0,8,16,0,8,0,0),U(0,10,0,16,10,0,16,0,8,0,0,8,16,0,-16)],[U(0,10,14,16,10,14,16,0,8,0,0,8,0,0),U(16,10,14,0,10,14,0,0,8,16,0,8,16,0,-16)],[U(2,10,0,2,10,16,8,0,16,8,0,0,0,0),U(2,10,16,2,10,0,8,0,0,8,0,16,16,0,-16)],[U(12,10,16,12,10,0,8,0,0,8,0,16,0,0),U(12,10,0,12,10,16,8,0,16,8,0,0,16,0,-16)]],hitbox:"cube",rotate:!0},ceilingPanel:{verts:[[E(0,13,0,16,16,0,0)],[E(0,16,16,16,16,0,0)],[E(16,16,16,16,3,0,0)],[E(0,16,0,16,3,0,0)],[E(16,16,0,16,3,0,0)],[E(0,16,16,16,3,0,0)]],rotate:!0},groundBush:{verts:V(V(V([[E(0,2,0,16,16,0,0,!1,!0,-1),E(0,5,0,16,16,0,0,!1,!0,2),E(0,8,0,16,16,0,0,!1,!0,1)],[E(0,2,16,16,16,0,0,!1,!1,1),E(0,5,16,16,16,0,0,!1,!1,2),E(0,8,16,16,16,0,0,!1,!1,-1)],[],[],[],[]],5,2,8),12,5,5),9,14,8),hitbox:"slab",rotate:!0},coralFan:{verts:[[],[],[U(16,9,-6,0,9,-6,0,0,8,16,0,8,0,0),U(0,9,-6,16,9,-6,16,0,8,0,0,8,16,0,-16)],[U(0,9,22,16,9,22,16,0,8,0,0,8,0,0),U(16,9,22,0,9,22,0,0,8,16,0,8,16,0,-16)],[U(-6,9,0,-6,9,16,8,0,16,8,0,0,0,0),U(-6,9,16,-6,9,0,8,0,0,8,0,16,16,0,-16)],[U(22,9,16,22,9,0,8,0,0,8,0,16,0,0),U(22,9,0,22,9,16,8,0,16,8,0,0,16,0,-16)]],hitbox:"cube"},coralWallFan:{verts:[[],[U(16,16,-3.8,0,16,-3.8,0,7,16,16,7,16,0,0),U(0,16,-3.8,16,16,-3.8,16,7,16,0,7,16,16,0,-16),U(16,0,-3.8,0,0,-3.8,0,9,16,16,9,16,0,0),U(0,0,-3.8,16,0,-3.8,16,9,16,0,9,16,16,0,-16)],[],[],[],[]],hitbox:"cube",rotate:!0},item:{verts:q()},tallCube:{verts:[[E(0,0,0,16,16,0,0)],[E(0,32,16,16,16,0,0)],[E(16,32,16,16,32,0,0)],[E(0,32,0,16,32,0,0)],[E(16,32,0,16,32,0,0)],[E(0,32,16,16,32,0,0)]]}};win.serverShapes=X;for(var shape=0;shape<8;shape++)X["layer"+(shape+1)]={verts:_(2*(shape+1))},X["liquidLayer"+(shape+1)]={verts:H(2*(shape+1))};function Z(e,t){let s=1e3,a=-1e3,o=1e3,r=-1e3,i=1e3,n=-1e3,l=0;for(let t=0;t<e.length;t+=3)l=e[t],s=s>l?l:s,a=a<l?l:a,l=e[t+1],o=o>l?l:o,r=r<l?l:r,l=e[t+2],i=i>l?l:i,n=n<l?l:n;return t[0]=s,t[1]=o,t[2]=i,t[3]=a,t[4]=r,t[5]=n,t}function Q(e,t){for(let s=0;s<e.length;s++)t[s]=e[s]}let J={tntExplode:!0,killCmdOff:!1,dayNightCycle:!0,blocksFall:!0,attack:!0,fireSpreads:!0,weatherCycle:!0,mobSpawning:!0,autosave:!0},$=Object.keys(J);win.defaultWorldSettings=J;const{DoubleToIEEE:K,IEEEToDouble:ee}=function(){let e=new ArrayBuffer(8),t=new Uint32Array(e),s=new Float64Array(e);return{DoubleToIEEE:e=>(s[0]=e,t),IEEEToDouble:(e,a)=>(t[0]=e,t[1]=a,s[0])}}(),te=new TextEncoder,se=new TextDecoder;class ae{constructor(){this.bitLength=0,this.data=[]}add(e,t){if(+e!=+e||+t!=+t||+t<0)throw new Error("Broken");if(e&=-1>>>32-t,Math.log2(e)>=t)throw new Error("too big");let s=this.bitLength>>>3,a=8-(7&this.bitLength);for(this.bitLength+=t;t>0;)this.data[s]|=a>=t?e<<a-t:e>>>t-a,t-=a,s++,a=8;return this}addDouble(e){let[t,s]=K(e);this.add(t,32),this.add(s,32)}addString(e,t=8){if(!e.length)return this.add(0,t);let s=te.encode(e),a=s.length;this.add(a,t),this.appendArray(s.subarray(0,a))}append(e){if(0==(7&this.bitLength))return this.data.push(...e.data),void(this.bitLength+=e.bitLength);let t=e.bitLength,s=0;for(;t>7;)this.add(e.data[s++],8),t-=8;t&&this.add(e.data[s]>>>8-t,t)}appendArray(e){if(0==(7&this.bitLength))return this.data.push(...e),void(this.bitLength+=8*e.length);for(let t of e)this.add(t,8)}appendInt16Array(e){for(let t of e)this.add(t,16)}get array(){return new Uint8Array(this.data)}static bits(e){return Math.ceil(Math.log2(e))}}win.BitArrayBuilder=ae;class oe extends ae{constructor(e){super(),this.data=e}skip(e){return this.bitLength+=e,this}overwrite(e,t){if(+e!=+e||+t!=+t||+t<0)throw new Error("Broken");if(e&=-1>>>32-t,Math.log2(e)>=t)throw new Error("too big");let s=this.bitLength>>>3,a=8-(7&this.bitLength);for(this.bitLength+=t;t>0;)this.data[s]=a>=t?this.data[s]&~((1<<t)-1<<a-t)|e<<a-t:this.data[s]&~((1<<a)-1)|e>>>t-a,t-=a,s++,a=8;return this}}win.BitArrayOverwriter=oe;class re{constructor(e,t){this.data=e,this.bit=0,this.allowPassLength=t}get canRead(){return this.bit<8*this.data.length}read(e,t=!1){let s=32-e,{data:a,bit:o}=this;if(this.bit+=e,o>8*a.length&&!this.allowPassLength)throw new Error("Cannot read more bits");let r=8-(7&o),i=o>>>3,n=0;for(;e>0;){let t=a[i]&-1>>>32-r;n|=e>=r?t<<e-r:t>>r-e,e-=r,r=8,i++}return t?n<<s>>s:n}readDouble(){return ee(this.read(32),this.read(32))}readString(e=8){let t=this.read(e);if(!t)return"";let s=new Uint8Array(t);for(let e=0;e<t;e++)s[e]=this.read(8);return se.decode(s)}readToNew(e,t){let s=new Uint8Array(ceil(e/8)),a=0;for(;e;){let t=min(e,8);e-=t,s[a]=this.read(t)<<8-t,a++}return new re(s,t)}readToArrayBits(e){let t=new Uint8Array(ceil(e/8)),s=0;for(;e;){let a=min(e,8);e-=a,t[s]=this.read(a)<<8-a,s++}return t}readToArray(e){let t=new Uint8Array(e);for(let s=0;s<e;s++)t[s]=this.read(8);return t}readToInt16Array(e){let t=new Uint8Array(e);for(let s=0;s<e;s++)t[s]=this.read(16,!0);return t}skip(e){if(this.bit>8*this.data.length&&!this.allowPassLength)throw new Error("Cannot read more bits");this.bit+=e}}win.BitArrayReader=re;const ie=["dimension","replacerNumber",3,["","nether","end"]],ne=["inv","object",[["inv","bitArray"],["survivStr","bitArray"],["x","number",20,1,!0],["y","number",20,1,!0],["z","number",20,1,!0],["customPos","boolean"]]],le=[["x","number",24,16,!0],["y","number",24,16,!0],["z","number",24,16,!0],ie,["ry","number",11,100,!0],["rx","number",11,100,!0],["bodyRot","number",11,100,!0],["sneaking","boolean"],["survival","replacerNumber",2,[!0,!1,"hardcore"]],["username","string"],["id","string"],["harmEffect","number",6,1],["crackPos","array",[null,"number",20,1,!0]],["crack","number",5,1,!0],["burning","boolean"],["holding","number",32,1],["walking","boolean"],["eating","boolean"],["sprinting","boolean"],["punchEffect","number",8,8],["sleeping","boolean"],["sitting","boolean"],["swimming","boolean"],["usingItem","boolean"],["hidden","boolean"],["spectating","string"],["scale","number",12,256],["velx","number",11,100,!0],["vely","number",11,100,!0],["velz","number",11,100,!0],["spectator","boolean"]],he=["face","replacerNumber",3,[void 0,"bottom","top","north","south","east","west"]];let de,ce,pe,ue,me,ge,ke,ye,be,we,fe,Be,Se,ve,xe,Pe,Te,Ne,Ce,ze,Le,Re,Ie,Me,De,Ae,Oe,Ge,We,Fe,Ee,Ue,qe,_e,He,je,Ye,Ve,Xe,Ze,Qe,Je=[["connect",["id","string"]],["pos",["data","object",le],ne,["afk","boolean"]],["mySkin",["data","string"],["cape","string"]],["settings",["data","object",$.map((e=>[e,"boolean"]))],["time","number",32,8],["weather","replacerNumber",2,["","rain","snow"]]],["setBlock",["data","object",[["x","number",20,1,!0],["y","number",20,1,!0],["z","number",20,1,!0],ie,["block","number",32,1],["keepTags","boolean"]]]],["loadSave",["mod","string"],["id","string"],["name","string"],ne,["resourcePacks","array",[null,"string"]],["activeResourcePacks","array",[null,"string"]],["spawnPointX","number",20,1,!0],["spawnPointZ","number",20,1,!0],["spawnPointY","number",20,1,!0],["version","string"],["time","number",32,8],["weather","replacerNumber",2,["","rain","snow"]],["survival","number",2,1],["cheats","boolean"]],["resourcePacks",["resourcePacks","array",[null,"string"]],["activeResourcePacks","array",[null,"string"]]],["serverCmds",["data","json"]],["saveProg",["data","string"]],["canSendPos"],["setTags",["x","number",20,1,!0],["y","number",20,1,!0],["z","number",20,1,!0],ie,["data","json"],["lazy","boolean"]],["serverChangeBlock",["x","number",20,1,!0],["y","number",20,1,!0],["z","number",20,1,!0],ie,["action","string"],["block","number",32,1],["p","object",le],he],["entityPos",["data","bitArray"]],["entityDelete",["id","string"]],["entityPosAll",["data","array",[null,"bitArray"]]],["entEvent",["id","string"],["event","string"],["data","json"]],["particles",["particleType","string"],["x","number",24,16,!0],["y","number",24,16,!0],["z","number",24,16,!0],ie,["amount","number",8,1],["data","json"]],["achievment",["data","number",32,1]],["hit",["damageType","string"],["damage","number",8,1],["velx","number",11,100,!0],["vely","number",11,100,!0],["velz","number",11,100,!0],["username","string"],["id","string"],["message","string"],["x","number",24,16,!0],["y","number",24,16,!0],["z","number",24,16,!0],["holding","json"],["burn","number",8,4],["isEntity","boolean"]],["harmEffect"],["kill",["data","string"]],["die",["id","string"],["message","string"]],["message",["username","string"],["data","string"],["fromServer","boolean"]],["playSound",["x","number",24,16,!0],["y","number",24,16,!0],["z","number",24,16,!0],["data","string"],["volume","number",24,16],["pitch","number",28,256,!0],["hasPos","boolean"]],["title",["data","string"],["sub","string"],["color","string"],["fadeIn","number",32,1],["fadeOut","number",32,1],["stay","number",32,1]],["remoteControl",["event","string"],["key","string"],["x","number",11,100],["y","number",11,100]],["eval",["data","string"]],["safeEval",["data","json"]],["error",["data","string"]],["joined"],["diamondsToYou"],["serverCmd",["data","string"],["args","json"],["id","string"],["scope","json"]],["loadChunks",["data","array",[null,"number",15,1,!0]],["loadDistance","number",6,1],ie],["chunkData",["x","number",15,1,!0],["z","number",15,1,!0],["data","bitArray"],["tops","int16Array"],["solidTops","int16Array"],["biomes","bitArray"],["caveY","int16Array"],["caveBiomes","bitArray"]],["tp",["x","number",24,16,!0],["y","number",24,16,!0],["z","number",24,16,!0],ie],["commandDone",["id","string"],["data","json"],["scope","json"]],["dc",["data","string"]],["shouldSendInv"],["fetchUsers"],["entClick",["id","string"],["holding","number",32,1],["fromItem","json"]]],$e=[],Ke={},et=[["FROM","string"],["USER","string"],["TO","string"]];for(let ia=0;ia<Je.length;ia++){let na=Je[ia];if(!na)throw new Error("after "+$e[ia-1]);Ke[na[0]]=ia,$e[ia]=na[0],na.shift(),na.unshift(...et)}function tt(e,t,s){switch(e[1]){case"number":t.add((s||0)*e[3],e[2]);break;case"json":s=s?JSON.stringify(s):"";case"string":s?(s+="",t.addString(s,32)):t.add(0,32);break;case"bitArray":s?(t.add(s.length,32),t.appendArray(s)):t.add(0,32);break;case"int16Array":s?(t.add(s.length,32),t.appendInt16Array(s)):t.add(0,32);break;case"array":t.add(s.length,32);for(let a of s)tt(e[2],t,a);break;case"object":t.add(s?1:0,1),s&&st(e[2],s,t);break;case"boolean":t.add(s?1:0,1);break;case"replacerNumber":let a=e[3].indexOf(s);if(-1===a)throw new Error("Unknown replacer number for "+s);t.add(a,e[2]);break;case"mapObject":t.add(Object.keys(s).length,32);for(let a in s)t.addString(a,8),tt(e[2],t,s[a])}}function st(e,t,s){for(let a of e){tt(a,s,t[a[0]])}}function at(e){let t=Ke[e.type],s=Je[t];if(!s)throw new Error("Unknown packet type: "+e.type);let a=new ae;return a.add(t,8),st(s,e,a),a.array}function ot(e,t){switch(e[1]){case"number":return t.read(e[2],e[4])/e[3];case"string":return t.readString(32);case"bitArray":let s=t.read(32);return t.readToArray(s);case"array":let a=t.read(32),o=[];for(let s=0;s<a;s++)o.push(ot(e[2],t));return o;case"object":if(t.read(1)){let s={};return rt(e[2],s,t),s}return;case"boolean":return t.read(1);case"replacerNumber":return e[3][t.read(e[2])];case"mapObject":let r=t.read(32),i={};for(let s=0;s<r;s++)i[t.readString()]=ot(e[2],t);return i;case"json":let n=t.readString(32);return n?JSON.parse(n):void 0;case"int16Array":let l=t.read(32);return t.readToInt16Array(l)}}function rt(e,t,s){for(let a of e)t[a[0]]=ot(a,s)}function it(e){let t=new re(e),s=t.read(8),a=Je[s],o={type:$e[s]};return rt(a,o,t),o}function nt(){function e(e,t){if(e.custom)return function(e){let{x:t,y:s,z:a,x2:o,y2:r,z2:i,x3:n,y3:l,z3:h,x4:d,y4:c,z4:p,tx:u,ty:m,tw:g,th:k}=e,y=[u+g,m,u,m,u,m+k,u+g,m+k],b=[t,s,a,o,r,i,n,l,h,d,c,p];b=b.map((e=>e/16-.5));let w=Z(b,[]);b.max=w.splice(3,3),b.min=w,y=y.map((e=>e/16/16)),bs.set(o-t,r-s,i-a),bs.crossProduct(n-t,l-s,h-a,fs),ws.set(n-t,l-s,h-a),ws.crossProduct(d-t,c-s,p-a,Bs),fs.normalize(),Bs.normalize();let f=[(fs.x+Bs.x)/2,(fs.y+Bs.y)/2,(fs.z+Bs.z)/2];return{pos:b,tex:y,normal:f}}(e);let s=e.x,a=e.y,o=e.z,r=e.w,i=e.h,n=e.tx,l=e.ty,h=e.tw,d=e.th,c=[n+h,l,n,l,n,l+d,n+h,l+d];e.rt&&(-1===e.rt?(c[0]=n+d,c[5]=l+h,c[6]=n+d,c[7]=l+h,c.unshift(...c.splice(c.length-2,2))):2===e.rt?c.push(...c.splice(0,4)):(c[0]=n+d,c[5]=l+h,c[6]=n+d,c[7]=l+h,c.push(...c.splice(0,2)))),e.txf&&(c[0]=h-(c[0]-n)+n,c[2]=h-(c[2]-n)+n,c[4]=h-(c[4]-n)+n,c[6]=h-(c[6]-n)+n),e.tyf&&(c[1]=d-(c[1]-l)+l,c[3]=d-(c[3]-l)+l,c[5]=d-(c[5]-l)+l,c[7]=d-(c[7]-l)+l);let p=null,u=null;switch(t){case 0:p=[s,a,o,s+r,a,o,s+r,a,o+i,s,a,o+i],u=[0,1,0];break;case 1:p=[s,a,o,s+r,a,o,s+r,a,o-i,s,a,o-i],u=[0,-1,0];break;case 2:p=[s,a,o,s-r,a,o,s-r,a-i,o,s,a-i,o],u=[0,0,-1];break;case 3:p=[s,a,o,s+r,a,o,s+r,a-i,o,s,a-i,o],u=[0,0,1];break;case 4:p=[s,a,o,s,a,o+r,s,a-i,o+r,s,a-i,o],u=[-1,0,0];break;case 5:p=[s,a,o,s,a,o-r,s,a-i,o-r,s,a-i,o],u=[1,0,0]}p=p.map((e=>e/16-.5));let m=Z(p,[]);return p.max=m.splice(3,3),p.min=m,c=c.map((e=>e/16/16)),{pos:p,tex:c,normal:u}}function t(e,t){let s=e.verts,a=e.texVerts,o=[],r=[],i=[];for(let t=0;t<s.length;t++){let n=s[t];o[t]=[],i[t]=[],r[t]=[];for(let s=0;s<n.length;s++){let l=n[s],h=[];o[t][s]=h;for(let e=0;e<l.length;e+=3)h[e]=l[e+2],h[e+1]=l[e+1],h[e+2]=-l[e];i[t][s]=a[t][s].slice(),0===t&&(h.push(...h.splice(0,3)),i[t][s].push(...i[t][s].splice(0,2))),1===t&&(h.unshift(...h.splice(-3,3)),i[t][s].unshift(...i[t][s].splice(-2,2)));let d=Z(h,[]);h.max=d.splice(3,3),h.min=d,r[t][s]=e.normal[t][s].slice();let c=r[t][s][0];r[t][s][0]=r[t][s][2],r[t][s][2]=-c}}let n=i[2];return i[2]=i[5],i[5]=i[3],i[3]=i[4],i[4]=n,n=o[2],o[2]=o[5],o[5]=o[3],o[3]=o[4],o[4]=n,n=r[2],r[2]=r[5],r[5]=r[3],r[3]=r[4],r[4]=n,{verts:o,texVerts:i,normal:r,rotate:!0,flip:e.flip,size:e.size,varients:e.varients,bit:t,rotated:!0,rotateTimes:(e.rotateTimes||0)+1,originalVerts:e.originalVerts,hitbox:e.hitbox}}function s(e,t){let s=e.verts,a=e.texVerts,o=[],r=[],i=[];for(let t=0;t<s.length;t++){let n=s[t];o[t]=[],i[t]=[],r[t]=[];for(let s=0;s<n.length;s++){let l=n[s].slice().reverse(),h=[];o[t][s]=h;for(let e=0;e<l.length;e+=3)h[e]=l[e+2],h[e+1]=-l[e+1],h[e+2]=l[e];let d=Z(h,[]);h.max=d.splice(3,3),h.min=d,i[t][s]=a[t][s].slice(),r[t][s]=e.normal[t][s].slice(),r[t][s][1]=-r[t][s][1]}}let n=o[0];return o[0]=o[1],o[1]=n,n=i[0],i[0]=i[1],i[1]=n,n=r[0],r[0]=r[1],r[1]=n,{verts:o,texVerts:i,normal:r,rotate:e.rotate,flip:e.flip,size:e.size,varients:e.varients,bit:t,originalVerts:e.originalVerts}}for(let a in X){win.sh=a;let o=X[a],r=o.verts;o.size=r[0].length+r[1].length+r[2].length+r[3].length+r[4].length+r[5].length,o.texVerts=[],o.varients=[],o.normal=[],"string"==typeof o.hitbox&&(o.hitbox=X[o.hitbox]),o.originalVerts=[];for(let e=0;e<r.length;e++)o.originalVerts[e]=r[e].slice();for(let t=0;t<r.length;t++){let s=r[t],a=[];o.texVerts.push(a);let i=o.normal[t]=[];for(let o=0;o<s.length;o++){let r=e(s[o],t);s[o]=r.pos,a.push(r.tex),i[o]=r.normal}}if(o.rotate){let e=o.varients,s=t(o,4096),a=t(s,2048),r=t(a,6144);e[0]=o,e[2]=a,e[4]=s,e[6]=r}if(o.flip){let e=o.varients;e[1]=s(o,1024),o.rotate&&(e[3]=s(e[2],3072),e[5]=s(e[4],5120),e[7]=s(e[6],7168))}}function a(e,t,s,a,o){s.textures=e,s.shape=t,s.shadow=!a||a.shadow,s.transparent=!!a&&a.transparent,s.solid=!a||a.solid,o&&(s.Name=o)}function o(e,t){if(e=e.slice(),t)for(var s=0;s<t;s++){let t=e[2];e[2]=e[5],e[5]=e[3],e[3]=e[4],e[4]=t}else{let t=e[2];e[2]=e[5],e[5]=e[3],e[3]=e[4],e[4]=t}return e}var r=function(e,t,s,a,o){var r=this.id|Ce,i=this.id|ce,n=null;switch(o.getBlock(e,t,s,a)){case r|He:n=i|He;break;case r|je:n=i|je;break;case r|Ye:n=i|Ye;break;case r|Ve:n=i|Ve}n&&o.setBlock(e,t,s,n,!1,!1,!1,!1,a)},i=function(e,t,s,a,o){let r=o.world;this.onclick(e,t,s,a,r)},n=function(e,t,s,a,o,r,i,n,l){var h,d,c=this.id|Ce,p=this.id|ce,u=null,m=e,g=t,k=s,b=o.getBlock(e,t,s,l);switch(b){case p|He:case c|He:k++,h="south";break;case p|je:case c|je:k--,h="north";break;case p|Ye:case c|Ye:m++,h="east";break;case p|Ve:case c|Ve:m--,h="west"}switch(b){case p|He:u=c|He,d=!0;break;case p|je:u=c|je,d=!0;break;case p|Ye:u=c|Ye,d=!0;break;case p|Ve:u=c|Ve,d=!0}d&&!o.getPower(e,t,s,l)&&(o.setPower(e,t,s,16,!1,l),o.spreadPower(e,t,s,16,l),o.setBlockPower(m,g,k,"strong",h,l),o.playSound(e,t,s,"click",1,.6),o.setTimeout((function(){o.setBlock(e,t,s,u,!1,!1,!1,!1,l),o.setPower(e,t,s,0,!1,l),o.unspreadPower(e,t,s,16,!1,l),o.setBlockPower(m,g,k,null,h,l),o.playSound(e,t,s,"click",1,.5)}),this.stone?20*y:30*y,e,t,s,l))},l=function(e,t,s,a,o,r,i){this.heavyWeighted||this.lightWeighted||i.getBlock(e,t,s,a)===this.id&&Zt(e,t,s,a,i)&&i.setBlock(e,t,s,this.id|ce,!1,!1,!1,!1,a)},h=function(e,t,s,a,o,r,i,n,l){if(o.getBlock(e,t,s,l)===(this.id|ce)&&!o.getPower(e,t,s,l)){o.setPower(e,t,s,16,!1,l),o.spreadPower(e,t,s,16,l),o.setBlockPower(e,t-1,s,"strong","top",l),o.playSound(e,t,s,"click",1,.6);var h=this,d=setInterval((function(){Zt(e,t,s,l,o)||(clearInterval(d),o.setTimeout((function(){o.setBlock(e,t,s,h.id,!1,!1,!1,!1,l),o.setPower(e,t,s,0,!1,l),o.unspreadPower(e,t,s,16,!1,l),o.setBlockPower(e,t-1,s,null,"top",l),o.playSound(e,t,s,"click",1,.5)}),20*y,e,t,s,l))}),2*y)}},d=function(e,t,s,a,o,r,i,n,l){this.onpowerupdate(e,t,s,null,null,null,null,l,o)},c=function(e,t,s,a,o,r,i){i.unspreadPower(e,t,s,16,!1,r),i.setBlockPower(e,t,s+1,null,"south",r),i.setBlockPower(e,t,s-1,null,"north",r),i.setBlockPower(e+1,t,s,null,"east",r),i.setBlockPower(e-1,t,s,null,"west",r)},p=function(e,t,s,a,o,r,i,n,l){var h=l.getBlock(e,t,s,n),d=0,c=0;switch(h){case this.id|He:case this.id|ce|He:c++;break;case this.id|je:case this.id|ce|je:c--;break;case this.id|Ye:case this.id|ce|Ye:d++;break;case this.id|Ve:case this.id|ce|Ve:d--}var p,u,m=this.shouldBeOn(e,t,s,n,d,c,l),g=!1,k=e,b=t,w=s;switch(h){case this.id|He:p=this.id|ce|He,w++,u="south";break;case this.id|je:p=this.id|ce|je,w--,u="north";break;case this.id|Ye:p=this.id|ce|Ye,k++,u="east";break;case this.id|Ve:p=this.id|ce|Ve,k--,u="west";break;case this.id|ce|He:g=!0,p=this.id|He,w++,u="south";break;case this.id|ce|je:g=!0,p=this.id|je,w--,u="north";break;case this.id|ce|Ye:g=!0,p=this.id|Ye,k++,u="east";break;case this.id|ce|Ve:g=!0,p=this.id|Ve,k--,u="west"}var f=l.getBlock(k,b,w,n);if(f&&"redstoneDust"===L[f].name?g&&15!==l.getPower(k,b,w,n)&&(l.setPower(k,b,w,15,!1,n),l.spreadPower(k,b,w,15,n)):f&&!L[f].transparent&&(g?l.setBlockPower(k,b,w,"strong",u,n):l.setBlockPower(k,b,w,null,u,n)),g!==m){l.setTimeout((function(){l.setBlock(e,t,s,p,!1,!1,!1,!1,n);var a=l.getBlock(k,b,w,n);m?a&&"redstoneDust"===L[a].name?(l.setPower(k,b,w,15,!1,n),l.spreadPower(k,b,w,15,n)):a&&!L[a].transparent&&l.setBlockPower(k,b,w,"strong",u,n):a&&"redstoneDust"===L[a].name?l.unspreadPower(k,b,w,15,!0,n):a&&!L[a].transparent&&l.setBlockPower(k,b,w,null,u,n)}),2*y,e,t,s,n)}},u=function(e,t,s,a,o){switch(o.getBlock(e,t,s,a)){case this.id|He:case this.id|ce|He:return"north";case this.id|je:case this.id|ce|je:return"south";case this.id|Ye:case this.id|ce|Ye:return"east";case this.id|Ve:case this.id|ce|Ve:return"west"}},m=function(e,t,s,a,o,r,i,n){var l,h=e,d=t,c=s;switch(n.getBlock(e,t,s,i)){case this.id|He|ce:l=!0;case this.id|He:c++;break;case this.id|je|ce:l=!0;case this.id|je:c--;break;case this.id|Ye|ce:l=!0;case this.id|Ye:h++;break;case this.id|Ve|ce:l=!0;case this.id|Ve:h--}return l&&h===a&&d===o&&c===r?15:0},g=function(e,t,s,a,o,r){var i=r.getBlock(e,t,s,a),n={sign:!0},l=round(-16*o.ry/Math.PId);(i&pe)===pe&&(l=4*round(l/4)),n.rot=l,r.setTags(e,t,s,n,!1,a)},k=function(e,t,s,a,o,r){if(!(o.getTagByName(e,t,s,"block",a)||0)&&r.holding)o.setTagByName(e,t,s,"block",r.holding,!1,a);else{var i=o.getTagByName(e,t,s,"rot",a)||0;++i>=8&&(i=0),o.setTagByName(e,t,s,"rot",i,!1,a)}};let b=function(e,t,s,a,o){var r,i=o.getBlock(e,t,s,a),n=(i&ge)!==ge,l=n?this.id|ce:this.id|ge,h=n?this.id|ge:this.id|ce;n?(l|He)===i?r=h|Ye:(l|Ye)===i?r=h|je:(l|je)===i?r=h|Ve:(l|Ve)===i&&(r=h|He):(l|He)===i?r=h|Ve:(l|Ve)===i?r=h|je:(l|je)===i?r=h|Ye:(l|Ye)===i&&(r=h|He),o.setBlock(e,t,s,r,!1,!1,!1,!1,a),qt(e,t,s,"ironDoor"===this.name?"iron_door":"wooden_door",!n,o)},f=function(e,t,s,a,o){let r;switch(o.getBlock(e,t,s,a)){case this.id|xe|He:r=this.id|Pe|He;break;case this.id|xe|je:r=this.id|Pe|je;break;case this.id|xe|Ye:r=this.id|Pe|Ye;break;case this.id|xe|Ve:r=this.id|Pe|Ve}o.setBlock(e,t,s,r,!1,!1,!1,!1,a),qt(e,t,s,"ironTrapdoor"===this.name?"iron_trapdoor":"wooden_trapdoor",!0,o)},B=function(e,t,s,a,o){let r;switch(o.getBlock(e,t,s,a)){case this.id|Pe|He:r=this.id|xe|He;break;case this.id|Pe|je:r=this.id|xe|je;break;case this.id|Pe|Ye:r=this.id|xe|Ye;break;case this.id|Pe|Ve:r=this.id|xe|Ve}o.setBlock(e,t,s,r,!1,!1,!1,!1,a),qt(e,t,s,"ironTrapdoor"===this.name?"iron_trapdoor":"wooden_trapdoor",!1,o)};const S={getLevel:function(e){switch(e){case this.id|Ae:return 1;case this.id|Oe:return 2;case this.id|Ge:return 3;case this.id|We:return 4;case this.id|Fe:return 5;case this.id|Ee:return 6;case this.id|Ue:return 7;case this.id|qe:case this.id:return 8;default:return 0}},getLevelBlock:function(e){switch(e){case 1:return this.id|Ae;case 2:return this.id|Oe;case 3:return this.id|Ge;case 4:return this.id|We;case 5:return this.id|Fe;case 6:return this.id|Ee;case 7:return this.id|Ue;case 8:return this.id|qe}},getLevelAt:function(e,t,s,a,o){var r=o.getBlock(e,t,s,a);return this.getLevel(r)},isThisHere:function(e,t,s,a,o){var r=o.getBlock(e,t,s,a);return r&&L[r].id===this.id},isThis:function(e){return e&&L[e].id===this.id},isSourceAt:function(e,t,s,a,o){return o.getBlock(e,t,s,a)===this.id},tryFlowTo:function(e,t,s,a,o,r,i=!1){let n=r.getBlock(e,t,s,a);const l=L[n];if(l.liquid){if(this.id===n)return!i;if(this.id===l.id)return!0}if(!n||l.liquidBreakable||l.liquid&&this.density>l.density)return r.setBlock(e,t,s,this.getLevelBlock(o),!1,!1,!1,!1,a),"drop"===l.liquidBreakable&&(r.addItems(e,t,s,a,0,0,0,n,!0),r.blockParticles(n,e,t,s,30,"break",a),r.blockSound(n,"dig",e,t,s)),!0},flow:function(e,t,s,a,o){let r=o.getBlock(e,t,s,a);if(!this.isThis(r))return;let i=r===this.id,n=this.getLevel(r),l=o.getBlock(e,t-1,s,a);if(i){let i=o.getBlock(e,t+1,s,a);if(L[i].liquid&&L[i].density>this.density)return o.setBlock(e,t,s,i,!1,!1,!1,!1,a),void o.setBlock(e,t+1,s,r,!1,!1,!1,!1,a)}else{if(this.canDuplicate&&(o.getBlock(e,t,s+1,a)===this.id)+(o.getBlock(e,t,s-1,a)===this.id)+(o.getBlock(e+1,t,s,a)===this.id)+(o.getBlock(e-1,t,s,a)===this.id)>=2&&(l||l===this.id))return o.setBlock(e,t,s,this.id,!1,!1,!1,!1,a);let r=n;if(this.isThisHere(e,t+1,s,a,o))r=8;else{let i=max(this.getLevelAt(e,t,s+1,a,o),this.getLevelAt(e,t,s-1,a,o),this.getLevelAt(e+1,t,s,a,o),this.getLevelAt(e-1,t,s,a,o));if(i=this.getLevelDifference(i,a),i!==r&&(r=i),r<=0)return o.setBlock(e,t,s,0,!1,!1,!1,!1,a)}n!==r&&(n=r,o.setBlock(e,t,s,this.getLevelBlock(n),!1,!1,!1,!1,a))}let h=this.getLevelDifference(n,a);!this.tryFlowTo(e,t-1,s,a,8,o,i)&&h>0&&(this.tryFlowTo(e,t,s+1,a,h,o),this.tryFlowTo(e,t,s-1,a,h,o),this.tryFlowTo(e+1,t,s,a,h,o),this.tryFlowTo(e-1,t,s,a,h,o))},current:{x:0,z:0,ang4:Math.sqrt(.5),ang8:Math.sqrt(5)},getCurrent:function(e,t,s,a,o,r,i){void 0===o&&(o=this.getLevelAt(e,t,s,a,i));let n=this.getLevelAt(e-1,t,s,a,i),l=this.getLevelAt(e+1,t,s,a,i),h=this.getLevelAt(e,t,s-1,a,i),d=this.getLevelAt(e,t,s+1,a,i),c=this.current;if(c.x=(l&&l<o)+(n>o)-(l>o)-(n&&n<o),c.z=(d&&d<o)+(h>o)-(d>o)-(h&&h<o),r)return c;let p=Math.sqrt(c.x*c.x+c.z*c.z);return c.x/=p,c.z/=p,c},isThisLocalHere:function(e,t,s,a,o,r,i){return L[r.call(i,e,t,s,r===getBlock?o:a)].id===this.id},trySpawnFlow:function(e,t,s,a,o,r,i,n=!1){let l=o.getBlock(e,t,s,a);if(L[l].liquid&&(l&Ze)===l)return!n;let h=this.onspawnflow&&this.onspawnflow(e,t,s,a,o);return!L[l].solid&&r>this.getLevel(l)&&(o.spawnBlock(e,t,s,this.getLevelBlock(r),a,!0),h||i.push(e,t,s,r)),!L[l].solid},spawnFlow:async function(e,t,s,a,o){let r=[e,t,s,8],i=0;for(;r.length;){let[n,l,h,d]=r,c=this.getLevelDifference(d,a);if(c>0&&max(abs(n-e),abs(h-s))<16&&abs(l-t)<64){const i=n===e&&l===t&&h===s;this.trySpawnFlow(n,l-1,h,a,o,8,r,i)||(this.trySpawnFlow(n+1,l,h,a,o,c,r),this.trySpawnFlow(n-1,l,h,a,o,c,r),this.trySpawnFlow(n,l,h+1,a,o,c,r),this.trySpawnFlow(n,l,h-1,a,o,c,r))}r.splice(0,4),i++%32||await v()}}};for(let e=0;e<R;e++){let t=L[e];if(t.item){t.spyglass?t.shape=X.spyglass:t.shape=X.item;continue}let y=t.drop||e,v=t.drop,R=Object.create(t),F=Object.create(t),E=Object.create(t),U=Object.create(t),q=Object.create(t),_=Object.create(t),H=Object.create(t),j=Object.create(t),Y=Object.create(t),V=Object.create(t),Z=Object.create(t),J=Object.create(t),$=Object.create(t),K=Object.create(t),ee=Object.create(t),te=Object.create(t),se=Object.create(t),ae=Object.create(t),oe=Object.create(t),re=Object.create(t),ie=Object.create(t),ne=Object.create(t),le=Object.create(t),he=Object.create(t);if(t.shape=t.shapeName?X[t.shapeName]:X.cube,R.shape=X.slab,R.transparent=!0,R.drop=v||e|ce,R.Name+=" Slab",F.shape=X.stair,F.transparent=!0,F.drop=v||e|pe,F.Name+=" Stair",E.shape=X.cross,E.drop=y,U.shape=X.tallCross,U.drop=y,q.shape=X.door,q.drop=y,_.shape=X.torch,_.drop=y,H.shape=X.lantern,j.shape=X.lanternHang,Y.shape=X.beacon,Y.drop=y,V.shape=X.cactus,V.drop=y,Z.shape=X.pane,Z.drop=y,J.shape=X.portal,ee.shape=X.wallFlat,ee.drop=y,$.shape=X.trapdoor,$.drop=y,K.shape=X.trapdoorOpen,K.drop=y,te.shape=X.fence,te.transparent=!0,te.drop=y,se.shape=X.wallpost,se.transparent=!0,se.drop=y,ae.shape=X.button,ae.drop=y,oe.shape=X.chain,oe.drop=y,re.shape=X.pot,re.drop=y,ie.shape=X.potCross,ie.drop=y,ne.shape=X.stairCornerIn,ne.transparent=!0,ne.drop=v||e|pe,le.shape=X.stairCornerOut,le.transparent=!0,le.drop=v||e|pe,he.shape=X.verticalSlab,he.transparent=!0,he.drop=v||e|De,he.Name+=" Vertical Slab",(t.torch||t.chain)&&(R.drop=e),t.door){var x="ironDoor"===t.name?emptyFunc:function(e,t,s,a,o){this.toggle(e,t,s,a,o)},P=function(e,t,s,a,o,r,i,n,l){!(!l.getRedstonePower(e,t,s,n)&&!l.getSurroundingBlockPower(e,t,s,n))!==((l.getBlock(e,t,s,n)&ge)!==ge)&&this.toggle(e,t,s,n,l)};t.toggle=b.bind(t),t.onclick=x.bind(t),t.onpowerupdate=P.bind(t),R.shape=X.door2,R.drop=e,R.Name="Inverted "+t.name}if(t.trapdoor){x="ironTrapdoor"===t.name?emptyFunc:function(e,t,s,a,o){this.toggle(e,t,s,a,o)},P=function(e,t,s,a,o,r,i,n,l){!(!l.getRedstonePower(e,t,s,n)&&!l.getSurroundingBlockPower(e,t,s,n))!==((l.getBlock(e,t,s,n)&xe)!==xe)&&this.toggle(e,t,s,n,l)};$.toggle=f.bind(t),K.toggle=B.bind(t),$.onclick=x.bind($),K.onclick=x.bind(K),$.onpowerupdate=P.bind($),K.onpowerupdate=P.bind(K)}if(t.bed&&(t.shape=X.bed),t.rotate&&(t.shape=X.rotate),t.SW&&(t.shape=X.SW),t.cactus&&(ie.shape=X.cactusPot),t.crop&&(t.shape=X.crop),t.tallCrop&&(t.shape=X.tallCrop),t.anvil&&(t.shape=X.anvil),t._1PixLower&&(t.shape=X._1PixLower,t.transparent=!0),t.torch&&(R.shape=X.wallTorch),t.sporeBlossom&&(t.shape=X.sporeBlossom),t.azalea){t.shape=X.azalea,ie.shape=X.azaleaPot;var T=t.potTex;ie.textures=[T[0],T[0],T[1],T[1],T[1],T[1]]}if(t.sunflower&&(t.shape=X.sunflower),t.sideCross&&(t.shape=X.sideCross,R.shape=X.bottomCross),t.layers&&(_.shape=X.layer1,_.solid=!0,_.shadow=!1,_.dropAmount=1,R.shape=X.layer2,R.solid=!0,R.shadow=!1,R.dropAmount=2,F.shape=X.layer3,F.solid=!0,F.shadow=!1,F.dropAmount=3,E.shape=X.layer4,E.solid=!0,E.shadow=!1,E.dropAmount=4,U.shape=X.layer5,U.solid=!0,U.shadow=!1,U.dropAmount=5,H.shape=X.layer6,H.solid=!0,H.shadow=!1,H.dropAmount=6,j.shape=X.layer7,j.solid=!0,j.shadow=!1,j.dropAmount=7,q.shape=X.layer8,q.solid=!0,q.shadow=!1,q.dropAmount=8),t.liquid&&(Object.assign(t,S),t.shape=X.liquidLayer8,_.shape=X.liquidLayer1,_.ambientSound=t.flowSound,R.shape=X.liquidLayer2,R.ambientSound=t.flowSound,F.shape=X.liquidLayer3,F.ambientSound=t.flowSound,E.shape=X.liquidLayer4,E.ambientSound=t.flowSound,U.shape=X.liquidLayer5,U.ambientSound=t.flowSound,H.shape=X.liquidLayer6,H.ambientSound=t.flowSound,j.shape=X.liquidLayer7,j.ambientSound=t.flowSound,q.shape=X.liquidLayer8,q.ambientSound=t.flowSound),"grass"===t.name&&(E.shape=X.cube,E.textures=["dirt","grassTop","snowGrass","snowGrass","snowGrass","snowGrass"],E.solid=!0,E.transparent=!1,E.shadow=!0,E.biomeTintTop=!1,E.biomeTintNorth=!1,E.biomeTintSouth=!1,E.biomeTintEast=!1,E.biomeTintWest=!1,U.shape=X._1PixLower,U.textures=["dirt","dirtPathTop","dirtPathSide","dirtPathSide","dirtPathSide","dirtPathSide"],U.solid=!0,U.transparent=!0,U.cullFace="same",U.shadow=!0,U.biomeTintTop=!1,U.biomeTintNorth=!1,U.biomeTintSouth=!1,U.biomeTintEast=!1,U.biomeTintWest=!1),"podzol"===t.name&&(E.shape=X.cube,E.textures=["dirt","podzolTop","snowGrass","snowGrass","snowGrass","snowGrass"],E.solid=!0,E.transparent=!1,E.shadow=!0),"farmland"===t.name&&(R.textures=[],Q(t.textures,R.textures),R.textures[1]="farmlandMoist",R.shape=X._1PixLower),t.mushroomBlock){var N=t.name,C="mushroomBlockInside";a(new Array(6).fill(C),X.cube,R),R.drop=e,a([C,N,C,C,C,C],X.cube,F),F.drop=e,a([C,C,N,N,N,N],X.cube,U),U.drop=e,a([C,N,N,C,C,C],X.rotate,q),q.drop=e,a([C,N,N,C,N,C],X.rotate,Z),Z.drop=e,a([C,C,N,C,N,C],X.rotate,J),J.drop=e,a([C,C,N,C,C,C],X.rotate,ee),ee.drop=e}if(t.cake&&(t.shape=X.cake),t.stonecutter&&(t.shape=X.stonecutter),t.itemFrame&&(t.shape=X.itemFrame,t.onclick=k,t.tagBits=null),"redstoneLamp"===t.name&&(a(new Array(6).fill("redstoneLampOn"),X.cube,R),R.lightLevel=15),"endPortalFrame"===t.name&&(t.shape=X.endPortalFrame,a(t.textures,X.endPortalFrameWithEyeOfEnder,R)),"furnace"===t.name){var z=t.textures.slice();z[3]="furnaceFrontOn",a(z,X.rotate,R),R.textures=z}if("jungleLeaves"===t.name&&(a(new Array(6).fill("floweringJungleLeaves"),X.cube,te,null,t.Name+" with fruit"),te.transparent=!0),"redBerryLeaves"!==t.name&&"blueBerryLeaves"!==t.name||(a(new Array(6).fill(t.textures[2]+"NoBerries"),X.cube,te,null,t.Name+" without berries"),te.transparent=!0),t.fire&&(t.shape=X.fire,R.shape=X.sideFire,F.shape=X.bottomFire),"endRod"===t.name&&(t.shape=X.endRod,R.shape=X.endRodSW),t.fenceGate&&(t.shape=X.fenceGate,t.transparent=!0,R.shape=X.fenceGateWall,F.shape=X.fenceGateOpen,q.shape=X.fenceGateWallOpen,q.transparent=!0,t.onclick=function(e,t,s,a){var o,r=world.getBlock(e,t,s,a),i=this.id;let n=!1;switch(r){case i|de|He:o=i|pe|He,n=!0;break;case i|de|je:o=i|pe|je,n=!0;break;case i|de|Ye:o=i|pe|Ye,n=!0;break;case i|de|Ve:o=i|pe|Ve,n=!0;break;case i|ce|He:o=i|ge|He,n=!0;break;case i|ce|je:o=i|ge|je,n=!0;break;case i|ce|Ye:o=i|ge|Ye,n=!0;break;case i|ce|Ve:o=i|ge|Ve,n=!0;break;case i|pe|He:o=i|de|He;break;case i|pe|je:o=i|de|je;break;case i|pe|Ye:o=i|de|Ye;break;case i|pe|Ve:o=i|de|Ve;break;case i|ge|He:o=i|ce|He;break;case i|ge|je:o=i|ce|je;break;case i|ge|Ye:o=i|ce|Ye;break;case i|ge|Ve:o=i|ce|Ve}world.setBlock(e,t,s,o,!1,!1,!1,!1,a),qt(e,t,s,"fence_gate",n,world)}.bind({id:t.id})),t.barrel&&(a(t.texturesSW,X.SW,R,null,t.Name),a(t.texturesDown,X.cube,F,null,t.Name),a(t.texturesOpen,X.cube,E,null,t.Name),a(t.texturesSWOpen,X.SW,q,null,t.Name),a(t.texturesDownOpen,X.cube,U,null,t.Name)),t.chain&&(R.shape=X.chainSW,R.textures=R.textures.slice(),R.textures[4]=R.textures[5]="chainSW"),"beeNest"!==t.name&&"beehive"!==t.name||a(t.texturesHoney,X.rotate,R),"sponge"===t.name&&a(t.wetTexture,X.cube,R),t.campfire&&(t.shape=X.campfire,R.shape=X.campfireUnlit,R.transparent=t.transparent,R.shadow=t.shadow,R.lightLevel=0,R.damageUp=0),t.bamboo&&(t.shape=X.bamboo,a(t.textures,X.bambooSmallLeaf,R),R.shadow=!1,R.transparent=!0,a(t.textures,X.bambooBigLeaf,F),F.shadow=!1,F.transparent=!0,a(t.textures,X.bambooYoung,E),E.shadow=!1,E.transparent=!0,a(t.textures,X.bambooYoungLeaf,U),U.shadow=!1,U.transparent=!0,ie.shape=X.bambooPot),t.chest&&(t.shape=X.chest),t.pressurePlate&&(t.shape=X.pressurePlate,t.transparent=!0,t.shadow=!1,t.solid=!1,t.activate=l,t.onupdate=h,a(t.textures,X.pressurePlateActive,R,t)),"tomatoPlant"===t.name&&(t.shape=X.cross,a(t.textures1,X.cross,R,t),a(t.textures2,X.cross,F,t),a(t.textures3,X.cross,E,t),a(t.textures4,X.cross,U,t),E.drop="tomato",E.dropAmount=[4,8],U.drop="tomato",U.dropAmount=[8,16]),"wheat"===t.name&&(a(t.textures1,X.crop,R,t),a(t.textures2,X.crop,F,t),a(t.textures3,X.crop,E,t),a(t.textures4,X.crop,U,t),a(t.textures5,X.crop,q,t),a(t.textures6,X.crop,_,t),a(t.textures7,X.crop,H,t),H.drop=t.fullDrop),"redstoneDust"===t.name){t.shape=X.redstoneDust,a(new Array(6).fill("redstoneDustLine"),X.redstoneDustRotate,R,t),a(new Array(6).fill("redstoneDustL"),X.redstoneDustRotate,F,t),a(new Array(6).fill("redstoneDustT"),X.redstoneDustRotate,q,t),a(new Array(6).fill("redstoneDust+"),X.redstoneDust,Z,t);let s=Object.create(t);a(new Array(6).fill("redstoneDustDot"),X.redstoneDust,s,t),s.tint=s.blueTint,L[e|_e]=s,s=Object.create(t),a(new Array(6).fill("redstoneDustLine"),X.redstoneDustRotate,s,t),s.tint=s.blueTint,L[e|ce|_e]=s;let o=s.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let a=Object.create(s);a.shape=o[t],L[e|ce|_e|o[t].bit]=a}s=Object.create(t),a(new Array(6).fill("redstoneDustL"),X.redstoneDustRotate,s,t),s.tint=s.blueTint,L[e|pe|_e]=s,o=s.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let a=Object.create(s);a.shape=o[t],L[e|pe|_e|o[t].bit]=a}s=Object.create(t),a(new Array(6).fill("redstoneDustT"),X.redstoneDustRotate,s,t),s.tint=s.blueTint,L[e|ge|_e]=s,o=s.shape.varients;for(let t=0;t<o.length;t++)if(o[t]){let a=Object.create(s);a.shape=o[t],L[e|ge|_e|o[t].bit]=a}s=Object.create(t),a(new Array(6).fill("redstoneDust+"),X.redstoneDust,s,t),s.tint=s.blueTint,L[e|Be|_e]=s}if(t.redstoneTorch&&(t.shape=X.redstoneTorch,a(t.textures,X.redstoneWallTorch,R,t),a(t.textures,X.torch,E,t),E.lightLevel=0,E.textures=new Array(6).fill("redstoneTorchOff"),a(t.textures,X.wallTorch,F,t),F.lightLevel=0,F.textures=E.textures),t.lever&&(t.shape=X.leverWall,a(t.textures,X.leverWallOn,R,t),a(t.textures,X.leverFloor,F,t),a(t.textures,X.leverFloorOn,E,t),a(t.textures,X.leverCeil,U,t),a(t.textures,X.leverCeilOn,q,t)),t.button&&(a(t.textures,X.buttonPushed,R,t),t.onclick=r.bind(t),t.onupdate=n.bind(t),t.projectileHit=i.bind(t)),t.repeater&&(t.shape=X.repeater1,a(t.textures,X.repeater2,R,t),a(t.textures,X.repeater3,F,t),a(t.textures,X.repeater4,q,t),a(t.textures,X.repeaterOn1,Z,t),a(t.textures,X.repeaterOn2,J,t),a(t.textures,X.repeaterOn3,ee,t),a(t.textures,X.repeaterOn4,K,t)),t.piston){var I=Object.create(t);I.transparent=!0;T=(W=t.textures.slice())[0];W[0]=W[1],W[1]=T;var M=Object.create(t);a(W,X.flipped,M,t),L[e|_e]=M;var D=X.SW;a(W=[(T=t.textures)[2],T[2],T[0],T[1],T[2],T[2]],D,R,t),T=t.textures[1];var A=t.headSideTexture,O=t.headBackTexture;a([O,T,A,A,A,A],X.pistonHead,F,I),M=Object.create(t),a([T,O,A,A,A,A],X.pistonHeadFlipped,M,I),L[e|pe|_e]=M,a([A,A,O,T,A,A],X.pistonHeadSW,q,I),a(F.textures,X.pistonHeadCut,E,t),M=Object.create(t),a(L[e|pe|_e].textures,X.pistonHeadCutFlipped,M,t),L[e|ue|_e]=M,a(q.textures,X.pistonHeadCutSW,Z,t),(W=t.textures.slice())[1]=t.frontOpenTexture,a(W,X.pistonOpen,U,I),(W=L[e|_e].textures.slice())[0]=t.frontOpenTexture,M=Object.create(t),a(W,X.pistonOpenFlipped,M,I),L[e|me|_e]=M;var G=(W=t.textures.slice())[2];W[2]=W[0],W[3]=t.frontOpenTexture,W[0]=W[1]=G,a(W,X.pistonOpenSW,J,I)}if("tnt"===t.name&&(a(w(t.superTntTextures),X.cube,R,t,"Super TNT"),a(w(t.ultraTntTextures),X.cube,F,t,"Ultra TNT"),a(new Array(6).fill("blank"),X.cube,E,t)),"observer"===t.name){t.shape=X.rotate,a(W=[(T=t.textures)[3],T[2],T[0],T[1],T[4]+"SW",T[5]+"SW"],X.cube,R,t);var W;M=Object.create(t),T=(W=W.slice())[1];W[1]=W[0],W[0]=T,a(W,X.flipped,M,t),L[e|ce|_e]=M,(W=t.textures.slice())[2]+="On",a(W,X.rotate,F,t),(W=R.textures.slice())[1]+="On",a(W,X.cube,E,t);M=Object.create(t);(W=L[e|ce|_e].textures.slice())[0]+="On",a(W,X.flipped,M,t),L[e|ue|_e]=M}if("endPortal"===t.name&&(t.shape=X.endPortal),t.pane)a([(T=t.textures)[2],T[3],T[0],T[1],T[0],T[1]],X.horizontalPane,R,t);if(t.coloredRedstoneLamp&&(a(new Array(6).fill(t.name),X.cube,R),R.lightLevel=15),"sweetBerryBush"===t.name&&(t.shape=X.cross,a(t.textures1,X.cross,R,t),R.spikyBush=!0,a(t.textures2,X.cross,F,t),F.spikyBush=!0,F.dropAmount=[1,2],a(t.textures3,X.cross,E,t),E.spikyBush=!0,E.dropAmount=[2,3]),t.logicGate)(T=t.textures.slice())[1]+="On",a(T,t.shape,R,t),t.onupdate=d,t.onpowerupdate=p,t.ondelete=c,t.getFacing=u,t.canHavePower=m;if("pointedDripstone"===t.name){a(new Array(6).fill("pointedDripstoneUpTip"),X.cross,t,t);s=Object.create(t);a(new Array(6).fill("pointedDripstoneDownTip"),X.cross,s,t),L[e|_e]=s,a(new Array(6).fill("pointedDripstoneUpBase"),X.cross,R,t);s=Object.create(t);a(new Array(6).fill("pointedDripstoneDownBase"),X.cross,s,t),L[e|ce|_e]=s,a(new Array(6).fill("pointedDripstoneUpMiddle"),X.cross,F,t);s=Object.create(t);a(new Array(6).fill("pointedDripstoneDownMiddle"),X.cross,s,t),L[e|pe|_e]=s,a(new Array(6).fill("pointedDripstoneUpFrustum"),X.cross,E,t);s=Object.create(t);a(new Array(6).fill("pointedDripstoneDownFrustum"),X.cross,s,t),L[e|ue|_e]=s,a(new Array(6).fill("pointedDripstoneUpTipMerge"),X.cross,U,t);var s=Object.create(t);a(new Array(6).fill("pointedDripstoneDownTipMerge"),X.cross,s,t),L[e|me|_e]=s}if(t.sign&&(R.shape=X.sign,R.textures=t.textures,R.drop=e,E.shape=X.wallSign,E.textures=t.textures,E.drop=e,t.shape=X.none,t.transparent=!0,t.shadow=!1,t.solid=!1,t.onplace=g,t.tagBits=null,F.shape=X.none),"composter"===t.name&&(t.shape=X.composter,a(t.textures,X.composter2,R,t),a(t.textures,X.composter3,F,t),a(t.textures,X.composter4,E,t),a(t.textures,X.composter5,U,t),a(t.textures,X.composter6,q,t),a(t.textures,X.composter7,_,t),a(t.textures,X.composter8,H,t)),"cocoa"===t.name&&(t.shape=X.cocoaStage0,t.textures.fill("cocoaStage0"),a(new Array(6).fill("cocoaStage1"),X.cocoaStage1,R,t),a(new Array(6).fill("cocoaStage2"),X.cocoaStage2,F,t),F.dropAmount=[2,3]),"beetroots"===t.name&&(a(t.textures1,X.crop,R,t),a(t.textures2,X.crop,F,t),a(t.textures3,X.crop,E,t),E.drop=["beetrootSeeds","beetroot"],E.dropAmount=[1,4]),"potatoes"===t.name&&(a(t.textures1,X.crop,R,t),a(t.textures2,X.crop,F,t),a(t.textures3,X.crop,E,t),E.dropAmount=[1,5]),"carrots"===t.name&&(a(t.textures1,X.crop,R,t),a(t.textures2,X.crop,F,t),a(t.textures3,X.crop,E,t),E.dropAmount=[2,5]),"dropper"!==t.name&&"dispenser"!==t.name||(t.shape=X.rotate,a(t.upTextures,X.cube,R),a(t.downTextures,X.cube,F)),"hopper"===t.name&&(t.shape=X.hopper,a(t.textures,X.hopperWall,R,t)),"comparator"===t.name&&(t.shape=X.comparator,a(t.textures,X.comparatorOn,R,t),a(t.textures,X.comparatorSubtract,F,t),a(t.textures,X.comparatorSubtractOn,q,t)),"daylightDetector"===t.name&&(t.shape=X.daylightDetector,a(t.invertedTextures,X.daylightDetector,R,t)),t.commandBlock){let s=Object.create(t);a(t.errorTextures,X.cube,s,t),L[e|_e]=s,a(t.sideTextures,X.SW,R,t),s=Object.create(t),a(t.sideErrorTextures,X.SW,s,t),L[e|ce|_e]=s;let r=s.shape.varients;for(let t=0;t<r.length;t++)if(r[t]){let a=Object.create(s);a.shape=r[t],r[t].rotated&&(a.textures=o(s.textures,r[t].rotateTimes)),L[e|ce|_e|r[t].bit]=a}a(t.flipTextures,X.flipped,F,t),s=Object.create(t),a(t.flipErrorTextures,X.flipped,s,t),L[e|pe|_e]=s}let Ae;if("sugarCane"===t.name&&(t.shape=X.cross,a(t.textures,X.cross,R,t),R.tint=t.purpleTint),"bow"===t.name&&(t.shape=X.item,t.textures=new Array(6).fill(t.pullTextures[0]),a(new Array(6).fill(t.pullTextures[1]),X.item,R),a(new Array(6).fill(t.pullTextures[2]),X.item,F),a(new Array(6).fill(t.pullTextures[3]),X.item,E)),t.beacon&&(t.shape=X.beacon),"pitcherCrop"===t.name&&(t.shape=X.pitcherCropStage0,a(t.textures1,X.pitcherCropStage1,R,t),a(t.textures2,X.pitcherCropStage1,F,t),a(t.textures3,X.pitcherCropStage3,E,t),a(t.textures4,X.pitcherCropStage3,U,t)),"torchflower"===t.name&&(a(t.textures1,X.cross,R,t),a(t.textures2,X.cross,F,t),E.drop="torchflower"),t.groundLeaves&&(t.shape=X.flat,t.thickTexture&&a(new Array(6).fill(t.thickTexture),X.flat,R,t,"Thick "+t.Name)),t.flowerbed&&(t.shape=X.flowerbed1,a(t.textures,X.flowerbed2,R,t),R.drop=e,a(t.textures,X.flowerbed3,F,t),F.drop=e,a(t.textures,X.flowerbed4,q,t),q.drop=e),"fern"===t.name&&(t.shape=X.cross,R.shape=X.fern,R.randomRotateOnSpawn=!0),t.carpet&&(t.shape=X.carpet,t.shadow=!1,t.transparent=!0,t.drop=e,he.shape=X.wallCarpet,he.shadow=!1,he.transparent=!0,he.drop=e,he.Name="Wall "+t.Name),t.coralBlock&&a(new Array(6).fill("dead"+t.name[0].toUpperCase()+t.name.substring(1)),X.cube,R,t,"Dead "+t.Name),t.coralFan&&(t.shape=X.coralFan,a(new Array(6).fill("dead"+t.name[0].toUpperCase()+t.name.substring(1)),X.coralFan,R,t,"Dead "+t.Name),a(t.textures,X.coralWallFan,F,t),a(new Array(6).fill("dead"+t.name[0].toUpperCase()+t.name.substring(1)),X.coralWallFan,he,t)),L[e|ce]=R,L[e|pe]=F,L[e|ue]=E,L[e|me]=U,L[e|ge]=q,L[e|ke]=_,L[e|ye]=H,L[e|be]=j,t.beacon&&(L[e|we]=Y),t.cactus&&(L[e|fe]=V),L[e|Be]=Z,L[e|Se]=J,L[e|ve]=ee,L[e|xe]=$,L[e|Pe]=K,L[e|Te]=te,L[e|Ne]=se,t.button&&(L[e|Ce]=ae),t.chain&&(L[e|ze]=oe),t.pot&&(L[e|Le]=re),L[e|Re]=ie,L[e|Ie]=ne,L[e|Me]=le,L[e|De]=he,t.shape.rotate||t.shape.flip){let s=t.textures;Ae=t.shape.varients;for(let a=0;a<Ae.length;a++)if(Ae[a]){let r=Object.create(t);r.shape=Ae[a],Ae[a].rotated&&(r.textures=o(s,Ae[a].rotateTimes)),L[e|Ae[a].bit]=r}}Ae=R.shape.varients;for(let t=0;t<Ae.length;t++){let s=R.textures;if(Ae[t]){let a=Object.create(R);a.shape=Ae[t],Ae[t].rotated&&(a.textures=o(s,Ae[t].rotateTimes)),L[e|ce|Ae[t].bit]=a}}Ae=F.shape.varients;for(let t=0;t<Ae.length;t++){let s=F.textures;if(Ae[t]){let a=Object.create(F);a.shape=Ae[t],Ae[t].rotated&&(a.textures=o(s,Ae[t].rotateTimes)),L[e|pe|Ae[t].bit]=a}}Ae=q.shape.varients;for(let t=0;t<Ae.length;t++){let s=q.textures;if(Ae[t]){let a=Object.create(q);a.shape=Ae[t],Ae[t].rotated&&(a.textures=o(s,Ae[t].rotateTimes)),L[e|ge|Ae[t].bit]=a}}Ae=Z.shape.varients;for(let t=0;t<Ae.length;t++){let s=Z.textures;if(Ae[t]){let a=Object.create(Z);a.shape=Ae[t],Ae[t].rotated&&(a.textures=o(s,Ae[t].rotateTimes)),L[e|Be|Ae[t].bit]=a}}Ae=J.shape.varients;for(let t=0;t<Ae.length;t++){let s=J.textures;if(Ae[t]){let a=Object.create(J);a.shape=Ae[t],Ae[t].rotated&&(a.textures=o(s,Ae[t].rotateTimes)),L[e|Se|Ae[t].bit]=a}}Ae=ee.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create(ee);s.shape=Ae[t],L[e|ve|Ae[t].bit]=s}Ae=$.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create($);s.shape=Ae[t],L[e|xe|Ae[t].bit]=s}Ae=K.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create(K);s.shape=Ae[t],L[e|Pe|Ae[t].bit]=s}Ae=ae.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]&&L[e].button){let s=Object.create(ae);s.shape=Ae[t],L[e|Ce|Ae[t].bit]=s}Ae=ne.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create(ne);s.shape=Ae[t],L[e|Ie|Ae[t].bit]=s}Ae=le.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create(le);s.shape=Ae[t],L[e|Me|Ae[t].bit]=s}Ae=he.shape.varients;for(let t=0;t<Ae.length;t++)if(Ae[t]){let s=Object.create(he);s.shape=Ae[t],L[e|De|Ae[t].bit]=s}}}win.packetTypes=Je,win.packetToBitArray=at,win.bitArrayToPacket=it;let lt=null;function ht(e,t){return e=e.split(".").map((e=>parseInt(e))),t=t.split(".").map((e=>parseInt(e))),e[0]>t[0]||(e[1]>t[1]&&e[0]===t[0]||(e[2]>t[2]&&e[1]===t[1]||void 0))}function dt(e){return parseInt(e,2)}function ct(e){e!==lt&&(lt=e,Ze=255,de=0,Oe=ce=dt("10000000000000"),Ge=pe=dt("100000000000000"),We=ue=dt("110000000000000"),Fe=me=dt("1001110000000000000"),Ee=ye=dt("10010000000000000"),Ue=be=dt("100010000000000000"),we=dt("100110000000000000"),fe=dt("101000000000000000"),Le=dt("101010000000000000"),Re=dt("101110000000000000"),Ae=ke=dt("110000000000000000"),ze=dt("110010000000000000"),qe=ge=dt("1000010000000000000"),Se=dt("1000100000000000000"),ve=dt("1000110000000000000"),Be=dt("10001000000000000000"),xe=dt("1010000000000000000"),Pe=dt("10000000000000000000"),Te=dt("11000000000000000000"),Ne=dt("11000100000000000000"),Ce=dt("10000100000000000000"),Ie=dt("1000000000000000"),Me=dt("1010000000000000"),De=dt("1100000000000000"),_e=dt("10000000000"),He=0,je=dt("100000000000"),Ye=dt("1000000000000"),Ve=dt("1100000000000"),Xe=dt("1100000000000"),Ze=dt("11111111111"),Qe=dt("11111110000000000000"))}ct(version);{let la;function ha(e,t,s,a,o,r,i,n,l){if(e>a){var h=e;e=a,a=h}if(t>o){var d=t;t=o,o=d}if(s>r){var c=s;s=r,r=c}for(var p=e;a>=p;p++)for(var u=t;o>=u;u++)for(var m=s;r>=m;m++)l.setBlock(p,u,m,i,!1,!1,!1,!1,n)}function da(e,t,s,a,o,r,i,n){if(e>a){var l=e;e=a,a=l}if(t>o){var h=t;t=o,o=h}if(s>r){var d=s;s=r,r=d}la=[];for(var c=e;a>=c;c++){for(var p=[],u=t;o>=u;u++){for(var m=[],g=s;r>=g;g++)m.push(n.getBlock(c,u,g,i),n.getTags(c,u,g,i));p.push(m)}la.push(p)}}function ca(e,t,s,a,o){for(var r=0;r<la.length;r++)for(var i=la[r],n=0;n<i.length;n++)for(var l=i[n],h=0;h<l.length/2;h++){var d=l[2*h];o.setBlock(r+e,n+t,h+s,d,!1,!1,!1,!1,a);var c=l[2*s+1];c&&o.setTags(r+e,n+t,h+s,c,!1,a)}}function pa(e,t,s,a,o,r,i,n,l,h){if(e>a){var d=e;e=a,a=d}if(t>o){var c=t;t=o,o=c}if(s>r){var p=s;s=r,r=p}for(var u=e;a>=u;u++)for(var m=t;o>=m;m++)for(var g=s;r>=g;g++)h.getBlock(u,m,g,l)===i&&h.setBlock(u,m,g,n,!1,!1,!1,!1,l)}function ua(e,t){e.prevPosCmd=[round(e.x),round(e.y),round(e.z)]}function ma(e,t,s){ha(t.prevPosCmd[0],t.prevPosCmd[1]-1,t.prevPosCmd[2],round(t.x),round(t.y-1),round(t.z),e,t.dimension,s)}function ga(e,t){la=e.copiedBlocksCmd,da(e.prevPosCmd[0],e.prevPosCmd[1]-1,e.prevPosCmd[2],round(e.x),round(e.y-1),round(e.z),e.dimension,t)}function ka(e,t){la=e.copiedBlocksCmd,ca(round(e.x),round(e.y-1),round(e.z),e.dimension,t)}let ya=0;async function ba(e,t,s,a,o,r,i,n,l){let h=ya,d=e*e,c=s*s,p=(e-1.2)*(e-1.2),u=(s-1.2)*(s-1.2);for(let m=floor(-e);m<=ceil(e);m++)for(let e=floor(-t);e<=ceil(t);e++)for(let t=floor(-s);t<=ceil(s);t++){if(m*m/d+t*t/c<1&&m*m/p+t*t/u>=1&&(l.setBlock(round(o+m),round(r+e),round(i+t),a,!1,!1,!1,!1,n),await sleep(10),ya>h))return}}async function wa(e,t,s,a,o,r,i,n,l){let h=ya,d=e*e,c=s*s;for(let p=floor(-e);p<=ceil(e);p++)for(let e=floor(-t);e<=ceil(t);e++)for(let t=floor(-s);t<=ceil(s);t++){if(p*p/d+t*t/c<1&&(l.setBlock(round(o+p),round(r+e),round(i+t),a,!1,!1,!1,!1,n),await sleep(10),ya>h))return}}async function fa(e,t,s,a,o,r,i,n,l){let h=ya,d=e*e,c=t*t,p=s*s,u=(e-1.5)*(e-1.5),m=(t-1.5)*(t-1.5),g=(s-1.5)*(s-1.5);for(let k=floor(-t);k<=ceil(t);k++)for(let t=floor(-e);t<=ceil(e);t++)for(let e=floor(-s);e<=ceil(s);e++){if(t*t/d+k*k/c+e*e/p<1&&t*t/u+k*k/m+e*e/g>=1&&(l.setBlock(round(o+t),round(r+k),round(i+e),a,!1,!1,!1,!1,n),await sleep(10),ya>h))return}}async function Ba(e,t,s,a,o,r,i,n,l){let h=ya,d=e*e,c=t*t,p=s*s;for(let u=floor(-t);u<=ceil(t);u++)for(let t=floor(-e);t<=ceil(e);t++)for(let e=floor(-s);e<=ceil(s);e++){if(t*t/d+u*u/c+e*e/p<1&&(l.setBlock(round(o+t),round(r+u),round(i+e),a,!1,!1,!1,!1,n),await sleep(10),ya>h))return}}function Sa(e,t,s=!1){let a;return a=e.startsWith("~+")?t+parseFloat(e.split("+")[1]):e.startsWith("~-")?t-parseFloat(e.split("-")[1]):e.startsWith("~")?t:parseFloat(e),s&&(a=round(a)),a}function va(e,t,s){if("@s"===e)return[t];if("@a"===e){return s.players.slice()}if("@e"===e)return s.entities.slice();if("@p"===e){let e,a=1/0;for(let o of s.players){let s=dist3(t.x,t.y,t.z,o.x,o.y,o.z);s<a&&(a=s,e=o)}return[e]}{let t=Jt(e,s);if(t)return[t]}}let xa=[{name:"fromPlayer",info:"Sets starting position to player position",func:(e,t,s,a)=>ua(t),anonymousFunc:null},{name:"fillToPlayer",args:["block_name"],argValues:{block_name:"type:block"},info:"Fills from starting position to player position",func:(e,t,s,a)=>{let o=I[e.block_name];e.block_name||(o=0),ma(o,t,a)},anonymousFunc:null},{name:"copyToPlayer",info:"Copys blocks from starting position to player position",func:(e,t,s,a)=>ga(t,a),anonymousFunc:null},{name:"pasteAtPlayer",info:"Pastes copied blocks at the player's position",func:(e,t,s,a)=>ka(t,a),anonymousFunc:null},{name:"shape",info:"Type can be: sphere, hollowSphere, cylinder, hollowCylinder",args:["type","width","height","depth","block_name","x","y","z"],argValues:{block_name:"type:block",x:"type:x",y:"type:y",z:"type:z",type:["sphere","hollowSphere","cylinder","hollowCylinder"],width:"type:number",height:"type:number",depth:"type:number"},func:(e,t,s,a)=>{let o=I[e.block_name];e.block_name||(o=0);let r=e.x?parseFloat(e.x):t.x,i=e.y?parseFloat(e.y):t.y,n=e.z?parseFloat(e.z):t.z,l=parseFloat(e.width)||0,h=parseFloat(e.height)||0,d=parseFloat(e.depth)||0;return"sphere"===e.type?Ba(l,h,d,o,r,i,n,t.dimension,a):"hollowSphere"===e.type?fa(l,h,d,o,r,i,n,t.dimension,a):"cylinder"===e.type?wa(l,h,d,o,r,i,n,t.dimension,a):"hollowCylinder"===e.type?ba(l,h,d,o,r,i,n,t.dimension,a):["No such shape: "+e.type,"error"]}},{name:"cancelShape",info:"Stop generating shapes currently being generated.",func:()=>{ya++}},{name:"replaceToPlayer",args:["replace_what","with_what"],argValues:{replace_what:"type:block",with_what:"type:block"},func:(e,t,s,a)=>{let o=I[e.replace_what];e.replace_what||(o=0);let r=I[e.with_what];e.with_what||(r=0),pa(t.prevPosCmd[0],t.prevPosCmd[1]-1,t.prevPosCmd[2],round(t.x),round(t.y-1),round(t.z),o,r,t.dimension,a)},anonymousFunc:null},{name:"give",args:["target","block_name","amount"],argValues:{block_name:"type:block",target:["type:player","@s","@a","@p"],amount:"type:number"},info:"Gives the target the the specified amount of specified blocks",func:(e,t,s,a)=>{let o=I[e.block_name],r=parseInt(e.amount)||1,i=va(e.target,t,a);if(!i)return["No such target: "+e.target,"error"];for(let e of i)a.addItems(e.x,e.y,e.z,e.dimension,0,0,0,o,!1,r)}},{name:"kill",args:["target","message"],lastArgRaw:!0,argValues:{target:["type:player","@s","@a","@e","@p"]},info:"Kills someone. Target can be: @s, your username, someone's uername, @a, @e",func:(e,t,s,a)=>{if(worldSettings.killCmdOff)return["Kill command is disabled on this world.","error"];e.target=e.target||"@s";let o=va(e.target,t,a);if(!o)return["No such target: "+e.target,"error"];for(let s of o)"Player"===s.type?a.sendPlayer({type:"kill",data:e.message||t.username+" killed "+("@a"===e.target?"everyone":e.target)+" with the kill command."},s.id):a.deleteEntity(s.id)}},{name:"time",args:["mode","n"],argValues:{mode:["set","add","subtract"],n:["day","night","type:number"]},info:"mode can be: set, add, subtract. n is the time to set to. 1000 is a day. n an also be: day, night",func:(e,t,s,a)=>{let o;if(o="day"===e.n?500:"night"===e.n?0:parseInt(e.n)||0,"set"===e.mode)a.time=o;else if("add"===e.mode)a.time+=o;else{if("subtract"!==e.mode)return["No such mode: "+e.mode,"error"];a.time-=o}}},{name:"weather",args:["w"],argValues:{w:["clear","rain","snow"]},info:"w is the weather to set to. It can be clear, rain, or snow",func:(e,t,s,a)=>{"rain"===e.w?a.weather="rain":"snow"===e.w?a.weather="snow":a.weather=""}},{name:"teleportToPlayer",names:["tpPlayer","tpp","tptp"],args:["to_who","who"],argValues:{to_who:["@s","type:player"],who:["@s","type:player"]},info:"Teleport player [who] to [to_who]. who is optional.",func:(e,t,s,a)=>{let o=va(e.to_who,t,a);o=o&&o[0];let r=va(e.who,t,a);if(!o)return["Player doesn't exsist: "+e.to_who,"error"];r&&r.length||(r=[t]);for(let e of r)a.sendPlayer({type:"tp",x:o.x,y:o.y,z:o.z,dimension:o.dimension},e.id)}},{name:"teleport",names:["tp"],args:["target","x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension",target:["@s","type:player"]},info:"x, y, and z are the coordinates to teleport to. dimension is optional.",func:(e,t,s,a)=>{let o=va(e.target,t,a);if(!o||!o[0])return["No such target: "+e.target,"error"];if(!e.x||!e.y||!e.z)return["You need to set the coordinates.","error"];let r=t.x,i=t.y,n=t.z,l=Sa(e.x,r),h=Sa(e.y,i),d=Sa(e.z,n);isNaN(l)&&(l=r),isNaN(h)&&(h=i),isNaN(d)&&(d=n);let c=e.dimension||t.dimension;for(let e of o)a.sendPlayer({type:"tp",x:l,y:h,z:d,dimension:c},e.id)}},{name:"playSound",args:["sound","volume","pitch"],argValues:{sound:"type:sound",volume:"type:number",pitch:"type:number"},info:"Plays a sound. Sound can be any sound, for example: click, block.grass.dig1, entity.generic.explode1. Volume is a number from 0 to 1.",func:(e,t,s,a)=>{if(!e.sound)return["The first argument (sound) is required.","error"];let o=parseFloat(e.volume)||1,r=parseFloat(e.pitch)||1;a.playSound(null,null,null,e.sound,o,r)}},{name:"title",args:["text","subtext","color","fadeIn","fadeOut","stay"],argValues:{fadeIn:"type:number",fadeOut:"type:number",stay:"type:number"},info:"Shows text on screen. fadeIn and fadeOut and stay are miliseconds.",func:(e,t,s,a)=>{e.text=e.text||"/title",e.fadeIn=e.fadeIn||0===e.fadeIn?parseFloat(e.fadeIn):500,e.fadeOut=e.fadeOut||0===e.fadeOut?parseFloat(e.fadeOut):2e3,e.stay=e.stay||0===e.stay?parseFloat(e.stay):1e3,a.sendAll({type:"title",data:e.text,sub:e.subtext,color:e.color,fadeIn:e.fadeIn,fadeOut:e.fadeOut,stay:e.stay})}},{name:"setBlock",args:["x","y","z","dimension","block"],argValues:{block:"type:block",x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Sets a block at a specified position.",func:(e,t,s,a)=>{let o=I[e.block];if(void 0===o&&(o=parseInt(e.block)),!L[o])return["No such block "+o,"error"];let r=Sa(e.x,t.x,!0),i=Sa(e.y,t.y,!0),n=Sa(e.z,t.z,!0),l=e.dimension||t.dimension;a.setBlock(r,i,n,o,!1,!1,!1,!1,l)}},{name:"getBlock",args:["x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Gets a block at the specified position and sets a variable called block_name.",func:(e,t,s,a)=>{let o=Sa(e.x,t.x,!0),r=Sa(e.y,t.y,!0),i=Sa(e.z,t.z,!0),n=e.dimension||t.dimension;s.block_name=L[a.getBlock(o,r,i,n)].name}},{name:"setTag",args:["x","y","z","dimension","tag_name","tag_data"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Sets a specified tag at a specified position. tag_name can be JSON or raw text.",func:(e,t,s,a)=>{let o;try{o=JSON.parse(e.tag_data)}catch{o=e.tag_data}let r=Sa(e.x,t.x,!0),i=Sa(e.y,t.y,!0),n=Sa(e.z,t.z,!0),l=e.dimension||t.dimension;try{a.setTagByName(r,i,n,e.tag_name,o,!1,l)}catch(e){return[e.message,"error"]}}},{name:"getTag",args:["x","y","z","dimension","tag_name"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Gets a specified tag at the specified position and sets a variable called tag_data. tag_data will be JSON string if not a string.",func:(e,t,s,a)=>{let o=Sa(e.x,t.x,!0),r=Sa(e.y,t.y,!0),i=Sa(e.z,t.z,!0),n=e.dimension||t.dimension;s.tag_data=a.getTagByName(o,r,i,e.tag_name,n),"string"!=typeof s.tag_data&&(s.tag_data=JSON.stringify(s.tag_data))}},{name:"echo",args:["data"],info:"Outputs data.",func:e=>[e.data+"",""]},{name:"var",args:["name","value"],info:"Set a variable to a value. Value can be empty.",func:(e,t,s)=>{if(!e.name)return["Error: name required.","error"];s[e.name]=e.value}},{name:"solve",args:["value1","operation","value2"],argValues:{operation:["+","-","/","*","<",">","=","round","floor","ceil","sin","cos","tan","sqrt","%"]},info:"Calculate operation on value1 and value2 and sets a variabled called value. Some operations don't use value2. Example: /solve 1 + 1",func:(e,t,s)=>{let a="number"==typeof e.value1?e.value1:parseFloat(e.value1),o="number"==typeof e.value2?e.value2:parseFloat(e.value2);switch((isNaN(a)||isNaN(e.value1))&&(a=e.value1),(isNaN(o)||isNaN(e.value2))&&(o=e.value2),e.operation){case"+":s.value=a+o;break;case"-":s.value=a-o;break;case"*":s.value=a*o;break;case"/":s.value=a/o;break;case"<":s.value=a<o;break;case">":s.value=a>o;break;case"=":s.value=a===o;break;case"round":s.value=round(a);break;case"floor":s.value=floor(a);break;case"ceil":s.value=ceil(a);break;case"sin":s.value=sin(a);break;case"cos":s.value=cos(a);break;case"tan":s.value=tan(a);break;case"sqrt":s.value=sqrt(a);break;case"%":s.value=a%o;break;default:return["No such operation called "+e.operation,"error"]}}},{name:"getPos",names:["gp"],args:["target"],argValues:{target:["type:player","@s","@p"]},info:"Gets position of specified target and sets target_x, target_y, target_z, target_dimension, target_name. Target can be @s, @p, or a username.",func:(e,t,s,a)=>{e.target=e.target||"@s";let o=va(e.target,t,a);if(!o||!o[0])return["No such target: "+e.target,"error"];let r=o[0];s.target_x=r.x,s.target_y=r.y,s.target_z=r.z,s.target_dimension=r.dimension,s.target_name=r.username||r.name}},{name:"wait",args:["time"],argValues:{time:["type:number"]},info:"Wait for time miliseconds.",func:e=>sleep(parseFloat(e.time))},{name:"getTime",args:["timestart"],argValues:{timestart:["type:number"]},info:"Sets time to the current time in miliseconds. If timestart is specified, the time is subtracted from timestart.",func:(e,t,s)=>{s.time=Date.now(),e.timestart&&(s.time-=parseInt(e.timestart))}},{name:"blockInfo",names:["bi"],args:["block"],argValues:{block:["type:block"]},func:e=>{let t=L[I[e.block]];if(!t)return["No such block "+e.block,"error"];let s="";for(let e in t)"shape"!==e&&(s+=e+": ","function"==typeof t[e]?s+="function() { [code] }":"string"==typeof t[e]?s+=t[e]:s+=JSON.stringify(t[e]),s+="<br>");return[s,""]},noCheats:!0},{name:"seed",noCheats:!0,func:(e,t,s,a)=>[a.worldSeed+"",""]},{name:"trigger",args:["condition","x","y","z","dimension"],argValues:{x:"type:x",y:"type:y",z:"type:z",dimension:"type:dimension"},info:"Trigger a command block at specified position if condition is a true value. condition may be a variable.",func:(e,t,s,a)=>{if(!e.condition)return;let o=Sa(e.x,t.x,!0),r=Sa(e.y,t.y,!0),i=Sa(e.z,t.z,!0),n=e.dimension||t.dimension,l=a.getBlock(o,r,i,n);L[l].commandBlock&&L[l].trigger(o,r,i,n,a)}}];win.defaultServerCommands=xa}const{defaultServerCommands:pt}=win;function ut(e,t){for(let s of t.serverCommands){if(s.name.toLowerCase()===e.toLowerCase())return s;if(s.names&&s.names.includes(e))return s}}function mt(e,t,s){let a="/"===e[0]?"/":"";a&&(e=e.substring(1));let o,r,i=[],n="",l=!1,h=null,d=!1;for(let c=0;c<e.length;c++){let p=!r||!r.args||!r.lastArgRaw||i.length!==r.args.length;if("/"===e[c]&&(!a||0!==c)&&!l&&p){o=e.substring(c);break}!p||"'"!==e[c]&&'"'!==e[c]||l&&h!==e[c]?"$"!==e[c]||l||n?!p||" "!==e[c]&&"\n"!==e[c]||l?n+=e[c]:(d&&(n=t[n]),i.push(n),1===i.length&&(r=ut(n,s)),n="",d=!1):d=!0:(l=!l,h=e[c])}d&&(n=t[n]),i.push(n),1===i.length&&(r=ut(n,s));let c=i.shift();return i=r&&r.args?Object.fromEntries(i.filter(((e,t)=>t in r.args)).map(((e,t)=>[r.args[t],e]))):{},[i,o,c,r]}async function gt(e,t,s,a=!1,o=emptyFunc){let r=e,i=[],n=[],l={};for(;r;){let[e,h,d,c]=mt(r,l,s);r=h,await kt(d,c,e,t,l,n,i,s,a,o,!0)}return i.push(...n),o(i,n)}async function kt(e,t,s,a,o,r,i,n,l=!1,h=emptyFunc,d=!0){if(!t)return r.push("cError: no such command called f"+e,"error"),i.push(...r),h(i,r),r.length=0,!0;{if(!d&&!t.noCheats)return r.push("cError: Command requires cheats","error"),i.push(...r),h(i,r),void(r.length=0);let c=l?null!==t.anonymousFunc&&(t.anonymousFunc||n.serverCommandFuncs[t.name]):n.serverCommandFuncs[t.name];if(!c)return r.push("cError: cannot run f"+e,"error"),i.push(...r),h(i,r),r.length=0,!0;{let e=c(s,a,o,n);if(e instanceof Promise&&(i.push(...r),h(i,r),r.length=0,e=await e),e&&r.push(...e),e&&"error"===e[1])return i.push(...r),h(i,r),r.length=0,!0}}}async function yt(e,t,s,a,o,r,i){let n=ut(e,o),l=[],h=[];await kt(e,n,t,s,a,l,h,o,!1,void 0,i),h.push(...l),o.sendPlayer({type:"commandDone",data:h,scope:a,id:r},s.id)}class bt{constructor(){this.array=[],this.size=0}add(e,t,s,a,o){this.size===this.array.length?this.array.push([e,t,s,a,o]):(this.array[this.size][0]=e,this.array[this.size][1]=t,this.array[this.size][2]=s,this.array[this.size][3]=a,this.array[this.size][4]=o),this.size++}clear(){this.size=0}}let wt=[],ft={};class Bt{constructor(e,t,s,a,o,r,i,n,l,h,d,c,p,u,m,g,k){this.x=e,this.y=t,this.z=s,this.previousX=e,this.previousY=t,this.previousZ=s,this.canStepX=!0,this.canStepY=!0,this.pitch=a,this.yaw=o,this.roll=0,this.pitch2=0,this.previousPitch=a,this.previousYaw=o,this.previousRoll=0,this.previousPitch2=0,this.velx=r,this.vely=i,this.velz=n,this.width=l,this.height=h,this.depth=d,this.offsetY=0,this.prevOffsetY=0,this.extraSize=0,this.hidden=!1,this.harmEffect=0,this.contacts=new bt,this.lastUpdate=performance.now(),this.onGround=!1,this.hasCollided=!1,this.gravityStength=-.11,this.standingOn=0,this.insideBlock=0,this.despawns=m,this.spawn=this.lastUpdate,this.canDespawn=!1,this.dieEffect=0,this.dieRotate=0,this.burning=!1,this.liquid=!1,this.prevLiquid=!1,this.wet=!1,this.parts={},this.shader=0,this.world=null,this.chunkX=e>>4,this.chunkZ=s>>4,this.chunkDimension="",this.glow=!1,this.dimension=k}updateVelocity(e){if(this.standingOn=this.world.getBlock(round(this.x),floor(this.y-this.height/2),round(this.z),this.dimension),this.insideBlock=this.world.getBlock(round(this.x),round(this.y),round(this.z),this.dimension),this.prevLiquid!==this.liquid&&(this.prevLiquid=this.liquid,this.liquid&&this.wet)){let e=(1/abs(this.y-this.previousY)*.05+.2*Math.random())/(.25*(this.width+this.depth));isFinite(e)&&this.world.playSound(this.x,this.y-this.height/2,this.z,"liquid.splash",1,e),this.world.sendAll({type:"particles",particleType:"SplashParticle",x:this.x,y:this.y-this.height/2,z:this.z,dimension:this.dimension,amount:10})}this.vely+=this.gravityStength;let t=this.liquid&&!this.canFloat?.7:this.onGround?.8:.9,s=this.liquid?.3:.8;L[this.standingOn].slide&&(t=L[this.standingOn].slide),this.velz+=this.velz*t-this.velz,this.velx+=this.velx*t-this.velx,this.vely+=this.vely*s-this.vely}collided(e,t,s,a,o,r,i){let n,l,h,d,c,p,u,m,g=L[i].shape.verts,k=this.x-this.width/2-e,y=this.y-this.height/2-t,b=this.z-this.depth/2-s,w=this.x+this.width/2-e,f=this.y+this.height/2-t,B=this.z+this.depth/2-s,S=this.mob&&this.insideBlock&&L[this.insideBlock].solid,v=g[0];if(o<=0&&(v=g[1]),null===a&&null===r){let e=!1;for(let s of v)u=s.min,n=u[0],h=u[2],m=s.max,d=m[0],p=m[2],s[1]>y&&s[1]<f&&n<w&&d>k&&h<B&&p>b&&(e=!0,o<=0?(this.onGround=!0,this.y=S?this.previousY:s[1]+t+this.height/2,this.vely=0):(this.y=S?this.previousY:s[1]+t-this.height/2,this.vely=0));return e}if(a<0?v=g[4]:a>0&&(v=g[5]),null!==a){let t=!1;for(let s of v)u=s.min,h=u[2],l=u[1],m=s.max,p=m[2],c=m[1],s[0]>k&&s[0]<w&&l<f&&c>y&&h<B&&p>b&&(c-y>.5&&(this.canStepX=!1,S?this.y=this.previousX:this.x=e+s[0]+(a<0?this.width/2:-this.width/2),this.velx=0),t=!0);return t}if(r<0?v=g[2]:r>0&&(v=g[3]),null!==r){let e=!1;for(let t of v)u=t.min,n=u[0],l=u[1],m=t.max,d=m[0],c=m[1],t[2]>b&&t[2]<B&&l<f&&c>y&&n<w&&d>k&&(c-y>.5&&(this.canStepZ=!1,S?this.y=this.previousY:this.z=s+t[2]+(r<0?this.depth/2:-this.depth/2),this.velz=0),e=!0);return e}}move(e){let t=Math.ceil(max(abs(this.velx/(this.width/2)),abs(this.vely/(this.height/2)),abs(this.velz/(this.depth/2)),1));const s=this.velx/t,a=this.vely/t,o=this.velz/t;let r=floor(this.x-this.width/2),i=ceil(this.x+this.width/2),n=floor(this.y-this.height/2),l=ceil(this.y+this.height/2),h=floor(this.z-this.depth/2),d=ceil(this.z+this.depth/2),c=null;this.liquid=this.wet=!1;for(let e=r;e<=i;e++)for(let t=n;t<=l;t++)for(let s=h;s<=d;s++){let a=this.world.getBlock(e,t,s,this.dimension);if(a&&L[a].solid&&this.contacts.add(e,t,s,a),e===round(this.x)&&s===round(this.z)&&L[a].liquid&&(this.liquid=!0,this.canFloat&&e===round(this.x)&&s===round(this.z)&&t===round(this.y)&&(this.vely+=1/4),L[a].wet&&(this.wet=!0)),L[a].getCurrent){var p=L[a],u=p.getCurrent(e,t,s,this.dimension,void 0,void 0,this.world);this.velx+=(u.x||0)/64,this.velz+=(u.z||0)/64;var m=this.world.getBlock(e,t-1,s,this.dimension);p.isThis(m)&&m!==p.id&&(this.vely-=1/128)}L[a].pressurePlate&&L[a].activate&&L[a].activate(e,t,s,this.dimension,a,this,this.world),this.ontouch&&this.ontouch(e,t,s,a)}this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,max(this.width,this.height,this.depth)/2,Xt);for(let e of Xt)e.canStandOn&&e.block&&e.x>r&&e.x<i&&e.y>n&&e.y<l&&e.z>h&&e.z<d&&this.contacts.add(e.x,e.y,e.z,e.block,e);if("rain"===this.world.weather&&this.world.weatherAmount>.5){let e=this.world.getSolidTop(round(this.x),round(this.z),this.dimension);this.y>e&&(this.wet=!0)}this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.previousPitch=this.pitch,this.previousYaw=this.yaw,this.previousRoll=this.roll,this.previousPitch2=this.pitch2,this.prevOffsetY=this.offsetY,this.hasCollided=!1;for(let e in this.parts)this.parts[e].prx=this.parts[e].rx,this.parts[e].pry=this.parts[e].ry,this.parts[e].prz=this.parts[e].rz,this.parts[e].pry2=this.parts[e].ry2;let g=0,k=0,y=0,b=0,w=0,f=0;for(let e=1;e<=t;e++){this.x,this.z,this.y;this.canStepX=!1,this.canStepY=!1,this.onGround=!1,this.y+=a;for(let s=0;s<this.contacts.size;s++){c=this.contacts.array[s];let o=c[0],r=c[1],i=c[2],n=a,l=0;c[4]&&(o=c[4].previousX,i=c[4].previousZ,n-=(c[4].y-c[4].previousY)/t,r=lerp(e/t,c[4].previousY,r),l=c[4].vely),this.collided(o,r,i,null,n,null,c[3])&&(this.hasCollided=!0,L[c[3]].bounciness&&(l-=(a*t-l)*L[c[3]].bounciness),y=max(y,l),b=min(b,l))}this.onGround&&(this.canStepX=!0,this.canStepZ=!0),this.x+=s;for(let a=0;a<this.contacts.size;a++){c=this.contacts.array[a];let o=c[0],r=c[1],i=c[2],n=s,l=0;if(c[4]&&(i=c[4].previousZ,n-=(c[4].x-c[4].previousX)/t,o=lerp(e/t,c[4].previousX,o),l=c[4].velx),this.collided(o,r,i,n,null,null,c[3])){if(this.canStepX&&!this.world.getBlock(c[0],c[1]+1,c[2],this.dimension)&&this.world.getBlock(c[0],c[1]+2,c[2]),this.dimension)continue;this.hasCollided=!0,L[c[3]].bounciness&&(l-=(s*t-l)*L[c[3]].bounciness),g=max(g,l),k=min(k,l)}}this.z+=o;for(let s=0;s<this.contacts.size;s++){c=this.contacts.array[s];let a=c[0],r=c[1],i=c[2],n=o,l=0;if(c[4]&&(n-=(c[4].z-c[4].previousZ)/t,i=lerp(e/t,c[4].previousZ,i),l=c[4].velz),this.collided(a,r,i,null,null,n,c[3])){if(this.canStepZ&&!this.world.getBlock(c[0],c[1]+1,c[2],this.dimension)&&!this.world.getBlock(c[0],c[1]+2,c[2],this.dimension))continue;this.hasCollided=!0,L[c[3]].bounciness&&(l-=(o*t-l)*L[c[3]].bounciness),w=max(w,l),f=min(f,l)}}}this.contacts.clear(),this.onGround&&(this.hasCollided=!0),(y||b)&&("lastY"in this&&(this.lastY=this.y),this.vely+=y+b,this.onGround=!1),(g||k)&&(this.velx+=g+k),(w||f)&&(this.velz+=w+f),this.updateChunk(),this.lastUpdate=e,this.contacts.clear()}updateChunk(){let e=this.x>>4,t=this.z>>4;if(this.chunkX!==e||this.chunkZ!==t||this.dimension!==this.chunkDimension){let s=this.world.getChunk(this.chunkX<<4,this.chunkZ<<4,this.chunkDimension),a=this.world.getChunk(e<<4,t<<4,this.dimension);this.chunkX=e,this.chunkZ=t,this.chunkDimension=this.dimension,s&&s.entities[this.id]&&(delete s.entities[this.id],a?a.entities[this.id]=this:this.world.waitingEntities.push(this))}}goToChunk(){let e=this.x>>4,t=this.z>>4,s=this.world.getChunk(e<<4,t<<4,this.dimension);if(this.chunkX=e,this.chunkZ=t,this.chunkDimension=this.dimension,s)return s.entities[this.id]=this,!0}moveTowards(e,t,s,a,o,r,i=1,n){var l=dist3(this.x/a,this.y/o,this.z/r,e/a,t/o,s/r);if(l){var h=abs(l);if(!(h>1)){var d=1-h,c=e-this.x,p=t-this.y,u=s-this.z,m=sqrt(c*c+p*p+u*u);this.velx+=c*d/m/i,n?this.onGround&&(this.vely+=p*d/m/i*20):this.vely=p*d/m/i,this.velz+=u*d/m/i}}}setPos(e,t,s,a,o,r){this.velx=a,this.vely=o,this.velz=r,this.x=e,this.y=t,this.z=s}update(){this.updateVelocity(Us),this.move(Us),Us-this.spawn>this.despawns&&(this.canDespawn=!0)}addPart(e,t,s,a,o,r,i,n,l,h,d,c=0,p=null,u=!1){let m=this.parts[e]={name:e,size:t,vao:s,x:a,y:o,z:r,w:i,h:n,d:l,rx:h,ry:d,rz:c,ry2:0,px:a,py:o,pz:r,prx:h,pry:d,prz:c,originalX:a,originalY:o,originalZ:r,attached:p,glow:u};s&&s.tHeVerticesBuffer&&(m.verticesBuffer=s.tHeVerticesBuffer,m.textureBuffer=s.tHeTextureBuffer,m.normalBuffer=s.tHeNormalBuffer);let g=[],k=m;for(;k.attached&&(k=this.parts[k.attached],k);)g.push(k.name);return g.reverse(),m.attachChain=g,m}facePlayer(){this.yaw=Math.PId-(atan2(p.z+p.offsetZ-this.z,p.x+p.offsetX-this.x)+Math.PI2+Math.PI);var e=dist2(this.x,this.z,p.x+p.offsetX,p.z+p.offsetZ);this.pitch=Math.PId-atan2(p.y+p.offsetY-this.y,e)}pointAt(e,t,s){this.yaw=Math.PId-(atan2(s-this.z,e-this.x)+Math.PI2+Math.PI);var a=dist2(this.x,this.z,e,s);this.pitch=Math.PId-atan2(t-this.y,a)}delete(){}}const St=.3,vt=.18,xt=1.62,Pt=.995,Tt=1.32,Nt=.625;class Ct extends Bt{type="Player";constructor(e){super(0,0,0,0,0,0,0,0,1,2,1,null,null,0,1/0,"this isn't really a VAO... but it will be overwritten"),this.w=St,this.bottomH=xt,this.topH=vt;let t=1/16;this.targetX=0,this.targetY=0,this.targetZ=0,this.lastPos=performance.now(),this.headYaw=0,this.headPitch=0,this.targetHeadYaw=0,this.targetHeadPitch=0,this.bodyRot=0,this.defaultOffsetY=-.5,this.sneakingOffsetY=-.575,this.die=!1,this.sneaking=!1,this.walking=!1,this.sprinting=!1,this.eating=!1,this.sleeping=!1,this.sitting=!1,this.swimming=!1,this.usingItem=!1,this.prevWalking=!1,this.walkStart=0,this.prevSwimming=!1,this.swimStart=0,this.addPart("head",null,null,0,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.25,.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.25,.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("cape",null,null,0,.375,-3*t,1,1,1,0,0),this.holding=0,this.prevHolding=0,this.holdRot=Math.PI/-10,this.addPart("holding",null,null,0,0,0,1,1,1,0,0),this.walkRot=0,this.punchEffect=0,this.pOffsetry=this.offsetry=0,this.offsetZ=this.pOffsetZ=0,this.nameText=null,this.previousText=null,this.username=null,this.afk=!1,this.scale=1,this.prevScale=null,this.noExtrapolate=e}update(){var e=1/16,t=(sin((Us-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.harmEffect>0&&(this.harmEffect-=3),this.die&&(this.dieEffect+=.05,this.dieRotate=this.dieEffect**4*Math.PI2,this.dieEffect>1&&(this.die=!1,this.dieEffect=0,this.dieRotate=0,this.hidden=!0)),this.lastUpdate=Us,this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.noExtrapolate)this.x=this.targetX,this.y=this.targetY,this.z=this.targetZ;else{let e=(Us-this.lastPos)/y;e>10&&(e=10),this.x=this.targetX+this.velx*e,this.y=this.targetY+this.vely*e,this.z=this.targetZ+this.velz*e}if(this.previousPitch=this.pitch,this.previousYaw=this.yaw,this.headPitch=this.targetHeadPitch,this.headYaw=this.targetHeadYaw,this.yaw=this.bodyRot,this.yaw-this.previousYaw>Math.PI&&(this.previousYaw+=Math.PId),this.yaw-this.previousYaw<-Math.PI&&(this.previousYaw-=Math.PId),this.scale!==this.prevScale){this.prevScale=this.scale;let e=this.scale;this.w=St*e,this.bottomH=xt*e,this.topH=vt*e,this.defaultBottomH=xt*e,this.sitBottomH=Pt*e,this.sneakBottomH=Tt*e,this.swimBottomH=Nt*e}for(var s in this.sneaking||this.eating||this.usingItem&&L[this.holding].spyglass||(this.sitting?this.bottomH=this.sitBottomH:this.swimming?this.bottomH=this.swimBottomH:this.sprinting||(this.bottomH=this.defaultBottomH)),this.parts){(r=this.parts[s]).prx=r.rx,r.pry=r.ry,r.prz=r.rz,r.pry2=r.ry2,r.lastUpdate=Us}if(this.pOffsetry=this.offsetry,this.swimming!==this.prevSwimming&&(this.prevSwimming=this.swimming,this.swimStart=Us),this.parts.head.rx=this.headPitch,this.parts.head.ry=0,this.parts.head.ry2=this.headYaw,this.parts.leftLeg.ry2=0,this.parts.rightLeg.ry2=0,this.parts.leftLeg.y=this.parts.leftLeg.originalY,this.parts.rightLeg.y=this.parts.rightLeg.originalY,this.pOffsetZ=this.offsetZ,this.offsetZ=0,this.sleeping)this.offsetY=0,this.pitch=-Math.PI2;else if(this.sitting)this.offsetY=this.defaultOffsetY,this.pitch=0,this.parts.leftLeg.rx=this.parts.rightLeg.rx=-Math.PI2,this.parts.leftLeg.ry2=Math.PI/8,this.parts.rightLeg.ry2=-Math.PI/8;else if(this.sneaking){this.offsetY=this.sneakingOffsetY;var a=Math.PI/6;this.pitch=a,this.parts.leftLeg.rx=this.parts.rightLeg.rx=-a,this.parts.leftLeg.y+=.25,this.parts.rightLeg.y+=.25,this.offsetZ=-.25}else this.swimming?(this.offsetY=this.defaultOffsetY,this.parts.leftLeg.rx=this.parts.rightLeg.rx=0,Us-this.swimStart<250?this.pitch=lerp((Us-this.swimStart)/250,0,Math.PI2+this.headPitch):this.pitch=Math.PI2+this.headPitch):(this.offsetY=this.defaultOffsetY,this.pitch=0,this.parts.leftLeg.rx=this.parts.rightLeg.rx=0,Us-this.swimStart<500&&(this.pitch=lerp((Us-this.swimStart)/500,Math.PI2+this.headPitch,0)));this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId),this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t;var o,r=this.parts.holding;if(this.holding!==this.prevHolding&&(this.prevHolding=this.holding),this.parts.rightArm.rx=this.holdRot,this.parts.leftArm.rx=0,L[this.holding].tool?(r.x=-.125,r.y=-.75,r.z=.375,r.w=r.h=r.d=1,r.rx=Math.PI/1.25,r.ry=-.5*Math.PI):"bow"===L[this.holding].name?(r.x=0,r.y=-.75,r.z=0,r.w=r.h=r.d=1,r.rx=Math.PI/1.25,r.ry=-.5*Math.PI):L[this.holding].spyglass?(r.x=.125,r.y=-.625,r.z=0,r.w=r.h=r.d=1,r.rx=-this.holdRot,r.ry=0):L[this.holding].item?(r.x=0,r.y=-.6875,r.z=.25,r.w=r.h=r.d=.5,r.rx=Math.PI2,r.ry=0):this.holding?(r.x=0,r.y=-.75,r.z=3*e,r.w=r.h=r.d=.25,r.rx=0,r.ry=Math.PI/4):this.parts.rightArm.rx=0,this.walking!==this.prevWalking&&(this.prevWalking=this.walking,this.walkStart=Us),o=this.walking?this.sprinting&&!this.swimming?sin((Us-this.walkStart)/250*Math.PI)*Math.PI/4:this.sneaking&&!this.swimming?sin((Us-this.walkStart)/220)*Math.PI/4:sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:0,this.walkRot=lerp(.5,this.walkRot,o),this.parts.leftLeg.rx+=this.walkRot,this.parts.rightLeg.rx-=this.walkRot,this.swimming&&this.walking){var i=(Us-this.swimStart)%2e3;if(i<750){var n=i*Math.PI2/750;this.parts.leftArm.rz+=n,this.parts.rightArm.rz-=n}else if(i<1e3)this.parts.leftArm.rz+=Math.PI2,this.parts.rightArm.rz-=Math.PI2;else if(i<1500){n=(500-(i-1e3))*Math.PI2/500;var l=(i-1e3)*Math.PI2/500;this.parts.leftArm.rx-=l,this.parts.rightArm.rx-=l,this.parts.leftArm.rz+=n,this.parts.rightArm.rz-=n}else{l=(500-(i-1500))*Math.PI2/500;this.parts.leftArm.rx-=l,this.parts.rightArm.rx-=l}}else this.parts.leftArm.rx+=this.walkRot,this.parts.rightArm.rx-=this.walkRot;if(this.punchEffect>0){this.punchEffect-=1.5,this.punchEffect<0&&(this.punchEffect=0);var h=this.punchEffect;this.parts.rightArm.rx-=h/6,this.parts.rightArm.ry2=-sin(h*Math.PI/10)}else this.parts.rightArm.ry2=0;this.parts.leftArm.ry2=0,this.eating&&(this.parts.rightArm.rx-=Math.PI2+sin((Us-this.spawn)/125*Math.PI)/16-.5,this.parts.rightArm.ry2=Math.PI4),this.usingItem&&("bow"===L[this.holding].name?(this.parts.leftArm.rx=-Math.PI2,this.parts.leftArm.ry2=-Math.PI4,this.parts.rightArm.rx=-Math.PI2):L[this.holding].spyglass?this.parts.rightArm.rx=-Math.PI2+this.holdRot:L[this.holding].sword&&(this.parts.rightArm.rx=.8*-Math.PI2,this.parts.holding.ry=Math.PI,this.parts.holding.rx=Math.PI2,this.parts.holding.y=-.625,this.parts.holding.x=5*e))}setPos(e,t,s,a,o,r){this.targetX=e,this.targetY=t,this.targetZ=s,this.velx=a,this.vely=o,this.velz=r,this.lastPos=performance.now()}setRot(e,t,s){this.targetHeadPitch=e,this.targetHeadYaw=t,this.bodyRot=s||0===s?s:t}}wt[wt.length]=class extends Bt{static name2="Item";constructor(e,t,s,a,o,r,i,n,l,h=null,d=null,c){super(e,t,s,0,0,a,o,r,.25,.25,.25,null,null,0,3e5),this.block=i,this.from=c||void 0,this.durability=h,this.name=d,this.amount=l||1,this.gravityStength=-.07,this.noHitbox=!0,this.canFloat=!0,this.cullFace=!0,n&&(this.velx=.2*(Math.random()-.5),this.vely=.2*Math.random(),this.velz=.2*(Math.random()-.5))}goCloserToPlayer(e){let t=this.x-e.x,s=this.y-(e.y-e.bottomH),a=this.z-e.z;var o=1.425;t>-1.425&&t<o&&s>-.75&&s<2.3&&a>-1.425&&a<o&&this.moveTowards(e.x,Math.min(Math.max(this.y,e.y-e.bottomH),e.y+e.topH),e.z,o,2.3,o,3)}update(){if(this.updateVelocity(Us),this.move(Us),this.amount<=0)return this.canDespawn=!0;if(this.yaw+=.05,this.yaw>Math.PId&&(this.yaw-=Math.PId,this.previousYaw-=Math.PId),Us-this.spawn>1e3)for(var e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.goCloserToPlayer(e);let t=3/4;var s=L[this.block].stackSize,a=!1;for(var o of(this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,1,Xt),Xt))if("Item"===o.type&&o!==this&&o.block===this.block&&(!o.name&&!this.name||o.name===this.name)&&o.amount+this.amount<=s){var r=this.x-o.x,i=this.y-o.y,n=this.z-o.z;r>-t&&r<t&&i>-t&&i<t&&n>-t&&n<t&&(this.amount+=o.amount,o.amount=0,this.velx=(this.velx+o.velx)/2,this.vely=(this.vely+o.vely)/2,this.velz=(this.velz+o.velz)/2,this.x=(this.x+o.x)/2,this.y=(this.y+o.y)/2,this.z=(this.z+o.z)/2,a=!0)}if(a&&this.world.sendEntityPos(this),Us-this.spawn>this.despawns&&(this.canDespawn=!0),this.amount||(this.canDespawn=!0),this.insideBlock&&L[this.insideBlock].itemOnTop||this.standingOn&&L[this.standingOn].itemOnTop){var l=this.insideBlock&&L[this.insideBlock].itemOnTop,h=l?this.insideBlock:this.standingOn,d=l?round(this.y):ceil(this.y-this.height/2)-1,c=L[h].itemOnTop(round(this.x),d,round(this.z),this.dimension,this);c?(this.amount=c,this.willUpdateShape=!0,this.world.sendEntityPos(this)):0===c&&(this.canDespawn=!0)}}};let zt=wt[wt.length]=class extends Bt{static name2="BlockEntity";constructor(e,t,s,a,o){super(t,s,a,0,0,0,0,0,1,1,1,null,null,null,15e5),this.block=e,this.solidOnGround=o,this.lastY=s,this.noHitbox=!0,this.cullFace=!0}changeBlock(e){this.block!==e&&(this.block=e)}update(){if(this.updateVelocity(Us),this.move(Us),Us-this.spawn>this.despawns&&(this.canDespawn=!0),this.onGround&&this.solidOnGround){var e=round(this.x),t=round(this.y),s=round(this.z);(i=this.world.getBlock(e,t,s,this.dimension))&&!L[i].liquid?this.world.addItems(e,t,s,this.dimension,0,0,0,this.block):(this.world.setBlock(e,t,s,this.block,!1,!1,!1,!1,this.dimension),this.world.blockSound(this.block,"land",e,t,s)),this.canDespawn=!0}if("anvil"===L[this.block].name||"pointedDripstone"===L[this.block].name){var a,o,r=Kt(this);if("pointedDripstone"===L[this.block].name?a=min(max(2*(this.lastY-this.y-2),0),40):"anvil"===L[this.block].name&&(a=min(max(2*(this.lastY-this.y-1),0),40)),Vt)"pointedDripstone"===L[this.block].name?o=r.username+" got poked to death by a falling pointed dripstone":"anvil"===L[this.block].name&&(o=r.username+" got hit by an anvil and stuff"),this.world.sendPlayer({type:"hit",username:"",damage:a,damageType:"neutral",message:o,x:this.previousX,y:this.previousY,z:this.previousZ},r.id);else r&&r.damage&&r.damage(a);if("pointedDripstone"===L[this.block].name&&this.onGround){var i=I.pointedDripstone;this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,i,!0),this.world.blockParticles(i,this.x,this.y,this.z,30,"break",this.dimension),this.canDespawn=!0}}}},Lt=wt[wt.length]=class extends zt{static name2="PrimedTNT";constructor(e,t,s,a,o=I.tnt){super(o,e,t,s),this.velx=.1*Math.random()-.05,this.vely=.1*Math.random(),this.velz=.1*Math.random()-.05,this.timerStart=a||this.spawn,this.lastCollidedY=this.timerStart,this.timeLimit=80,this.tntBlockId=o}explode(){var e=round(this.x),t=round(this.y),s=round(this.z);this.world.explode(e,t,s,4,this.liquid||!this.world.settings.tntExplode,this.dimension)}update(){this.updateVelocity(Us),this.move(Us),this.onGround&&(this.lastCollidedY=this.y),this.y-this.lastCollidedY>19.75&&(this.lastCollidedY=this.y,this.timerStart-=1e3),(Us-this.spawn)/y>=this.timeLimit&&(this.canDespawn=!0,this.explode())}};wt[wt.length]=class extends Lt{static name2="PrimedSuperTNT";constructor(e,t,s,a){super(e,t,s,a,I.tnt|ce)}explode(){var e=round(this.x),t=round(this.y),s=round(this.z);this.world.explode(e,t,s,8,L[this.world.getBlock(e,t,s)].liquid||!this.world.settings.tntExplode,this.dimension)}},wt[wt.length]=class extends Lt{static name2="PrimedUltraTNT";constructor(e,t,s,a){super(e,t,s,a,I.tnt|pe)}explode(){var e=round(this.x),t=round(this.y),s=round(this.z);this.world.explode(e,t,s,24,L[this.world.getBlock(e,t,s)].liquid||!this.world.settings.tntExplode,this.dimension)}},wt[wt.length]=class extends Lt{static name2="PrimedUnTNT";constructor(e,t,s,a){super(e,t,s,a,I.untnt)}explode(){var e=round(this.x),t=round(this.y),s=round(this.z);this.world.explode(e,t,s,5,L[this.world.getBlock(e,t,s)].liquid||!this.world.settings.tntExplode||"original",this.dimension)}},wt[wt.length]=class extends zt{static name2="MovingBlock";noRemoteDelete=!0;constructor(e,t,s,a,o,r,i,n,l=!1,h=null){super(e,t,s,a),this.sx=t,this.sy=s,this.sz=a,this.mx=o,this.my=r,this.mz=i,this.despawns=n,this.solidWhenDone=l,this.tags=h,this.canStandOn=!0,this.endAs=null}update(){this.lastUpdate-this.spawn>=this.despawns&&(this.canDespawn=!0,this.solidWhenDone&&(this.x=this.mx,this.y=this.my,this.z=this.mz,this.world.setBlock(round(this.x),round(this.y),round(this.z),this.endAs||this.block,!1,!1,!1,!1,this.dimension),this.tags&&this.world.setTags(round(this.x),round(this.y),round(this.z),this.tags,!1,this.dimension))),this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z,this.lastUpdate=Us;var e=min((Us-this.spawn)/this.despawns,1);this.x=lerp(e,this.sx,this.mx),this.y=lerp(e,this.sy,this.my),this.z=lerp(e,this.sz,this.mz),this.velx=this.x-this.previousX,this.vely=this.y-this.previousY,this.velz=this.z-this.previousZ}},wt[wt.length]=class extends zt{static name2="BlockDisplay";constructor(e,t,s,a,o,r,i){super(e,t,s,a,o,r,i),this.width=o,this.height=r,this.depth=i}update(){}},wt[wt.length]=class extends zt{static name2="EnderPearl";constructor(e,t,s,a,o,r){super(I.enderPearl,e,t,s),this.velx=a,this.vely=o,this.velz=r,this.from=null,this.facesPlayer=!0,this.gravityStength=-.04}update(){this.updateVelocity(Us),this.move(Us),Us-this.spawn>this.despawns&&(this.canDespawn=!0),this.hasCollided&&(this.from&&this.world.sendPlayer({type:"tp",x:this.x,y:this.y+1,z:this.z,dimension:this.dimension},this.from),this.canDespawn=!0),this.canFacePlayer=!0}},wt[wt.length]=class extends zt{static name2="Snowball";constructor(e,t,s,a,o,r){super(I.snowball,e,t,s),this.velx=a,this.vely=o,this.velz=r,this.from=null,this.facesPlayer=!0,this.gravityStength=-.04}update(){if(this.updateVelocity(Us),this.move(Us),Us-this.spawn>250){var e=Kt(this);let t=Qt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Vt?this.world.sendPlayer({type:"hit",username:t,id:this.from,damage:1,message:t+" killed "+e.username+" with snowballs.",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&e.onhit(1,!1,0,0,this.from),this.canDespawn=!0)}(Us-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0),this.canDespawn&&this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),this.canFacePlayer=!0}},wt[wt.length]=class extends zt{static name2="SmallFireball";constructor(e,t,s,a,o,r){super(I.fireCharge,e,t,s),this.width=this.height=this.depth=.3125,this.velx=a,this.vely=o,this.velz=r,this.from=null,this.facesPlayer=!0,this.gravityStength=-.07}update(){if(this.updateVelocity(Us),this.move(Us),Us-this.spawn>250){var e=Kt(this);let t=Qt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Vt?this.world.sendPlayer({type:"hit",username:t,id:this.from,damage:5,burn:8,message:e.username+" was shot by fireballs from "+t+".",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&(e.onhit(5,!1,0,0,this.from),e.burnTimer+=8),this.canDespawn=!0)}(Us-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0,this.hasCollided&&this.world.setBlock(round(this.x),round(this.y),round(this.z),I.fire,!1,!1,!1,!1,this.dimension)),this.canDespawn&&this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),this.canFacePlayer=!0}},wt[wt.length]=class extends zt{static name2="Egg";constructor(e,t,s,a,o,r){super(I.egg,e,t,s),this.velx=a,this.vely=o,this.velz=r,this.from=null,this.facesPlayer=!0,this.gravityStength=-.07}update(){this.updateVelocity(Us),this.move(Us);var e=Kt(this);let t=Qt(this.from,this.world);t=t&&(t.username||t.name),e&&e!==this&&(Vt?this.world.sendPlayer({type:"hit",username:t,id:this.from,damage:1,message:t+" killed "+e.username+" with eggs.",x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.damage&&e.onhit(1,!1,0,0,this.from),this.canDespawn=!0),(Us-this.spawn>this.despawns||this.hasCollided)&&(this.canDespawn=!0),this.canDespawn&&(this.world.blockParticles(this.block,this.x,this.y,this.z,30,"break",this.dimension),rand()>.9&&this.world.addEntity(new wt[ft.Chicken](this.x,this.y,this.z),!1,this.dimension)),this.canFacePlayer=!0}},wt[wt.length]=class extends zt{static name2="SlingshotShot";constructor(e,t,s,a,o,r){super(I.ironNugget,e,t,s),this.velx=a,this.vely=o,this.velz=r,this.despawns=1e4,this.facesPlayer=!0,this.gravityStength=-.02}update(){this.updateVelocity(Us),this.move(Us),Us-this.spawn>this.despawns&&this.onGround&&(this.canDespawn=!0);var e=Kt(this);e&&(Vt?this.world.sendPlayer({type:"hit",damage:5,message:e.username+" got killed by a slingshot.",x:this.previousX,y:this.previousY,z:this.previousZ,damageType:"neutral"},e.id):e.damage&&e.damage(5),this.canDespawn=!0),this.canFacePlayer=!0}move(e){let t=floor(this.x-this.width/2),s=ceil(this.x+this.width/2),a=floor(this.y-this.height/2),o=ceil(this.y+this.height/2),r=floor(this.z-this.depth/2),i=ceil(this.z+this.depth/2),n=null;this.liquid=!1;for(let e=t;e<=s;e++)for(let t=a;t<=o;t++)for(let s=r;s<=i;s++){let a=this.world.getBlock(e,t,s,this.dimension);a&&L[a].solid&&this.contacts.add(e,t,s,a),e===round(this.x)&&s===round(this.z)&&L[a].liquid&&(this.liquid=!0)}this.previousX=this.x,this.previousY=this.y,this.previousZ=this.z;var l,h,d,c=this.velx,p=this.vely,u=this.velz;this.canStepX=!1,this.canStepY=!1,this.onGround=!1,this.hasCollided=!1,this.y+=this.vely;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],null,this.vely,null,n[3])){this.y=this.previousY,this.vely=0,this.hasCollided=!0,h=!0;break}this.y===this.previousY&&(this.canStepX=!0,this.canStepZ=!0),this.x+=this.velx;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],this.velx,null,null,n[3])){if(this.canStepX&&!this.world.getBlock(n[0],n[1]+1,n[2],this.dimension)&&!this.world.getBlock(n[0],n[1]+2,n[2],this.dimension))continue;this.x=this.previousX,this.velx=0,this.hasCollided=!0,l=!0;break}this.z+=this.velz;for(let e=0;e<this.contacts.size;e++)if(n=this.contacts.array[e],this.collided(n[0],n[1],n[2],null,null,this.velz,n[3])){if(this.canStepZ&&!this.world.getBlock(n[0],n[1]+1,n[2],this.dimension)&&this.world.getBlock(n[0],n[1]+2,n[2]),this.dimension)continue;this.z=this.previousZ,this.velz=0,this.hasCollided=!0,d=!0;break}this.onGround&&(this.hasCollided=!0),l&&(this.velx=-c),h&&(this.vely=-p),d&&(this.velz=-u),this.updateChunk(),this.lastUpdate=e,this.contacts.clear()}},wt[wt.length]=class extends Bt{static name2="Arrow";constructor(e,t,s,a,o,r,i){super(e,t,s,0,0,a,o,r,.25,.25,.25,null,null,null,6e4),this.gravityStength=-.01,this.prevChangedX=e,this.prevChangedY=t,this.prevChangedZ=s,this.direction=new ys(a,o,r),this.stopStart=this.spawn,this.hasStopped=!1,this.noHitbox=!0,this.from=i}updateVelocity(e){if(this.hasCollided)this.velx=this.vely=this.velz=0;else{this.vely+=this.gravityStength,this.vely<-1.5&&(this.vely=-1.5);let e=this.liquid?.7:.99;this.velz+=this.velz*e-this.velz,this.velx+=this.velx*e-this.velx}}collided(e,t,s,a,o,r,i){let n,l,h,d,c,p,u,m,g=L[i].shape.verts,k=this.x-this.width/2-e,y=this.y-this.height/2-t,b=this.z-this.depth/2-s,w=this.x+this.width/2-e,f=this.y+this.height/2-t,B=this.z+this.depth/2-s,S=g[0];if(o<=0&&(S=g[1]),null===a&&null===r){let e=!1;for(let s of S)u=s.min,n=u[0],h=u[2],m=s.max,d=m[0],p=m[2],s[1]>y&&s[1]<f&&n<w&&d>k&&h<B&&p>b&&(e=!0,o<=0?(this.onGround=!0,this.y=s[1]+t+this.height/2,this.vely=0):(this.y=s[1]+t-this.height/2,this.vely=0)),s[1]>=y&&s[1]<=f&&n<=w&&d>=k&&h<=B&&p>=b&&(this.hasCollided=!0);return e}if(a<0?S=g[4]:a>0&&(S=g[5]),null!==a){let t=!1;for(let s of S)u=s.min,h=u[2],l=u[1],m=s.max,p=m[2],c=m[1],s[0]>k&&s[0]<w&&l<f&&c>y&&h<B&&p>b&&(c-y>.5&&(this.canStepX=!1,this.x=e+s[0]+(a<0?this.width/2:-this.width/2),this.velx=0),t=!0),s[0]>=k&&s[0]<=w&&l<=f&&c>=y&&h<=B&&p>=b&&(this.hasCollided=!0);return t}if(r<0?S=g[2]:r>0&&(S=g[3]),null!==r){let e=!1;for(let t of S)u=t.min,n=u[0],l=u[1],m=t.max,d=m[0],c=m[1],t[2]>b&&t[2]<B&&l<f&&c>y&&n<w&&d>k&&(c-y>.5&&(this.canStepZ=!1,this.z=s+t[2]+(r<0?this.depth/2:-this.depth/2),this.velz=0),e=!0),t[2]>=b&&t[2]<=B&&l<=f&&c>=y&&n<=w&&d>=k&&(this.hasCollided=!0);return e}}update(){if(this.updateVelocity(Us),this.move(Us),this.previousX===this.x&&this.previousY===this.y&&this.previousZ===this.z||(this.prevChangedX=this.previousX,this.prevChangedY=this.previousY,this.prevChangedZ=this.previousZ),this.hasCollided){if(!this.hasStopped){this.hasStopped=!0,this.stopStart=Us,this.direction.normalize();var e=round(this.x+this.direction.x),t=round(this.y+this.direction.y),s=round(this.z+this.direction.z),a=this.world.getBlock(e,t,s,this.dimension);a&&L[a].projectileHit&&L[a].projectileHit(e,t,s,this.dimension,this)}}else this.hasStopped=!1,this.direction.x=this.velx,this.direction.y=this.vely,this.direction.z=this.velz;if(Us-this.stopStart>this.despawns&&(this.canDespawn=!0),!this.hasCollided){let e=Kt(this),t=Qt(this.from,this.world);t=t&&(t.username||t.name);let s=4*dist3(this.velx,this.vely,this.velz,0,0,0);e&&e!==this&&(this.canDespawn=!0,Vt?this.world.sendPlayer({type:"hit",velx:this.velx/2,velz:this.velz/2,username:t,id:this.from,damage:s,message:e.username+" got killed by an arrow"+(t?" from "+t+".":"."),x:this.previousX,y:this.previousY,z:this.previousZ},e.id):e.onhit?e.onhit(s,!1,this.velx/2,this.velz/2,this.from):this.canDespawn=!1)}this.yaw=Math.PId-(atan2(this.z-this.prevChangedZ,this.x-this.prevChangedX)+Math.PI2+Math.PI);var o=dist2(this.prevChangedX,this.prevChangedZ,this.x,this.z);this.pitch=Math.PId-atan2(this.y-this.prevChangedY,o)}},wt[wt.length]=class extends Bt{static name2="ExperienceOrb";constructor(e,t,s,a){super(e,t,s,0,0,0,0,0,.5,.5,.5,null,null,null,3e5),this.amount=a,this.noHitbox=!0,this.facesPlayer=!0}goToPlayer(e){var t=dist3(this.x,this.y,this.z,e.x,e.y-e.bottomH,e.z);return t<7.25&&this.moveTowards(e.x,e.y-e.bottomH,e.z,7.25,7.25,7.25,5,!0),t<.5}update(){for(var e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.goToPlayer(e);this.updateVelocity(Us),this.move(Us),Us-this.spawn>this.despawns&&(this.canDespawn=!0)}};class Rt extends Bt{static mob=!0;mob=!0;constructor(){super(...arguments),this.health=0,this.lastDamage=0,this.lastY=this.y,this.path=null,this.walking=!1,this.panick=0,this.drop=null,this.dropAmount=0,this.maxDamageBlock=0,this.maxBurnBlock=0,this.burnTimer=0,this.burning=!1,this.lastBlockDamage=0,this.oxygen=20,this.lastOxygenChange=0,this.spinTarget=0,this.spinTargetPitch=0,this.die=!1,this.lastStepSound=0,this.noScale=!0,this.hostile=!1,this.minFollowDist=0,this.maxFollowDist=0,this.detectionDist=0,this.target=null,this.targetEnt=null,this.attackStrength=0,this.attackCooldown=0,this.maxAttackCooldown=0,this.holding=this.prevHolding=0,this.canClimb=!1,this.canFly=!1,this.attacks=null,this.attracts=null,this.attractEnt=null,this.attractedBy=null,this.sitting=!1,this.owner=null,this.name=null,this.despawnStart=performance.now(),this.hasAI=!0}findPath(e,t,s,a,o,r){let i,n,l,h,d,c,p,u,m,g=[],k=[e,t,s,null],y=e,b=t,w=s,f=this.canFly;for(;k.length&&max(abs(y-a),abs(b-o),abs(w-r))>1;){y=k[k.length-4],b=k[k.length-3],w=k[k.length-2];let o=1/0,B=1/0;if(c=p=u=0,max(abs(y-e),abs(b-t),abs(w-s))<=10){if(i=abs(y+1-a)+abs(w-r),i<o){n=1,l=0,h=0,d=!1,m=1/0;let e=L[this.world.getBlock(y+n,b+1,w+h)].solid,s=L[this.world.getBlock(y+n,b,w+h)].solid,a=L[this.world.getBlock(y+n,b-1,w+h)].solid,r=L[this.world.getBlock(y+n,b-2,w+h)].solid;(s||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(a||L[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!s&&!L[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(r||f)&&!a&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=i,c=n,p=l,u=h,B=m)}if(i=abs(y-1-a)+abs(w-r),i<o){n=-1,l=0,h=0,d=!1,m=1/0;let e=L[this.world.getBlock(y+n,b+1,w+h)].solid,s=L[this.world.getBlock(y+n,b,w+h)].solid,a=L[this.world.getBlock(y+n,b-1,w+h)].solid,r=L[this.world.getBlock(y+n,b-2,w+h)].solid;(s||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(a||L[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!s&&!L[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(r||f)&&!a&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=i,c=n,p=l,u=h,B=m)}if(i=abs(y-a)+abs(w+1-r),i<o){n=0,l=0,h=1,d=!1,m=1/0;let e=L[this.world.getBlock(y+n,b+1,w+h)].solid,s=L[this.world.getBlock(y+n,b,w+h)].solid,a=L[this.world.getBlock(y+n,b-1,w+h)].solid,r=L[this.world.getBlock(y+n,b-2,w+h)].solid;(s||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(a||L[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!s&&!L[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(r||f)&&!a&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=i,c=n,p=l,u=h,B=m)}if(i=abs(y-a)+abs(w-1-r),i<o){n=0,l=0,h=-1,d=!1,m=1/0;let e=L[this.world.getBlock(y+n,b+1,w+h)].solid,s=L[this.world.getBlock(y+n,b,w+h)].solid,a=L[this.world.getBlock(y+n,b-1,w+h)].solid,r=L[this.world.getBlock(y+n,b-2,w+h)].solid;(s||f)&&!e&&abs(b+1-t)<m&&(l=1,d=!0,m=abs(b-1-t)),(a||L[this.world.getBlock(y+n,b-1,w+h)].liquid||f)&&!s&&!L[this.world.getBlock(y+n,b,w+h)].liquid&&abs(b-t)<m&&(l=0,d=!0,m=abs(b-1-t)),(r||f)&&!a&&abs(b-1-t)<m&&(l=-1,d=!0,m=abs(b-1-t)),d&&!xyArrayHas(g,k,y+n,b+l,w+h)&&(o=i,c=n,p=l,u=h,B=m)}if(!isFinite(o)&&this.canClimb){let e=L[this.world.getBlock(y+1,b,w)].solid||L[this.world.getBlock(y-1,b,w)].solid||L[this.world.getBlock(y,b,w+1)].solid||L[this.world.getBlock(y,b,w-1)].solid,s=L[this.world.getBlock(y,b+1,w)].solid,i=L[this.world.getBlock(y,b,w)].solid;!s&&!i&&e&&abs(b+1-t)<B&&!xyArrayHas(g,k,y,b+1,w)&&(p=1,B=abs(b+1-t),o=abs(y-a)+abs(w-r))}else if(!isFinite(o)&&this.canFly){let e=L[this.world.getBlock(y,b+1,w)].solid,s=L[this.world.getBlock(y,b,w)].solid;!e&&!s&&abs(b+1-t)<B&&!xyArrayHas(g,k,y,b+1,w)&&(p=1,B=abs(b+1-t),o=abs(y-a)+abs(w-r))}}g.push(...k.splice(0,4)),isFinite(o)?k.push(y+c,b+p,w+u,g.length-4):(k.pop(),k.pop(),k.pop(),k.pop())}if(y===e&&b===t&&w===s)return null;let B=g.length-4,S=[y,b,w,y+c,b+p,w+u];for(;S.length<85&&(B=g[B+3],B||0===B);)S.unshift(g[B],g[B+1],g[B+2]);return S}randomPath(){let e,t,s=round(this.x+rand(-10,10)),a=round(this.z+rand(-10,10));for(e=t=round(this.y);e<round(this.y)+10;e++,t--){let o=L[this.world.getBlock(s,e,a,this.dimension)];if(!o.solid&&!o.liquid)break;if(o=L[this.world.getBlock(s,t,a,this.dimension)],!o.solid&&!o.liquid)break}this.path=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),s,e,a)||null}AI(e){if(!this.hasAI)return;let t=this.target&&Qt(this.target,this.world),s=t||this.attractEnt,a=s&&max(abs(s.x-this.x),abs(s.y-this.y),abs(s.z-this.z));if(this.path&&(!s||s===t&&a>this.minFollowDist||s===this.attractEnt&&a>2)){let[e,t,s]=this.path,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.spinTarget=a;let o=max(min(a-this.yaw,.3),-.3);this.yaw+=o;let r=this.panick>0?.08:this.target?.04:.02;this.velx+=sin(this.yaw)*r,this.velz+=cos(this.yaw)*r,t>round(this.y-this.height/2)&&(this.canClimb?this.vely=.2:this.canFly?this.vely+=.2:this.onGround&&(this.vely=.6)),max(abs(this.x-e),abs(this.z-s))<1&&abs(this.y-this.height/2-t)<1&&this.path.splice(0,3),this.path.length||(this.path=null),this.walking=!0}else if(this.walking=!1,this.spinTarget!==this.yaw){let e=this.spinTarget,t=max(min(e-this.yaw,.1),-.1);this.yaw+=t}if(this.liquid&&(this.vely+=.3),this.path&&this.sitting&&(this.path=null),this.sitting&&this.targetEnt&&(this.targetEnt=t=null),t){(max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z))>this.maxFollowDist||this.dimension!==t.dimension||t.hidden||t.die||void 0!==t.survival&&!t.survival)&&(this.target=t=null)}if(this.hostile&&!t&&!this.sitting){let e=1/0;if(!this.attacks||this.attacks.includes("Player"))for(let s of this.world.players)if(this.dimension===s.dimension&&!s.hidden&&!s.die&&s.survival){let a=max(abs(this.x-s.x),abs(this.y-s.y),abs(this.z-s.z));a<this.detectionDist&&a<e&&(e=a,this.target=s.id,t=s)}if(this.attacks){this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,this.detectionDist,Xt);for(let s of Xt)if(this.dimension===s.dimension&&!s.hidden&&!s.die&&this.attacks.includes(s.type)){let a=max(abs(this.x-s.x),abs(this.y-s.y),abs(this.z-s.z));a<this.detectionDist&&a<e&&(e=a,this.target=s.id,t=s)}}}if(this.attractEnt=null,!t&&this.attracts){let e=1/0;for(let t of this.world.players){let s=max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z));t.dimension===this.dimension&&!t.hidden&&!t.die&&s<5&&s<e&&this.attracts.includes(t.holding)&&(e=s,this.attractEnt=t)}}if(this.attractedBy=this.attractEnt?this.attractEnt.id:null,this.attackCooldown>0&&this.attackCooldown--,s&&!this.sitting){let e=round(s.y);if(!this.canFly){for(;!L[this.world.getBlock(round(this.x),e,round(this.z),this.dimension)].solid&&e>round(this.y)-this.detectionDist;)e--;e++}let o=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),round(s.x),e,round(s.z));if(o&&(o.splice(0,3),this.path=o),t&&this.attackStrength&&this.attackCooldown<=0&&(a||0===a)&&a<=this.minFollowDist){let e=sin(this.yaw)/2,s=cos(this.yaw)/2;if("Player"===t.type){let e=this.name?t.username+"was killed by "+this.name+".":this.killMessage(t.username);this.world.sendPlayer({type:"hit",damageType:"mobHit",username:this.name||this.defaultName,id:this.id,damage:this.attackStrength,message:e,x:this.x,y:this.y,z:this.z},t.id)}else t.onhit&&t.onhit(this.attackStrength,!1,e,s,this.id);this.attackCooldown=this.maxAttackCooldown,this.world.sendEntityPos(this)}}else!this.sitting&&rand()>.995?this.randomPath():rand()>.99&&(this.spinTarget=rand(Math.PId),this.spinTargetPitch=0);if(this.saySound&&rand()>.999){let e=this.saySound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e)}this.targetEnt=t,this.additionalAI&&this.additionalAI()}pushByPlayer(e){let t=this.width/2,s=this.depth/2,a=this.height/2,o=e.w,r=e.w,i=(t+o)**2,n=(s+r)**2;if(this.x-t<e.x+o&&this.x+t>e.x-o&&this.z-s<e.z+r&&this.z+s>e.z-r&&this.y-a<e.y+e.topH&&this.y+a>e.y-e.bottomH){let a=this.x-e.x,l=this.z-e.z;if(0===a&&0===l)return;let h=sqrt(a*a+l*l),d=1-sqrt(a*a/i+l*l/n);a=a/h*d*(t+o)/2,l=l/h*d*(s+r)/2,this.velx+=a,this.velz+=l}}pushByMob(e){let t=this.width/2,s=this.depth/2,a=this.height/2,o=e.width/2,r=e.depth/2,i=e.height/2,n=(t+o)**2,l=(s+r)**2;if(this.x-t<e.x+o&&this.x+t>e.x-o&&this.z-s<e.z+r&&this.z+s>e.z-r&&this.y-a<e.y+i&&this.y+a>e.y-i){let a=this.x-e.x,i=this.z-e.z;if(0===a&&0===i)return;let h=sqrt(a*a+i*i),d=1-sqrt(a*a/n+i*i/l);a=a/h*d*(t+o)/2,i=i/h*d*(s+r)/2,this.velx+=a,this.velz+=i}}ontouch(e,t,s,a){let o=L[a];if(this.x-.6<e+1&&this.x+.6>e-1&&this.y-.6<t+1&&this.y+.6>t-1&&this.z-.6<s+1&&this.z+.6>s-1){if(o.damage){let e=o.damage;"function"==typeof e&&(e=e(round(this.x),round(this.y),round(this.z),this.dimension)),e>this.maxDamageBlock&&(this.maxDamageBlock=e)}o.burnEnt&&(this.maxBurnBlock=.2)}else o.damageUp&&this.x-this.width/2<e+.5&&this.x+this.width/2>e-.5&&this.y-this.height/2<=t+.5&&this.y+this.height/2>t-.5&&this.z-this.depth/2<s+.5&&this.z+this.depth/2>s-.5&&o.damageUp>this.maxDamageBlock&&(this.maxDamageBlock=o.damageUp)}mobUpdate(e){this.maxBurnBlock=this.maxDamageBlock=0,this.updateVelocity(e),this.move(e);for(let e of this.world.players)e.hidden||e.die||e.dimension!==this.dimension||this.pushByPlayer(e);this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,16,Xt);for(let e of Xt)e.mob&&e!==this&&e.dimension===this.dimension&&this.pushByMob(e);if(this.AI(e),this.y>this.lastY&&(this.lastY=this.y),this.onGround&&!this.canFly){let e=this.lastY-this.y;this.lastY=this.y,!this.liquid&&e>3&&this.damage(e-3)}if(this.maxDamageBlock>0&&e-this.lastBlockDamage>500&&(this.lastBlockDamage=e,this.damage(this.maxDamageBlock),this.path||this.randomPath(),this.sitting=!1,this.world.sendEntityPos(this),this.panick=20),this.burnTimer+=this.maxBurnBlock,this.burnTimer>16&&(this.burnTimer=16),this.burning=this.burnTimer>0,this.burning&&e-this.lastBlockDamage>1e3&&(this.lastBlockDamage=e,this.burnTimer-=2,this.burnTimer<0&&(this.burnTimer=0),this.damage(1),this.path||this.randomPath(),this.sitting=!1,this.world.sendEntityPos(this),this.panick=20),this.insideBlock&&(L[this.insideBlock].solid&&!L[this.insideBlock].transparent||L[this.insideBlock].liquid)?this.oxygen>0?e-this.lastOxygenChange>(L[this.insideBlock].liquid?1e3:500)&&(this.lastOxygenChange=e,this.oxygen-=2):e-this.lastOxygenChange>500&&(this.lastOxygenChange=e,this.damage(1),this.path||this.randomPath(),this.world.sendEntityPos(this),this.sitting=!1,this.panick=20):this.oxygen<20&&e-this.lastOxygenChange>250&&(this.lastOxygenChange=e,this.oxygen+=2),this.oxygen<0&&(this.oxygen=0),this.oxygen>20&&(this.oxygen=20),this.harmEffect>0&&(this.harmEffect-=3),this.health<=0&&!this.die){if(this.die=!0,this.hasAI=!1,this.deathSound){let e=this.deathSound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e)}if(this.drop){for(let e of this.drop){let t=this.dropAmount||1;Array.isArray(t)&&(t=round(rand(t[0],t[1]))),this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,e,!0,t,null,null,this.id)}this.holding&&this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,this.holding,!0,null,null,null,this.id),this.experience&&this.world.addEntity(new wt[ft.ExperienceOrb](this.x,this.y,this.z,this.experience),!1,this.dimension),this.ondie&&this.ondie()}}if(this.die&&(this.dieEffect+=.04,this.dieRotate=this.dieEffect**4*Math.PI2,this.dieEffect>1&&(this.canDespawn=!0,this.dieEffect=0,this.dieRotate=0,this.hidden=!0,this.world.poof(this.x,this.y,this.z,void 0,this.dimension,this.width,this.height,this.depth,!0))),this.walking&&this.stepSound&&e-this.lastStepSound>(this.panick?500:1e3)){this.lastStepSound=e;let t=this.stepSound;Array.isArray(t)&&(t=t[Math.floor(Math.random()*t.length)]),this.world.playSound(this.x,this.y,this.z,t)}this.panick>0&&this.panick--}updateAlways(){let e=!0;for(let t of this.world.players)max(abs(this.x-t.x),abs(this.y-t.y),abs(this.z-t.z))<=48&&(e=!1);this.name&&(e=!1),e?Us-this.despawnStart>this.despawns&&(this.canDespawn=!0):this.despawnStart=Us}damage(e,t,s,a){t&&(this.velx+=t),s&&(this.vely+=s),a&&(this.velz+=a);var o=e;if(this.harmEffect>0){if(!(e>this.lastDamage))return;e-=this.lastDamage}if(this.health-=e,this.harmEffect=30,this.lastDamage=o,this.hurtSound){let e=this.hurtSound;Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length)]),this.world.playSound(this.x,this.y,this.z,e)}}onhit(e,t,s,a,o){t||this.world.sendEntityPos(this),this.panick=60,this.path||this.randomPath(),this.sitting=!1,this.damage(e,s,min(max(.5-this.vely,0),.5),a);e:if(this.hostile){if(this.owner){if(o===Jt(this.owner,this.world).username)break e}this.target=o||null}}}wt[wt.length]=class extends Rt{static name2="Cow";drop=[I.rawBeef];dropAmount=[1,3];saySound=["entity.cow.say1","entity.cow.say2","entity.cow.say3","entity.cow.say4"];stepSound=["entity.cow.step1","entity.cow.step2","entity.cow.step3","entity.cow.step4"];hurtSound=["entity.cow.hurt1","entity.cow.hurt2","entity.cow.hurt3"];defaultName="Cow";constructor(e,t,s){super(e,t,s,0,0,0,0,0,1,21/16,1,null,null,null,3e5);var a=1/16;this.offsetY=.59375,this.addPart("frontRightLeg",null,null,-.25,-.5,7*a,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.25,-.5,7*a,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.25,-.5,-.375,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.25,-.5,-.375,1,1,1,0,0),this.addPart("head",null,null,0,0,9*a,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[I.wheat]}update(){this.mobUpdate(Us),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:s}=this.targetEnt||this.attractEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Pig";drop=[I.rawPorkchop];dropAmount=[1,3];saySound=["entity.pig.say1","entity.pig.say2","entity.pig.say3"];stepSound=["entity.pig.step1","entity.pig.step2","entity.pig.step3","entity.pig.step4","entity.pig.step5"];deathSound="entity.pig.death";defaultName="Pig";constructor(e,t,s){super(e,t,s,0,0,0,0,0,1,1,1,null,null,null,3e5);var a=1/16;this.offsetY=.375,this.addPart("frontRightLeg",null,null,-3*a,-.5,5*a,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,3*a,-.5,5*a,1,1,1,0,0),this.addPart("backRightLeg",null,null,-3*a,-.5,-7*a,1,1,1,0,0),this.addPart("backLeftLeg",null,null,3*a,-.5,-7*a,1,1,1,0,0),this.addPart("head",null,null,0,-.125,.625,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[I.carrot,I.potato]}update(){this.mobUpdate(Us),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:s}=this.targetEnt||this.attractEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Creeper";drop=[I.gunpowder];dropAmount=[0,2];experience=5;hurtSound=["entity.creeper.say1","entity.creeper.say2","entity.creeper.say3","entity.creeper.say4"];deathSound="entity.creeper.death";defaultName="Creeper";constructor(e,t,s){super(e,t,s,0,0,0,0,0,.5,1.625,.5,null,null,null,3e5);var a=1/16;this.offsetY=-1*a,this.addPart("frontRightLeg",null,null,-.125,-.375,.25,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.125,-.375,.25,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.125,-.375,-.25,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.125,-.375,-.25,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=3,this.maxFollowDist=this.detectionDist=16,this.timerStart=0,this.explodeAmount=0,this.timeLimit=30}explode(){var e=round(this.x),t=round(this.y),s=round(this.z);this.world.explode(e,t,s,3,this.liquid||!worldSettings.tntExplode,this.dimension)}update(){this.mobUpdate(Us),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}let t=this.targetEnt&&max(abs(this.targetEnt.x-this.x),abs(this.targetEnt.y-this.y),abs(this.targetEnt.z-this.z));(this.targetEnt&&t<=this.minFollowDist?(this.explodeAmount||(this.timerStart=Us,this.world.playSound(this.x,this.y,this.z,"entity.tnt.fuse")),this.explodeAmount++,this.explodeAmount>20&&(this.explodeAmount=20)):this.explodeAmount&&this.explodeAmount--,this.shader=0,this.extraSize=0,this.explodeAmount>0)&&(Math.floor((Us-this.timerStart)/125)%2||(this.shader=1),(Us-this.timerStart)/y>=this.timeLimit-10&&(this.extraSize=min(-(this.timeLimit-10-(Us-this.timerStart)/y)/40,.25),this.shader=1),(Us-this.timerStart)/y>=this.timeLimit&&(this.canDespawn=!0,this.explode()))}onclick(e){e===I.flintAndSteel&&(this.explodeAmount=100,this.timerStart=Us,this.world.sendEntityPos(this))}},wt[wt.length]=class extends Rt{static name2="Sheep";drop=[I.rawMutton];dropAmount=[1,2];saySound=["entity.sheep.say1","entity.sheep.say2","entity.sheep.say3"];hurtSound=["entity.sheep.say1","entity.sheep.say2","entity.sheep.say3"];stepSound=["entity.sheep.step1","entity.sheep.step2","entity.sheep.step3","entity.sheep.step4","entity.sheep.step5"];defaultName="Sheep";constructor(e,t,s,a,o){super(e,t,s,0,0,0,0,0,1,1,1,null,null,0,3e5,"vao");var r=1/16;if(this.offsetY=7*r,this.addPart("frontRightLeg",null,null,-3*r,-3*r,5*r,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,3*r,-3*r,5*r,1,1,1,0,0),this.addPart("backRightLeg",null,null,-3*r,-3*r,-7*r,1,1,1,0,0),this.addPart("backLeftLeg",null,null,3*r,-3*r,-7*r,1,1,1,0,0),this.addPart("head",null,null,0,.25,.625,1,1,1,0,0),this.health=10,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.fur=!0,this.prevFur=!0,this.eating=0,this.color=a,this.wool=o,!a){let e,t=rand(100);e=t>50?"white":t>35?"lightGray":t>20?"gray":t>5?"black":t>1?"brown":"pink",this.color=Ns.dye[e].slice(),this.wool=e+"Wool"}this.attracts=[I.wheat]}ondie(){this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,I[this.wool],!0,round(rand(1,2)))}onclick(e){let t=L[e];if(t.dye)this.color=Ns.dye[t.dye].slice(),this.wool=t.dye+"Wool",this.world.sendEntityPos(this);else if(t.shears){if(!this.fur)return;this.fur=!1,this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,I[this.wool],!0,round(rand(1,3))),this.world.sendEntityPos(this),this.world.playSound(this.x,this.y,this.z,"entity.sheep.shear")}}additionalAI(e){!this.eating&&this.standingOn===I.grass&&rand()>.999&&(this.eating=1,this.world.sendEntityPos(this)),this.eating&&this.standingOn!==I.grass&&(this.eating=0),this.eating&&++this.eating>40&&(this.eating=0,this.world.setBlock(round(this.x),floor(this.y-this.height/2),round(this.z),I.dirt,!1,!1,!1,!1,this.dimension),this.fur=!0,this.world.sendEntityPos(this),this.world.blockParticles(this.standingOn,round(this.x),floor(this.y-this.height/2)+.5,round(this.z),30,"break",this.dimension))}update(){this.mobUpdate(Us),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:s}=this.targetEnt||this.attractEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}this.eating?this.parts.head.y>this.parts.head.originalY-.5?this.parts.head.y-=.05:this.parts.head.rx=sin((Us-this.spawn)/250*Math.PI)*Math.PI/8+Math.PI4:this.parts.head.y<this.parts.head.originalY&&(this.parts.head.y+=.05,this.parts.head.rx=0,this.parts.head.y>this.parts.head.originalY&&(this.parts.head.y=this.parts.head.originalY)),this.fur!==this.prevFur&&(this.prevFur=this.fur)}},wt[wt.length]=class extends Rt{static name2="Chicken";drop=[I.rawChicken,I.feather];saySound=["entity.chicken.say1","entity.chicken.say2","entity.chicken.say3"];stepSound=["entity.chicken.step1","entity.chicken.step2"];hurtSound=["entity.chicken.hurt1","entity.chicken.hurt2"];defaultName="Chicken";constructor(e,t,s){var a=1/16;super(e,t,s,0,0,0,0,0,.5,.6875,.5,null,null,null,3e5),this.offsetY=.15625,this.addPart("leftWing",null,null,.21875,3*a,0,1,1,1,0,0),this.addPart("rightWing",null,null,-.21875,3*a,0,1,1,1,0,0),this.addPart("rightLeg",null,null,-.09375,-3*a,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.09375,-3*a,0,1,1,1,0,0),this.addPart("head",null,null,0,.25,.28125,1,1,1,0,0),this.health=4,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.attracts=[I.beetrootSeeds,I.tomatoSeeds,I.pumpkinSeeds,I.melonSeeds,I.wheatSeeds]}additionalAI(){rand()>.999&&(this.world.addItems(this.x,this.y,this.z,this.dimension,0,0,0,I.egg,!0),this.world.playSound(this.x,this.y,this.z,"entity.chicken.plop"))}update(){if(this.mobUpdate(Us),this.vely<0&&(this.vely*=.5,this.lastY=this.y),this.vely<0||this.liquid){let e=sin((Us-this.walkStart)/125*Math.PI)*Math.PI/4+Math.PI2;this.parts.leftWing.rz=e,this.parts.rightWing.rz=-e}else this.parts.leftWing.rz=this.parts.rightWing.rz=0;this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot,this.targetEnt||this.attractEnt){let{x:e,y:t,z:s}=this.targetEnt||this.attractEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Zombie";drop=[I.rottenFlesh];dropAmount=[0,3];experience=5;saySound=["entity.zombie.say1","entity.zombie.say2","entity.zombie.say3"];stepSound=["entity.zombie.step1","entity.zombie.step2","entity.zombie.step3","entity.zombie.step4","entity.zombie.step5"];hurtSound=["entity.zombie.hurt1","entity.zombie.hurt2"];deathSound="entity.zombie.death";defaultName="Zombie";constructor(e,t,s){super(e,t,s,0,0,0,0,0,1,2,1,null,null,null,3e5);this.offsetY=.125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.375,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.375,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=20,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=35,this.detectionDist=17.5,this.attackStrength=3,this.maxAttackCooldown=20}killMessage(e){return e+" died from some small punches from a Zombie."}update(){this.mobUpdate(Us),!this.liquid&&this.world.getLight(round(this.x),round(this.y),round(this.z),0,this.dimension)*this.world.skyLight>11&&(this.burnTimer+=.2),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((Us-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot,this.targetEnt){let e=-(10-abs(this.attackCooldown-10))*Math.PI4/10;this.parts.leftArm.rx=-Math.PI2+e,this.parts.rightArm.rx=-Math.PI2+e}else this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot;if(this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Skeleton";drop=[I.bone,I.arrow];dropAmount=[1,2];experience=5;saySound=["entity.skeleton.say1","entity.skeleton.say2","entity.skeleton.say3"];stepSound=["entity.skeleton.step1","entity.skeleton.step2","entity.skeleton.step3","entity.skeleton.step4"];hurtSound=["entity.skeleton.hurt1","entity.skeleton.hurt2","entity.skeleton.hurt3","entity.skeleton.hurt4"];deathSound="entity.skeleton.death";defaultName="Skeleton";constructor(e,t,s){super(e,t,s,0,0,0,0,0,.75,2,.75,null,null,null,3e5);var a=1/16;this.offsetY=.125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-5*a,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,5*a,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.addPart("holding",null,null,0,0,0,1,1,1,0,0,void 0,"rightArm"),this.health=20,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=8,this.maxFollowDist=this.detectionDist=16,this.holding=I.bow,this.maxAttackCooldown=20}updateHolding(){let e=this.parts.holding,t=1/16;L[this.holding].tool?(e.x=0,e.y=-.75,e.z=.375,e.w=e.h=e.d=1,e.rx=Math.PI/1.25,e.ry=-.5*Math.PI):"bow"===L[this.holding].name?(e.x=0,e.y=-.75,e.z=0,e.w=e.h=e.d=1,e.rx=Math.PI/1.25,e.ry=-.5*Math.PI):L[this.holding].spyglass?(e.x=.125,e.y=-.625,e.z=0,e.w=e.h=e.d=1,e.rx=-this.holdRot,e.ry=0):L[this.holding].item?(e.x=0,e.y=-.6875,e.z=.25,e.w=e.h=e.d=.5,e.rx=Math.PI2,e.ry=0):this.holding?(e.x=0,e.y=-.75,e.z=3*t,e.w=e.h=e.d=.25,e.rx=0,e.ry=Math.PI/4):this.parts.rightArm.rx=0}additionalAI(){if("bow"===L[this.holding].name&&this.targetEnt&&this.attackCooldown<=0){let e=this.targetEnt.x-this.x,t=this.targetEnt.y-this.y,s=this.targetEnt.z-this.z,a=sqrt(e*e+t*t+s*s);e/=a,t/=a,s/=a,this.world.addEntity(new wt[ft.Arrow](this.x+e,this.y+t,this.z+s,e,t,s,this.id),!1,this.dimension),this.attackCooldown=this.maxAttackCooldown,this.world.sendEntityPos(this)}}update(){this.mobUpdate(Us),!this.liquid&&this.world.getLight(round(this.x),round(this.y),round(this.z),0,this.dimension)*this.world.skyLight>11&&(this.burnTimer+=.2),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((Us-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.targetEnt?"bow"===L[this.holding].name?(this.parts.leftArm.rx=-Math.PI2,this.parts.leftArm.ry2=-Math.PI4,this.parts.rightArm.rx=-Math.PI2):L[this.holding].spyglass?this.parts.rightArm.rx=-Math.PI2+this.holdRot:this.parts.leftArm.rx=this.parts.rightArm.rx=-Math.PI2:(this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot),this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Spider";saySound=["entity.spider.say1","entity.spider.say2","entity.spider.say3","entity.spider.say4"];stepSound=["entity.spider.step1","entity.spider.step2","entity.spider.step3","entity.spider.step4"];deathSound="entity.spider.death";drop=[I.string,I.spiderEye];dropAmount=[0,2];experience=5;constructor(e,t,s,a){let o=a?.7:1;super(e,t,s,0,0,0,0,0,o,o,o,null,null,null,3e5),this.noScale=!1;var r=1/16;this.offsetY=.125;let i=Math.PI/8;this.addPart("rightLeg0",null,null,-3*r,0,0,1,1,1,0,0,i),this.addPart("rightLeg1",null,null,-3*r,0,0,1,1,1,0,0,i),this.addPart("rightLeg2",null,null,-3*r,0,0,1,1,1,0,0,i),this.addPart("rightLeg3",null,null,-3*r,0,0,1,1,1,0,0,i),this.addPart("leftLeg0",null,null,3*r,0,0,1,1,1,0,0,-i),this.addPart("leftLeg1",null,null,3*r,0,0,1,1,1,0,0,-i),this.addPart("leftLeg2",null,null,3*r,0,0,1,1,1,0,0,-i),this.addPart("leftLeg3",null,null,3*r,0,0,1,1,1,0,0,-i),this.addPart("head",null,null,0,0,7*r,1,1,1,0,0),this.fur=!!a,this.defaultName=a?"Cave Spider":"Spider",this.health=16,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.canClimb=!0,this.hostile=!0,this.minFollowDist=1.5,this.maxFollowDist=16,this.detectionDist=-1,this.attackStrength=2,this.maxAttackCooldown=20}killMessage(e){return e+" died from a tiny little spider."}update(){this.mobUpdate(Us),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var e=0;if(this.walking&&(e=this.panick>0?.1*sin((Us-this.walkStart)/125*Math.PI):.1*sin((Us-this.walkStart)/250*Math.PI)),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg0.ry=this.walkRot+1.3*Math.PI2,this.parts.leftLeg1.ry=-this.walkRot+1.1*Math.PI2,this.parts.leftLeg2.ry=this.walkRot+.9*Math.PI2,this.parts.leftLeg3.ry=-this.walkRot+.6*Math.PI2,this.parts.rightLeg0.ry=-this.walkRot-1.3*Math.PI2,this.parts.rightLeg1.ry=this.walkRot-1.1*Math.PI2,this.parts.rightLeg2.ry=-this.walkRot-.9*Math.PI2,this.parts.rightLeg3.ry=this.walkRot-.6*Math.PI2,this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Wolf";defaultName="Wolf";constructor(e,t,s){super(e,t,s,0,0,0,0,0,.6,.8,.6,null,null,null,1/0,"vao");var a=1/16;this.defaultOffsetY=.28125,this.addPart("head",null,null,0,0,.625,1,1,1,0,0),this.addPart("frontRightLeg",null,null,-.09375,-3*a,5*a,1,1,1,0,0),this.addPart("frontLeftLeg",null,null,.09375,-3*a,5*a,1,1,1,0,0),this.addPart("backRightLeg",null,null,-.09375,-3*a,-.375,1,1,1,0,0),this.addPart("backLeftLeg",null,null,.09375,-3*a,-.375,1,1,1,0,0),this.addPart("tail",null,null,0,0,-.5,1,1,1,Math.PI2,0),this.addPart("collar",null,null,0,0,.38125,1,1,1,0,0),this.health=8,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1.5,this.maxFollowDist=16,this.detectionDist=16,this.attackStrength=4,this.maxAttackCooldown=20,this.attacks=["Sheep","Rabbit","Fox","Skeleton"],this.prevTarget=null,this.attracts=[I.bone],this.wetStuff=0,this.tame=!1,this.prevTame=!1,this.color=Ns.dye.red.slice()}feed(e,t){if(e===I.bone)if(this.tame){this.health;this.health++,this.health>20&&(this.health=20),this.world.sendEntityPos(this)}else if(rand(3)>1)this.world.sendAllInChunk({type:"particles",particleType:"smokeCube",x:this.x,y:this.y,z:this.z,dimension:this.dimension,amount:10},this.chunkX,this.chunkZ,this.chunkDimension);else{this.world.sendAllInChunk({type:"particles",particleType:"hearts",x:this.x,y:this.y,z:this.z,dimension:this.dimension,amount:10},this.chunkX,this.chunkZ,this.chunkDimension),this.world.addEntity(new wt[ft.ExperienceOrb](this.x,this.y,this.z,rand(1,7)),!1,this.dimension),this.tame=!0,this.health*=2.5;let e=$t(t,this.world);this.owner=e.username,this.world.sendEntityPos(this)}}onclick(e,t){let s=L[e];s.dye?(this.color=Ns.dye[s.dye].slice(),this.world.sendEntityPos(this)):e===I.bone?this.feed(e,t):this.tame&&(this.sitting=!this.sitting,this.world.sendEntityPos(this))}killMessage(e){return e+" got bited by a wolf."}additionalAI(){let e=this.owner&&Jt(this.owner,this.world);if(!e||e.die||e.hidden)return;let t=max(abs(this.x-e.x),abs(this.y-e.y),abs(this.z-e.z));if(t>16&&!this.sitting){this.target=null;round(this.x),round(this.y),round(this.z);let t,s,a,o=1/0;for(let r=-5;r<5;r++)for(let i=-5;i<5;i++)for(let n=-5;n<5;n++)if(!L[this.world.getBlock(e.x+r,e.y+n,e.z+i)].solid){let l=max(abs(r),abs(n),abs(i));l<o&&L[world.getBlock(e.x+r,e.y+n-1,e.z+i)].solid&&(o=l,t=r,s=n,a=i)}isFinite(o)&&(this.x=e.x+t,this.y=e.y+s,this.z=e.z+a,this.path=null,this.lastY=0,this.world.sendEntityPos(this))}else if(t>8&&!this.sitting){let t=this.findPath(round(this.x),round(this.y-this.height/2),round(this.z),round(e.x),round(e.y),round(e.z));t&&(t.splice(0,3),this.path=t)}}update(){this.mobUpdate(Us);let e=1/16;this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);var t=0;if(this.walking&&(t=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,t),this.sitting?(this.offsetY=this.defaultOffsetY-3*e,this.parts.collar.rx=this.pitch2=-Math.PI4,this.parts.frontLeftLeg.rx=-Math.PI/8,this.parts.frontRightLeg.rx=-Math.PI/8,this.parts.backLeftLeg.rx=-Math.PI2,this.parts.backRightLeg.rx=-Math.PI2,this.parts.tail.y=this.parts.tail.originalY-.25,this.parts.tail.z=this.parts.tail.originalZ+.125,this.parts.frontLeftLeg.y=this.parts.frontLeftLeg.originalY+3*e,this.parts.frontRightLeg.y=this.parts.frontRightLeg.originalY+3*e,this.parts.backLeftLeg.y=this.parts.backLeftLeg.originalY-.25,this.parts.backRightLeg.y=this.parts.backRightLeg.originalY-.25,this.parts.head.y=this.parts.head.originalY+.375,this.parts.head.z=this.parts.head.originalZ-3*e):(this.offsetY=this.defaultOffsetY,this.parts.collar.rx=this.pitch2=0,this.parts.frontLeftLeg.rx=this.walkRot,this.parts.frontRightLeg.rx=-this.walkRot,this.parts.backLeftLeg.rx=this.walkRot,this.parts.backRightLeg.rx=-this.walkRot,this.parts.tail.y=this.parts.tail.originalY,this.parts.tail.z=this.parts.tail.originalZ,this.parts.frontLeftLeg.y=this.parts.frontLeftLeg.originalY,this.parts.frontRightLeg.y=this.parts.frontRightLeg.originalY,this.parts.backLeftLeg.y=this.parts.backLeftLeg.originalY,this.parts.backRightLeg.y=this.parts.backRightLeg.originalY,this.parts.head.y=this.parts.head.originalY,this.parts.head.z=this.parts.head.originalZ),this.parts.tail.rx=this.target?Math.PI2:this.health/20*Math.PI,this.targetEnt||this.attractEnt){let{x:e,y:t,z:s}=this.targetEnt||this.attractEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}if(this.prevTarget===this.target&&this.prevTame===this.tame||(this.prevTarget=this.target,this.prevTame=this.tame),!this.target&&!this.tame){this.world.getEntitiesNear(this.x,this.y,this.z,this.dimension,16,Xt);let e,t=1/0;for(let s of Xt)if(s.dimension===this.dimension&&s.type===this.type&&s.target){let a=max(abs(s.x-this.x),abs(s.y-this.y),abs(s.z-this.z));a<16&&a<t&&(t=a,e=s.target)}e&&(this.target=e)}}},wt[wt.length]=class extends Rt{static name2="Blaze";drop=[I.blazeRod];dropAmount=[0,1];experience=10;saySound=["entity.blaze.breathe1","entity.blaze.breathe2","entity.blaze.breathe3","entity.blaze.breathe4"];hurtSound=["entity.blaze.hit1","entity.blaze.hit2","entity.blaze.hit3","entity.blaze.hit4"];deathSound="entity.blaze.death";defaultName="Blaze";constructor(e,t,s){super(e,t,s,0,0,0,0,0,1,1.375,1,null,null,null,3e5),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=20,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=48,this.detectionDist=48,this.attackStrength=6,this.maxAttackCooldown=200,this.canFly=!0}killMessage(e){return e+" got killed by blaze."}additionalAI(){if(this.targetEnt&&(this.attackCooldown<=0&&(this.attackCooldown=this.maxAttackCooldown,this.world.sendEntityPos(this)),20===this.attackCooldown||11===this.attackCooldown||2===this.attackCooldown)){let e=this.targetEnt.x-this.x,t=this.targetEnt.y-this.y,s=this.targetEnt.z-this.z,a=sqrt(e*e+t*t+s*s);e/=a,t/=a,s/=a,this.world.addEntity(new wt[ft.SmallFireball](this.x+e,this.y+t,this.z+s,e,t,s,this.id),!1,this.dimension)}}update(){if(this.mobUpdate(Us),this.burnTimer&&(this.burnTimer=0),this.targetEnt&&this.attackCooldown>0&&this.attackCooldown<100&&(this.burning=!0),this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}},wt[wt.length]=class extends Rt{static name2="Enderman";defaultName="Enderman";constructor(e,t,s){super(e,t,s,0,0,0,0,0,.75,3,.75,null,null,null,3e5);this.offsetY=.8125,this.addPart("rightLeg",null,null,-.125,-.375,0,1,1,1,0,0),this.addPart("leftLeg",null,null,.125,-.375,0,1,1,1,0,0),this.addPart("rightArm",null,null,-.25,.375,0,1,1,1,0,0),this.addPart("leftArm",null,null,.25,.375,0,1,1,1,0,0),this.addPart("head",null,null,0,.625,0,1,1,1,0,0),this.health=40,this.prevWalking=!1,this.walkStart=0,this.walkRot=0,this.hostile=!0,this.minFollowDist=1,this.maxFollowDist=16,this.detectionDist=16,this.attackStrength=7,this.maxAttackCooldown=20}killMessage(e){return e+" died from Enderman."}update(){this.mobUpdate(Us),this.wet&&Us-this.lastBlockDamage>1e3&&(this.lastBlockDamage=Us,this.damage(1)),this.prevWalking!==this.walking&&(this.prevWalking=this.walking,this.walkStart=Us);let e=0;this.walking&&(e=this.panick>0?sin((Us-this.walkStart)/500*Math.PI)*Math.PI/4:sin((Us-this.walkStart)/1e3*Math.PI)*Math.PI/4),this.walkRot=lerp(.5,this.walkRot,e),this.parts.leftLeg.rx=this.walkRot,this.parts.rightLeg.rx=-this.walkRot;let t=(sin((Us-this.spawn)/1e3)/2+.5)*Math.PI/40;if(this.parts.leftArm.rz=t,this.parts.rightArm.rz=-t,this.parts.leftArm.rx=this.walkRot,this.parts.rightArm.rx=-this.walkRot,this.targetEnt){let{x:e,y:t,z:s}=this.targetEnt,a=Math.PId-(atan2(s-this.z,e-this.x)-Math.PI2);this.parts.head.ry2=-(this.yaw-a),this.parts.head.ry2-this.parts.head.pry2>Math.PI&&(this.parts.head.pry2+=Math.PId),this.parts.head.ry2-this.parts.head.pry2<-Math.PI&&(this.parts.head.pry2-=Math.PId);let o=dist2(this.x,this.z,e,s);this.parts.head.rx=Math.PId-atan2(t-(this.y+this.parts.head.y),o),this.parts.head.ry=0}else if(this.path){let e=this.path.length-3,t=this.path[e],s=(this.path[e+1],this.path[e+2]),a=Math.PId-(atan2(s-this.z,t-this.x)-Math.PI2);this.parts.head.ry=-(this.yaw-a),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}else if(this.spinTarget){let e=this.spinTarget;this.parts.head.ry=-(this.yaw-e),this.parts.head.ry-this.parts.head.pry>Math.PI&&(this.parts.head.pry+=Math.PId),this.parts.head.ry-this.parts.head.pry<-Math.PI&&(this.parts.head.pry-=Math.PId),this.parts.head.rx=this.parts.head.ry2=0}}};let It=["Item","BlockEntity","PrimedTNT","PrimedSuperTNT","PrimedUltraTNT","PrimedUnTNT","MovingBlock","EnderPearl","Snowball","Egg","SlingshotShot","Arrow","Sign","ItemFrame","ExperienceOrb","Cow","Pig","Creeper","Sheep","Chicken","Zombie","Skeleton","Spider","EnderDragon","BlockParticle","PoofParticle","FallingDustParticle","RedstoneParticle","ShockwaveParticle","SmokeParticle","NoteParticle","GlintParticle","FlameParticle","LavaParticle","DripParticle","SplashParticle","Spark","TextDisplay","Wolf","HeartParticle","Blaze","SmallFireball","BlockDisplay","BeaconBeam","Enderman"],Mt=wt.slice();for(let Pa=0;Pa<wt.length;Pa++)ft[wt[Pa].name2]=Pa;for(let Ta=0;Ta<It.length;Ta++)void 0!==ft[It[Ta]]?(wt[Ta]=Mt[ft[It[Ta]]],wt[Ta].prototype.entId=Ta,wt[Ta].prototype.type=wt[Ta].name2,ft[wt[Ta].name2]=Ta):(delete wt[Ta],delete ft[It[Ta]]);win.serverEntities=wt,win.serverEntityIds=ft,console.log(wt.length,"entities and particles on server side");class Dt{constructor(e){this.world=e,this.seedSet=!1,this.seed=0,this.reset()}reset(){this.size=600,this.diagonalNeighbors=!0,this.grid=[],this.vertex=[],this.river=[],this.precip=[],this.biome=[],this.biomeBlend=[],this.highestPoint=[0,0],this.updates=[],this.stage=0,this.changes=0,this.rivers=0,this.h=0,this.X=0}GetVertex(e,t){return e<0||e>=this.size||t<0||t>=this.size?0:this.vertex[e+t*this.size]}GetHeight(e,t){return e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size?5:Math.round(.5*(this.GetVertex(Math.floor(e),Math.floor(t))+this.GetVertex(Math.floor(e+.5),Math.floor(t))+this.GetVertex(Math.floor(e),Math.floor(t+.5))+this.GetVertex(Math.floor(e+.5),Math.floor(t+.5)))+5)}GetWater(e,t){return e<0||e>=this.size||t<0||t>=this.size||-15099421===this.GetBiome(e,t)||-16479791===this.GetBiome(e,t)?1:Math.sqrt(this.river[e+t*this.size])}GetWaterDepth(e,t){if(e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size)return 1;var s=0;for(let a=0;a<1;a+=.5)for(let o=0;o<1;o+=.5)s+=this.GetWater(Math.floor(e+a),Math.floor(t+o));return(s/=4)>.25?1:0}GetBiome(e,t){return e<0||e>=this.size||t<0||t>=this.size?-16479791:this.biome[e+t*this.size]}GetBiomeType(e,t){return e=.5*(e+this.size/2),t=.5*(t+this.size/2),e<0||e>=this.size||t<0||t>=this.size?1:this.GetBiome(Math.floor(e),Math.floor(t))}GetNeighbors(e,t){var s=[];return e>0&&(s.push({x:e-1,y:t}),this.diagonalNeighbors&&(t>0&&s.push({x:e-1,y:t-1}),t<this.size-1&&s.push({x:e-1,y:t+1}))),e<this.size-1&&(s.push({x:e+1,y:t}),this.diagonalNeighbors&&(t>0&&s.push({x:e+1,y:t-1}),t<this.size-1&&s.push({x:e+1,y:t+1}))),t>0&&s.push({x:e,y:t-1}),t<this.size-1&&s.push({x:e,y:t+1}),s}GetDown(e,t){var s=this.GetNeighbors(e,t),a=this.size,o=[];for(var r in s)this.vertex[s[r].x+s[r].y*this.size]<=a&&(this.vertex[s[r].x+s[r].y*this.size]===a&&o.push(s[r]),a=this.vertex[s[r].x+s[r].y*this.size],o=[s[r]]);if(a<=this.vertex[e+t*this.size])return o[Math.floor(this.random(o.length))]}SetSeed(e){this.seed!==e&&this.reset(),this.seed=e,this.seedSet=!0,this.randomGenerator=new ls(21e7*is(e,2123155232)),this.random=(e=1)=>this.randomGenerator.nextDouble()*e}Generate(e){var t=e+16;function s(e){return e*e}function a(e,t,s,a){return t=void 0===t?e:t,(a=void 0===a?255:a)>127&&(a=-256+a),(s=void 0===s?t:s)+256*t+65536*e+16777216*a}if(0===this.stage){for(;this.X<this.size&&win.performance.now()<t;){for(var o=this.X,r=0;r<this.size;r++){this.grid[o+r*this.size]=0,this.vertex[o+r*this.size]=-1,this.precip[o+r*this.size]=-1,this.river[o+r*this.size]=0;var i=this.size/2-Math.sqrt(s(o-this.size/2)+s(r-this.size/2)),n=2*Math.sqrt(s(this.size/2)-s(i-this.size/2))/this.size;(m=this.world.noiseProfile.noise(.021*o,.021*r,this.seed))*n>.3&&(this.grid[o+r*this.size]=1)}this.X++}this.X===this.size&&this.updates.push({type:"ocean",x:0,y:0})}else if(1===this.stage){for(;this.updates.length>0&&win.performance.now()<t;){var l=this.updates.shift();if(0===this.grid[l.x+l.y*this.size]){this.grid[l.x+l.y*this.size]=2;for(var h=this.GetNeighbors(l.x,l.y),d=0;d<h.length;d++)0===this.grid[h[d].x+h[d].y*this.size]&&this.updates.push({type:"ocean",x:h[d].x,y:h[d].y})}}0===this.updates.length&&(this.X=this.size)}else if(2===this.stage){-1===this.h&&(this.h=0);for(var c=0;win.performance.now()<t&&this.updates.length>0&&c<this.updates.length;){if("lake"===this.updates[c].type){l=this.updates.splice(c,1)[0];if(0===this.grid[l.x+l.y*this.size]&&-1===this.vertex[l.x+l.y*this.size]){this.vertex[l.x+l.y*this.size]=l.a;h=this.GetNeighbors(l.x,l.y);for(var d in h)0===this.grid[h[d].x+h[d].y*this.size]&&-1===this.vertex[h[d].x+h[d].y*this.size]&&this.updates.push({type:"lake",x:h[d].x,y:h[d].y,a:l.a})}c--}c++}for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++)if(-1===this.vertex[o+r*this.size])if(2===this.grid[o+r*this.size])this.vertex[o+r*this.size]=this.h,this.changes++;else if(this.h>0){h=this.GetNeighbors(o,r);var p,u=this.size;for(var d in h){var m;(m=this.vertex[h[d].x+h[d].y*this.size])<u&&-1!==m&&(u=m,p=h[d])}u!==this.size&&u<=this.h&&(0===this.grid[o+r*this.size]?(this.updates.push({type:"river",x:p.x,y:p.y}),this.updates.push({type:"lake",x:o,y:r,a:u})):this.vertex[o+r*this.size]=u+1+(this.random()>.5?1:0),this.changes++)}this.X++}this.X===this.size&&this.h<this.size/3&&(0===this.changes&&this.h++,this.X=0,this.changes=0)}else if(3===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++)this.vertex[o+r*this.size]=(Math.pow(20,this.vertex[o+r*this.size]/this.size*3)-1)/19*this.size/3,this.vertex[o+r*this.size]>this.vertex[this.highestPoint[0]+this.highestPoint[1]*this.size]&&(this.highestPoint[0]=o,this.highestPoint[1]=r);this.X++}else if(4===this.stage){if(0===this.rivers)for(d=0;d<200&&this.rivers<100;d++)o=Math.floor(this.random(this.size)),r=Math.floor(this.random(this.size)),1===this.grid[o+r*this.size]&&(this.updates.push({type:"river",x:o,y:r}),this.rivers++);else 0===this.updates.length&&(this.X=this.size);for(;this.updates.length>0&&win.performance.now()<t;){l=this.updates[0];if(1===this.grid[l.x+l.y*this.size])this.river[l.x+l.y*this.size]++,void 0===(i=this.GetDown(l.x,l.y))?this.updates.shift():(this.updates[0].x=i.x,this.updates[0].y=i.y);else this.updates.shift()}}else if(5===this.stage){for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++)if(-1===this.precip[o+r*this.size])if(-1===this.h)2===this.grid[o+r*this.size]&&(this.precip[o+r*this.size]=5,this.changes++);else{this.h<=8&&(0===this.grid[o+r*this.size]||this.river[o+r*this.size]>0)&&(this.precip[o+r*this.size]=8,this.changes++);h=this.GetNeighbors(o,r);var g=-1;for(var d in h)this.precip[h[d].x+h[d].y*this.size]>g&&(g=this.precip[h[d].x+h[d].y*this.size]);g>-1&&g>=this.h&&(this.precip[o+r*this.size]=Math.max(g-(this.random()<.5?.66:.33),0),this.changes++)}this.X++}this.X===this.size&&(this.X=0,-1===this.h?this.h=10:(0===this.changes&&this.h--,this.changes=0,this.h<0&&(this.X=this.size)))}else if(6===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++)this.precip[o+r*this.size]=Math.floor(this.precip[o+r*this.size]/10*6);this.X++}else if(7===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++);this.X++}else if(8===this.stage)for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++){var k;g=Math.floor(this.vertex[o+r*this.size]/this.size*6*5);switch(this.grid[o+r*this.size]){case 0:k=g>2?a(157,194,201):a(25,153,227);break;case 1:if(this.river[o+r*this.size]>0)k=g>2?a(157,194,201):a(25,153,227);else switch(g){case 0:switch(this.precip[o+r*this.size]){case 5:case 4:k=a(10,133,72);break;case 3:case 2:k=a(10,133,23);break;case 1:k=a(179,232,35);break;case 0:k=a(209,166,58)}break;case 1:switch(this.precip[o+r*this.size]){case 5:k=a(14,156,85);break;case 4:case 3:k=a(72,133,10);break;case 2:case 1:k=a(179,232,35);break;case 0:k=a(207,195,58)}break;case 2:switch(this.precip[o+r*this.size]){case 5:case 4:k=a(121,191,95);break;case 3:case 2:k=a(155,161,135);break;case 1:case 0:k=a(207,195,58)}break;case 3:case 4:switch(this.precip[o+r*this.size]){case 5:case 4:case 3:k=a(255);break;case 2:k=a(149,189,94);break;case 1:k=a(180);break;case 0:k=a(128)}}break;case 2:k=a(4,137,209)}this.biome[o+r*this.size]=k}this.X++}else if(9===this.stage){let e=this.vertex[this.highestPoint[0]+this.highestPoint[1]*this.size]-5;for(;this.X<this.size&&win.performance.now()<t;){for(o=this.X,r=0;r<this.size;r++)this.vertex[o+r*this.size]>e&&(this.vertex[o+r*this.size]=e-2,this.biome[o+r*this.size]=-65536);this.X++}}this.X===this.size&&(this.X=0,this.h=-1,this.stage++,console.log(this.stage))}}class At{constructor(e,t,s,a,o=undefined){this.x=e,this.y=t,this.z=s;this.size=16,this.arraySize=4096,this.blocks=o||new Int32Array(this.arraySize),this.blockLight=new Uint8Array(this.arraySize),this.skyLight=new Uint8Array(this.arraySize),this.tags=new Array(this.arraySize),this.chunk=a,this.world=a&&a.world,this.type=a&&a.type,this.edited=!1,this.caves=""!==this.type||!this.world.caves}getBlock(e,t,s){let a=this.size;return this.blocks[e*a*a+t*a+s]}setBlock(e,t,s,a){let o=this.size;this.blocks[e*o*o+t*o+s]=a}deleteBlock(e,t,s){let a=this.size;this.blocks[e*a*a+t*a+s]=0}updateBlock(e,t,s,a,o,r,i,n){let l=e,h=t,d=s,c=this.size;e+=this.x,t+=this.y,s+=this.z;this.blocks[l*c*c+h*c+d];o||this.world.updateQueue.push(e,t,s,this.type,r,i,n)}carveCaves(){let{world:e}=this,t=this.x+16,s=this.z+16,a=this.y+16;for(let o=this.x,r=0;o<t;o++,r++)for(let t=this.z,i=0;t<s;t++,i++){a=this.chunk.tops[16*i+r];for(let s=this.y;s<a;s++)if(ks(o,s,t,e)&&s>3)for(let a=0;a<us.length;a+=3)s+us[a+1]<10?e.setBlock(o+us[a],s+us[a+1],t+us[a+2],I.Lava,!0,!0,!1,!1,this.type):e.setBlock(o+us[a],s+us[a+1],t+us[a+2],I.air,!0,!0,!1,!1,this.type)}this.caves=!0}oldSpawnMobs(){let{world:e}=this,t=["Cow","Pig","Sheep","Chicken"],s=["Wolf"],a=["Creeper","Zombie","Skeleton","Spider","Enderman"],o=["Blaze"],r=["Enderman"],i=16*Math.random()|0,n=16*Math.random()|0,l=16*Math.random()|0,h=this.x+i-32>>4,d=this.x+i+32>>4,c=this.z+l-32>>4,p=this.z+l+32>>4,u="nether"===this.type?this.world.netherChunks:"end"===this.type?this.world.endChunks:this.world.chunks,m=this.getBlock(i,n,l),g=max(this.getLight(i,n,l,0)*this.world.skyLight,this.getLight(i,n,l,1)),k=this.chunk.getBlock(i,n+this.y-1,l,0,!0);if(""===this.type&&!m&&g>10&&k===I.grass){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let s in u[e][t].entities){let a=u[e][t].entities[s];if(a.mob&&max(abs(this.x+i-a.x),abs(this.y+n-a.y),abs(this.z+l-a.z))<32)return}let s=rand(1,6),a=t[floor(rand(t.length))];for(let t=0;t<s;t++)L[I["spawn"+a]].spawnMob(i+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if(""===this.type&&!m&&g>10&&"snowyPlains"===this.world.getBiome(this.x+i,this.y+n,this.z+l,this.type)&&(k===I.grass||"snow"===L[k].name)){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let s in u[e][t].entities){let a=u[e][t].entities[s];if(a.mob&&max(abs(this.x+i-a.x),abs(this.y+n-a.y),abs(this.z+l-a.z))<32)return}let t=rand(1,6),a=s[floor(rand(s.length))];for(let s=0;s<t;s++)L[I["spawn"+a]].spawnMob(i+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if(""===this.type&&!m&&g<=11&&k){for(let e of this.world.players)if(max(abs(this.x+i-e.x),abs(this.y+n-e.y),abs(this.z+l-e.z))<16)return;for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let s in u[e][t].entities){let a=u[e][t].entities[s];if(a.mob&&a.hostile&&max(abs(this.x+i-a.x),abs(this.y+n-a.y),abs(this.z+l-a.z))<32)return}let t=a[floor(rand(a.length))];L[I["spawn"+t]].spawnMob(i+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}else if("nether"!==this.type||m||"netherWastes"!==this.world.getBiome(this.x+i,this.y+n,this.z+l,this.type)||k!==I.netherrack){if("end"===this.type&&!m&&L[k].solid){for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let s in u[e][t].entities){let a=u[e][t].entities[s];if(a.mob&&max(abs(this.x+i-a.x),abs(this.y+n-a.y),abs(this.z+l-a.z))<32)return}let t=rand(1,6),s=r[floor(rand(r.length))];for(let a=0;a<t;a++)L[I["spawn"+s]].spawnMob(i+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}}else{for(let e=h;e<=d;e++)for(let t=c;t<=p;t++)if(u[e]&&u[e][t])for(let s in u[e][t].entities){let a=u[e][t].entities[s];if(a.mob&&max(abs(this.x+i-a.x),abs(this.y+n-a.y),abs(this.z+l-a.z))<32)return}let t=rand(1,6),s=o[floor(rand(o.length))];for(let a=0;a<t;a++)L[I["spawn"+s]].spawnMob(i+this.x+rand(),n+this.y,l+this.z+rand(),this.type,e)}}spawnMobs(){if(!this.chunk.lit)return;if(this.world.usePreBeta)return this.oldSpawnMobs();let{world:e}=this,t=16*Math.random()|0,s=16*Math.random()|0,a=16*Math.random()|0,o=this.x+t-32>>4,r=this.x+t+32>>4,i=this.z+a-32>>4,n=this.z+a+32>>4,l="nether"===this.type?this.world.netherChunks:"end"===this.type?this.world.endChunks:this.world.chunks,h=this.getBlock(t,s,a),d=max(this.getLight(t,s,a,0)*this.world.skyLight,this.getLight(t,s,a,1)),c=this.chunk.getBlock(t,s+this.y-1,a,0,!0),p=e.getBiome(t+this.x,s+this.y,a+this.z),u=As[p][2],m=As[p][3];if(u&&!h&&d>10&&c){for(let e=o;e<=r;e++)for(let o=i;o<=n;o++)if(l[e]&&l[e][o])for(let r in l[e][o].entities){let i=l[e][o].entities[r];if(i.mob&&max(abs(this.x+t-i.x),abs(this.y+s-i.y),abs(this.z+a-i.z))<32)return}let h=u[floor(rand(u.length))],d=rand(h[1],h[2]);if(I["spawn"+h[0]])for(let o=0;o<d;o++)L[I["spawn"+h[0]]].spawnMob(t+this.x+rand(),s+this.y,a+this.z+rand(),this.type,e)}if(m&&!h&&!d&&c){let h=!1;for(let e of this.world.players){let o=max(abs(this.x+t-e.x),abs(this.y+s-e.y),abs(this.z+a-e.z));if(o<16)return;h=h||o<32}if(!h)return;for(let e=o;e<=r;e++)for(let o=i;o<=n;o++)if(l[e]&&l[e][o])for(let r in l[e][o].entities){let i=l[e][o].entities[r];if(i.mob&&i.hostile&&max(abs(this.x+t-i.x),abs(this.y+s-i.y),abs(this.z+a-i.z))<32)return}let d=m[floor(rand(m.length))],c=rand(d[1],d[2]);if(I["spawn"+d[0]])for(let o=0;o<c;o++)L[I["spawn"+d[0]]].spawnMob(t+this.x+rand(),s+this.y,a+this.z+rand(),this.type,e)}}tick(){var e=this.world;for(let t=0;t<18;t++){let t=Math.random()*this.blocks.length|0,s=L[this.blocks[t]];if((this.blocks[t]&Ze)===I.grass||(this.blocks[t]&Ze)===I.mycelium){let s=(t>>8)+this.x,a=(t>>4&15)+this.y,o=(15&t)+this.z;if(!L[e.getBlock(s,a+1,o,this.type)].transparent)return void e.setBlock(s,a,o,I.dirt,!1,!1,!1,!1,this.type);let r=27*Math.random()|0,i=r%3-1;r=(r-i-1)/3;let n=r%3-1;r=(r-n-1)/3,o+=r-1,s+=i,a+=n;let l=this.world.getBlock(s,a,o,this.type);(l&Ze)===I.dirt&&this.world.getBlock(s,a+1,o,this.type)===I.air&&this.world.setBlock(s,a,o,this.blocks[t]&Ze|l&~Ze,!1,!1,!1,!1,this.type)}else if((this.blocks[t]&Ze)===I.crimsonNylium||(this.blocks[t]&Ze)===I.warpedNylium){let s=(t>>8)+this.x,a=(t>>4&15)+this.y,o=(15&t)+this.z;if(!L[e.getBlock(s,a+1,o,this.type)].transparent)return void e.setBlock(s,a,o,I.netherrack,!1,!1,!1,!1,this.type);let r=27*Math.random()|0,i=r%3-1;r=(r-i-1)/3;let n=r%3-1;r=(r-n-1)/3,o+=r-1,s+=i,a+=n;let l=this.world.getBlock(s,a,o,this.type);(l&Ze)===I.netherrack&&this.world.getBlock(s,a+1,o,this.type)===I.air&&this.world.setBlock(s,a,o,this.blocks[t]&Ze|l&~Ze,!1,!1,!1,!1,this.type)}else if(s.grow){let e=(t>>8)+this.x,a=(t>>4&15)+this.y,o=(15&t)+this.z;s.grow(e,a,o,this.type,this.world)}else if("vine"===s.name||"weepingVines"===s.name){let e=(t>>8)+this.x,s=(t>>4&15)+this.y,a=(15&t)+this.z;this.world.getBlock(e,s-1,a)||this.world.setBlock(e,s-1,a,this.blocks[t],!1,!1,!1,!1,this.type)}else if("twistingVines"===s.name){let e=(t>>8)+this.x,s=(t>>4&15)+this.y,a=(15&t)+this.z;this.world.getBlock(e,s+1,a)||this.world.setBlock(e,s+1,a,this.blocks[t],!1,!1,!1,!1,this.type)}}for(let r=0;r<8;r++){let r=0|rand(this.blocks.length),i=L[this.blocks[r]],n=(r>>8)+this.x,l=(r>>4&15)+this.y,h=(15&r)+this.z;if(this.blocks[r]===I.tomatoPlant)e.setBlock(n,l,h,I.tomatoPlant|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.tomatoPlant|ce))e.setBlock(n,l,h,I.tomatoPlant|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.tomatoPlant|pe))e.setBlock(n,l,h,I.tomatoPlant|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.tomatoPlant|ue))e.setBlock(n,l,h,I.tomatoPlant|me,!1,!1,!1,!1,this.type);else if(this.blocks[r]===I.wheat)e.setBlock(n,l,h,I.wheat|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|ce))e.setBlock(n,l,h,I.wheat|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|pe))e.setBlock(n,l,h,I.wheat|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|ue))e.setBlock(n,l,h,I.wheat|me,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|me))e.setBlock(n,l,h,I.wheat|ge,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|ge))e.setBlock(n,l,h,I.wheat|ke,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.wheat|ke))e.setBlock(n,l,h,I.wheat|ye,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.newCactusFruit|ue))e.setBlock(n,l,h,I.greenCactusFruit|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.greenCactusFruit|ue))e.setBlock(n,l,h,I.redCactusFruit|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.redCactusFruit|ue))e.setBlock(n,l,h,I.purpleCactusFruit|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.cactus|fe)){for(var t=0,s=3,a=0;a<s&&e.getBlock(n,l-a,h,this.type)===(I.cactus|fe);a++)t++;if(t>=s)return;var o=e.getBlock(n,l+1,h,this.type);if(L[o].cactusFruit){if(e.getBlock(n,l+2,h,this.type))return;e.setBlock(n,l+2,h,o,!1,!1,!1,!1,this.type)}else if(o)return;e.setBlock(n,l+1,h,I.cactus|fe,!1,!1,!1,!1,this.type)}else if(this.blocks[r]===I.sweetBerryBush)e.setBlock(n,l,h,I.sweetBerryBush|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.sweetBerryBush|ce))e.setBlock(n,l,h,I.sweetBerryBush|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.sweetBerryBush|pe))e.setBlock(n,l,h,I.sweetBerryBush|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.cocoa|this.blocks[r]&Xe))e.setBlock(n,l,h,I.cocoa|ce|this.blocks[r]&Xe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.cocoa|ce|this.blocks[r]&Xe))e.setBlock(n,l,h,I.cocoa|pe|this.blocks[r]&Xe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===I.beetroots)e.setBlock(n,l,h,I.beetroots|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.beetroots|ce))e.setBlock(n,l,h,I.beetroots|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.beetroots|pe))e.setBlock(n,l,h,I.beetroots|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===I.potatoes)e.setBlock(n,l,h,I.potatoes|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.potatoes|ce))e.setBlock(n,l,h,I.potatoes|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.potatoes|pe))e.setBlock(n,l,h,I.potatoes|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===I.carrots)e.setBlock(n,l,h,I.carrots|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.carrots|ce))e.setBlock(n,l,h,I.carrots|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.carrots|pe))e.setBlock(n,l,h,I.carrots|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.bambooStalk|pe)||this.blocks[r]===(I.bambooStalk|ce)||this.blocks[r]===I.bambooStalk||this.blocks[r]===(I.bambooStalk|ue)||this.blocks[r]===(I.bambooStalk|me)){t=0,s=16;let a=[];for(let o=0;o<s;o++){let s=e.getBlock(n,l-o,h,this.type);if("bambooStalk"!==L[s].name)break;t++,a.push(s)}if(t>=s)return;if(o=e.getBlock(n,l+1,h,this.type))return;if(e.setBlock(n,l+1,h,I.bambooStalk|(t>3?pe:me),!1,!1,!1,!1,this.type),t>3)for(let s=0;s<t;s++){let t=a[s];0===s&&t!==(I.bambooStalk|ce)?e.setBlock(n,l-s,h,I.bambooStalk|ce,!1,!1,!1,!1,this.type):t!==I.bambooStalk&&e.setBlock(n,l-s,h,I.bambooStalk,!1,!1,!1,!1,this.type)}else for(let s=0;s<t;s++){let t=a[s];0===s&&t!==(I.bambooStalk|ue)&&e.setBlock(n,l-s,h,I.bambooStalk|ue,!1,!1,!1,!1,this.type)}}else if(this.blocks[r]===(I.bambooShoot|ue)){if(e.getBlock(n,l+1,h,this.type))return;e.setBlock(n,l,h,I.bambooStalk|ue,!1,!1,!1,!1,this.type),e.setBlock(n,l+1,h,I.bambooStalk|me,!1,!1,!1,!1,this.type)}else if("sugarCane"===i.name){let i=this.blocks[r];for(t=0,s=3,a=0;a<s&&e.getBlock(n,l-a,h,this.type)===i;a++)t++;if(t>=s)return;if(o=e.getBlock(n,l+1,h,this.type))return;e.setBlock(n,l+1,h,i,!1,!1,!1,!1,this.type)}else if(this.blocks[r]===I.pitcherCrop)e.setBlock(n,l,h,I.pitcherCrop|ce,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.pitcherCrop|ce))e.setBlock(n,l,h,I.pitcherCrop|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.pitcherCrop|pe))e.setBlock(n,l,h,I.pitcherCrop|ue,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.pitcherCrop|ue))e.setBlock(n,l,h,I.pitcherCrop|me,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.torchflower|ce))e.setBlock(n,l,h,I.torchflower|pe,!1,!1,!1,!1,this.type);else if(this.blocks[r]===(I.torchflower|pe))e.setBlock(n,l,h,I.torchflower|ue,!1,!1,!1,!1,this.type);else if("pointedDripstone"===i.name){let t,s=e.getBlock(n,l+2,h,this.type);if(L[s].liquid){let s;for(s=l-1;s>l-12&&(t=e.getBlock(n,s,h),"pointedDripstone"===L[t].name);s--);if(!L[t].solid){let a;for(e.setBlock(n,s,h,I.pointedDripstone|_e,!1,!1,!1,!1,this.type),a=s-1;a>s-12&&(t=e.getBlock(n,a,h),!L[t].solid);a--);L[t].solid&&e.setBlock(n,a+1,h,I.pointedDripstone,!1,!1,!1,!1,this.type)}}}else if(i.coralBlock||i.coral||i.coralFan){let t=this.blocks[r]&Qe;if(t===de||t===ce||t===pe||t===De){let s=t===pe||t===De,a=L[e.getBlock(n,l+1,h,this.type)].wet||L[e.getBlock(n,l-1,h,this.type)].wet||L[e.getBlock(n+1,l,h,this.type)].wet||L[e.getBlock(n-1,l,h,this.type)].wet||L[e.getBlock(n,l,h+1,this.type)].wet||L[e.getBlock(n,l,h-1,this.type)].wet,o=s?a?pe:De:a?de:ce;o!==t&&e.setBlock(n,l,h,this.blocks[r]&~Qe|o,!1,!1,!1,!1,this.type)}}}for(let e=0;e<40;e++){let e=0|rand(this.blocks.length),t=(e>>8)+this.x,s=(e>>4&15)+this.y,a=(15&e)+this.z,o=this.blocks[e]||0;"fire"===L[o].name||"Lava"===L[o].name?this.world.settings.fireSpreads&&L[o].tick(t,s,a,this.type,this.world):L[o].tick&&L[o].tick(o,t,s,a,this.type,this.world),L[o].beacon&&L[o].update(t,s,a,this.type,this.world)}}getLight(e,t,s,a=0){let o=this.size,r=e*o*o+t*o+s;return 1===a?this.blockLight[r]:2===a?this.skyLight[r]>>4:15&this.skyLight[r]}setLight(e,t,s,a,o=0){let r=this.size,i=e*r*r+t*r+s,n=1===o?this.blockLight:this.skyLight;n[i]=2===o?15&n[i]|a<<4:240&n[i]|a}getTags(e,t,s){let a=this.size;return this.tags[e*a*a+t*a+s]}getTagByName(e,t,s,a){var o=this.getTags(e,t,s);let r=L[this.getBlock(e,t,s)].tagBits;return r?r[a]?o>>>r[a][0]&(1<<r[a][1])-1:0:o&&o[a]}setTags(e,t,s,a){let o=this.size;this.tags[e*o*o+t*o+s]=a}setTagByName(e,t,s,a,o){let r=this.size;var i=e*r*r+t*r+s,n=this.tags[i];let l=L[this.getBlock(e,t,s)].tagBits;if(n||(n=this.tags[i]=l?0:{}),l){if(!l[a])throw new Error("Cannot set "+a+" on binary tags.");let e=(1<<l[a][1])-1;if(o>e)throw new Error("Tag too large");(n=n&~(e<<l[a][0])|o<<l[a][0])?this.tags[i]=n:delete this.tags[i]}else n[a]=o;return n}}let Ot=new At(0,0,0);function Gt(e,t,s){let a=L[s].tagBits;return e>>>a[t][0]&(1<<a[t][1])-1}new At(0,0,0).blocks.fill(I.bedrock),Ot.skyLight.fill(255);class Wt{constructor(e,t,s,a){this.x=e,this.z=t,this.maxY=0,this.minY=255,this.sections=[],this.cleanSections=[],this.tops=new Int16Array(256),this.ceils=new Uint8Array(256),this.solidTops=new Int16Array(256),this.biomes=new Uint8Array(256),this.caveY=new Int16Array(512),this.caveBiomes=new Uint8Array(256),this.caves=""!==this.type||!caves,this.generated=!1,this.generating=!1,this.populated=!0===a.superflat||"void"===a.superflat,this.carving=!1,this.lit=!1,this.lazy=!1,this.edited=!1,this.loaded=!1,this.type=s||"",this.world=a,this.caves=""!==this.type||!this.world.caves,this.doubleRender=!1,this.entities={},this.columnHashs=new Uint8Array(256)}getBlock(e,t,s){let a=(t-=P)>>4;return a<this.sections.length&&a>=0?this.sections[a].getBlock(e,15&t,s):0}setBlock(e,t,s,a,o){let r=t;if(!((t-=P)<0)){if(this.allGenerated&&!o&&(o=this.world,this.world.sendAllInChunk({type:"setBlock",data:{x:e+this.x,y:r,z:s+this.z,block:a,dimension:this.type}},this.x>>4,this.z>>4,this.type)),!this.sections[t>>4])do{let e=new At(this.x,16*this.sections.length+P,this.z,this);this.lit&&e.skyLight.fill(15),this.sections.push(e)}while(!this.sections[t>>4]);o&&!this.sections[t>>4].edited&&(this.cleanSections[t>>4]=this.sections[t>>4].blocks.slice(),this.sections[t>>4].edited=!0,this.edited=!0),L[a].semiTrans&&(this.doubleRender=!0),this.sections[t>>4].setBlock(e,15&t,s,a),this.updateSolidTop(e,r,s,a),this.columnHashs[16*s+e]++}}updateSolidTop(e,t,s,a){if(a&&(L[a].solid||L[a].liquid))this.solidTops[16*s+e]=max(this.solidTops[16*s+e],t);else if(t>=this.solidTops[16*s+e]){let t=this.solidTops[16*s+e];for(;;){let a=this.getBlock(e,t,s);if(L[a].solid||L[a].liquid||t<P)break;t--}this.solidTops[16*s+e]=t}}deleteBlock(e,t,s,a){let o=t;t-=P,this.sections[t>>4]&&(a&&!this.sections[t>>4].edited&&(this.cleanSections[t>>4]=this.sections[t>>4].blocks.slice(),this.sections[t>>4].edited=!0,this.edited=!0),this.sections[t>>4].deleteBlock(e,15&t,s),this.minY=o<this.minY?o:this.minY,this.maxY=o>this.maxY?o:this.maxY,this.updateSolidTop(e,o,s,0),this.columnHashs[16*s+e]++)}getOriginalBlock(e,t,s){let a=(t-=P)>>4;if(!this.cleanSections[a])return 0;t&=15;let o=this.sections[a];return this.cleanSections[a][e*o.size*o.size+t*o.size+s]}getTags(e,t,s){let a=(t-=P)>>4;return a<this.sections.length&&a>=0?this.sections[a].getTags(e,15&t,s):void 0}getTagByName(e,t,s,a){let o=(t-=P)>>4;return o<this.sections.length&&o>=0?this.sections[o].getTagByName(e,15&t,s,a):void 0}setTags(e,t,s,a){let o=(t-=P)>>4;o<this.sections.length&&o>=0&&this.sections[o].setTags(e,15&t,s,a)}setTagByName(e,t,s,a,o){let r=(t-=P)>>4;if(r<this.sections.length&&r>=0)return this.sections[r].setTagByName(e,15&t,s,a,o)}fillLight(){let e=16*this.sections.length-1+P,t=[];for(let s=0;s<16;s++)for(let a=0;a<16;a++){let o=15,r=!1;for(let i=e;i>=P;i--){let e=L[this.getBlock(s,i,a)];e.lightLevel&&(t[e.lightLevel]||(t[e.lightLevel]=[]),t[e.lightLevel].push(s+this.x,i,a+this.z),this.setLight(s,i,a,e.lightLevel,1)),r||e.transparent?o&&(e.decreaseLight&&(o=Math.max(o-e.decreaseLight,0)),this.setLight(s,i,a,o,2),this.setLight(s,i,a,o,0)):(this.tops[16*a+s]=i,o=0,r=!0)}}let s=[];for(let t=0;t<16;t++)for(let a=0;a<16;a++)for(let o=this.tops[16*a+t]+1;o<=e;o++){let e=this.getLight(t,o+1,a,2);if(s[e]||(s[e]=[]),15===t||this.getLight(t+1,o,a,2)<e)s[e].push(t+this.x,o,a+this.z);else if(0===t||this.getLight(t-1,o,a,2)<e)s[e].push(t+this.x,o,a+this.z);else if(15===a||this.getLight(t,o,a+1,2)<e)s[e].push(t+this.x,o,a+this.z);else{if(!(0===a||this.getLight(t,o,a-a,2)<e))break;s[e].push(t+this.x,o,a+this.z)}}for(let e=s.length-1;e>0;e--)s[e]&&this.spreadLight(s[e],e-1);for(let e=t.length-1;e>0;e--){let s=t[e];s&&s.length&&this.spreadLight(s,e-1,!1,1)}this.lit=!0}setLight(e,t,s,a,o){t-=P,this.sections[t>>4]&&this.sections[t>>4].setLight(e,15&t,s,a,o)}getLight(e,t,s,a=0,o){return t-=P,this.sections[t>>4]?this.sections[t>>4].getLight(e,15&t,s,a):15*(!a||o)}trySpread(e,t,s,a,o,r,i=!1){t<P||this.world.getLight(e,t,s,r,this.type,1)<a&&L[this.world.getBlock(e,t,s,this.type)].transparent&&(this.world.setLight(e,t,s,a,r,this.type),o.push(e,t,s))}spreadLight(e,t,s=!1,a=0){let o=[],r=0,i=0,n=0;for(let l=0;l<e.length;l+=3)r=e[l],i=e[l+1],n=e[l+2],i<P||(this.trySpread(r-1,i,n,t,o,a,s),this.trySpread(r+1,i,n,t,o,a,s),this.trySpread(r,i-1,n,t,o,a,s),this.trySpread(r,i+1,n,t,o,a,s),this.trySpread(r,i,n-1,t,o,a,s),this.trySpread(r,i,n+1,t,o,a,s));t>1&&o.length&&this.spreadLight(o,t-1,s,a)}tryUnSpread(e,t,s,a,o,r,i){if(t<P)return;let n=this.world.getLight(e,t,s,i,this.type,1),l=!i&&this.world.getLight(e,t,s,2,this.type),h=L[this.world.getBlock(e,t,s,this.type)].transparent;n===a?h&&(this.world.setLight(e,t,s,0,i,this.type),o.push(e,t,s)):n>a&&!l&&r[n].push(e,t,s),l&&r[l].push(e,t,s)}unSpreadLight(e,t,s,a){let o=[],r=0,i=0,n=0;for(let l=0;l<e.length;l+=3)r=e[l],i=e[l+1],n=e[l+2],i<P||(this.tryUnSpread(r-1,i,n,t,o,s,a),this.tryUnSpread(r+1,i,n,t,o,s,a),this.tryUnSpread(r,i-1,n,t,o,s,a),this.tryUnSpread(r,i+1,n,t,o,s,a),this.tryUnSpread(r,i,n-1,t,o,s,a),this.tryUnSpread(r,i,n+1,t,o,s,a));t>1&&o.length&&this.unSpreadLight(o,t-1,s,a)}reSpreadLight(e,t){for(let s=e.length-1;s>1;s--){let a=e[s],o=s-1,r=e[o];for(let e=0;e<a.length;e+=3){let s=a[e],i=a[e+1],n=a[e+2];this.trySpread(s-1,i,n,o,r,t),this.trySpread(s+1,i,n,o,r,t),this.trySpread(s,i-1,n,o,r,t),this.trySpread(s,i+1,n,o,r,t),this.trySpread(s,i,n-1,o,r,t),this.trySpread(s,i,n+1,o,r,t)}}}updateBlock(e,t,s,a,o,r,i,n,l){t-=P,this.allGenerated&&(this.lazy=o,this.sections.length>t>>4&&this.sections[t>>4]&&this.sections[t>>4].updateBlock(e,15&t,s,a,r,i,n,l))}async carveCaves(){if(!this.carving){if(this.carving=!0,this.world.usePreBeta||this.world.superflat)for(let e=-P>>4;e<this.sections.length;e++)this.sections[e].caves||this.sections[e].carveCaves();else{let{blocks:e,tops:t,biomes:s,caveY:a}=await B({caves:!0,densities:this.densities,bottoms:this.densityBottoms,tops:this.tops,trueX:this.x,trueZ:this.z,blocks:this.tempSections,biomes:this.biomes,seed:this.world.worldSeed,riverCloseness:this.riverCloseness},[...Object.values(this.densities).map((e=>e.buffer)),this.densityBottoms.buffer,...this.tempSections.map((e=>e.buffer)),this.tops.buffer,this.riverCloseness.buffer]);for(let t=0;t<e.length;t++)this.sections[t]=new At(this.x,16*t+P,this.z,this,e[t]);this.tops.set(t),this.solidTops.set(t),this.caveY.set(a),this.caveBiomes=s,delete this.densities,delete this.densityBottoms,delete this.tempSections,delete this.riverCloseness}this.caves=!0,this.carving=!1}}async generate(){let e=this.x>>4,t=this.z>>4,s=this.x,a=this.z;if(this.generated||this.generating)return!1;this.generating=!0;const{noiseProfile:o}=this.world;let r=f.smooth,i=f.height,n=f.biomeSmooth;let l=0,h=0;if(this.world.customChunkGenerate)this.world.customChunkGenerate(this);else if(this.world.usePreBeta||""!==this.type||this.world.superflat)for(let u=0;u<16;u++)for(let m=0;m<16;m++){let g=s+u,k=a+m;if(h=o.noise((s+u)*r,(a+m)*r)*i+f.extra,l="island"===this.world.superflat&&""===this.type?this.world.islandGenerator.GetHeight(16*e+u,16*t+m):this.world.superflat?4:Math.round(h),this.tops[16*m+u]=l,"nether"===this.type){let e=Ws(o.noise((s+u)*n,(a+m)*n));this.biomes[16*m+u]=Gs[e];let t=I.netherrack;"warpedForest"===e?t=I.warpedNylium:"crimsonForest"===e&&(t=I.crimsonNylium);const r=40;let i=0,l=!1;for(let e=1;e<C;e++){var d=o.noise((s+u)/r,e/r,(a+m)/r)-.004*(110+e/4-0);e>C-10&&(d=lerp((e-(C-10))/10,d,.1)),d>0?(this.setBlock(u,e,m,I.netherrack),l||(this.ceils[16*m+u]=e),e>31&&(l=!0)):l&&e>31?(this.setBlock(u,e-1,m,t),l=!1,i=e):e<32&&(this.setBlock(u,e,m,I.Lava),this.getBlock(u,e-1,m)===t&&this.setBlock(u,e-2,m,I.netherrack))}this.tops[16*m+u]=i-1,this.setBlock(u,0,m,I.bedrock),this.setBlock(u,C,m,I.bedrock)}else if("end"===this.type){this.tops[16*m+u]=0;for(let e=0;e<64;e++){if(l=o.noise(.01*g,.01*e,.01*k)-.57,g>-64&&g<64&&k>-64&&k<64)l=l+.57-lerp(max(abs(g),abs(k))/64,0,.57);else if(g>-80&&g<80&&k>-80&&k<80)l=l+.57-lerp(max(abs(g)-64,abs(k)-64)/16,.57,1);else if(g>-200&&g<200&&k>-200&&k<200){l=lerp(max(abs(g)-136,abs(k)-136,0)/64,-.1,l)}e<32&&(l=lerp(e/32,-.1,l)),e>48&&(l=lerp((e-48)/16,l,-.1)),l>0&&(this.tops[16*m+u]=e,this.setBlock(u,e,m,I.endStone))}this.biomes[16*m+u]=g<-200||g>200||k<-200||k>200?Gs.endIslands:Gs.end}else if("island"===this.world.superflat)if(this.world.islandGenerator.GetWaterDepth(16*e+u,16*t+m)>0)this.setBlock(u,l,m,I.Water),this.setBlock(u,l-1,m,I.Water),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt);else{let s=this.world.islandGenerator.GetBiomeType(16*e+u,16*t+m);-3161286===s?(this.setBlock(u,l,m,I.sand),this.setBlock(u,l-1,m,I.sand),this.setBlock(u,l-2,m,I.sand),this.setBlock(u,l-3,m,I.sand),this.biomes[16*m+u]=Gs.desert):-1===s?(this.setBlock(u,l,m,I.snowBlock),this.setBlock(u,l-1,m,I.snowBlock),this.setBlock(u,l-2,m,I.stone),this.setBlock(u,l-3,m,I.stone),this.biomes[16*m+u]=Gs.snowyPlains):-4934476===s||-8355712===s||-6963874===s?(this.setBlock(u,l,m,I.stone),this.setBlock(u,l-1,m,I.stone),this.setBlock(u,l-2,m,I.stone),this.setBlock(u,l-3,m,I.stone),this.biomes[16*m+u]=Gs.desert):-65536===s?(this.setBlock(u,l,m,I.Lava),this.setBlock(u,l-1,m,I.stone),this.setBlock(u,l-2,m,I.stone),this.setBlock(u,l-3,m,I.stone),this.biomes[16*m+u]=Gs.desert):(this.setBlock(u,l,m,I.grass),this.setBlock(u,l-1,m,I.dirt),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt),this.biomes[16*m+u]=Gs.plains)}else if("void"===this.world.superflat)this.biomes[16*m+u]=Gs.void;else if(this.world.superflat)this.tops[16*m+u]=l,this.biomes[16*m+u]=Gs.plains,this.setBlock(u,l,m,I.grass),this.setBlock(u,l-1,m,I.dirt),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt);else{var c=Fs(o.noise((s+u)*n,(a+m)*n));if(this.biomes[16*m+u]=Gs[c],"desert"===c&&(this.tops[16*m+u]=l,this.setBlock(u,l,m,I.sand),this.setBlock(u,l-1,m,I.sand),this.setBlock(u,l-2,m,I.sandstone),this.setBlock(u,l-3,m,I.sandstone),l<60&&(l=59,this.setBlock(u,l+1,m,I.Water),this.setBlock(u,l,m,I.Water),this.setBlock(u,l-1,m,I.Water),this.setBlock(u,l-2,m,I.gravel),this.setBlock(u,l-3,m,I.gravel)),l>120&&this.setBlock(u,l,m,I.stone),l>140&&this.setBlock(u,l,m,I.sand)),"plains"!==c&&"forest"!==c||(this.tops[16*m+u]=l,this.setBlock(u,l,m,I.grass),this.setBlock(u,l-1,m,I.dirt),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt),l<60&&(l=59,this.setBlock(u,l+1,m,I.Water),this.setBlock(u,l,m,I.Water),this.setBlock(u,l-1,m,I.Water),this.setBlock(u,l-2,m,I.gravel),this.setBlock(u,l-3,m,I.gravel))),"snowyPlains"===c){if(this.tops[16*m+u]=l,l>=60){switch(ceil((h+.5)%1*8)){case 1:this.setBlock(u,l+1,m,I.snow|Ae);break;case 2:this.setBlock(u,l+1,m,I.snow|Oe);break;case 3:this.setBlock(u,l+1,m,I.snow|Ge);break;case 4:this.setBlock(u,l+1,m,I.snow|We);break;case 5:this.setBlock(u,l+1,m,I.snow|Fe);break;case 6:this.setBlock(u,l+1,m,I.snow|Ee);break;case 7:this.setBlock(u,l+1,m,I.snow|Ue);break;case 8:this.setBlock(u,l+1,m,I.snowBlock)}this.setBlock(u,l,m,I.grass|ue),this.setBlock(u,l-1,m,I.dirt),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt)}l<60&&(l=59,this.setBlock(u,l+1,m,I.ice),this.setBlock(u,l,m,I.ice),this.setBlock(u,l-1,m,I.Water),this.setBlock(u,l-2,m,I.gravel),this.setBlock(u,l-3,m,I.gravel))}if(("sparseJungle"===c||"jungle"===c||"bambooJungle"===c)&&(this.tops[16*m+u]=l,"bambooJungle"===c?this.setBlock(u,l,m,I.podzol):this.setBlock(u,l,m,I.grass),this.setBlock(u,l-1,m,I.dirt),this.setBlock(u,l-2,m,I.dirt),this.setBlock(u,l-3,m,I.dirt),l<60)){this.setBlock(u,60,m,I.Water);for(var p=59;p>=l;p--)this.setBlock(u,p,m,I.Water);this.setBlock(u,l,m,I.gravel),this.setBlock(u,l-1,m,I.gravel)}}if(""===this.type&&"void"!==this.world.superflat){for(let e=1;e<l-3;e++)this.setBlock(u,e,m,I.stone);this.setBlock(u,0,m,I.bedrock)}}else{let{blocks:e,tops:t,biomes:o,hasSemiTrans:r,minY:i,maxY:n,densityBottoms:l,densities:h,waterTops:d,riverCloseness:c}=await B({generate:!0,trueX:s,trueZ:a,seed:this.world.worldSeed,fancyRivers:this.world.fancyRivers});if(this.tops.set(t),this.solidTops.set(t),this.biomes=o,r&&(this.doubleRender=!0),this.minY=i,this.maxY=n,this.waterTops=d,this.caves)for(let t=0;t<e.length;t++)this.sections[t]=new At(this.x,16*t+P,this.z,this,e[t]);else this.densityBottoms=l,this.densities=h,this.tempSections=e,this.riverCloseness=c}this.generating=!1,this.generated=!0}generateOldBlob(e,t,s,a,o,r,i=1){let n=0,l=0,h=0;for(let u=0;u<s;u++){var d=this.getBlock(a+n,o+l,r+h),c=!1;if(Array.isArray(e)){for(var p of e)if(d===p){c=!0;break}}else d===e&&(c=!0);c&&this.setBlock(a+n,o+l,r+h,t),n=round(ds(-i,i)),l=round(ds(-i,i)),h=round(ds(-i,i))}}generateBlob(e,t,s,a,o,r,i,n,l=!1){i=round(i);let{world:h}=this,d=[],c=0,p=0,u=0,m=2*ds()-1,g=2*ds()-1,k=2*ds()-1;for(let e=0;e<o;e++){let e=Math.hypot(m,g,k);m/=e,g/=e,k/=e,d.push(c,p,u),c+=m*r,l||(p+=g*r),u+=k*r,c>i&&(c=-i),c<-i&&(c=i),p>i&&(p=-i),p<-i&&(p=i),u>i&&(u=-i),u<-i&&(u=i),m=2*ds()-1,g=2*ds()-1,k=2*ds()-1}for(let o=-i;o<i;o++)for(let r=-i;r<i;r++)for(let l=-i;l<i;l++){let i=a[h.getBlock(e+o,t+r,s+l,this.type)];if(void 0===i)continue;if("function"==typeof i&&(i=i(e+o,t+r,s+l,this.type)),void 0===i)continue;let c=0;for(let e=0;e<d.length;e+=3)c+=1/dist3(d[e],d[e+1],d[e+2],o,r,l);c>1/n&&h.spawnBlock(e+o,t+r,s+l,i,this.type,!0)}}spawnOres(e,t,s,a,o,r,i=r/10,n=4,l=8){for(let h=0;h<t;h++){let t;t=round("triangle"===o?.5*(ds(s,a)+ds(s,a)):ds(s,a));let h=round(ds(15)),d=round(ds(15));!e[this.getBlock(h,t,d)]||e.biomes&&!e.biomes.includes(Gs[this.biomes[16*d+h]])||this.generateBlob(this.x+h,t,this.z+d,e,l,n,r,i)}}allFlowers=[I.lilyOftheValley,I.poppy,I.dandelion,I.blueOrchid,I.pinkTulip,I.orangeTulip,I.redTulip,I.whiteTulip,I.azureBluet,I.cornFlower,I.purpleFlower,I.witherRose,I.allium,I.oxeyeDaisy,I.lilac,I.roseBush,I.peony,I.TallGrass,I.DoubleTallGrass];trashland=[I.grass,I.blackConcrete,I.blackTerracotta,I.soup3,I.coalBlock,I.ancientDebris,I.obsidian,I.blackstone,I.tuff,I.mud];spawnSmallTree(e,t,s,a,o,r,i,n){let l,{type:h,world:d}=this,c=t+floor(4.5+ds(2.5)),p=floor(ds(4096)),u=void 0===r?ds()<.6?I.oakLog:++c&&I.birchLog:r?I.birchLog:I.oakLog,m=u===I.oakLog?I.oakLeaves:I.birchLeaves;n&&(u|=Ne);for(let r=t+1;r<=c;r++)this.setBlock(e,r,s,u),i&&_s.add(a,r,o,I.mossCarpet);this.setBlock(e,c+1,s,m),this.setBlock(e,t,s,I.dirt);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(l=1&p,p>>>=1,l&&d.spawnBlock(a+e,c-2,o+t,m,h)):d.spawnBlock(a+e,c-2,o+t,m,h));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(l=1&p,p>>>=1,l&&d.spawnBlock(a+e,c-1,o+t,m,h)):d.spawnBlock(a+e,c-1,o+t,m,h));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(l=1&p,p>>>=1,l&&d.spawnBlock(a+e,c,o+t,m,h)):d.spawnBlock(a+e,c,o+t,m,h));d.spawnBlock(a+1,c+1,o,m,h),d.spawnBlock(a,c+1,o-1,m,h),d.spawnBlock(a,c+1,o+1,m,h),d.spawnBlock(a-1,c+1,o,m,h)}spawnSnowSmallTree(e,t,s,a,o){let r,{type:i,world:n}=this,l=t+floor(4.5+ds(2.5)),h=floor(ds(4096)),d=ds()<.6?I.oakLog:++l&&I.birchLog,c=d===I.oakLog?I.oakLeaves:I.birchLeaves,p=I.snow;for(let a=t+1;a<=l;a++)this.setBlock(e,a,s,d);this.setBlock(e,l+1,s,c),this.setBlock(e,t,s,I.dirt),this.setBlock(e,l+2,s,p|Oe),n.spawnBlock(a+1,l+1,o,c,i),n.spawnBlock(a,l+1,o-1,c,i),n.spawnBlock(a,l+1,o+1,c,i),n.spawnBlock(a-1,l+1,o,c,i),n.spawnBlock(a+1,l+2,o,p|Ae,i),n.spawnBlock(a,l+2,o-1,p|Ae,i),n.spawnBlock(a,l+2,o+1,p|Ae,i),n.spawnBlock(a-1,l+2,o,p|Ae,i);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(r=1&h,h>>>=1,r&&n.spawnBlock(a+e,l-2,o+t,c,i)):n.spawnBlock(a+e,l-2,o+t,c,i));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(r=1&h,h>>>=1,r&&(n.spawnBlock(a+e,l,o+t,c,i),2&h?n.spawnBlock(a+e,l+1,o+t,p|Oe,i):n.spawnBlock(a+e,l+1,o+t,p|Ae,i))):(n.spawnBlock(a+e,l,o+t,c,i),n.spawnBlock(a+e,l+1,o+t,p|Ae,i)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(r=1&h,h>>>=1,r&&(n.spawnBlock(a+e,l-1,o+t,c,i),2&h?n.spawnBlock(a+e,l,o+t,p|Oe,i):n.spawnBlock(a+e,l,o+t,p|Ae,i))):(n.spawnBlock(a+e,l-1,o+t,c,i),n.spawnBlock(a+e,l,o+t,p|Ae,i)))}spawnCactus(e,t,s){let a=ds(),o=t+Math.floor(2.5+1.5*a),r=(Math.floor(ds(4096)),I.cactus|fe);for(let a=t+1;a<=o;a++)this.setBlock(e,a,s,r);switch(round(4*a)){case 0:this.setBlock(e,o+1,s,I.newCactusFruit|ue);break;case 1:this.setBlock(e,o+1,s,I.greenCactusFruit|ue);break;case 2:this.setBlock(e,o+1,s,I.redCactusFruit|ue)}}spawnCocoaTree(e,t,s,a,o){let r,{type:i,world:n}=this,l=floor(ds(4096)),h=t+floor(5+ds(5)),d=I.jungleLog,c=I.jungleLeaves;for(let r=t+1;r<=h;r++)this.setBlock(e,r,s,d),_s.add(a,r,o,I.vine),_s.add(a,r,o,I.cocoa);this.setBlock(e,h+1,s,c),this.setBlock(e,t,s,I.dirt);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(r=1&l,l>>>=1,r&&(n.spawnBlock(a+e,h-2,o+t,c,i),_s.add(a+e,h-2,o+t,I.vine))):(n.spawnBlock(a+e,h-2,o+t,c,i),_s.add(a+e,h-2,o+t,I.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(r=1&l,l>>>=1,r&&(n.spawnBlock(a+e,h-1,o+t,c,i),_s.add(a+e,h-1,o+t,I.vine))):(n.spawnBlock(a+e,h-1,o+t,c,i),_s.add(a+e,h-1,o+t,I.vine)));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)(e||t)&&(e&t?(r=1&l,l>>>=1,r&&(n.spawnBlock(a+e,h,o+t,c,i),_s.add(a+e,h,o+t,I.vine))):(n.spawnBlock(a+e,h,o+t,c,i),_s.add(a+e,h,o+t,I.vine)));n.spawnBlock(a+1,h+1,o,c,i),n.spawnBlock(a,h+1,o-1,c,i),n.spawnBlock(a,h+1,o+1,c,i),n.spawnBlock(a-1,h+1,o,c,i),_s.add(a+1,h+1,o,I.vine),_s.add(a,h+1,o-1,I.vine),_s.add(a,h+1,o+1,I.vine),_s.add(a-1,h+1,o,I.vine)}spawnJungleTree(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(10+ds(20)),l=I.jungleLog,h=I.jungleLeaves;for(let h=t+1;h<n;h++)this.setBlock(e,h,s,l),i.spawnBlock(a+1,h,o,l,r),i.spawnBlock(a,h,o+1,l,r),i.spawnBlock(a+1,h,o+1,l,r);this.setBlock(e,t,s,I.dirt),i.spawnBlock(a+1,t,o,I.dirt,r,!0),i.spawnBlock(a,t,o+1,I.dirt,r,!0),i.spawnBlock(a+1,t,o+1,I.dirt,r,!0);let d=25;for(var c=-5;c<=5;c++)for(var p=2;p<5;p++)for(var u=-5;u<=5;u++){let e=c-.5,t=u-.5;e*e/d+p*p/d+t*t/d<1&&(i.spawnBlock(a+e+1,n-4+p,o+t+1,h,r),_s.add(a+e+1,n-4+p,o+t+1,I.vine))}for(d=9,p=t+5;p<n;p+=Math.floor(ds(10))){let e=0,t=0;switch(floor(ds(4))){case 0:e=1;break;case 1:e=-1;break;case 2:t=1;break;case 3:t=-1}let s=1===e?2:e,n=1===t?2:t,c=floor(ds(4))+2;for(var m=0;m<c;m++)i.spawnBlock(a+s,p+m,o+n,l,r),_s.add(a+s,p+m,o+n,I.vine),s+=e,n+=t;s-=e,n-=t,m-=1;for(var g=-3;g<3;g++)for(var k=1;k<3;k++)for(var y=-3;y<3;y++){g*g/d+k*k/d+y*y/d<1&&(i.spawnBlock(a+s+g,p+m+k,o+n+y,h,r),_s.add(a+s+g,p+m+k,o+n+y,I.vine))}}for(var b=0;b<10;b++){var w=ds(t,n),f=floor(ds(4)),B=a,S=o;switch(f){case 0:S+=2,f=je;break;case 1:S-=1,f=He;break;case 2:B+=2,f=Ve;break;case 3:B-=1,f=Ye}for(var v=max(floor(ds(t,w)),t);w>v&&!i.getBlock(B,w,S,r);w--)i.spawnBlock(B,w,S,I.vine|ve|f,r)}}spawnJungleBush(e,t,s,a,o){let r,{type:i,world:n}=this,l=floor(ds(512)),h=I.jungleLeaves;this.setBlock(e,a+1,t,I.jungleLog);for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(4==(e*t&7)?(r=1&l,l>>>=1,r&&n.spawnBlock(s+e,a+1,o+t,h,i)):n.spawnBlock(s+e,a+1,o+t,h,i));for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)e&t?(r=1&l,l>>>=1,r&&n.spawnBlock(s+e,a+2,o+t,h,i)):n.spawnBlock(s+e,a+2,o+t,h,i);1&l&&this.setBlock(e,a+3,t,h)}spawnNetherMushroom(e,t,s,a,o,r){let{type:i,world:n}=this,l=round(ds(4,12));1===floor(ds(12))&&(l*=2);let h,d,c=round(.25*l+1.5),p=t+l;floor(ds(4096));"warpedForest"===r?(h=I.warpedStem,d=I.warpedWartBlock):"crimsonForest"===r&&(h=I.crimsonStem,d=I.netherWartBlock);for(let a=t+1;a<=p;a++)this.setBlock(e,a,s,h);this.setBlock(e,p+1,s,d),this.setBlock(e,t,s,I.netherrack);let u=c**2,m=(c-2)**2;for(let e=-c;e<=c;e++)for(let t=-c;t<=c;t++)for(let s=0;s<=c;s++){let l=e*e/u+t*t/u+s*s/u,h=e*e/m+s*s/m+t*t/m;if(l>.5&&(l+=.5*this.world.caveNoise(1.5*(a+e),1.5*(p+s),1.5*(o+t))),l<1&&h>1){let l=p-c+2+s;if(n.spawnBlock(a+e,l,o+t,d,i),!n.getBlock(a+e,l-1,o+t)){let h=ns(a+e,l,o+t);if(h<.02&&n.spawnBlock(a+e,l,o+t,I.shroomlight,i,!0),s<2)if(h>.8){let s=map(h,.8,1,1,3);for(var g=0;g<s;g++)n.spawnBlock(a+e,l-g-1,o+t,d,i)}else if(h>.7&&"crimsonForest"===r){let s=map(h,.7,.8,1,5);for(g=0;g<s;g++)n.spawnBlock(a+e,l-g-1,o+t,I.weepingVinesPlant,i);n.spawnBlock(a+e,l-s-1,o+t,I.weepingVines,i)}}}}}spawnBamboo(e,t,s,a,o,r=!1){let{type:i,world:n}=this;if(ds()<.2)this.setBlock(e,t+1,s,I.bambooShoot|ue);else{let h=t+round(r?12+6*ds():4+10*ds());for(var l=t+1;l<h+1;l++)l===h?this.setBlock(e,l,s,I.bambooStalk|pe):l===h-1?this.setBlock(e,l,s,I.bambooStalk|ce):this.setBlock(e,l,s,I.bambooStalk);if(r)for(let r=0;r<6;r++){let l=ds(),d=round(l>.5?lerp(2*(l-.5),h,h+4):lerp((2*l)**3,h,.5*(h+t))),c=ns(e,r,s)*Math.PId,p=sin(c),u=cos(c);for(let e=0;e<4;e++)n.spawnBlock(round(a+p*e),round(d+-.5*e),round(o+u*e),I.bambooLeaves,i)}}}spawnBigOak(e,t,s,a,o,r){let{type:i,world:n}=this;this.setBlock(e,t,s,I.dirt);var l,h,d=Math.floor(ds(8)+8);let c=I.oakLog,p=I.oakLeaves,u=[];l=d,h=d>14?10:6;let m=.75*d,g=.5*d,k=ds(Math.PId),y=ds(),b=sin(k)*y,w=cos(k)*y;u.push([a+b*l,t+l,o+w*l]);for(var f=0;f<h;f++){let e=[],s=ds(m-g)+g,r=round(lerp(ds()**2,6,l)),i=ds(2*Math.PI),n=map(r,6,l,.4,.8)*Math.PI2,h=r*b,d=r*w,c=ds();if(c<.125&&u.length>1){let e=u[round(ds(1,u.length-1))];s*=.25;let i=3*floor(e.length*c*4/3);h=e[i]-a,r=e[i+1]-t,d=e[i+2]-o}let p=cos(n),k=a+h+.75*s*sin(i)*p,y=o+d+.75*s*cos(i)*p;line3D(k,r+s*sin(n)+t,y,a+h,r+t,o+d,e),u.push(e)}let B=[];line3DConncected(a+round(b*l),l+t,o+round(w*l),a,t,o,B);for(e=0;e<B.length;e+=3)n.spawnBlock(B[e],B[e+1],B[e+2],c),r&&_s.add(B[e],B[e+1],B[e+2],I.mossCarpet);var S=.2*d;for(var f of u){var v=f[0],x=f[1],P=f[2];if(x>=S+t)for(var T=0;T<f.length;T+=3)n.spawnBlock(f[T],f[T+1],f[T+2],c,i),r&&_s.add(f[T],f[T+1],f[T+2],I.mossCarpet)}for(var f of u){var N=f.length;v=f[N-3],x=f[N-2],P=f[N-1];let e=4,t=3,s=e*e,a=t*t;for(let o=-t;o<t;o++)for(let t=-e;t<=e;t++)for(let r=-e;r<=e;r++){let e=t*t/s+o*o/a+r*r/s;e>.2&&(e+=.8*this.world.caveNoise(3.3*(t+v),3.3*(o+x),3.3*(r+P))),e<1&&n.spawnBlock(t+v,o+x,r+P,p,i)}}}spawnFallenTree(e,t,s,a,o,r,i,n,l){let h,{type:d,world:c}=this,p=round(ds(i,n)),u=floor(ds(8)),m=2+(1&u),g=u>>1&3,k=L[r].swId,y=0,b=0;switch(g){case 0:y=1,h=Ye;break;case 1:b=1,h=He;break;case 2:y=-1,h=Ve;break;case 3:b=-1,h=je}u=floor(ds(256)),this.setBlock(e,t,s,I.dirt),this.setBlock(e,t+1,s,r),l&&ds()<l&&_s.add(a,t+1,o,I.vine),t=c.getTop(a+m*y,o+m*b,d);for(let e=0;e<p;e++){let s=a+(m+e)*y,r=o+(m+e)*b;if(c.spawnBlock(s,t+1,r,k|h,d),1&u){let e=u>>1&1?I.redMushroom:I.brownMushroom;c.spawnBlock(s,t+2,r,e,d)}u>>=2}}spawnSpruce(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(5,9)),l=I.spruceLog,h=I.spruceLeaves,d=n+round(ds());for(let a=t+1;a<=n;a++)this.setBlock(e,a,s,l);this.setBlock(e,n+1,s,h),this.setBlock(e,t,s,I.dirt),i.spawnBlock(a+1,d,o,h,r),i.spawnBlock(a,d,o-1,h,r),i.spawnBlock(a,d,o+1,h,r),i.spawnBlock(a-1,d,o,h,r);for(let e=d-2,s=0;e>t+1;e--,s++)if(s>3&&!(s%2))for(let t=-3;t<=3;t++)for(let s=-3;s<=3;s++)(t||s)&&(3===abs(t)&&3===abs(s)||i.spawnBlock(a+t,e,o+s,h,r));else if(s%2||s>3)for(let t=-2;t<=2;t++)for(let s=-2;s<=2;s++)(t||s)&&4!=(t*s&7)&&i.spawnBlock(a+t,e,o+s,h,r);else i.spawnBlock(a+1,e,o,h,r),i.spawnBlock(a,e,o-1,h,r),i.spawnBlock(a,e,o+1,h,r),i.spawnBlock(a-1,e,o,h,r)}spawnPine(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(6,15)),l=I.spruceLog,h=I.spruceLeaves,d=round(ds(2.25,3.75));for(let a=t+1;a<=n;a++)this.setBlock(e,a,s,l);this.setBlock(e,n+1,s,h),this.setBlock(e,t,s,I.dirt);for(let e=0;e<d;e++)if(3===d&&1===e)for(let t=-2;t<=2;t++)for(let s=-2;s<=2;s++)(t||s)&&4!=(t*s&7)&&i.spawnBlock(a+t,n-e,o+s,h,r);else i.spawnBlock(a+1,n-e,o,h,r),i.spawnBlock(a-1,n-e,o,h,r),i.spawnBlock(a,n-e,o+1,h,r),i.spawnBlock(a,n-e,o-1,h,r)}spawnBigSpruce(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(25,35)),l=I.spruceLog,h=I.spruceLeaves;this.generateBlob(a,t,o,this.patches.podzol,4,3,6,1.5,!0);for(let h=t+1;h<n;h++)this.setBlock(e,h,s,l),i.spawnBlock(a+1,h,o,l,r),i.spawnBlock(a,h,o+1,l,r),i.spawnBlock(a+1,h,o+1,l,r);this.setBlock(e,t,s,I.dirt),i.spawnBlock(a+1,t,o,I.dirt,r,!0),i.spawnBlock(a,t,o+1,I.dirt,r,!0),i.spawnBlock(a+1,t,o+1,I.dirt,r,!0);for(let e=n+2,s=0;e>t+4;e--,s++){let n=round(s/4+1),l=n*n;for(let s=-n;s<=n;s++)for(let d=-n;d<=n;d++){let n=(s+.5)**2/l+(d+.5)**2/l;e<t+12&&(n+=(t+12-e)/12);let c=1/Math.hypot(s,d)*2;n+=.8*this.world.caveNoise(a+s*c,.5*(e+n),o+d*c),n<1&&i.spawnBlock(a+s+1,e,o+d+1,h,r)}}}spawnTallSpruce(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(24,32)),l=round(lerp(.8,n,t)),h=I.spruceLog,d=I.spruceLeaves;for(let a=t+1;a<n;a++)this.setBlock(e,a,s,h);this.setBlock(e,t,s,I.dirt);for(let e=n+8,t=0;e>l;e--,t++){let s=t/4+2,h=s*s,c=(n+8-e)/(n+8-l),p=1-(1-c)**4;for(let t=-floor(s);t<=ceil(s);t++)for(let n=-floor(s);n<=ceil(s);n++){let s=t**2/h+n**2/h,l=1/Math.hypot(t,n)*2;s+=2*this.world.caveNoise(a+t*l,.5*(e+s),o+n*l)*p,c>.8&&(s=lerp((c-.8)/.2,s,1.2)),s<1&&i.spawnBlock(a+t,e,o+n,d,r)}}}spawnBigPine(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(15,27)),l=I.spruceLog,h=I.spruceLeaves,d=round(lerp(.65,n,t));this.generateBlob(a,t,o,this.patches.podzol,4,3,6,1.5,!0);for(let h=t+1;h<n;h++)this.setBlock(e,h,s,l),i.spawnBlock(a+1,h,o,l,r),i.spawnBlock(a,h,o+1,l,r),i.spawnBlock(a+1,h,o+1,l,r);this.setBlock(e,t,s,I.dirt),i.spawnBlock(a+1,t,o,I.dirt,r,!0),i.spawnBlock(a,t,o+1,I.dirt,r,!0),i.spawnBlock(a+1,t,o+1,I.dirt,r,!0);for(let e=n+2,t=0;e>d;e--,t++){let s=.4*t+1,l=s*s,c=(n+2-e)/(n+2-d);for(let t=-s;t<=s;t++)for(let n=-s;n<=s;n++){let s=(t+.5)**2/l+(n+.5)**2/l;s+=2.5*this.world.caveNoise(a+t,e,o+n)*c,c>.8&&(s=lerp((c-.8)/.2,s,1.2)),s<1&&i.spawnBlock(a+t+1,e,o+n+1,h,r)}}}spawnAcacia(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(6,8)),l=I.acaciaLog,h=I.acaciaLeaves;for(let a=t+1;a<n;a++)this.setBlock(e,a,s,l);this.setBlock(e,t,s,I.dirt);let d=floor(ds(16384)),c=3&d,p=d>>2&3,u=d>>4&1,m=d>>5&1,g=3+(d>>6&1),k=3+(d>>7&1),y=d>>8&3,b=d>>10&3,w=d>>13&1,f=0,B=0,S=n-1-(d>>12&1),v=a,x=o;switch(y){case 0:f=1;break;case 1:B=1;break;case 2:f=-1;break;case 3:B=-1}for(let e=0;e<c;e++)v+=f,x+=B,S++,i.spawnBlock(v,S,x,l,r);u&&(S++,i.spawnBlock(v,S,x,l,r));let P=g**2;for(var T=-g;T<g;T++)for(var N=g-2;N<g;N++)for(var C=-g;C<g;C++){T*T/P+N*N/P+C*C/P<1&&i.spawnBlock(v+T,S-1+N,x+C,h,r)}if((c||p)&&y!==b){switch(f=0,B=0,S=n-1-w,v=a,x=o,b){case 0:f=1;break;case 1:B=1;break;case 2:f=-1;break;case 3:B=-1}for(let e=0;e<p;e++)v+=f,x+=B,S++,i.spawnBlock(v,S,x,l,r);m&&(S++,i.spawnBlock(v,S,x,l,r)),P=k**2;for(T=-k;T<k;T++)for(N=k-2;N<k;N++)for(C=-k;C<k;C++){T*T/P+N*N/P+C*C/P<1&&i.spawnBlock(v+T,S-1+N,x+C,h,r)}}}spawnBigAcacia(e,t,s,a,o){let{type:r,world:i}=this,n=t+floor(ds(14,20)),l=I.acaciaLog,h=I.acaciaLeaves,d=L[l].swId;for(let a=t+1;a<n;a++)this.setBlock(e,a,s,l);for(let e=n-6;e<n;e++)if(e===n-1||ds()>.5){let t,s=floor(ds(16)),n=0,l=0,m=(1+(s>>2))/4,g=e,k=a,y=o;switch(3&s){case 0:n=1,t=Ye;break;case 1:l=1,t=He;break;case 2:n=-1,t=Ve;break;case 3:l=-1,t=je}let b=8*(1-m+.25);for(let e=0;e<b;e++)k+=n,y+=l,g+=m,i.spawnBlock(k,round(g),y,d|t,r);g=round(g);for(var c=-8;c<8;c++)for(var p=6;p<8;p++)for(var u=-8;u<8;u++){c*c/64+p*p/64+u*u/64<1&&i.spawnBlock(k+c,g-6+p,y+u,h,r)}}}spawnDisk(e,t,s,a,o=a,r){let{type:i,world:n}=this,l=r**2,h=n.getSolidTop(e,t,i)+10;for(let d=-r;d<r;d++)for(let c=-r;c<r;c++){if(d*d/l+c*c/l<1){let r=n.getSolidTop(e+d,t+c,i);if(r>h)continue;let l=n.getBlock(e+d,r,t+c,i);if(!s.includes(l))continue;let p=a!==o&&n.getBlock(e+d,r+1,t+c,i);n.spawnBlock(e+d,r,t+c,p?o:a,i,!0)}}}spawnRock(e,t,s,a){const{world:o}=this;let r,i,n,l;"big"===a?(r=.02,i=16,n=12):"mossy"===a||"small"===a?(r=.1,i=n=3):"medium"===a?(r=.04,i=8,n=4):"flat"===a&&(r=.01,i=10,n=4);for(let h=-i;h<i;h++)for(let d=-i;d<i;d++){const c=((h/i)**2+(d/i)**2)**2;for(let i=n-1;i>=-n&&!L[o.getBlock(e+h,t+i,s+d,this.type)].solid;i--){if(mapClamped(this.world.noiseProfile.noise((e+h)*r*4,(t+i)*r*1.5,(s+d)*r*4),.1,.7)>(i+n)/n/2+c&&("mossy"===a?l=I.mossyCobble:"small"===a?l=I.cobblestone:"flat"===a?l=!o.getBlock(e+h,t+i+1,s+d,this.type)&&this.world.caveNoise(.5*(e+h),.5*(t+i),.5*(s+d))>.65?I.grass:I.limestone:!o.getBlock(e+h,t+i+1,s+d,this.type)&&this.world.caveNoise(.25*(e+h),.25*(t+i),.25*(s+d))>.6?(l=I.grass,ds()>.75&&o.spawnBlock(e+h,t+i+1,s+d,I.TallGrass,this.type,!0)):l=I.stone,o.spawnBlock(e+h,t+i,s+d,l,this.type,!0),i===-n)){let a=t+i-1,r=0;for(l===I.grass&&(l=I.dirt);t+i-a<64&&!L[r].solid||r===I.dirt||r===I.grass||r===(I.grass|ue)||r===I.podzol||r===I.mycelium;)o.spawnBlock(e+h,a,s+d,l,this.type,!0),a--,r=o.getBlock(e+h,a,s+d,this.type)}}}}generatePatch(e,t,s,a,o){let{world:r}=this;for(let i=-a;i<=a;i++)for(let n=a;n>=-a;n--)for(let l=-a;l<=a;l++){let h=L[r.getBlock(e+i,t+n,s+l,this.type)];ns(e+i,t+n,s+l)*((i/a)**2+(n/a)**2+(l/a)**2)<.5&&!h.solid&&!h.liquid&&"ground"===L[r.getBlock(e+i,t+n-1,s+l,this.type)].type&&r.spawnBlock(e+i,t+n,s+l,o[floor(ds(o.length))],this.type,!0)}}spawnBigBirch(e,t,s,a,o,r){let{type:i,world:n}=this,l=t+floor(r?ds(16,20):ds(6,10)),h=r?I.birchLog:I.birchLog|Ne,d=I.birchLeaves;for(let a=t+1;a<=l;a++)this.setBlock(e,a,s,h);this.setBlock(e,t,s,I.dirt);for(let r=0;r<16;r++){let h=round(lerp(ds()**3,l+2,.5*(l+t))),c=ns(e,r,s)*Math.PId,p=sin(c),u=cos(c);for(let e=0;e<6;e++)n.spawnBlock(round(a+p*e),round(h+-.5*e),round(o+u*e),d,i)}}spawnShrub(e,t,s,a,o,r){let i,n,{type:l,world:h}=this,d=ds()>.5;switch("big"===r?round(lerp(ds()**2,0,2)):"wet"===r?0:round(ds(-1,0))){case-1:i=I.acaciaLog,n=I.acaciaLeaves;break;case 0:i=I.oakLog,n=I.oakLeaves;break;case 1:i=I.oakLog,n=I.redBerryLeaves;break;case 2:i=I.oakLog,n=I.blueBerryLeaves}this.setBlock(e,t+1,s,n),d&&(this.setBlock(e,t+2,s,n|ce),h.spawnBlock(a,t+1,o-1,n|De|He,l),h.spawnBlock(a,t+1,o+1,n|De|je,l),h.spawnBlock(a-1,t+1,o,n|De|Ye,l),h.spawnBlock(a+1,t+1,o,n|De|Ve,l))}spawnBush(e,t,s,a,o,r){let i,n,l,{type:h,world:d}=this,c=(floor(ds(4096)),"big"===r);switch("big"===r?round(lerp(ds()**2,0,2)):"wet"===r?0:round(ds(-1,0))){case-1:i=I.acaciaLog,n=I.acaciaLeaves;break;case 0:i=I.oakLog,n=I.oakLeaves;break;case 1:i=I.oakLog,n=I.redBerryLeaves,l=n|Te;break;case 2:i=I.oakLog,n=I.blueBerryLeaves,l=n|Te}let p=ds(2,c?5:3),u=c?.9*p:lerp(ds()**2,0,4),m=floor(.75*u)+t;for(let a=t+1;a<=m;a++)this.setBlock(e,a,s,i);this.setBlock(e,t,s,I.rootedDirt);let g=p**2,k=u**2;for(let e=floor(-p);e<=ceil(p);e++)for(let t=floor(-p);t<=ceil(p);t++)for(let s=floor(-u);s<=ceil(u);s++){let r=e,i=t;s<0&&(r*=1-s/u*2,i*=1-s/u*2);let c=r*r/g+i*i/g+s*s/k;c>.6&&(c+=.4*this.world.caveNoise(2*(a+e),m+s,2*(o+t))),c<1&&d.spawnBlock(a+e,m+s,o+t,l&&ns(a+e,m+s,o+t)>.2?l:n,h)}}spawnDarkOak(e,t,s,a,o){let r,i,n,l,{type:h,world:d}=this,c=t+round(ds(12,18)),p=I.darkOakLog,u=I.darkOakLeaves,m=ds()>.85;for(let e=t+1;e<c;e++)n=r,l=i,r=round(8*lerp(Math.min(.25*(e-t-1),1),0,d.noiseProfile.generator.noise3d(a,.05*e,o))),i=round(lerp(Math.min(.25*(e-t-1),1),0,8*d.noiseProfile.generator.noise3d(a,.05*-e,o))),d.spawnBlock(a+r,e,o+i,p,h),d.spawnBlock(a+1+r,e,o+i,p,h),d.spawnBlock(a+r,e,o+1+i,p,h),d.spawnBlock(a+1+r,e,o+1+i,p,h),n===r&&l===i||(d.spawnBlock(a+r,e-1,o+i,p,h),d.spawnBlock(a+1+r,e-1,o+i,p,h),d.spawnBlock(a+r,e-1,o+1+i,p,h),d.spawnBlock(a+1+r,e-1,o+1+i,p,h));d.spawnBlock(a,t,o,I.dirt,h,!0),d.spawnBlock(a+1,t,o,I.dirt,h,!0),d.spawnBlock(a,t,o+1,I.dirt,h,!0),d.spawnBlock(a+1,t,o+1,I.dirt,h,!0);let g=a+r,k=o+i,y=[];for(let e=0;e<4;e++){let e=g+round(ds(-6,6)),s=k+round(ds(-6,6)),r=round(ds(max(t+5,c-16),c-5)),i=a+round(8*d.noiseProfile.generator.noise3d(a,.05*r,o)),n=o+round(8*d.noiseProfile.generator.noise3d(a,.05*-r,o));y.length=0,line3D(e,c,s,i,r,n,y);for(let e=0;e<y.length;e+=3)d.spawnBlock(y[e],y[e+1],y[e+2],p,h)}for(let e=-10;e<=11;e++)for(let t=-10;t<=11;t++)for(let s=-5;s<=5;s++){let a=e-.5,o=t-.5;s<0&&(a*=1-s/5*2,o*=1-s/5*2);let r=a*a/100+o*o/100+s*s/25;if(r>.6&&(r+=.4*this.world.caveNoise(.4*(g+e),c+s,.4*(k+t))),r<1&&(d.spawnBlock(g+e,c+s,k+t,u,h),r>.75&&ns(g+e,c+s,k+t)>.75&&(_s.add(g+e,c+s,k+t,I.vine),m&&!d.getBlock(g+e,c+s-1,k+t,h)&&ns(g+e,c+s,k+t)>.9))){let a=round(ds(5,12));for(let o=1;o<a;o++)d.spawnBlock(g+e,c+s-o,k+t,ns(g+e,c+s-o,k+t)>.75?I.caveVinesPlantLit:I.caveVinesPlant,h);d.spawnBlock(g+e,c+s-a,k+t,ns(g+e,c+s-a,k+t)>.75?I.caveVinesLit:I.caveVines,h)}}}spawnHugeMushroomPiece3x3(e,t,s,a,o,r,i,n){let{type:l,world:h}=this;h.spawnBlock(e-a,t,s-o,n|Be|r,l),h.spawnBlock(e,t,s,n|ge|r,l),h.spawnBlock(e+a,t,s+o,n|Be|i,l),h.spawnBlock(e-a,t-1,s-o,n|Se|r,l),h.spawnBlock(e,t-1,s,n|ve|r,l),h.spawnBlock(e+a,t-1,s+o,n|Se|i,l),h.spawnBlock(e-a,t-2,s-o,n|Se|r,l),h.spawnBlock(e,t-2,s,n|ve|r,l),h.spawnBlock(e+a,t-2,s+o,n|Se|i,l)}spawnHugeMushroom(e,t,s,a,o,r){let{type:i,world:n}=this,l=round(ds(5,9));ds()<.1&&(l*=2);let h=t+l;for(let a=t+1;a<h;a++)this.setBlock(e,a,s,I.mushroomStem|me);if(this.setBlock(e,t,s,I.dirt),r){let e=I.brownMushroomBlock;n.spawnBlock(a+3,h,o-2,e|Be|Ye,i),n.spawnBlock(a+3,h,o-1,e|ge|Ye,i),n.spawnBlock(a+3,h,o,e|ge|Ye,i),n.spawnBlock(a+3,h,o+1,e|ge|Ye,i),n.spawnBlock(a+3,h,o+2,e|Be|He,i),n.spawnBlock(a+2,h,o+3,e|Be|He,i),n.spawnBlock(a+1,h,o+3,e|ge|He,i),n.spawnBlock(a,h,o+3,e|ge|He,i),n.spawnBlock(a-1,h,o+3,e|ge|He,i),n.spawnBlock(a-2,h,o+3,e|Be|Ve,i),n.spawnBlock(a-3,h,o+2,e|Be|Ve,i),n.spawnBlock(a-3,h,o+1,e|ge|Ve,i),n.spawnBlock(a-3,h,o,e|ge|Ve,i),n.spawnBlock(a-3,h,o-1,e|ge|Ve,i),n.spawnBlock(a-3,h,o-2,e|Be|je,i),n.spawnBlock(a-2,h,o-3,e|Be|je,i),n.spawnBlock(a-1,h,o-3,e|ge|je,i),n.spawnBlock(a,h,o-3,e|ge|je,i),n.spawnBlock(a+1,h,o-3,e|ge|je,i),n.spawnBlock(a+2,h,o-3,e|Be|Ye,i);for(let t=-2;t<=2;t++)for(let s=-2;s<=2;s++)n.spawnBlock(a+t,h,o+s,e|pe,i)}else{let e=I.redMushroomBlock;n.spawnBlock(a,h,o,e|pe,i),n.spawnBlock(a+1,h,o,e|ge|Ye,i),n.spawnBlock(a-1,h,o,e|ge|Ve,i),n.spawnBlock(a,h,o+1,e|ge|He,i),n.spawnBlock(a,h,o-1,e|ge|je,i),n.spawnBlock(a+1,h,o-1,e|Be|Ye,i),n.spawnBlock(a-1,h,o+1,e|Be|Ve,i),n.spawnBlock(a+1,h,o+1,e|Be|He,i),n.spawnBlock(a-1,h,o-1,e|Be|je,i),this.spawnHugeMushroomPiece3x3(a+2,h-1,o,0,1,Ye,He,e),this.spawnHugeMushroomPiece3x3(a,h-1,o+2,-1,0,He,Ve,e),this.spawnHugeMushroomPiece3x3(a-2,h-1,o,0,-1,Ve,je,e),this.spawnHugeMushroomPiece3x3(a,h-1,o-2,1,0,je,Ye,e)}}spawnCherryTree(e,t,s,a,o){let{type:r,world:i}=this;this.setBlock(e,t,s,I.dirt);let n=round(ds(1,3)),l=I.cherryLog,h=I.cherryLogSW,d=I.cherryLeaves,c=t+7,p=[a,c,o],u=[];for(let a=t;a<c;a++)this.setBlock(e,a,s,l);this.setBlock(e,t,s,I.dirt);for(let e=0;e<n;e++){let e,t=c-round(ds(3,4)),s=c-round(ds()),n=round(ds(2,4)),d=0,m=0;switch(round(ds(3))){case 0:d=1,e=Ye;break;case 1:m=1,e=He;break;case 2:d=-1,e=Ve;break;case 3:m=-1,e=je}if(p.push(a+d*n,s,o+m*n),ds()>.5){u.length=0,line3DConncected(a+d*n,s,o+m*n,a,t,o,u);let c=(s-t)/n>=1?l:h|e;for(let e=0;e<u.length;e+=3)i.spawnBlock(u[e],u[e+1],u[e+2],c,r)}else{for(let s=0;s<=n;s++)i.spawnBlock(a+d*s,t,o+m*s,h|e,r);for(let e=t;e<s;e++)i.spawnBlock(a+d*n,e,o+m*n,l,r)}}for(let e=0;e<p.length;e+=3){let t=p[e],s=p[e+1],n=p[e+2],l=5,h=2.5,u=l**2,m=h**2;for(let e=-l;e<=l;e++)for(let p=-l;p<=l;p++)for(let l=floor(-h);l<=ceil(h);l++){let h=e*e/u+p*p/u+l*l/m;if(h>.5&&(h+=.5*this.world.caveNoise(1.5*(a+e),1.5*(c+l),1.5*(o+p))),h<1&&(i.spawnBlock(t+e,s+l,n+p,d,r),!i.getBlock(t+e,s+l-1,n+p))){let a=round(lerp(ns(t+e,s+l,n+p),-1,1.8));a>0&&(i.spawnBlock(t+e,s+l-1,n+p,d,r),a>1&&i.spawnBlock(t+e,s+l-2,n+p,d,r))}}}}spawnSwampOak(e,t,s,a,o){let r,{type:i,world:n}=this,l=t+floor(4.5+ds(2.5)),h=floor(ds(4096)),d=I.oakLog,c=I.oakLeaves;for(let a=t+1;a<=l;a++)this.setBlock(e,a,s,d);this.setBlock(e,l+1,s,c),this.setBlock(e,t,s,I.dirt);for(let e=-3;e<=3;e++)for(let t=-3;t<=3;t++)(e||t)&&(3===abs(e)&&3===abs(t)?(r=1&h,h>>>=1,r&&(n.spawnBlock(a+e,l-2,o+t,c,i),_s.add(a+e,l-2,o+t,I.vine),_s.add(a+e,l-2,o+t,I.vine))):(n.spawnBlock(a+e,l-2,o+t,c,i),_s.add(a+e,l-2,o+t,I.vine),_s.add(a+e,l-2,o+t,I.vine)));for(let e=-3;e<=3;e++)for(let t=-3;t<=3;t++)(e||t)&&(3===abs(e)&&3===abs(t)?(r=1&h,h>>>=1,r&&(n.spawnBlock(a+e,l-1,o+t,c,i),_s.add(a+e,l-1,o+t,I.vine),_s.add(a+e,l-1,o+t,I.vine))):(n.spawnBlock(a+e,l-1,o+t,c,i),_s.add(a+e,l-1,o+t,I.vine),_s.add(a+e,l-1,o+t,I.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)(e||t)&&(2===abs(e)&&2===abs(t)?(r=1&h,h>>>=1,r&&(n.spawnBlock(a+e,l,o+t,c,i),_s.add(a+e,l,o+t,I.vine))):(n.spawnBlock(a+e,l,o+t,c,i),_s.add(a+e,l,o+t,I.vine)));for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)!e&&!t||2===abs(e)&&2===abs(t)||(n.spawnBlock(a+e,l+1,o+t,c,i),_s.add(a+e,l+1,o+t,I.vine))}spawnIceberg(e,t){let{type:s,world:a}=this,o=ds()>.1?round(ds(10,42)):round(ds(3,17)),r=round(ds(3,18)),i=round((o+r)/8),n=ds(),l=n>.99?I.blueIce:n>.9?I.packedIce:I.ice,h=i**2;for(let n=-i;n<=i;n++)for(let d=-r;d<=o;d++)for(let c=-i;c<=i;c++){let i=n*n/h+c*c/h+d*d/(d>0?o:r);i>.5&&(i+=.5*this.world.caveNoise(1.5*(e+n),1.5*(z+d),1.5*(t+c))),i<1&&a.spawnBlock(e+n,z+d,t+c,l,s)}}patches={flowers:[I.poppy,I.dandelion],forestFlowers:[I.poppy,I.dandelion,I.lilac,I.roseBush,I.peony,I.lilyOftheValley],plainsFlowers:[I.poppy,I.poppy,I.azureBluet,I.azureBluet,I.oxeyeDaisy,I.oxeyeDaisy,I.cornFlower,I.cornFlower,I.orangeTulip,I.pinkTulip,I.redTulip,I.whiteTulip],flowerForestFlowers:[I.dandelion,I.poppy,I.allium,I.azureBluet,I.orangeTulip,I.pinkTulip,I.redTulip,I.whiteTulip,I.oxeyeDaisy,I.cornFlower,I.lilyOftheValley,I.pinkPetals,I.pinkPetals],sunflowerPlainsFlowers:[I.sunflower,I.sunflower,I.sunflower,I.sunflower,I.sunflower,I.sunflower,I.poppy,I.azureBluet,I.oxeyeDaisy,I.cornFlower],meadowFlowers:[I.poppy,I.dandelion,I.allium,I.azureBluet,I.cornFlower,I.oxeyeDaisy,I.torchflower],pinkPetals:[I.pinkPetals,I.pinkPetals|ce,I.pinkPetals|pe,I.pinkPetals|ge],blueOrchids:[I.blueOrchid],grass:[I.TallGrass],tallGrass:[I.TallGrass,I.DoubleTallGrass],fernGrass:[I.fern|ce,I.largeFern,I.TallGrass,I.DoubleTallGrass],fernBerries:[I.fern|ce,I.sweetBerryBush|ue,I.largeFern,I.TallGrass,I.TallGrass,I.DoubleTallGrass],grassLeaves:[I.driedOakLeaves,I.driedBirchLeaves,I.driedOakLeaves|ce,I.TallGrass,I.TallGrass,I.TallGrass,I.TallGrass],lushCaves:[I.TallGrass,I.DoubleTallGrass,I.mossCarpet,I.azalea,I.floweringAzalea],jungle:[I.TallGrass,I.TallGrass,I.TallGrass,I.TallGrass,I.DoubleTallGrass,I.DoubleTallGrass,I.DoubleTallGrass,I.DoubleTallGrass,I.fern|ce,I.fern|ce,I.fern|ce,I.fern|ce,I.largeFern,I.largeFern,I.largeFern,I.largeFern,I.largeFern,I.mossCarpet,I.azalea,I.floweringAzalea,I.pitcherPlant],seagrass:[I.seagrass,I.tallSeagrass],grassAndRareTallGrass:[I.TallGrass,I.TallGrass,I.TallGrass,I.DoubleTallGrass],mostThickLeaves:[I.driedOakLeaves|ce,I.driedOakLeaves,I.driedOakLeaves,I.driedBirchLeaves,I.TallGrass,I.TallGrass,I.driedSpruceLeaves],fernGrassSpruceLeaves:[I.driedSpruceLeaves,I.fern|ce,I.fern|ce,I.fern|ce,I.sweetBerryBush|ue,I.largeFern,I.TallGrass,I.DoubleTallGrass],mostTallGrass:[I.DoubleTallGrass,I.DoubleTallGrass,I.TallGrass],grassLeavesFern:[I.driedBambooLeaves,I.driedBambooLeaves,I.driedBambooLeaves,I.TallGrass,I.fern|ce,I.fern|ce],grassLeavesBirch:[I.driedBirchLeaves,I.driedBirchLeaves,I.TallGrass],dirtOre:{[I.stone]:I.dirt},gravelOre:{[I.stone]:I.gravel,[I.deepslate]:I.gravel},graniteOre:{[I.stone]:I.granite,[I.deepslate]:I.granite},dioriteOre:{[I.stone]:I.diorite,[I.deepslate]:I.diorite},andesiteOre:{[I.stone]:I.andesite,[I.deepslate]:I.andesite},tuffOre:{[I.stone]:I.tuff,[I.deepslate]:I.tuff},coalOre:{[I.stone]:I.coalOre,[I.deepslate]:I.deepslateCoalOre},ironOre:{[I.stone]:I.ironOre,[I.deepslate]:I.deepslateIronOre},copperOre:{[I.stone]:I.copperOre,[I.deepslate]:I.deepslateCopperOre},redstoneOre:{[I.stone]:I.redstoneOre,[I.deepslate]:I.deepslateRedstoneOre},lapisOre:{[I.stone]:I.lapisOre,[I.deepslate]:I.deepslateLapisOre},goldOre:{[I.stone]:I.goldOre,[I.deepslate]:I.deepslateGoldOre},diamondOre:{[I.stone]:I.diamondOre,[I.deepslate]:I.deepslateDiamondOre},emeraldOre:{biomes:["windsweptHills","grove","jaggedPeaks","meadow","frozenPeaks","stonePeaks","windsweptForest","snowySlopes","windsweptGravellyHills","cherryGrove"],[I.stone]:I.emeraldOre,[I.deepslate]:I.deepslateEmeraldOre},badlandsGoldOre:{biomes:["badlands,erodedBadlands,woodedBadlands"],[I.stone]:I.goldOre,[I.deepslate]:I.deepslateGoldOre},limestoneOre:{[I.stone]:I.limestone,[I.deepslate]:I.limestone},podzol:{[I.grass]:I.podzol,[I.air]:(e,t,s,a)=>ns(e,t,s)>.7||!L[this.world.getBlock(e,t-1,s,a)].solid||this.world.getBlock(e,t+1,s,a)?void 0:I.driedSpruceLeaves},sandDisk:[I.dirt,I.grass,I.coarseDirt,I.rootedDirt],clayDisk:[I.dirt],dirtDisk:[I.mud,I.clay],aboveGroundDisk:[I.grass],azaleaLeaves:{0:(e,t,s,a)=>ns(e,t,s)>.65?I.floweringAzaleaLeaves:I.azaleaLeaves},mushrooms:[I.redMushroom,I.brownMushroom],groundBerries:[I.groundBerries]};async populate(){const e=this.world,{trees:t}=e;rs(e.worldSeed),hs(21e7*is(this.x,this.z));const{noiseProfile:s}=e;let a=0,o=0,r=0,i=this.x,n=(this.y,this.z);const l=this.type;if(_s.clear(),this.world.customChunkPopulate)this.world.customChunkPopulate(this);else if(!e.usePreBeta&&"island"!==e.superflat||""!==l){if("nether"===this.type)for(let t=0;t<16;t++)for(let s=0;s<16;s++){ds()<.005&&"nether"===l&&r>79&&("crimsonForest"===b||"warpedForest"===b)&&this.spawnNetherMushroom(t,r,s,a,o,b);var h=this.getBlock(t,r,s);if(ds()<.05&&(h===I.crimsonNylium?e.spawnBlock(a,r+1,o,I.crimsonRoots,l):h===I.warpedNylium&&e.spawnBlock(a,r+1,o,I.warpedRoots,l)),ds()<.05&&this.getBlock(t,r,s,l)&&"nether"===this.type){let a=round(ds(C));this.getBlock(t,a,s)&&!this.getBlock(t,a-1,s)&&(this.setBlock(this.x+t,a,this.z+s,I.Lava),await L[I.Lava].spawnFlow(this.x+t,a,this.z+s,l,e))}let i;for(ds()<.005&&this.generateOldBlob(0,I.glowstone,20,a,this.ceils[16*s+t],o,2),i=0;i<16;i++){let t=ds(0,16),s=ds(10,177),r=ds(0,16);e.getBlock(a+t,s,o+r,this.type)===I.netherrack&&e.getBlock(a+t,s+1,o+r,this.type)===I.netherrack&&e.getBlock(a+t,s-1,o+r,this.type)===I.netherrack&&e.setBlock(a+t,s,o+r,I.netherQuartzOre,!1,!1,!1,!1,this.type)}for(i=0;i<10;i++){let t=ds(0,16),s=ds(10,177),r=ds(0,16);e.getBlock(a+t,s,o+r,this.type)===I.netherrack&&e.getBlock(a+t,s+1,o+r,this.type)===I.netherrack&&e.getBlock(a+t,s-1,o+r,this.type)===I.netherrack&&e.setBlock(a+t,s,o+r,I.netherGoldOre,!1,!1,!1,!1,this.type)}}else if("end"===this.type);else if(!e.usePreBeta){let h,p,u,m,g,k;for(let t=0;t<16;t++){a=this.x+t;for(let i=0;i<16;i++){o=this.z+i,r=this.tops[16*i+t];let n=Os[this.biomes[16*i+t]];if("frozenPeaks"===n||"snowySlopes"===n||"jaggedPeaks"===n||"windsweptHills"===n||"windsweptGravellyHills"===n){h=e.getTop(a+1,o,l),p=e.getTop(a,o+1,l),u=e.getTop(a-1,o,l),m=e.getTop(a,o-1,l),g=h-r-(u-r),k=p-r-(m-r);let s=sqrt(g*g+k*k);if(g/=s,k/=s,"frozenPeaks"===n){if(s>2)if(k<-.75||k>.75){let e=r-1;for(;this.getBlock(t,e,i)===I.snowBlock;)this.setBlock(t,e,i,I.packedIce),e--}else if(g>0){let e=r;for(;this.getBlock(t,e,i)===I.snowBlock;)this.setBlock(t,e,i,I.packedIce),e--}}else if("snowySlopes"===n||"jaggedPeaks"===n){if(s>4){let e=r;for(;this.getBlock(t,e,i)===I.snowBlock;)this.setBlock(t,e,i,I.stone),e--}}else if("windsweptHills"===n){if(s>2.5){let e=r;for(;this.getBlock(t,e,i)===I.grass||this.getBlock(t,e,i)===I.dirt;)this.setBlock(t,e,i,I.stone),e--}}else if("windsweptGravellyHills"===n&&s>2.5){let e=r;for(;this.getBlock(t,e,i)===I.grass||this.getBlock(t,e,i)===I.dirt;)this.setBlock(t,e,i,I.gravel),e--}}"swamp"===n&&this.getBlock(t,z,i)===I.grass&&s.generator.noise2d(.25*a,.25*o)>0&&this.setBlock(t,z,i,I.Water),"marsh"===n&&(r===z||r===z+1&&s.generator.noise2d(.25*a,.25*o)>0)&&this.setBlock(t,r,i,I.mud)}}if(t)for(let t=0;t<16;t++){let i=is(e.worldSeed,24987398),n=is(e.worldSeed,91264824);a=this.x+t;for(let h=0;h<16;h++){o=this.z+h,r=this.tops[16*h+t];let d,c,p,u,m,g,k,y,b,w,f,B,S,x,P,T,N,C,R,M,D,A,O,G,W,F,E,U,q,_,H,j,Y,V,X,Z,Q,J,$,K,ee=Os[this.biomes[16*h+t]],te=this.waterTops[16*h+t],se=.2,ae="big",oe=r>90?.15:.05,re=r>90?"flat":"medium",ie=.65,ne=.04,le=.4;switch(ee){case"forest":W=2,ae="wet",d=9,c=1,x=.5,j=this.patches.forestFlowers,H=this.patches.grassLeaves,le=.15,V=.25;break;case"plains":p=.1,c=.0333333333,oe=0,j=this.patches.plainsFlowers,H=this.patches.tallGrass;break;case"flowerForest":d=4,c=.25,ie=.35,j=this.patches.flowerForestFlowers,H=this.patches.grass;break;case"sunflowerPlains":ie=.4,j=this.patches.sunflowerPlainsFlowers,H=this.patches.tallGrass;break;case"meadow":d=.02,c=.02,ie=.2,ne=.004,oe=0,j=this.patches.meadowFlowers,H=this.patches.grassAndRareTallGrass,le=.1;break;case"birchForest":x=4,u=4,j=this.patches.forestFlowers,H=this.patches.grassLeavesBirch,le=.1;break;case"oldBirchForest":m=9,j=this.patches.forestFlowers,H=this.patches.grassLeavesBirch,le=.1;break;case"sparseJungle":E=.25,g=2,c=.125,q=2,D=!0,H=this.patches.tallGrass,le=.1,_s.add(a,r,o,I.vine);break;case"jungle":E=.25,g=4,k=3,c=2,D=!0,q=4,W=2,ae="wet",H=this.patches.jungle,le=.1,_s.add(a,r,o,I.vine);break;case"bambooJungle":E=180,k=1,c=.5,D=!0,H=this.patches.grass,_s.add(a,r,o,I.vine);break;case"desert":R=1,M=1,se=.4,oe=0;break;case"oldSpruceTaiga":c=.25,p=.125,W=1,ae="wet",R=1,P=8,y=1,w=.25,b=.25,f=.125,oe=1,re="mossy",H=this.patches.fernGrassSpruceLeaves,le=.2,j=this.patches.flowers,V=1;break;case"oldPineTaiga":c=1,p=2,W=1,ae="wet",R=1,P=.5,b=1,f=2,y=.25,w=.125,oe=1,re="mossy",H=this.patches.fernGrassSpruceLeaves,le=.2,j=this.patches.flowers,V=.5;break;case"grove":y=2,b=.666666667,oe=0;break;case"windsweptGravellyHills":p=.05,y=.0333,c=.005,ie=.8,oe=1,re="small",j=this.patches.flowers,H=this.patches.grass,le=.6;break;case"windsweptForest":P=2,p=1,y=.666,w=.3,c=.1,ie=.8,oe=1,re="small",oe=0,j=this.patches.flowers,H=this.patches.grass,le=.6;break;case"windsweptHills":oe=1,re="small",c=.1,w=.1;break;case"taiga":y=4,b=2,w=.075,f=.075,P=.075,ie=.8,j=this.patches.flowers,H=this.patches.fernBerries,le=.4;break;case"snowyTaiga":y=2,b=.666,w=.075,f=.075,P=2,ie=.8,j=this.patches.flowers,H=this.patches.fernGrass,le=.4;break;case"snowyPlains":y=.08,j=this.patches.flowers,ie=.8,H=this.patches.grass,le=.65;break;case"woodedBadlands":p=4,oe=0,H=this.patches.grass,le=.65,R=1,M=.25;break;case"badlands":case"erodedBadlands":R=1,M=1,oe=0;break;case"savanna":case"savannaPlateau":B=.75,S=.05,p=.1,W=.5,ae="dry",H=this.patches.tallGrass,j=this.patches.flowers;break;case"grassySavanna":B=.1,S=.01,p=.02,W=.1,ae="dry",H=this.patches.mostTallGrass,j=this.patches.flowers,le=.1;break;case"shrubland":oe=.1,re="small",G=16,ae="big",p=1,R=2,H=this.patches.tallGrass,le=.2,j=this.patches.flowers;break;case"sparseForest":W=2,ae="wet",m=.125,c=4,P=.1,j=this.patches.forestFlowers,H=this.patches.mostThickLeaves,le=.1;break;case"alpineHills":y=.1,P=1,b=.05,H=this.patches.tallGrass;break;case"darkForest":O=.5,T=4,d=1,H=this.patches.grass,j=this.patches.forestFlowers;break;case"rockyPlains":oe=.2,re="big",c=.04,w=.04,H=this.patches.tallGrass,le=.2;break;case"windsweptSavanna":B=.5,H=this.patches.grass,j=this.patches.flowers;break;case"grassyForest":d=9,c=.5,j=this.patches.forestFlowers,H=this.patches.grass;break;case"cherryGrove":N=1,j=this.patches.pinkPetals,ie=.3,ne=.1,H=this.patches.tallGrass,le=.4;break;case"dryShrubland":G=6,ae="dry",R=1,M=1,oe=0,se=.4;break;case"bambooForest":U=80,W=1,ae="wet",H=this.patches.grassLeavesFern,le=0,V=.5;break;case"snowySlopes":case"frozenPeaks":case"jaggedPeaks":case"stonePeaks":case"beach":case"stonyShore":case"snowyBeach":oe=0;break;case"frozenOcean":_=.5;break;case"deepFrozenOcean":_=.25;break;case"ocean":case"deepOcean":case"coldOcean":case"deepColdOcean":case"lukewarmOcean":case"deepLukewarmOcean":case"warmOcean":break;case"mushroomFields":O=1,j=this.patches.mushrooms,ie=.5,ne=.1;break;case"rockyRiver":F=.2,oe=1,re="big";break;case"swamp":C=4,F=12,j=this.patches.blueOrchids,ie=.75,H=this.patches.grass,R=1,O=.25;break;case"marsh":H=this.patches.grass,r>z+1?(W=6,ae="wet",R=1,le=.2):r>=z&&(le=.1)}let he=this.getBlock(t,r,h),de=this.getBlock(t,r+1,h);if(cs(0),de||(E&&(he===I.grass||he===I.podzol)&&ds(256)<E&&this.spawnBamboo(t,r,h,a,o),d&&he&&ds(256)<d&&this.spawnSmallTree(t,r,h,a,o,ds()>.8,ds()>.9),p&&he&&ds(256)<p&&this.spawnSmallTree(t,r,h,a,o,!1),u&&he&&ds(256)<u&&this.spawnSmallTree(t,r,h,a,o,!0,!1,!0),c&&he&&ds(256)<c&&this.spawnBigOak(t,r,h,a,o,ds()>.9),g&&he===I.grass&&ds(256)<g&&this.spawnJungleBush(t,h,a,r,o),q&&he===I.grass&&ds(256)<q&&this.spawnJungleBush(t,h,a,r,o),k&&he===I.grass&&ds(256)<k&&this.spawnJungleTree(t,r,h,a,o),R&&he&&ds(256)<R&&this.setBlock(t,r+1,h,I.deadBush|ue),M&&he&&ds(256)<M&&this.spawnCactus(t,r,h),y&&he&&ds(256)<y&&this.spawnSpruce(t,r,h,a,o),b&&he&&ds(256)<b&&this.spawnPine(t,r,h,a,o),w&&he&&ds(256)<w&&this.spawnBigSpruce(t,r,h,a,o),f&&he&&ds(256)<f&&this.spawnBigPine(t,r,h,a,o),B&&he&&ds(256)<B&&this.spawnAcacia(t,r,h,a,o),S&&he&&ds(256)<S&&this.spawnBigAcacia(t,r,h,a,o),x&&he&&ds(256)<x&&this.spawnBigBirch(t,r,h,a,o),m&&he&&ds(256)<m&&this.spawnBigBirch(t,r,h,a,o,!0),G&&he&&ds(256)<G&&(ds()>.5?this.spawnBush(t,r,h,a,o,ae):this.spawnShrub(t,r,h,a,o,ae)),W&&he&&ds(256)<W&&this.spawnBush(t,r,h,a,o,ae),P&&he&&ds(256)<P&&this.spawnTallSpruce(t,r,h,a,o),T&&he&&ds(256)<T&&this.spawnDarkOak(t,r,h,a,o),O&&he&&ds(256)<O&&this.spawnHugeMushroom(t,r,h,a,o,ds()>.5),N&&he&&ds(256)<N&&this.spawnCherryTree(t,r,h,a,o),U&&ds(256)<U&&he&&this.spawnBamboo(t,r,h,a,o,!0)),C&&he&&ds(256)<C&&(ds()>.5?this.spawnSwampOak(t,r,h,a,o):this.spawnBigOak(t,r,h,a,o,!0)),X=.05*(d||p||0),Z=.05*(d||u||0),Q=.05*(m||0),J=.05*(g||0),$=.05*(y||b||0),K=.05*(P||0),de||(X&&ds(256)<X&&this.spawnFallenTree(t,r,h,a,o,I.oakLog,4,7,.75),Z&&ds(256)<Z&&this.spawnFallenTree(t,r,h,a,o,I.birchLog,5,8),Q&&ds(256)<Q&&this.spawnFallenTree(t,r,h,a,o,I.birchLog,5,15),J&&ds(256)<J&&this.spawnFallenTree(t,r,h,a,o,I.jungleLog,4,11,.75),$&&ds(256)<$&&this.spawnFallenTree(t,r,h,a,o,I.spruceLog,6,10),K&&ds(256)<K&&this.spawnFallenTree(t,r,h,a,o,I.spruceLog,12,16)),cs(1),!de&&r<64&&(he===I.grass||he===I.sand)&&mapClamped(s.noise(.1*a,5,.1*o),.3,.7)<se&&(e.getBlock(a+1,r,o,this.type)===I.Water||e.getBlock(a-1,r,o,this.type)===I.Water||e.getBlock(a,r,o+1,this.type)===I.Water||e.getBlock(a,r,o-1,this.type)===I.Water)){let e=ds()>.2*As[ee][1]+.9?I.sugarCane|ce:I.sugarCane|ue;this.setBlock(t,r+1,h,e),this.setBlock(t,r+2,h,e),ds()>.5&&this.setBlock(t,r+3,h,e)}if("trashland"===ee){let e=this.trashland[floor(ds(this.trashland.length))],i=ceil(3*mapClamped(s.noise(.2*a,7,.2*o),.3,.7));1===i&&!de&&ds()>.6&&(e=I.oil);for(let s=0;s<i;s++)this.setBlock(t,r+s,h,e)}if(!de&&j&&"ground"===L[he].type&&ds(mapClamped(s.noise(.1*a,2,.1*o),.3,.7))>ie){let t=j[round(mapClamped(s.noise(a*ne+i,3,o*ne+n),.3,.7)*(j.length-1))];e.spawnBlock(a,r+1,o,t,l)}if((!de||Y)&&H&&"ground"===L[he].type&&ds(mapClamped(s.noise(.1*a,4,.1*o),.3,.7))>le){let t=H[floor(ds()**3*H.length)];e.spawnBlock(a,r+1,o,t,l,Y)}if(!de&&he===I.grass&&mapClamped(s.noise(.1*a,6,.1*o),.3,.7)>.9&&ds()>.5&&(e.spawnBlock(a,r+1,o,D?I.melon:I.pumpkin,l),he!==I.grass&&he!==I.mycelium||this.setBlock(t,r,h,I.dirt)),!de&&V&&"ground"===L[he].type&&ds(256)<V&&this.generatePatch(a,r,o,4,this.patches.groundBerries),A&&ds(mapClamped(s.noise(.02*a,8,.02*o),.3,.7))>A){let t=min(round(ds(16,32)),63-r);for(let s=0;s<t;s++)e.spawnBlock(a,r+1+s,o,s+1===t?I.kelp:I.kelpPlant,l,!0)}if(F&&ds(256)<F&&this.getBlock(t,z,h)===I.Water&&!this.getBlock(t,64,h)&&e.spawnBlock(a,z+1,o,I.lilyPad,l),de===I.Water&&ds()<(8-Math.max((60-r)/2,0))/256){let e,t,s;switch(round(te?ds(4):ds(-.6,3))){case-1:e=I.quicksand,s=this.patches.aboveGroundDisk;break;case 0:e=I.sand,s=this.patches.sandDisk;break;case 1:e=I.gravel,s=this.patches.sandDisk;break;case 2:e=I.clay,s=this.patches.clayDisk;break;case 3:e=I.grass,t=I.dirt,s=this.patches.dirtDisk;break;case 4:e=I.mud,s=this.patches.sandDisk}this.spawnDisk(a,o,s,e,t,round(ds(3,7)))}if(cs(4),oe&&ds(256)<oe&&this.spawnRock(a,r,o,re),_&&ds(256)<_&&this.spawnIceberg(a,o),te&&As[ee][1]>.5&&ds(256)<12){let t=a+8*round(ds())-4,s=o+8*round(ds())-4;this.spawnRock(t,e.getTop(t,s,l),s,"mossy")}await v()}}cs(1);for(let e=0;e<16;e++){let t=e+this.x;for(let s=0;s<16;s++){let a=s+this.z,o=Os[this.biomes[16*s+e]];r=this.tops[16*s+e];let i=.005*(As[o][1]-.5)+.5;this.solidTops[16*s+e]>r+1&&i>.5&&ds()**2*i>.5&&this.generatePatch(t,r,a,2,this.patches.mushrooms)}}if(cs(2),t)for(let t=0;t<16;t++){let a=t+this.x;for(let o=0;o<16;o++){let h=o+this.z,p=Os[this.caveBiomes[16*o+t]],u=this.caveY[16*o+t],m=this.caveY[16*o+t+256];if(r=this.tops[16*o+t],"void"===p||u===m||!this.getBlock(t,u-1,o)||!this.getBlock(t,m+1,o))continue;if("dripstoneCaves"===p){if(s.noise(.1*a,22,.1*h)>.55&&!L[e.getBlock(a+1,u,h)].transparent&&!L[e.getBlock(a-1,u,h)].transparent&&!L[e.getBlock(a,u,h+1)].transparent&&!L[e.getBlock(a,u,h-1)].transparent){this.setBlock(t,u,o,I.Water);continue}if(s.noise(.04*a,20,.04*h)>.4&&(this.setBlock(t,u,o,I.dripstoneBlock),this.setBlock(t,m,o,I.dripstoneBlock)),ds()>.75){let e=round(ds(8));for(let s=1;s<e&&(this.setBlock(t,u+s,o,I.pointedDripstone),!(m-s<=u+s));s++)this.setBlock(t,m-s,o,I.pointedDripstone|_e);for(let s=1;s<e&&(L[I.pointedDripstone].spawnUpdate(i+t,u+s,n+o,I.pointedDripstone,this.world,l),!(m-s<=u+s));s++)L[I.pointedDripstone].spawnUpdate(i+t,m-s,n+o,I.pointedDripstone|_e,this.world,l)}}else if("lushCaves"===p){if(s.noise(.02*a,21,.02*h)>.55){if(s.noise(.05*a,23,.05*h)>.5&&e.getBlock(a+1,u,h)&&e.getBlock(a-1,u,h)&&e.getBlock(a,u,h+1)&&e.getBlock(a,u,h-1))this.setBlock(t,u,o,I.Water);else if(this.setBlock(t,u,o,I.clay),ds()>.96){let e=round(ds(1,4));if(1===e)this.setBlock(t,u+1,o,I.smallDripleaf);else for(let s=0;s<e;s++)this.setBlock(t,u+1+s,o,s===e-1?I.bigDripleaf:I.bigDripleaf|ue)}}else{this.setBlock(t,u,o,I.mossBlock);let s=this.patches.lushCaves;if(s&&ds()>.5){let t=s[floor(ds()**3*s.length)];e.spawnBlock(a,u+1,h,t,l)}}if(this.setBlock(t,m,o,I.mossBlock),ds()>.9){let e=round(ds(1,6));for(let s=0;s<e;s++)this.setBlock(t,m-1-s,o,(ds()>.25?s===e-1?I.caveVines:I.caveVinesPlant:s===e-1?I.caveVinesLit:I.caveVinesPlantLit)|ue)}else ds()>.98&&this.setBlock(t,m-1,o,I.sporeBlossom)}let g=t,k=o,y=round(ds(0,m));if(!this.getBlock(g,y,k))continue;let b=I.glowLichen|ve;switch(floor(4*ds())){case 0:k++,b|=je;break;case 1:k--,b|=He;break;case 2:g++,b|=Ve;break;case 3:g--,b|=Ye}if(this.getBlock(g,y,k)||this.setBlock(g,y,k,b),"lushCaves"===p&&ds()<.001){let e=r+floor(6+ds(2.5));for(let s=r;s<=e;s++)this.setBlock(t,s,o,I.oakLog);this.generateBlob(a,e,h,this.patches.azaleaLeaves,8,1,8,.4);for(var d=0;r+d>m-3;d--)for(var c=0;c<14;c++){let e=round(ds(-2.75,2.75)),s=round(ds(-2.75,2.75)),a=this.getBlock(t+e,r+d,o+s);a!==I.grass&&a!==I.air?this.setBlock(t+e,r+d,o+s,I.rootedDirt):this.getBlock(t+e,r+d+1,o+s)===I.rootedDirt&&this.setBlock(t+e,r+d,o+s,I.hangingRoots|ue)}}await v()}}cs(3),this.spawnOres(this.patches.dirtOre,7,0,160,"",8),this.spawnOres(this.patches.gravelOre,14,0,320,"",8),this.spawnOres(this.patches.graniteOre,2,0,128,"",8),this.spawnOres(this.patches.dioriteOre,2,0,128,"",8),this.spawnOres(this.patches.andesiteOre,2,0,128,"",8),this.spawnOres(this.patches.tuffOre,2,-64,0,"",8),await v(),this.spawnOres(this.patches.coalOre,20,0,192,"triangle",4),this.spawnOres(this.patches.coalOre,30,136,320,"",4),this.spawnOres(this.patches.ironOre,20,-64,72,"",3),this.spawnOres(this.patches.ironOre,20,-24,56,"triangle",3),this.spawnOres(this.patches.copperOre,20,-16,112,"triangle",3),this.spawnOres(this.patches.redstoneOre,8,-64,15,"",3),await v(),this.spawnOres(this.patches.redstoneOre,16,-96,-32,"triangle",3),this.spawnOres(this.patches.lapisOre,4,-32,32,"triangle",3),this.spawnOres(this.patches.lapisOre,8,-64,64,"",3),this.spawnOres(this.patches.goldOre,8,-64,32,"triangle",3),this.spawnOres(this.patches.badlandsGoldOre,50,32,256,"",3),this.spawnOres(this.patches.diamondOre,16,-144,16,"triangle",4),await v(),this.spawnOres(this.patches.emeraldOre,16,-16,480,"triangle",4),this.spawnOres(this.patches.limestoneOre,1,0,128,"triangle",6),cs(5);for(let t=0;t<16;t++){let t=floor(ds(16)),s=floor(ds(16)),a=floor(ds(-64,192)),o=t+i,r=s+n;if((L[this.getBlock(t,a,s)].type||"").startsWith("rock")&&(!e.getBlock(o+1,a,r,this.type)||!e.getBlock(o-1,a,r,this.type)||!e.getBlock(o,a,r+1,this.type)||!e.getBlock(o,a,r-1,this.type))){let i=ds(-16,a)<0?I.Lava:I.Water;this.setBlock(t,a,s,i),await L[i].spawnFlow(o,a,r,l,e)}}for(let t=0;t<16;t++){a=i+t;for(let r=0;r<16;r++){o=n+r;let i=max(this.solidTops[16*r+t],z),h=this.getBlock(t,i,r);if(!L[h].slide&&Es(Os[this.biomes[16*r+t]],i)+.02*(2*s.noise(.1*a,.1*o)-1)<=.15&&(h===I.Water?this.setBlock(t,i,r,I.ice):L[h].solid&&!this.getBlock(t,i+1,r)&&(this.setBlock(t,i+1,r,I.snow|Ae),h===I.grass&&this.setBlock(t,i,r,I.grass|ue))),i=this.waterTops[16*r+t],h=this.getBlock(t,i,r),i){let s=max(min(e.getTop(a+1,o,this.type),e.getTop(a-1,o,this.type),e.getTop(a,o+1,this.type),e.getTop(a,o-1,this.type)),z);for(let e=i;e>s;e--)L[this.getBlock(t,e,r)].solid&&this.setBlock(t,e,r,I.air);Es(Os[this.biomes[16*r+t]],s)<=.15?this.setBlock(t,s,r,I.ice):(this.setBlock(t,s,r,I.Water),await L[I.Water].spawnFlow(a,s,o,l,e))}}}this.waterTops=null}}else{const s=this.allFlowers,i=[I.dirt,I.stone,I.gravel],n=[I.stone,I.gravel];f.smooth,f.height,f.biomeSmooth;for(let h=0;h<16;h++)for(let d=0;d<16;d++){a=this.x+h,o=this.z+d,r=this.tops[16*d+h];let c=Os[this.biomes[16*d+h]];if(t&&ds()<.01&&""===l&&"plains"===c&&this.getBlock(h,r,d)===I.grass&&this.spawnSmallTree(h,r,d,a,o),"snowyPlains"===c&&t&&ds()<.01&&""===l&&this.getBlock(h,r,d)&&this.spawnSnowSmallTree(h,r,d,a,o),ds()<.01&&this.getBlock(h,r,d)&&"desert"===c&&r>60&&""===this.type&&this.spawnCactus(h,r,d),ds()<.006&&this.getBlock(h,r,d)&&"desert"===c&&r>60&&""===this.type&&this.setBlock(h,r+1,d,I.deadBush|ue),t&&ds()<.01&&""===l&&("sparseJungle"===c||"jungle"===c)&&this.getBlock(h,r,d)&&this.spawnCocoaTree(h,r,d,a,o),t&&ds()<.01&&""===l&&"jungle"===c&&this.getBlock(h,r,d)&&this.spawnJungleTree(h,r,d,a,o),t&&ds()<.015&&""===l&&("sparseJungle"===c||"jungle"===c)&&this.getBlock(h,r,d)){let t=9,s=9,i=9;for(var p=-3;p<3;p++)for(var u=1;u<3;u++)for(var m=-3;m<3;m++){p*p/t+u*u/i+m*m/s<1&&(e.spawnBlock(a+p,r+u,o+m,I.jungleLeaves,l),_s.add(a+p,r+u,o+m,I.vine))}this.setBlock(h,r+1,d,I.jungleLog)}if(ds()<.05&&this.getBlock(h,r,d,l)===I.grass){var g,k=ds();g="jungle"===c?k>.75?I.TallGrass:k>.5?I.DoubleTallGrass:k>.25?I.fern:I.largeFern:s[Math.round(k*(s.length-1))],e.spawnBlock(a,r+1,o,g,l)}if(ds()<.2&&this.getBlock(h,r,d)&&"bambooJungle"===c&&r>60&&""===this.type&&this.spawnBamboo(h,r,d,a,o),r-=4,ds()<3.7/256){let e=16*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.diamondOre,round(ds(3,8)),h,e,d,10)}if(ds()<111.5/256){let e=64*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.ironOre,round(ds(1,13)),h,e,d,9)}if(ds()<51/256){let e=64*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.copperOre,round(ds(1,16)),h,e,d,9)}if(ds()<185.5/256){let e=ds()*r|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.coalOre,round(ds(1,37)),h,e,d,20)}if(ds()<.040625){let e=32*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.goldOre,round(ds(1,13)),h,e,d,9)}if(ds()<29.1/256){let e=16*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.redstoneOre,round(ds(1,10)),h,e,d,8)}if(ds()<4.1/256){let e=32*ds()|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(I.stone,I.lapisOre,round(ds(1,9)),h,e,d,9)}if(ds()<.1){let e=ds()*r|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(i,I.clay,round(ds(20,40)),h,e,d,5)}if(ds()<.1){let e=ds()*r|1;e=e<r?e:r,this.getBlock(h,e,d)&&this.generateOldBlob(n,I.dirt,round(ds(20,40)),h,e,d,5)}}}if(cs(1),_s.size)for(d=0;d<round(.75*_s.size);d++){k=ds()*_s.size|0,h=_s.array[k][3];let t=_s.array[k][0],s=_s.array[k][1],a=_s.array[k][2];if(h===I.vine){switch(h|=ve,floor(4*ds())){case 0:a++,h|=je;break;case 1:a--,h|=He;break;case 2:t++,h|=Ve;break;case 3:t--,h|=Ye}let o=round(ds(1,8));for(c=0;c<o&&!e.getBlock(t,s-c,a,l);c++)e.spawnBlock(t,s-c,a,h,l)}else if(h===I.cocoa){switch(floor(ds(3))){case 1:h|=ce;break;case 2:h|=pe}switch(floor(ds(4))){case 0:a++,h|=je;break;case 1:a--,h|=He;break;case 2:t++,h|=Ve;break;case 3:t--,h|=Ye}e.spawnBlock(t,s,a,h,l)}else if(h===I.mossCarpet){switch(h|=De,floor(4*ds())){case 0:a++,h|=je;break;case 1:a--,h|=He;break;case 2:t++,h|=Ve;break;case 3:t--,h|=Ye}e.spawnBlock(t,s,a,h,l)}}if(t&&!e.superflat&&ds()>.96){let t,s,a,o=ds(256),r=(o>>4)+this.x,i=(15&o)+this.z,n=F[Math.floor(ds(F.length))],h=Math.floor(ds(4)),{data:d,w:c,h:p,d:u}=W[n].variants[h];switch(h){case 0:h=He,s=Ye,t=je,a=Ve;break;case 1:h=Ye,s=He,t=Ve,a=je;break;case 2:h=je,s=Ve,t=He,a=Ye;break;case 3:h=Ve,s=je,t=Ye,a=He}let m=W[n].getY(r,i,o);r-=Math.round(c/2),m-=Math.round(p/2),i-=Math.round(u/2);for(let o=0;o<d.length;o+=4){let n=d[o+3];n&&("function"==typeof n&&(n=n(h,s,t,a)),"string"==typeof n&&(n=I[n]),e.spawnBlock(r+d[o],m+d[o+1],i+d[o+2],n,l,!0))}}this.populated=!0}tick(){const{world:e}=this;if(this.edited)for(let e=0;e<this.sections.length;e++)this.sections[e].edited&&this.sections[e].tick();for(let t in this.entities){const s=this.entities[t];s.update(),(s.canDespawn||s.y<=N)&&e.deleteEntity(t)}if(this.world.weather)e:{let t=0|rand(16),s=0|rand(16);t:if("snow"===this.world.weather||"rain"===this.world.weather){if("rain"===this.world.weather&&Es(Os[this.biomes[16*s+t]])>.15)break t;if(this.edited&&rand(this.world.weatherAmount)>.9){let a=this.solidTops[16*s+t];if(a<P||a>T)break t;let o,r,i=this.getBlock(t,a,s),n=0;if((i&Ae)===Ae&&(n=1),(i&Oe)===Oe&&(n=2),(i&Ge)===Ge&&(n=3),(i&We)===We&&(n=4),(i&Fe)===Fe&&(n=5),(i&Ee)===Ee&&(n=6),(i&Ue)===Ue&&(n=7),(i&qe)===qe&&(n=8),(i&I.snow)===I.snow&&n>0&&n<8){switch(n++,n){case 2:o=Oe;break;case 3:o=Ge;break;case 4:o=We;break;case 5:o=Fe;break;case 6:o=Ee;break;case 7:o=Ue;break;case 8:o=qe}r=!0}else this.getBlock(t,a+1,s)||(o=Ae,a++,r=!0);r&&e.setBlock(t+this.x,a,s+this.z,I.snow|o,!1,!1,!1,!1,this.type)}break e}}if(this.world.settings.mobSpawning)for(let e of this.sections)e.spawnMobs()}load(){if(this.loaded)return;const{world:e}=this;let t=`${this.x>>4},${this.z>>4}`,s="nether"===this.type?e.netherLoadFrom:"end"===this.type?e.endLoadFrom:e.loadFrom,a=s[t];if(a){for(let t in a.blocks){let s=a.blocks[t],o=a.tags[t];if(!L[s])continue;const r=15&t,i=t>>4&15,n=(t>>8)+P;this.setBlock(i,n,r,s,e),o&&this.setTags(i,n,r,o)}delete s[t]}this.loaded=!0}async getData(){let e,t,s,a,o=new Set,r=[],i=[],n=[];for(let l=0;l<this.sections.length;l++){const h=this.sections[l],d=h.blocks,c=h.tags;for(let l=0;l<d.length;l++)if(d[l]){if(o.add(d[l]),e=l>>8,t=(l>>4&15)+h.y-P,s=15&l,a=e>>3|s>>3<<1|t>>3<<2,!r[a]){r[a]=[];for(let e=0;e<6;e++)r[a].push(new Int32Array(512).fill(-1));i[a]=[],n[a]=0}r[a][0][(7&t)<<6|(7&e)<<3|7&s]=d[l],r[a][1][(7&t)<<6|(7&s)<<3|7&e]=d[l],r[a][2][(7&e)<<6|(7&t)<<3|7&s]=d[l],r[a][3][(7&e)<<6|(7&s)<<3|7&t]=d[l],r[a][4][(7&s)<<6|(7&e)<<3|7&t]=d[l],r[a][5][(7&s)<<6|(7&t)<<3|7&e]=d[l],c[l]&&(i[a][(7&t)<<6|(7&e)<<3|7&s]="number"==typeof c[l]?c[l]:JSON.stringify(c[l]),n[a]++)}await v()}let l=new ae,h=Array.from(o),d={};h.forEach(((e,t)=>d[e]=t));let c=ae.bits(h.length);l.add(h.length,32);for(let e of h)l.add(e,32);let p=Object.entries(r);l.add(p.length,32);for(let[e,t]of p){let s=1&e,a=e>>1&1,o=e>>2;l.add(s,1).add(o,8).add(a,1);let r=null;for(let s=0;s<6;s++){let a=new ae,o=t[s];a.add(s,3);let l=null,h=[],p=[];for(let e=0;e<o.length;e++){const t=o[e];t>=0?l?t===l[1][l[1].length-1][1]?l[1][l[1].length-1][0]++:l[1].push([1,t]):e<o.length-2&&o[e+1]>=0&&o[e+2]>=0?(l=[e,[[1,t]]],h.push(l)):p.push([e,o[e]]):l=null}a.add(h.length,8),a.add(p.length,9);for(let[e,t]of h){let s=0;for(let e of t)s=Math.max(s,e[0]);let o=ae.bits(s);a.add(e,9).add(t.length,9).add(o,4);for(let[e,s]of t)a.add(e-1,o).add(d[s],c)}for(let[e,t]of p)a.add(e,9).add(d[t],c);if(a.add(n[e],9),n[e])for(let t in i[e]){let s=i[e][t];a.add(t,9),"number"==typeof s?(a.add(0,1),a.add(s,32)):(a.add(1,1),a.addString(s,16))}(!r||a.bitLength<r.bitLength)&&(r=a),await v()}l.append(r)}return l.array}}let Ft=["entity.generic.explode1","entity.generic.explode2","entity.generic.explode3","entity.generic.explode4"];function Et(e,t,s,a=1,o){var r,i;a>=10?(r=Ft[0],i=10):a>=8?(r=Ft[1],i=8):a>=4?(r=Ft[2],i=4):(r=Ft[3],i=1);var n=1-(a-i)/10;n<=0||o.playSound(e,t,s,r,1,n)}let Ut={fence_gateOpen:2,fence_gateClose:2,wooden_doorOpen:4,wooden_doorClose:6,iron_doorOpen:4,iron_doorClose:4,wooden_trapdoorOpen:5,wooden_trapdoorClose:3,iron_trapdoorOpen:4,iron_trapdoorClose:4};function qt(e,t,s,a,o,r){let i=Ut[a+(o?"Open":"Close")];var n="block."+a+"."+(o?"open":"close")+Math.ceil(Math.random()*i);r.playSound(e,t,s,n)}function _t(e,t,s,a,o,r,i,n=!0){if(o.settings.blocksFall&&!o.getBlock(e,t-1,s,i))return r?(o.setBlock(e,t,s,0,!1,!1,!1,!1,i),o.addEntity(new wt[ft.BlockEntity](a,e,t,s,n),!1,i)):o.setTimeout((()=>{o.getBlock(e,t-1,s,i)||(o.setBlock(e,t,s,0,!1,!1,!1,!1,i),o.addEntity(new wt[ft.BlockEntity](a,e,t,s,n),!1,i))}),y,e,t,s,i),!0}function Ht(e,t,s,a,o,r){if(o.settings.blocksFall){var i=o.getBlock(e,t-1,s,r);return i&&L[i].solid?void 0:(o.setTimeout((()=>{var i=o.getBlock(e,t-1,s,r);i&&L[i].solid||(o.setBlock(e,t,s,0,!1,!1,!1,!1,r),o.addItems(e,t,s,r,0,0,0,a&Ze,!0),o.blockParticles(a,e,t,s,30,"break",r),o.blockSound(a,"dig",e,t,s))}),y,e,t,s,r),!0)}}function jt(e,t,s,a,o,r,i,n,l){var h=l.getTags(e,t,s,a);if("number"==typeof h)return!1;if(!h||!h.contents){var d=l.getBlock(e,t,s,a);if(!L[d].setContents)return!1;h=L[d].setContents(e,t,s,a,l)}for(var c=0;c<h.contents.length;c++){if(!h.contents[c])return h.contents[c]={id:o,amount:1,durability:r,customName:i},n||l.setTags(e,t,s,h,!1,a),!0;if(h.contents[c].id===o&&(!h.contents[c].customName&&!i||h.contents[c].customName===i)&&h.contents[c].amount<L[o].stackSize)return h.contents[c].amount++,n||l.setTags(e,t,s,h,!1,a),!0}return!1}function Yt(e,t,s,a,o){var r=o.getTags(e,t,s,a),i=o.getBlock(e,t,s,a);if(r&&"furnace"===L[i].name)return((r.input&&r.input.id&&r.input.amount/L[r.input.id].stackSize||0)+(r.output&&r.output.id&&r.output.amount/L[r.output.id].stackSize||0)+(r.fuel&&r.fuel.id&&r.fuel.amount/L[r.fuel.id].stackSize||0))/3;if("composter"===L[i].name)return L[i].getLevel(i)/16;if("endPortalFrame"===L[i].name)return 1*((i&ce)===ce);if(r&&L[i].itemFrame)return(r.rot||0)/16;if("object"==typeof r&&r.contents){var n=0;for(var l of r.contents)l&&l.id&&(n+=l.amount/L[l.id].stackSize);return n/=r.contents.length}}let Vt,Xt=[];function Zt(e,t,s,a,o){for(var r of(o.getEntitiesNear(e,t,s,a,2,Xt),Xt)){let a=r.width/2,o=r.height/2,i=r.depth/2;if(e-.5<r.x+a&&e+.5>r.x-a&&t-.5<r.y+o&&t-.25>r.y-o&&s-.5<r.z+i&&s+.5>r.z-i)return!0}for(let a of o.players)if(e-.5<a.x+a.w&&e+.5>a.x-a.w&&t-.5<a.y+a.topH&&t-.25>a.y-a.bottomH&&s-.5<a.z+a.w&&s+.5>a.z-a.w)return!0;return!1}function Qt(e,t){for(let s of t.players)if(s.id===e)return s;for(let s=0;s<t.entities.length;s++)if(t.entities[s].id===e)return t.entities[s]}function Jt(e,t){for(let s of t.players)if(s.username===e)return s}function $t(e,t){for(let s of t.players)if(s.id===e)return s}function Kt(e){var t=e.width/2,s=e.height/2,a=e.depth/2;for(var o of(Vt=!1,e.world.getEntitiesNear(e.x,e.y,e.z,e.dimension,2,Xt),Xt))if(o!==e&&o.dimension===e.dimension){var r=o.width/2,i=o.height/2,n=o.depth/2;if(e.x-t<o.x+r&&e.x+t>o.x-r&&e.y-s<o.y+i&&e.y-s>o.y-i&&e.z-a<o.z+n&&e.z+a>o.z-n)return o}for(let o of e.world.players)if(o!==e&&o.dimension===e.dimension&&!o.hidden&&!o.die&&e.x-t<=o.x+o.w&&e.x+t>=o.x-o.w&&e.y-s<=o.y+o.topH&&e.y-s>=o.y-o.bottomH&&e.z-a<=o.z+o.w&&e.z+a>=o.z-o.w)return Vt=!0,o}function es(e,t,s,a){let o=abs(s-e),r=abs(a-t);return max(o,r)}let ts=[],ss=0,as=0;function os(e,t){let s=ss-e.x-8,a=as-e.z-8,o=ss-t.x-8,r=as-t.z-8;return s*s+a*a-(o*o+r*r)}const{seedHash:rs,hash:is,hash3:ns}=(()=>{let e=21e8*Math.random()|0;const t=1883677709,s=2034071983,a=668265263,o=374761393,{imul:r}=Math;return{seedHash:t=>{e=0|t},hash:(i,n)=>{let l=0;return l=e+o|0,l+=8,l+=r(i,s),l=r(l<<17|l>>15,a),l+=r(n,s),l=r(l<<17|l>>15,a),l^=l>>15,l*=t,l^=l>>13,l*=s,l^=l>>16,l/2147483647},hash3:(i,n,l)=>{let h=0;return h=e+o|0,h+=8,h+=r(i,s),h=r(h<<17|h>>15,a),h+=r(n,s),h=r(h<<17|h>>15,a),h+=r(l,s),h=r(h<<17|h>>15,a),h^=h>>15,h*=t,h^=h>>13,h*=s,h^=h>>16,h/2147483647}}})();class ls{nextInt(){const{z:e,w:t}=this;return this.z=36969*(65535&e)+(e>>>16)&4294967295,this.w=18e3*(65535&t)+(t>>>16)&4294967295,4294967295&((65535&this.z)<<16|65535&this.w)}nextDouble(){const e=this.nextInt()/4294967296;return(e<0|0)+e}constructor(e,t){this.z=0|e||362436069,this.w=t||2147483647*is(521288629,this.z)|0}}const{randomSeed:hs,random:ds,useRandom:cs}=(()=>{let e,t,s=[];return win.serverRandomRandom=()=>e=new ls(21e7*Math.random()),win.serverRestoreRandom=()=>e=e[t],{randomSeed:t=>{s.length=0,s.push(new ls(t));for(let e=0;e<5;e++)s.push(new ls(21e7*is(t,e)));e=s[0]},random:(t,s)=>(s||(t?(s=t,t=0):(t=0,s=1)),e.nextDouble()*(s-t)+t),useRandom:function(a){t=a,e=s[a]}}})();let ps,us;win.serverSaveWorldGen=()=>{win.serverRandomRandom(),ps=_s.size},win.serverRestoreWorldGen=()=>{win.serverRestoreRandom(),_s.size=ps};class ms{static grad3d(e,t,s,a){const o=15&e,r=o<8?t:s,i=o<4?s:12===o||14===o?t:a;return(0==(1&o)?r:-r)+(0==(2&o)?i:-i)}static grad2d(e,t,s){const a=0==(1&e)?t:s;return 0==(2&e)?-a:a}static grad1d(e,t){return 0==(1&e)?-t:t}static lerp(e,t,s){return t+e*(s-t)}perm=new Uint8Array(512);noise3d(e,t,s){const{floor:a}=Math,o=255&a(e),r=255&a(t),i=255&a(s),n=(3-2*(e-=a(e)))*e*e,l=(3-2*(t-=a(t)))*t*t,h=(3-2*(s-=a(s)))*s*s,{perm:d}=this,c=d[o]+r,p=d[c]+i,u=d[c+1]+i,m=d[o+1]+r,g=d[m]+i,k=d[m+1]+i,{lerp:y,grad3d:b}=ms;return y(h,y(l,y(n,b(d[p],e,t,s),b(d[g],e-1,t,s)),y(n,b(d[u],e,t-1,s),b(d[k],e-1,t-1,s))),y(l,y(n,b(d[p+1],e,t,s-1),b(d[g+1],e-1,t,s-1)),y(n,b(d[u+1],e,t-1,s-1),b(d[k+1],e-1,t-1,s-1))))}noise2d(e,t){const{floor:s}=Math,a=255&s(e),o=255&s(t);e-=s(e),t-=s(t);const{perm:r}=this,i=(3-2*e)*e*e,n=(3-2*t)*t*t,l=r[a]+o,h=r[a+1]+o,{lerp:d,grad2d:c}=ms;return d(n,d(i,c(r[l],e,t),c(r[h],e-1,t)),d(i,c(r[l+1],e,t-1),c(r[h+1],e-1,t-1)))}noise1d(e){const{floor:t}=Math,s=255&t(e),a=(3-2*(e-=t(e)))*e*e,{lerp:o,grad1d:r}=ms;return o(a,r(perm[s],e),r(perm[s+1],e-1))}constructor(e){if(void 0===e)throw new TypeError("A value for `seed` parameter was not provided to `PerlinNoise`");const t=new ls(e),{perm:s}=this;for(let e=0;e<256;++e)s[e]=e;for(let e=0;e<256;++e){const a=255&t.nextInt(),o=s[a];s[a]=s[e],s[e]=o}s.copyWithin(256,0,256)}}function gs(e){const t=function(e,t,s){return new Int8Array(s.split("").map((function(s){return parseInt(s,t)+e})))},s=1/3;var a="0000110010101001,2110210120113111,110010101001211021012011".split(",").map((function(e){return new Uint8Array(e.split("").map((function(e){return Number(e)})))}));const o=t(-11,23,"0ff7mf7fmmfffmfffm07f70f77mm7ff0ff7m0f77m77f0mf7fm7ff0077707770m77f07f70");var r=function(){return new Uint16Array(function(e){return e.split(",").map((function(e){return parseInt(e,32)}))}("0,2,1,1,2,2,5,1,6,0,7,0,10,2,12,2,41,1,45,1,50,5,51,5,g6,0,g7,0,h2,4,h6,4,k5,3,k7,3,l0,5,l1,5,l2,4,l5,3,l6,4,l7,3,l8,d,l9,d,la,c,ld,e,le,c,lf,e,m8,k,ma,i,p9,l,pd,n,q8,k,q9,l,15e,j,15f,m,16a,i,16e,j,19d,n,19f,m,1a8,f,1a9,h,1aa,f,1ad,h,1ae,g,1af,g,1ag,b,1ah,a,1ai,b,1al,a,1am,9,1an,9,1bg,b,1bi,b,1eh,a,1el,a,1fg,8,1fh,8,1qm,9,1qn,9,1ri,7,1rm,7,1ul,6,1un,6,1vg,8,1vh,8,1vi,7,1vl,6,1vm,7,1vn,6"))},i=t(-1,5,"112011210110211120110121102132212220132122202131222022243214231243124213241324123222113311221213131221123113311112202311112022311112220342223113342223311342223131322023113322023311320223113320223131322203311322203131");function n(e,t){return e=1664525*e+1013904223|0,(t-=1)>0?n(e,t):e}function l(e,t,s){var a=0;const o=t[s++],r={next:void 0};for(;a<e.dimensions;){const i="xyzw"[a];r[i+"sb"]=t[s+a],r["d"+i]=-t[s+a++]-o*e.squish}return r}function h(e,t){var s;const a=e(),o=new Map;for(s=0;s<a.length;s+=2)o.set(a[s],t[a[s+1]]);return o}let d=function(e){const t=[],s=e.dimensions,a=s*s;for(var o,r=0;r<e.pD.length;){const i=e.base[e.pD[r]];let n,h;o=0;do{h=l(e,i,o),n?n.next=h:t[r/a]=h,n=h,o+=s+1}while(o<i.length);h.next=l(e,e.pD,r+1),s>=3&&(h.next.next=l(e,e.pD,r+s+2)),4===s&&(h.next.next.next=l(e,e.pD,r+11)),r+=a}const i=[t,h(e.lookup,t)];return e.base=void 0,e.lookup=void 0,i}({_3D:{base:a,squish:s,dimensions:3,pD:i,lookup:r}}._3D);d[0];const c=d[1],p=new Uint8Array(256),u=new Uint8Array(256),m=new Uint8Array(function(e){for(var t=[],s=0;s<e;)t.push(s++);return t}(256));var g=n(e,3);return function(e,t){for(var s=0;s<e&&!0!==t(s++););}(256,(function(e){e=255-e;var t=((g=n(g,1))+31)%(e+1);t+=t<0?e+1:0,p[e]=m[t],u[e]=p[e]%24*3,m[t]=m[e]})),a=void 0,r=void 0,i=void 0,function(e,t,a){const r=u,i=p,n=o,l=-.16666666666666666*(e+t+a),h=e+l,d=t+l,m=a+l,g=floor(h),k=floor(d),y=floor(m),b=(g+k+y)*s,w=e-(g+b),f=t-(k+b),B=a-(y+b),S=h-g,v=d-k,x=m-y,P=S+v+x;for(var T,N=c.get(v-x+1|S-v+1<<1|S-x+1<<2|P<<3|P+x<<5|P+v<<7|P+S<<9),C=0;void 0!==N;){const e=w+N.dx,t=f+N.dy,s=B+N.dz;let a=2-e*e-t*t-s*s;a>0&&(T=r[(i[g+N.xsb&255]+(k+N.ysb)&255)+(y+N.zsb)&255],a*=a,C+=a*a*(n[T++]*e+n[T++]*t+n[T]*s)),N=N.next}return.0048543689320388345*C+.5}}win.PerlinNoise=ms;{let Na=[],Ca=3.5,za=Ca*Ca;for(let La=-Ca;La<=Ca;La++)for(let Ra=-Ca;Ra<=Ca;Ra++)for(let Ia=-Ca;Ia<=Ca;Ia++)La*La+Ra*Ra+Ia*Ia<za&&Na.push(0|La,0|Ra,0|Ia);us=new Int8Array(Na)}function ks(e,t,s,a){let o=.02,r=.0055;return abs(.5-a.caveNoise(e*o,t*o,s*o))<r&&abs(.5-a.caveNoise(t*o,s*o,e*o))<r}class ys{constructor(e,t,s){this.x=e,this.y=t,this.z=s}set(e,t,s){void 0===t?(this.x=e.x,this.y=e.y,this.z=e.z):(this.x=e,this.y=t,this.z=s)}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.x/=e,this.y/=e,this.z/=e}add(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}mult(e){this.x*=e,this.y*=e,this.z*=e}mag(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}magSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}crossProduct(e,t,s,a){return a.x=this.y*s-this.z*t,a.y=this.z*e-this.x*s,a.z=this.x*t-this.y*e,a}product(e,t,s,a){return a.x=this.x*e,a.y=this.y*t,a.z=this.z*s,a}}win.PVector=ys;let bs=new ys,ws=new ys,fs=new ys,Bs=new ys;const Ss=12;function vs(e,t,s,a,o,r,i,n,l,h,d){for(var c=[e,t,s,i];c.length;){var p,u=c[0],m=c[1],g=c[2];if((p=d.getBlock(u,m,g+1,h))&&!xyArrayHas(n,c,u,m,g+1))if(L[p][l]){if(L[p].sticky&&p!==i&&(a||o||1!==r));else if(n.push(u,m,g+1,p),L[p].sticky)c.push(u,m,g+1,p);else if((a||o||-1!==r)&&!1===xs(u,m,g+1,a,o,r,n,h,d))return!1}else if(!a&&!o&&1===r)return!1;if((p=d.getBlock(u,m,g-1,h))&&!xyArrayHas(n,c,u,m,g-1))if(L[p][l]){if(L[p].sticky&&p!==i&&(a||o||-1!==r));else if(n.push(u,m,g-1,p),L[p].sticky)c.push(u,m,g-1,p);else if((a||o||1!==r)&&!1===xs(u,m,g-1,a,o,r,n,h,d))return!1}else if(!a&&!o&&-1===r)return!1;if((p=d.getBlock(u,m+1,g,h))&&!xyArrayHas(n,c,u,m+1,g))if(L[p][l]){if(L[p].sticky&&p!==i&&(a||1!==o||r));else if(n.push(u,m+1,g,p),L[p].sticky)c.push(u,m+1,g,p);else if((a||-1!==o||r)&&!1===xs(u,m+1,g,a,o,r,n,h,d))return!1}else if(!a&&1===o&&!r)return!1;if((p=d.getBlock(u,m-1,g,h))&&!xyArrayHas(n,c,u,m-1,g))if(L[p][l]){if(L[p].sticky&&p!==i&&(a||-1!==o||r));else if(n.push(u,m-1,g,p),L[p].sticky)c.push(u,m-1,g,p);else if((a||1!==o||r)&&!1===xs(u,m-1,g,a,o,r,n,h,d))return!1}else if(!a&&-1===o&&!r)return!1;if((p=d.getBlock(u+1,m,g,h))&&!xyArrayHas(n,c,u+1,m,g))if(L[p][l]){if(L[p].sticky&&p!==i&&(1!==a||o||r));else if(n.push(u+1,m,g,p),L[p].sticky)c.push(u+1,m,g,p);else if((-1!==a||o||r)&&!1===xs(u+1,m,g,a,o,r,n,h,d))return!1}else if(1===a&&!o&&!r)return!1;if((p=d.getBlock(u-1,m,g,h))&&!xyArrayHas(n,c,u-1,m,g))if(L[p][l]){if(L[p].sticky&&p!==i&&(-1!==a||o||r));else if(n.push(u-1,m,g,p),L[p].sticky)c.push(u-1,m,g,p);else if((1!==a||o||r)&&!1===xs(u-1,m,g,a,o,r,n,h,d))return!1}else if(-1===a&&!o&&!r)return!1;c.splice(0,4)}}function xs(e,t,s,a,o,r,i,n,l){for(var h=e,d=t,c=s,p=0;p<Ss+1;p++){h+=a,d+=o,c+=r;var u=l.getBlock(h,d,c,n);if(u&&!L[u].pistonPush)return!1;if(L[u].sticky&&!1===vs(h,d,c,a,o,r,u,i,"pistonPush",n,l))return!1;if(!u)break;xyArrayHas(i,null,h,d,c)||i.push(h,d,c,u)}}function Ps(e,t,s,a,o,r,i,n){var l=[e,t,s,0];return!1!==xs(e,t,s,a,o,r,l,i,n)&&(l.splice(0,4),!(l.length/4>Ss)&&l)}function Ts(e,t,s,a,o,r,i,n){var l=[e,t,s,0],h=e+a,d=t+o,c=s+r;h+=a,d+=o,c+=r;var p=n.getBlock(h,d,c,i);return(!L[p].sticky||!1!==vs(h,d,c,-a,-o,-r,p,l,"pistonPull",i,n))&&(p&&!xyArrayHas(l,null,h,d,c)&&L[p].pistonPull&&l.push(h,d,c,p),l.splice(0,4),!(l.length/4>Ss)&&l)}win.pistonFindStickyBlocksConnectedTo=vs,win.getPistonPushedBlocks=Ps,win.getPistonPulledBlocks=Ts;let Ns={rgb:{0:[0,0,0],1:[0,0,170],2:[0,170,0],3:[0,170,170],4:[170,0,0],5:[170,0,170],6:[255,170,0],7:[170,170,170],8:[85,85,85],9:[85,85,255],a:[85,255,85],b:[85,255,255],c:[255,85,85],d:[255,85,255],e:[255,255,85],f:[255,255,255],g:[221,214,5]},css:{},dye:{red:[176/255,46/255,38/255],lightGray:[157/255,157/255,151/255],lightBlue:[58/255,178/255,218/255],magenta:[199/255,78/255,189/255],yellow:[254/255,215/255,61/255],purple:[137/255,50/255,184/255],orange:[249/255,128/255,29/255],white:[249/255,1,254/255],green:[93/255,124/255,22/255],brown:[131/255,84/255,50/255],black:[29/255,29/255,33/255],pink:[243/255,139/255,170/255],lime:[128/255,199/255,31/255],gray:[71/255,79/255,82/255],cyan:[22/255,156/255,156/255],blue:[60/255,67/255,170/255]}};for(var c in Ns.rgb)Ns.css[c]="rgb("+Ns.rgb[c].join(",")+")",Ns.rgb[c][0]/=255,Ns.rgb[c][1]/=255,Ns.rgb[c][2]/=255;win.colors=Ns;const Cs=[["Sheep",4,4],["Pig",4,4],["Chicken",4,4],["Cow",4,4]],zs=[...Cs,["Horse",2,6],["Donkey",1,3]],Ls=[...zs,["Rabbit",2,3],["Fox",2,4]],Rs=[["Turtle",4,4]],Is=[["Rabbit",2,3],["Goat",1,3]],Ms=[["Zombie",4,4],["Skeleton",4,4],["Creeper",4,4],["Enderman",4,4],["Spider",4,4]],Ds=[["Rabbit",2,6],["Sheep",2,4],["Donkey",1,2]];let As={void:[.5,.5],ocean:[.5,.5],deepOcean:[.5,.5],warmOcean:[.8,.6],lukewarmOcean:[.6,.5],deepLukewarmOcean:[.6,.5],coldOcean:[.35,.5],deepColdOcean:[.35,.5],frozenOcean:[.1515,.5],deepFrozenOcean:[.152,.5],plains:[.8,.4,zs,Ms],iceSpikes:[0,.1],snowyPlains:[0,.1,[["Rabbit",1,1],["PolarBear",1,1]],Ms],grove:[-.2,.5,Ls,Ms],alpineHills:[.18,.25,Ls,Ms],snowyTaiga:[-.5,.1,Ls,Ms],taiga:[.25,.8,Ls,Ms],shrubland:[.85,.4,zs,Ms],meadow:[.3,.5,Ds,Ms],forest:[.7,.8,zs,Ms],sparseForest:[.6,.6,zs,Ms],oldPineTaiga:[.3,.8,Ls,Ms],oldSpruceTaiga:[.25,.8,Ls,Ms],flowerForest:[.7,.8,zs,Ms],oldBirchForest:[.6,.6,zs,Ms],birchForest:[.7,.8,zs,Ms],darkForest:[.6,.6,zs,Ms],savanna:[1.2,.2,zs,Ms],grassySavanna:[1.2,.2,zs,Ms],sparseJungle:[.95,.8,zs,Ms],bambooJungle:[.95,.9,zs,Ms],jungle:[.95,.9,zs,Ms],desert:[2,0],snowyBeach:[.05,.3,Rs,Ms],beach:[.8,.4,Rs,Ms],snowySlopes:[-.3,.9,Is,Ms],windsweptGravellyHills:[.2,.3,zs,Ms],windsweptHills:[.2,.3,zs,Ms],windsweptForest:[.2,.3,zs,Ms],frozenPeaks:[-.7,.9],stonePeaks:[1,.3],jaggedPeaks:[-.7,.9,Is,Ms],frozenRiver:[0,.5],river:[.5,.5],dryRiver:[1,.1],rockyRiver:[.5,.4],sunflowerPlains:[.8,.4,zs,Ms],stonyShore:[.2,.3],savannaPlateau:[1,0,zs,Ms],erodedBadlands:[2,0],badlands:[2,0],woodedBadlands:[2,0],windsweptSavanna:[1.1,.5,zs,Ms],rockyPlains:[.8,.4,zs,Ms],grassyForest:[.7,.8,zs,Ms],mushroomFields:[.9,1,["Mooshroom",4,4]],cherryGrove:[.3,.5,Ds,Ms],dryShrubland:[1,.2],swamp:[.8,.5,[...Cs,["Frog",2,5]],[...Ms,["Slime",4,4],["Witch",1,1]]],mangroveSwamp:[.8,.9],bambooForest:[.7,.8,zs,Ms],marsh:[.8,.3],trashland:[.25,0],dripstoneCaves:[.2,0],lushCaves:[.9,0],warpedForest:[2,0],crimsonForest:[2,0],netherWastes:[2,0,["Blaze",4,4]],end:[.5,.5],endIslands:[.5,.5]};win.biomeData=As;let Os=Object.keys(As),Gs=Object.fromEntries(Os.map(((e,t)=>[e,t])));function Ws(e){return e>.4&&e<.5?"warpedForest":e>.4?"crimsonForest":"netherWastes"}function Fs(e){return e>.6?"snowyPlains":e>.5?"desert":e>.4?"plains":e>.37?"sparseJungle":e>.35?"jungle":e>.3?"bambooJungle":"forest"}function Es(e,t){if(!As[e])return 0;let s=As[e][0];return t>80&&(s-=(t-80)/800),s}win.biomeIds=Gs;let Us=0;function qs(e){let t=performance.now()-qs.start;t>30&&console.log(e,t.toFixed(2),"milliseconds")}const _s={array:[],size:0,add:function(e,t,s,a){this.size===this.array.length?this.array.push([e,t,s,a]):(this.array[this.size][0]=e,this.array[this.size][1]=t,this.array[this.size][2]=s,this.array[this.size][3]=a),this.size++},clear:function(){this.size=0},get:function(e){if(e<this.size)return this.array[e]}};class Hs{constructor({trees:e=!0,caves:t=!0,fancyRivers:s=!0,superflat:a=!1,preBeta:o,survival:r=!1,cheats:i=!0,settings:n=J,customChunkGenerate:l,customChunkPopulate:h}={}){this.version=version,this.usePreBeta=o,this.chunks=[],this.netherChunks=[],this.endChunks=[],this.loaded=[],this.loadedNear=[],this.sortedChunks=[],this.chunkGenQueue=[],this.populateQueue=[],this.generateQueue=[],this.lightingQueue=[],this.loadQueue=[],this.timeoutQueue=[],this.updateQueue=[],this.loadFrom={},this.loadKeys=[],this.netherLoadFrom={},this.netherLoadKeys=[],this.endLoadFrom={},this.endLoadKeys=[],this.generatedChunks=0,this.entities=[],this.waitingEntities=[],this.resourcePacks=[],this.activeResourcePacks=[],this.ticking=!1,this.players=[],this.loadDistance=4,this.loadedUpdate=!0,this.playersInv={},this.trees=e,this.caves=t,this.fancyRivers=s,this.superflat=a,this.survival=r,this.cheats=i,this.resourcePacks=[],this.activeResourcePacks=[],this.spawnPoint={x:8,z:8,y:70,landProg:0},this.loadPromises=[],this.weather="",this.slowWeatherAmount=0,this.weatherAmount=0,this.nextWeather=1e3*rand(.5,7.5),this.time=375,this.skyLight=0,this.settings=Object.assign({},n),this.serverCommands=pt.map((e=>({...e,func:void 0}))),this.serverCommandFuncs=Object.fromEntries(pt.map((e=>[e.name,e.func]))),this.serverCommands.forEach((e=>{if(e.argValues)for(var t in e.argValues)Array.isArray(e.argValues[t])||(e.argValues[t]=[e.argValues[t]])})),this.runCmd=gt,this.worldSeed=0,this.islandGenerator=new Dt(this),this.setSeed=(e,t)=>{this.worldSeed=e,rs(e),this.caveNoise=gs(e),this.noiseProfile.noiseSeed(e),this.islandGenerator.SetSeed(e),S({newSeed:e}),t||this.findSpawnPoint()},this.noiseProfile={generator:void 0,octaves:4,fallout:.5,seed:void 0,noiseSeed(e){this.seed=e,this.generator=new ms(this.seed)},noise(e,t,s){const{generator:a,octaves:o,fallout:r}=this;let i=1,n=0;for(let l=0;l<o;++l){i*=r;const o=1<<l;let h;switch(arguments.length){case 1:h=a.noise1d(o*e);break;case 2:h=a.noise2d(o*e,o*t);break;case 3:h=a.noise3d(o*e,o*t,o*s)}n+=i*(1+h)/2}return n}},this.pos=setInterval(this.onpos.bind(this),500),this.customChunkGenerate=l,this.customChunkPopulate=h}findSpawnPoint(){this.usePreBeta||this.superflat?this.spawnPoint.y=this.superflat?4:round(this.noiseProfile.noise(this.spawnPoint.x*f.smooth,this.spawnPoint.z*f.smooth)*f.height)+f.extra:this.loadPromises.push(B({findLand:!0,seed:this.worldSeed},(e=>{this.spawnPoint.landProg=e})).then((e=>{this.spawnPoint.x=e.x,this.spawnPoint.y=e.y,this.spawnPoint.z=e.z,this.spawnPoint.land=!0})))}serverChangeBlock(e,t,s,a,o,r,i,n){const{holding:l}=i,h=this;if("click"===o){let o=this.getBlock(e,t,s,a);if(L[o].onclick)L[o].onclick(e,t,s,a,this,i);else if(l&&L[l].shovel)o!==I.grass&&o!==I.dirt&&o!==I.rootedDirt&&o!==I.mycelium&&o!==I.podzol||this.setBlock(e,t,s,I.grass|me,!1,!1,!1,!1,i.dimension),L[o].campfire&&this.setBlock(e,t,s,L[o].id|ce,!1,!1,!1,!1,i.dimension);else if(l&&o&&L[l].axe){var d=L[o].name;d=d[0].toUpperCase()+d.substring(1),I[d="stripped"+d]&&this.setBlock(e,t,s,I[d],i.dimension)}else l&&o&&L[l].hoe?("grass"!==L[o].name&&o!==I.dirt||this.getBlock(e,t+1,s)||this.setBlock(e,t,s,I.farmland,!1,!1,!1,!1,i.dimension),o===I.rootedDirt&&(this.setBlock(e,t,s,I.dirt,!1,!1,!1,!1,i.dimension),this.addItems(e,t+.5,s,i.dimension,0,0,0,I.hangingRoots,!0))):l&&o&&L[l].shears?o===I.pumpkin&&(this.setBlock(e,t,s,I.carvedPumpkin,!1,!1,!1,!1,i.dimension),this.addItems(e,t+.5,s,i.dimension,0,0,0,I.pumpkinSeeds,!0,4)):l&&o&&"eyeOfEnder"===L[l].name&&"endPortalFrame"===L[o].name?(h.setBlock(e,t,s,o|ce,!1,!1,!1,!1,i.dimension),L[o].eyeplace(e,t,s,i.dimension,h),this.blockSound(l,"place",e,t,s)):l&&o&&L[l].flowerbed&&L[l].id===L[o].id&&L[o].addPetal(e,t,s,a,h)}else if("use"===o){let o=this.getBlock(e,t,s,a),r=L[l];r.serveronuse&&r.serveronuse(e,t,s,o,a,this,n)}else{let o,n,h=this.getBlock(e,t,s,a),d=this.getTags(e,t,s,a);if(i.survival&&!r){n=0;let e=h,t=L[h].drop,s=L[h].dropAmount,a=G.includes(L[h].type);l&&O[L[h].type]&&O[L[h].type].includes(L[l].name)&&(a=!0),L[h].type||(a=!0),a&&(void 0===s&&(s=1),2===s.length&&(s=round(rand(s[0],s[1]))),l&&L[l].shears&&L[h].dropSelfWhenSheared?L[h].shearDropAmount&&(s=L[h].shearDropAmount):"number"==typeof t?e=t:"function"==typeof t?e=I[t()]:Array.isArray(t)?e=t:t&&(e=I[t]),e&&(n=e,o=s))}if(!1===this.setBlock(e,t,s,r,!1,!1,!1,!1,a))return this.sendAllInChunk({type:"setBlock",data:{x:e,y:t,z:s,block:h,dimension:a}},e>>4,s>>4,a);if(n)if(Array.isArray(n))for(let r of n)"string"==typeof r&&(r=I[r]),this.addItems(e,t,s,a,0,0,0,r,!0,o,null,null,i.id);else this.addItems(e,t,s,a,0,0,0,n,!0,o,null,null,i.id);r?L[r].onplace&&L[r].onplace(e,t,s,a,i,this):(this.blockParticles(h,e,t,s,30,"break",a),L[h].onbreak&&L[h].onbreak(e,t,s,h,d,a,this),this.blockSound(h,"dig",e,t,s),i.survival&&L[h].experience&&this.addEntity(new wt[ft.ExperienceOrb](e,t,s,L[h].experience),!1,a))}}blockParticles(e,t,s,a,o,r,i,n,l){l||this.sendAll({type:"particles",particleType:"blockParticles",x:t,y:s,z:a,amount:o,dimension:i,data:{block:e,thisType:r,dir:n}})}explode(e,t,s,a,o,r){o?"original"===o&&this.setBlock(e,t,s,this.getOriginalBlock(e,t,s,r),!1,!1,!1,!1,r):this.setBlock(e,t,s,0,!1,!1,!1,!1,r);let i={},n=[];for(var l=0;l<16;l++)for(var h=0;h<16;h++)for(var d=0;d<16;d++)if(0===l||15===l||0===h||15===h||0===d||15===d)for(var c=(.7+rand(.6))*a,p=l/16,u=h/16,m=d/16,g=.3/abs(dist3(0,0,0,2*(p-.5)*a,2*(u-.5)*a,2*(m-.5)*a))/2,k=0;k<1;k+=g){var y=round(lerp(k,e,2*(p-.5)*a+e)),b=round(lerp(k,t,2*(u-.5)*a+t)),w=round(lerp(k,s,2*(m-.5)*a+s));c-=.3*.75;var f=this.getBlock(y,b,w,r),B=i[y+","+b+","+w];if(f&&!B){if(!((c-=.3*((L[f].blastResistance||0)+.3))>0))continue;i[y+","+b+","+w]=!0,o||(L[f].ongetexploded&&L[f].ongetexploded(y,b,w,f,this,r),this.setBlock(y,b,w,0,!1,!1,!1,!1,r),0===round(rand(a-1))&&this.addItems(y,b,w,r,0,0,0,f,!0)),f===I.tnt?L[I.tnt].explode(y,b,w,"explosion",r,this):f===I.untnt&&L[I.untnt].explode(y,b,w,"explosion",r,this)}if(c>0&&"original"===o&&!B&&this.setBlock(y,b,w,this.getOriginalBlock(y,b,w,r),!1,!1,!1,!1,r),c>0&&rand()>.995){let e=1e3*rand();n.push(y,b,w,r,e)}}this.sendAll({type:"particles",particleType:"explosion",data:n,dimension:r});let S=this.getEntitiesNear(e,t,s,r,a);for(let o of S){if(o.dimension!==r)continue;let i=dist3(e,t,s,o.x,o.y,o.z);if(i<=a){let r=a-i,n=(o.x-e)/i*r,l=(o.y-t)/i*r,h=(o.z-s)/i*r;if(o.damage){let e=6*(a-i);o.damage(e,n,l,h)}else o.velx+=n,o.vely+=l,o.velz+=h}}for(let o of this.players){if(o.dimension!==r||o.hidden||o.die)continue;let i=dist3(e,t,s,o.x,o.y,o.z);if(i<=a){let r=a-i,n=(o.x-e)/i*r,l=(o.y-t)/i*r,h=(o.z-s)/i*r,d=6*(a-i);this.sendPlayer({type:"hit",damage:d,damageType:"neutral",velx:n,vely:l,velz:h,x:e,y:t,z:s},o.id)}}Et(e,t,s,a,this)}blockSound(e,t,s,a,o,r){let i,n=L[e],l=1;switch(t){case"place":i=n.placeSound||n.digSound;break;case"dig":i=n.digSound;break;case"step":i=n.stepSound;break;case"lowStep":case"breaking":i=n.stepSound,l=.5;break;case"land":i=n.landSound||n.digSound}if("function"==typeof i)return i();Array.isArray(i)&&(i=i[Math.floor(Math.random()*i.length)]),i&&this.playSound(s,a,o,i,r,l)}playSound(e,t,s,a,o=1,r=1){this.sendAll({type:"playSound",data:a,volume:o,pitch:r,x:e,y:t,z:s,hasPos:"number"==typeof e})}poof(e,t,s,a,o,r,i,n,l){a||(a=r*i*n*20),l&&this.sendAll({type:"particles",particleType:"poof",x:e,y:t,z:s,dimension:o,amount:a,data:{w:r,h:i,d:n}})}glint(e,t,s,a,o){o||this.sendAll({type:"particles",particleType:"glint",x:e,y:t,z:s,dimension:a})}updateBlock(e,t,s,a,o,r,i,n,l){let h="nether"===l?this.netherChunks:"end"===l?this.endChunks:this.chunks,d=h[e>>4]&&h[e>>4][s>>4];d&&d.allGenerated&&d.updateBlock(15&e,t,15&s,this,a,o,r,i,n)}getChunk(e,t,s){let a="nether"===s?this.netherChunks:"end"===s?this.endChunks:this.chunks;return a[e>>4]&&a[e>>4][t>>4]}getBlock(e,t,s,a){if(t>x)return I.air;if(t<P)return I.air;let o="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks;return o[e>>4]&&o[e>>4][s>>4]?o[e>>4][s>>4].getBlock(15&e,t,15&s):I.air}getOriginalBlock(e,t,s,a){let o=this.getChunk(e,s,a);return o?o.getOriginalBlock(15&e,t,15&s):I.air}setBlock(e,t,s,a,o,r,i,n,l){let h="nether"===l?this.netherChunks:"end"===l?this.endChunks:this.chunks;if(!h[e>>4]||!h[e>>4][s>>4])return!1;if(t<P)return!1;let d=h[e>>4]&&h[e>>4][s>>4],c=15&e,p=15&s,u=d.getBlock(c,t,p);if(a){if(u){let a=L[u];d.deleteBlock(c,t,p,!o),!o&&d.allGenerated&&(!a.transparent||a.lightLevel||a.decreaseLight)&&d.lit&&this.updateLight(e,t,s,!1,a.lightLevel,l)}let r=L[a];d.setBlock(c,t,p,a,!o),!o&&d.allGenerated&&(!r.transparent||r.lightLevel||r.decreaseLight)&&d.lit&&this.updateLight(e,t,s,!0,r.lightLevel,l)}else{let a=L[u];d.deleteBlock(c,t,p,!o),!o&&d.allGenerated&&(!a.transparent||a.lightLevel||a.decreaseLight)&&d.lit&&this.updateLight(e,t,s,!1,a.lightLevel,l)}if(o)return;let m=this.getTags(e,t,s,l);n||this.setTags(e,t,s,void 0,i,l);for(let o=this.timeoutQueue.length-1;o>=0;o--){let r=this.timeoutQueue[o];if(r.x===e&&r.y===t&&r.z===s&&r.dimension===l&&(void 0===r.block||r.block===a)){this.timeoutQueue.splice(o,1);break}}let g=L[u].name!==L[a||0].name;!r&&u&&L[u].ondelete&&g&&L[u].ondelete(e,t,s,m,u,l,this),!r&&a&&L[a].onset&&g&&L[a].onset(e,t,s,l,this),i||this.sendAllInChunk({type:"setBlock",data:{x:e,y:t,z:s,block:a,dimension:l,keepTags:n}},e>>4,s>>4,l),c&&15!==c&&p&&15!==p?(d.updateBlock(c-1,t,p,this,o,!1,e,t,s),d.updateBlock(c,t-1,p,this,o,!1,e,t,s),d.updateBlock(c+1,t,p,this,o,!1,e,t,s),d.updateBlock(c,t+1,p,this,o,!1,e,t,s),d.updateBlock(c,t,p-1,this,o,!1,e,t,s),d.updateBlock(c,t,p+1,this,o,!1,e,t,s)):(this.updateBlock(e-1,t,s,o,!1,e,t,s,l),this.updateBlock(e+1,t,s,o,!1,e,t,s,l),this.updateBlock(e,t-1,s,o,!1,e,t,s,l),this.updateBlock(e,t+1,s,o,!1,e,t,s,l),this.updateBlock(e,t,s-1,o,!1,e,t,s,l),this.updateBlock(e,t,s+1,o,!1,e,t,s,l)),d.updateBlock(c,t,p,this,o,r,e,t,s),c|0===p&&this.updateBlock(e-1,t,s-1,o,!0,e,t,s,l),15===c&&0===p&&this.updateBlock(e+1,t,s-1,o,!0,e,t,s,l),0===c&&15===p&&this.updateBlock(e-1,t,s+1,o,!0,e,t,s,l),c&15===p&&this.updateBlock(e+1,t,s+1,o,!0,e,t,s,l)}tagUpdate(e,t,s,a,o){var r=this.getBlock(e,t,s,a);r&&L[r].ontagsupdate&&L[r].ontagsupdate(e,t,s,a,o,this)}tagsChanged(e,t,s,a,o,r,i){i||(this.tagUpdate(e,t,s,r,a),this.tagUpdate(e-1,t,s,r,a),this.tagUpdate(e+1,t,s,r,a),this.tagUpdate(e,t-1,s,r,a),this.tagUpdate(e,t+1,s,r,a),this.tagUpdate(e,t,s-1,r,a),this.tagUpdate(e,t,s+1,r,a)),o||this.sendAllInChunk({type:"setTags",x:e,y:t,z:s,data:a,dimension:r,lazy:i},e>>4,s>>4,r)}getTags(e,t,s,a){if(t>x)return;if(t<P)return;let o="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks;return o[e>>4]&&o[e>>4][s>>4]?o[e>>4][s>>4].getTags(15&e,t,15&s):void 0}getTagByName(e,t,s,a,o){if(!(t>x||t<P))return this.getChunk(e,s,o).getTagByName(15&e,t,15&s,a)}setTags(e,t,s,a,o,r,i){var n="nether"===r?this.netherChunks:"end"===r?this.endChunks:this.chunks;if(!n[e>>4]||!n[e>>4][s>>4])return;if(t<P)return;let l=15&e,h=15&s;(n[e>>4]&&n[e>>4][s>>4]).setTags(l,t,h,a),this.tagsChanged(e,t,s,a,o,r,i)}setTagByName(e,t,s,a,o,r,i,n){let l="nether"===i?this.netherChunks:"end"===i?this.endChunks:this.chunks;if(!l[e>>4]||!l[e>>4][s>>4])return;if(t<P)return;let h=15&e,d=15&s;var c=(l[e>>4]&&l[e>>4][s>>4]).setTagByName(h,t,d,a,o);this.tagsChanged(e,t,s,c,r,i,n)}updateTags(e,t,s,a,o){var r=this.getTags(e,t,s,a);this.tagsChanged(e,t,s,r,!1,a,o)}getLight(e,t,s,a=0,o,r=0){if(t<P)return 0;let i="nether"===o?this.netherChunks:"end"===o?this.endChunks:this.chunks,n=i[e>>4]&&i[e>>4][s>>4];return n?n.getLight(15&e,t,15&s,a,r):15*(!a||r)}setLight(e,t,s,a,o,r){let i="nether"===r?this.netherChunks:"end"===r?this.endChunks:this.chunks,n=i[e>>4]&&i[e>>4][s>>4];if(n)return n.setLight(15&e,t,15&s,a,o)}updateLight(e,t,s,a,o=0,r){let i=this.getChunk(e,s,r),n=15&e,l=15&s,h=i.getLight(n,t,l,0),d=i.getLight(n,t,l,2),c=i.getLight(n,t,l,1),p=this.getLight(e,t+1,s,0,r),u=this.getLight(e,t+1,s,2,r),m=this.getLight(e,t-1,s,0,r),g=this.getLight(e,t,s+1,0,r),k=this.getLight(e,t,s-1,0,r),y=this.getLight(e+1,t,s,0,r),b=this.getLight(e-1,t,s,0,r),w=[];for(let e=0;e<=15;e++)w[e]=[];if(a){if(a&&(0!==h||0!==c)){let a=[];for(let e=0;e<=15;e++)a[e]=[];i.setLight(n,t,l,0,0),i.setLight(n,t,l,0,1),w[h].push(e,t,s);let o=d,r=t;if(L[i.getBlock(n,t,l)].transparent||(i.setLight(n,t,l,0,0),i.setLight(n,t,l,0,1),i.setLight(n,t,l,0,2),w[h].push(e,t,s),r--,o=0),d)for(let t=r;t>=P;t--){let a=L[i.getBlock(n,t,l)];if(!a.transparent)break;{a.decreaseLight&&(o=max(o-a.decreaseLight,0)),i.setLight(n,t,l,o,2);let r=i.getLight(n,t,l,0);i.setLight(n,t,l,o,0),w[r].push(e,t,s)}}for(let e=0;e<=15;e++)w[e].length&&i.unSpreadLight(w[e],e-1,a);if(i.reSpreadLight(a),c){a.length=0;for(let e=0;e<=15;e++)a[e]=[];w[c].length=0,w[c].push(e,t,s),i.unSpreadLight(w[c],c-1,a,1),i.reSpreadLight(a,1),w[c].length=0}}}else{if(u){let a=u;for(let o=t;o>=P;o--){let t=L[i.getBlock(n,o,l)];if(!t.transparent)break;t.decreaseLight&&(a=max(a-t.decreaseLight,0)),i.setLight(n,o,l,a,2),a>i.getLight(n,o,l,0)&&i.setLight(n,o,l,a,0),w[a].push(e,o,s)}for(let e=0;e<w.length;e++)w[e].length&&i.spreadLight(w[e],e-1,!0)}else h=max(p,m,g,k,y,b),h>0&&(h-=1),this.setLight(e,t,s,h,0,r),h>1&&(w[h].push(e,t,s),i.spreadLight(w[h],h-1,!0));(!o||o<c)&&(p=this.getLight(e,t+1,s,1,r),m=this.getLight(e,t-1,s,1,r),g=this.getLight(e,t,s+1,1,r),k=this.getLight(e,t,s-1,1,r),y=this.getLight(e+1,t,s,1,r),b=this.getLight(e-1,t,s,1,r),c=max(p,m,g,k,y,b),w[c].length=0,c>0&&(c-=1),this.setLight(e,t,s,c,1,r),c>1&&(w[c].push(e,t,s),i.spreadLight(w[c],c-1,!0,1)),w[c].length=0)}if(a&&o)this.setLight(e,t,s,o,1,r),w[o].length=0,w[o].push(e,t,s),i.spreadLight(w[o],o-1,!0,1);else if(!a&&o){this.setLight(e,t,s,0,1,r),w[o].length=0,w[o].push(e,t,s);let a=[];for(let e=0;e<=15;e++)a[e]=[];i.unSpreadLight(w[o],o-1,a,1),i.reSpreadLight(a,1)}}spawnBlock(e,t,s,a,o,r){if(L[a].crossShape&&(a|=ue),L[a].tallcrossShape&&(a|=me),L[a].cactus&&(a|=fe),L[a].randomRotateOnSpawn)switch(round(3*ns(e,t,s))){case 0:a|=He;break;case 1:a|=Ve;break;case 2:a|=je;break;case 3:a|=Ye}let i=e>>4,n=s>>4,l="nether"===o?this.netherChunks:"end"===o?this.endChunks:this.chunks;l[i]||(l[i]=[]);let h=l[e>>4]&&l[e>>4][s>>4];h||(h=new Wt(16*i,16*n,o,this),l[i][n]=h);let d=L[h.getBlock(15&e,t,15&s)].solid;h.allGenerated?d||this.setBlock(e,t,s,a,!1,!1,!1,!1,o):!r&&d||h.setBlock(15&e,t,15&s,a)}getBiome(e,t,s,a){let o="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks;if(!o[e>>4]||!o[e>>4][s>>4])return;let r=15&e,i=15&s,n=o[e>>4][s>>4].caveY[16*i+r],l=o[e>>4][s>>4].caveY[16*i+r+256];return Os[t<l&&t>n?o[e>>4][s>>4].caveBiomes[16*i+r]:o[e>>4][s>>4].biomes[16*i+r]]}getEntity(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].id===e)return t}getEntPos(e,t){let s=new ae;s.add(min(e.id.length,255),8);for(let t of e.id.substring(0,255))s.add(t.charCodeAt(0),8);if(s.add(e.entId,8),s.add(16*e.x,24).add(16*e.y,15).add(16*e.z,24),s.add("nether"===e.dimension?1:"end"===e.dimension?2:0,3),s.add(100*e.pitch,11),s.add(100*e.yaw,11),s.add(100*e.velx,11).add(100*e.vely,11).add(100*e.velz,11),s.add(t-e.spawn,32),s.add(10*(e.amount||0),20),s.add(e.block||0,32),s.add(e.from?min(e.from.length,255):0,8),e.from)for(let t of e.from.substring(0,255))s.add(t.charCodeAt(0),8);if(s.add(e.durability||0,16),s.addString(e.name||""),"BlockEntity"===e.type)s.add(e.solidOnGround||0,1);else if("MovingBlock"===e.type)s.add(e.sx,20).add(e.sy,20).add(e.sz,20),s.add(e.mx,20).add(e.my,20).add(e.mz,20),s.add(e.despawns,32),s.add(e.solidWhenDone,1);else if("TextDisplay"===e.type)s.addString(e.text),s.add(256*e.size,8),s.add(255*e.color[0],8).add(255*e.color[1],8).add(255*e.color[2],8),s.add(255*e.background[0],8).add(255*e.background[1],8).add(255*e.background[2],8).add(255*e.background[3],8);else if(e.mob){if(s.add(e.harmEffect,6),s.add(e.health,16),s.add(e.burning,1),s.add(16*e.burnTimer,8),s.add(e.oxygen,5),s.add(100*e.spinTarget,11),s.add(e.path?e.path.length:0,8),e.path&&e.path.length>255&&logError("entity path too long"),e.path)for(let t of e.path)s.add(t,20);if(s.add(e.fur||0,1),e.color?s.add(255*e.color[0],8).add(255*e.color[1],8).add(255*e.color[2],8):s.add(0,24),s.add(e.eating||0,6),s.add(e.target?min(e.target.length,255):0,8),e.target)for(let t of e.target.substring(0,255))s.add(t.charCodeAt(0),8);if("Sheep"===e.type&&(s.add(e.wool?min(e.wool.length,255):0,8),e.wool))for(let t of e.wool.substring(0,255))s.add(t.charCodeAt(0),8);if(s.add(e.tame||0,1),s.add(e.sitting||0,1),s.add(e.owner?min(e.owner.length,255):0,8),e.owner)for(let t of e.owner.substring(0,255))s.add(t.charCodeAt(0),8);if(s.add(e.holding||0,32),s.add(e.attractedBy?min(e.attractedBy.length,255):0,8),e.attractedBy)for(let t of e.attractedBy.substring(0,255))s.add(t.charCodeAt(0),8);"Creeper"===e.type&&(s.add(e.explodeAmount,7),s.add(t-e.timerStart,32)),s.add(e.attackCooldown,8)}else"BlockDisplay"===e.type&&s.add(256*e.width,16).add(256*e.height,16).add(256*e.depth,16);return s}addEntity(e,t,s){e.id||(e.id=""+Date.now().toString(36)+(1e6*Math.random()|0).toString(36)),e.world=this,(s||""===s)&&(e.dimension=e.chunkDimension=s),t||e.remote||this.sendEntityPos(e),this.entities.push(e);let a=this.getChunk(e.chunkX<<4,e.chunkZ<<4,e.dimension);a?a.entities[e.id]=e:this.waitingEntities.push(e)}deleteEntity(e,t,s){s=s||0===s?s:this.getEntity(e);let a=this.entities[s];if(!a||t&&a.noRemoteDelete)return;a.delete();let o=this.waitingEntities.indexOf(a);e=a.id,t||this.sendAllInChunk({type:"entityDelete",id:e},a.chunkX,a.chunkZ,a.dimension),(s||0===s)&&this.entities.splice(s,1),-1!==o&&this.waitingEntities.splice(o,1);const{chunkX:r,chunkZ:i}=a;let n=this.getChunk(r<<4,i<<4,a.dimension);n&&delete n.entities[e]}posEntity(e,t,s){if("string"==typeof e)try{e=new re(atoarr(e),!0)}catch(e){return}else if(!(e instanceof re))return;let a=performance.now(),o=e.read(8),r="";for(let t=0;t<o;t++)r+=String.fromCharCode(e.read(8));const i=e.read(8);let n,l=this.getEntity(r);const h=It[i],d=e.read(24,!0)/16,c=e.read(s?12:15,!0)/16,p=e.read(24,!0)/16;let u=e.read(3);u=1===u?"nether":2===u?"end":"";const m=e.read(11,!0)/100,g=e.read(11,!0)/100,k=e.read(11,!0)/100,y=e.read(11,!0)/100,b=e.read(11,!0)/100,w=a-e.read(32,!0),f=s?e.read(16):e.read(20)/10,B=e.read(32);o=e.read(8);let S="";for(let t=0;t<o;t++)S+=String.fromCharCode(e.read(8));const v=e.read(16);let x=e.readString();if("BlockEntity"===h)var P=Boolean(e.read(1));else if("MovingBlock"===h)var T=e.read(20,!0),N=e.read(20,!0),C=e.read(20,!0),z=e.read(20,!0),L=e.read(20,!0),R=e.read(20,!0),I=e.read(32),M=e.read(1);else if("TextDisplay"===h)var D=e.readString(),A=e.read(8)/256,O=[e.read(8)/255,e.read(8)/255,e.read(8)/255],G=[e.read(8)/255,e.read(8)/255,e.read(8)/255,e.read(8)/255];else if(wt[i].mob){var W=e.read(6),F=e.read(16),E=Boolean(e.read(1)),U=e.read(8)/16,q=e.read(5),_=e.read(11)/100;if(o=e.read(8),o){var H=[];for(let t=0;t<o;t++)H.push(e.read(20,!0))}var j=Boolean(e.read(1)),Y=(O=[e.read(8)/255,e.read(8)/255,e.read(8)/255],e.read(6));o=e.read(8);var V="";for(let t=0;t<o;t++)V+=String.fromCharCode(e.read(8));if("Sheep"===h){o=e.read(8);var X="";for(let t=0;t<o;t++)X+=String.fromCharCode(e.read(8))}var Z=Boolean(e.read(1)),Q=Boolean(e.read(1));o=e.read(8);var J="";for(let t=0;t<o;t++)J+=String.fromCharCode(e.read(8));var $=e.read(32);o=e.read(8);var K="";for(let t=0;t<o;t++)K+=String.fromCharCode(e.read(8));if("Creeper"===h)var ee=e.read(7),te=a-e.read(32);var se=e.read(8)}else if("BlockDisplay"===h)var ae=e.read(16)/256,oe=e.read(16)/256,ie=e.read(16)/256;if(l||0===l)n=this.entities[l],"TextDisplay"===h&&n.text!==D&&n.setText(D),"Item"===h&&n.amount!==f&&(n.amount=f,n.willUpdateShape=!0);else{switch(n=wt[i],h){case"Item":n=new n(d,c,p,k,y,b,B,!1,f,v||null,null);break;case"BlockEntity":n=new n(B,d,c,p,P);break;case"PrimedTNT":case"PrimedSuperTNT":case"PrimedUltraTNT":case"PrimedUnTNT":n=new n(d,c,p);break;case"MovingBlock":n=new n(B,T,N,C,z,L,R,I,M);break;case"BlockDisplay":n=new n(B,d,c,p,0,0,0);break;case"EnderPearl":case"Snowball":case"SmallFireball":case"Egg":case"SlingshotShot":case"Arrow":n=new n(d,c,p,0,0,0);break;case"ExperienceOrb":n=new n(d,c,p,f);break;case"Cow":case"Pig":case"Creeper":case"Chicken":case"Zombie":case"Skeleton":case"Wolf":case"Blaze":case"Enderman":n=new n(d,c,p);break;case"Sheep":n=new n(d,c,p,O,X);break;case"Spider":n=new n(d,c,p,j);break;case"EnderDragon":n=new n(d,c,p);break;case"TextDisplay":n=new n(d,c,p,D,A,O,G)}if(!n)return;n.id=r,this.addEntity(n,!0),n.previousX=parseFloat(e[0]),n.previousY=parseFloat(e[1]),n.previousZ=parseFloat(e[2])}n&&(n.setPos(d,c,p,k,y,b),n.dimension=u,n.facesPlayer||(n.yaw=g,n.pitch=m),n.spawn=w,"from"in n&&(n.from=S),x&&(n.name=x),n.mob?(n.harmEffect=W,n.health=F,n.burning=E,n.burnTimer=U,n.oxygen=q,n.spinTarget=_,n.path=H||null,"fur"in n&&(n.fur=j),"color"in n&&(n.color=O),"eating"in n&&(n.eating=Y),n.target=V,"Sheep"===h&&(n.wool=X),"tame"in n&&(n.tame=Z),"sitting"in n&&(n.sitting=Q),"owner"in n&&(n.owner=J),n.holding=$,n.attractedBy=K,"Creeper"===h&&(n.explodeAmount=ee,n.timerStart=te),n.attackCooldown=se):"BlockDisplay"===n.type&&(n.width=ae,n.height=oe,n.depth=ie),n.updateChunk())}sendEntityPos(e){this.sendAllInChunk({type:"entityPos",data:this.getEntPos(e,performance.now()).array},e.chunkX,e.chunkZ,e.dimension)}getEntities(e){let t=e.x>>4,s=e.z>>4,{dimension:a,loadDistance:o}=e;o--;let r=t-o,i=t+o,n=s-o,l=s+o,h="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks,d=[];for(t=r;t<=i;t++)for(s=n;s<=l;s++)if(h[t]&&h[t][s]){let e=h[t][s];for(let t in e.entities){let s=performance.now();d.push(this.getEntPos(e.entities[t],s).array)}}return d}getEntitiesNear(e,t,s,a,o,r=[]){let i="nether"===a?this.netherChunks:"end"===a?this.endChunks:this.chunks,n=e-o>>4,l=e+o>>4,h=s-o>>4,d=s+o>>4;r.length=0;for(e=n;e<=l;e++)for(s=h;s<=d;s++)if(i[e]&&i[e][s]){let t=i[e][s].entities;for(let e in t)r.push(t[e])}return r}addItems(e,t,s,a,o,r,i,n,l,h=1,d,c,p){if(n)for(var u=L[n];h;){var m=min(h,u.stackSize);h-=m,this.addEntity(new wt[ft.Item](e,t,s,o,r,i,n,l,m,d,c,p),!1,a)}}getRedstoneConnectedTo(e,t,s,a,o){var r=[],i=[];for(i.push(e,t,s,0);i.length;){e=i[0],t=i[1],s=i[2];var n=i[3];if(n<a){xyArrayHas(r,i,e+1,t,s)||"redstoneDust"!==L[this.getBlock(e+1,t,s,o)].name||i.push(e+1,t,s,n+1),xyArrayHas(r,i,e-1,t,s)||"redstoneDust"!==L[this.getBlock(e-1,t,s,o)].name||i.push(e-1,t,s,n+1),xyArrayHas(r,i,e,t,s+1)||"redstoneDust"!==L[this.getBlock(e,t,s+1,o)].name||i.push(e,t,s+1,n+1),xyArrayHas(r,i,e,t,s-1)||"redstoneDust"!==L[this.getBlock(e,t,s-1,o)].name||i.push(e,t,s-1,n+1),xyArrayHas(r,i,e,t+1,s)||"redstoneDust"!==L[this.getBlock(e,t+1,s,o)].name||i.push(e,t+1,s,n+1),xyArrayHas(r,i,e,t-1,s)||"redstoneDust"!==L[this.getBlock(e,t-1,s,o)].name||i.push(e,t-1,s,n+1);var l=this.getTags(e,t,s,o),h=this.getBlock(e,t,s,o);"redstoneDust"===L[h].name&&(Gt(l,"westUp",h)&&!xyArrayHas(r,i,e+1,t+1,s)&&i.push(e+1,t+1,s,n+1),Gt(l,"eastUp",h)&&!xyArrayHas(r,i,e-1,t+1,s)&&i.push(e-1,t+1,s,n+1),Gt(l,"northUp",h)&&!xyArrayHas(r,i,e,t+1,s+1)&&i.push(e,t+1,s+1,n+1),Gt(l,"southUp",h)&&!xyArrayHas(r,i,e,t+1,s-1)&&i.push(e,t+1,s-1,n+1),Gt(l,"westDown",h)&&!xyArrayHas(r,i,e+1,t-1,s)&&i.push(e+1,t-1,s,n+1),Gt(l,"eastDown",h)&&!xyArrayHas(r,i,e-1,t-1,s)&&i.push(e-1,t-1,s,n+1),Gt(l,"northDown",h)&&!xyArrayHas(r,i,e,t-1,s+1)&&i.push(e,t-1,s+1,n+1),Gt(l,"southDown",h)&&!xyArrayHas(r,i,e,t-1,s-1)&&i.push(e,t-1,s-1,n+1)),r.push(e,t,s,n)}i.splice(0,4)}return r}spreadPower(e,t,s,a,o){if(a)for(var r=this.getRedstoneConnectedTo(e,t,s,a,o),i=0;i<r.length;i+=4){var n=r[i],l=r[i+1],h=r[i+2];if(n!==e||l!==t||h!==s){var d=this.getRedstoneWirePower(n,l,h,o);d!==this.getPower(n,l,h,o)&&this.setPower(n,l,h,d,!1,o)}}}unspreadPower(e,t,s,a,o,r){if(a){for(var i=this.getRedstoneConnectedTo(e,t,s,a,r),n=[],l=0;l<a;l++)for(var h=0;h<i.length;h+=4){var d=i[h],c=i[h+1],p=i[h+2];if(o||d!==e||c!==t||p!==s){var u=this.getRedstoneWirePower(d,c,p,r);u!==this.getPower(d,c,p,r)&&(this.setPower(d,c,p,u,!0,r),n[h]=!0)}}for(h=0;h<n.length;h+=4)if(n[h]){e=i[h],t=i[h+1],s=i[h+2];this.powerChangeUpdate(e,t,s,e,t,s,!1,r),this.powerChangeUpdate(e+1,t,s,e,t,s,!1,r),this.powerChangeUpdate(e-1,t,s,e,t,s,!1,r),this.powerChangeUpdate(e,t,s+1,e,t,s,!1,r),this.powerChangeUpdate(e,t,s-1,e,t,s,!1,r),this.powerChangeUpdate(e,t+1,s,e,t,s,!1,r),this.powerChangeUpdate(e,t-1,s,e,t,s,!1,r),this.updateTags(e,t,s,r,!0)}}}getPowerForWire(e,t,s,a,o){var r=this.getBlock(e,t,s,a);return"redstoneDust"===L[r].name&&o!==(r&_e)?0:this.getPower(e,t,s,a)}getRedstoneWirePower(e,t,s,a){var o=this.getTags(e,t,s,a),r=this.getBlock(e,t,s,a),i=r&_e,n=this.getPowerForWire(e+1,t,s,a,i),l=this.getPowerForWire(e-1,t,s,a,i),h=this.getPowerForWire(e,t,s+1,a,i),d=this.getPowerForWire(e,t,s-1,a,i),c=this.getPowerForWire(e,t+1,s,a,i),p=this.getPowerForWire(e,t-1,s,a,i),u=o&&Gt(o,"westUp",r)?this.getPowerForWire(e+1,t+1,s,a,i):0,m=o&&Gt(o,"eastUp",r)?this.getPowerForWire(e-1,t+1,s,a,i):0,g=o&&Gt(o,"northUp",r)?this.getPowerForWire(e,t+1,s+1,a,i):0,k=o&&Gt(o,"southUp",r)?this.getPowerForWire(e,t+1,s-1,a,i):0,y=o&&Gt(o,"westDown",r)?this.getPowerForWire(e+1,t-1,s,a,i):0,b=o&&Gt(o,"eastDown",r)?this.getPowerForWire(e-1,t-1,s,a,i):0,w=o&&Gt(o,"northDown",r)?this.getPowerForWire(e,t-1,s+1,a,i):0,f=o&&Gt(o,"southDown",r)?this.getPowerForWire(e,t-1,s-1,a,i):0,B=max(n,l,h,d,c,p,g,k,m,u,w,f,b,y,this.redstoneComponentPowering(e,t,s,a)+1)-1;return"strong"===this.getSurroundingBlockPower(e,t,s,a)&&(B=15),B<0?0:B}repeaterIsPowering(e,t,s,a,o,r,i){var n=this.getBlock(a,o,r,i);return n&&("repeater"===L[n].name||L[n].logicGate||"comparator"===L[n].name)?L[n].canHavePower(a,o,r,e,t,s,i,this):0}observerIsPowering(e,t,s,a,o,r,i){var n=this.getBlock(a,o,r,i);return n&&"observer"===L[n].name?L[n].canHavePower(a,o,r,e,t,s,i,this):0}redstoneComponentPowering(e,t,s,a){return max(this.repeaterIsPowering(e,t,s,e+1,t,s,a),this.repeaterIsPowering(e,t,s,e-1,t,s,a),this.repeaterIsPowering(e,t,s,e,t,s+1,a),this.repeaterIsPowering(e,t,s,e,t,s-1,a),this.observerIsPowering(e,t,s,e+1,t,s,a),this.observerIsPowering(e,t,s,e-1,t,s,a),this.observerIsPowering(e,t,s,e,t+1,s,a),this.observerIsPowering(e,t,s,e,t-1,s,a),this.observerIsPowering(e,t,s,e,t,s+1,a),this.observerIsPowering(e,t,s,e,t,s-1,a))}getRedstonePower(e,t,s,a){var o=this.getPower(e+1,t,s,a),r=this.getPower(e-1,t,s,a),i=this.getPower(e,t,s+1,a),n=this.getPower(e,t,s-1,a),l=this.getPower(e,t+1,s,a),h=this.getPower(e,t-1,s,a);return max(o,r,i,n,l,h,this.redstoneComponentPowering(e,t,s,a))}getRepeaterPower(e,t,s,a,o,r,i){return max(this.getPower(a,o,r,i),this.repeaterIsPowering(e,t,s,a,o,r,i),this.observerIsPowering(e,t,s,a,o,r,i))}getPower(e,t,s,a){return this.getTagByName(e,t,s,"power",a)||0}setPower(e,t,s,a,o,r){var i=this.getBlock(e,t,s,r);if(i&&L[i].noSetPower)return;if(L[i].tagBits)this.setTagByName(e,t,s,"power",a,o,r,!0);else{var n=this.getTags(e,t,s,r)||{};a?n.power=a:delete n.power,this.setTags(e,t,s,n,!1,r,!0)}this.updateBlock(e,t,s,!1,!0,null,null,null,r),o||(this.powerChangeUpdate(e,t,s,e,t,s,!1,r),this.powerChangeUpdate(e+1,t,s,e,t,s,!1,r),this.powerChangeUpdate(e-1,t,s,e,t,s,!1,r),this.powerChangeUpdate(e,t,s+1,e,t,s,!1,r),this.powerChangeUpdate(e,t,s-1,e,t,s,!1,r),this.powerChangeUpdate(e,t+1,s,e,t,s,!1,r),this.powerChangeUpdate(e,t-1,s,e,t,s,!1,r))}blockPowerNames={top:"blockPowerTop",bottom:"blockPowerBottom",north:"blockPowerNorth",south:"blockPowerSouth",east:"blockPowerEast",west:"blockPowerWest"};setBlockPower(e,t,s,a,o,r){var i=this.getBlock(e,t,s,r);if(i&&L[i].noSetPower)return;if(null!==a&&"weak"!==a&&"strong"!==a&&(a=null,console.error("Oh no! It can only be strong or weak or null. But it was",a)),a=a?"strong"===a?2:1:0,L[i].tagBits)this.setTagByName(e,t,s,this.blockPowerNames[o],a,!1,r);else{var n=this.getTags(e,t,s,r)||{};a?(n.blockPower||(n.blockPower={}),n.blockPower[o]=a):n.blockPower&&(delete n.blockPower[o],n.blockPower.top||n.blockPower.bottom||n.blockPower.north||n.blockPower.south||n.blockPower.east||n.blockPower.west||delete n.blockPower),this.setTags(e,t,s,n,!1,r)}this.powerChangeUpdate(e,t,s,e,t,s,!0,r),"west"!==o&&this.powerChangeUpdate(e+1,t,s,e,t,s,!0,r),"east"!==o&&this.powerChangeUpdate(e-1,t,s,e,t,s,!0,r),"north"!==o&&this.powerChangeUpdate(e,t,s+1,e,t,s,!0,r),"south"!==o&&this.powerChangeUpdate(e,t,s-1,e,t,s,!0,r),"top"!==o&&this.powerChangeUpdate(e,t+1,s,e,t,s,!0,r),"bottom"!==o&&this.powerChangeUpdate(e,t-1,s,e,t,s,!0,r)}getBlockPower(e,t,s,a,o){var r=this.getTags(e,t,s,o);if(!r)return null;let i,n=this.getBlock(e,t,s,o);if(L[n].tagBits)i=a?this.getTagByName(e,t,s,this.blockPowerNames[a],o):max(this.getTagByName(e,t,s,this.blockPowerNames.top,o),this.getTagByName(e,t,s,this.blockPowerNames.bottom,o),this.getTagByName(e,t,s,this.blockPowerNames.north,o),this.getTagByName(e,t,s,this.blockPowerNames.south,o),this.getTagByName(e,t,s,this.blockPowerNames.east,o),this.getTagByName(e,t,s,this.blockPowerNames.west,o));else{var l=r.blockPower;if(!l)return null;i=a?l[a]:max(l.top,l.bottom,l.north,l.south,l.east,l.west)}return i?2===i?"strong":"weak":null}getSurroundingBlockPower(e,t,s,a){var o=this.getBlockPower(e,t,s-1,null,a),r=this.getBlockPower(e,t,s+1,null,a),i=this.getBlockPower(e-1,t,s,null,a),n=this.getBlockPower(e+1,t,s,null,a),l=this.getBlockPower(e,t+1,s,null,a),h=this.getBlockPower(e,t-1,s,null,a);return"strong"===l||"strong"===h||"strong"===o||"strong"===r||"strong"===i||"strong"===n?"strong":"weak"===l||"weak"===h||"weak"===o||"weak"===r||"weak"===i||"weak"===n?"weak":null}powerChangeUpdate(e,t,s,a,o,r,i,n){var l=this.getBlock(e,t,s,n);l&&L[l].onpowerupdate&&L[l].onpowerupdate(e,t,s,a,o,r,i,n,this)}getBlockRotation(e){switch(e&Xe){case He:return 0;case Ye:return 1;case je:return 2;case Ve:return 3}}getRotationBlock(e){switch(e){case 0:return He;case 1:return Ye;case 2:return je;case 3:return Ve}}canStairConnect(e,t,s){if((e&_e)!=(t&_e))return;let a=this.getBlockRotation(e),o=this.getBlockRotation(t),r=mod(a-o,4);if((t&Qe)===pe){if(1===r)return 1;if(3===r)return-1}else if((t&Qe)===Ie){if(0===r&&s||1===r&&!s)return 1;if(3===r&&s||2===r&&!s)return-1}else if((t&Qe)===Me){if(1===r&&s||0===r&&!s)return 1;if(2===r&&s||3===r&&!s)return-1}}setTimeout(e,t,s,a,o,r,i){let n;if(s||0===s)for(let e=this.timeoutQueue.length-1;e>=0;e--){let t=this.timeoutQueue[e];if(t.x===s&&t.y===a&&t.z===o&&t.dimension===r){n=t;break}}n?(n.func=e,n.time=performance.now()+t,n.x=s,n.y=a,n.z=o,n.dimension=r):this.timeoutQueue.push({func:e,time:performance.now()+t,x:s,y:a,z:o,dimension:r})}doBlockUpdate(e,t,s,a,o,r,i){let n=this.getBlock(e,t,s,a);if(L[n].onupdate)L[n].onupdate(e,t,s,n,this,o,r,i,a);else if((n&Qe)===pe&&L[n].shape===X.stair){let o,r;switch(n&Xe){case He:o=this.getBlock(e,t,s-1,a),r=this.getBlock(e,t,s+1,a);break;case je:o=this.getBlock(e,t,s+1,a),r=this.getBlock(e,t,s-1,a);break;case Ye:o=this.getBlock(e-1,t,s,a),r=this.getBlock(e+1,t,s,a);break;case Ve:o=this.getBlock(e+1,t,s,a),r=this.getBlock(e-1,t,s,a)}let i=this.canStairConnect(n,r,!0),l=this.canStairConnect(n,o,!1);(i||l)&&this.setTimeout((()=>{-1!==i&&-1!==l||(n=n&~Xe|this.getRotationBlock(mod(this.getBlockRotation(n)+1,4))),i?this.setBlock(e,t,s,n&~Qe|Me,!1,!1,!1,!1,a):l&&this.setBlock(e,t,s,n&~Qe|Ie,!1,!1,!1,!1,a)}),y)}}loadChunks(){this.chunkGenQueue.length=0,this.lightingQueue.length=0,this.populateQueue.length=0,this.generateQueue.length=0,this.loadQueue.length=0,this.loaded.length=0,this.loadedNear.length=0;for(let e of this.players){let t="nether"===e.dimension?this.netherChunks:"end"===e.dimension?this.endChunks:this.chunks,s=e.x>>4,a=e.z>>4,o=min(this.loadDistance,e.loadDistance);ts.length=0,ss=e.x,as=e.z;let r=s+o+2,i=a-o-2,n=a+o+2;for(let l=s-o-2;l<=r;l++)for(let r=i;r<=n;r++){let i;t[l]||(t[l]=[]),t[l][r]||(i=new Wt(16*l,16*r,e.dimension,this),t[l][r]=i),i=t[l][r],es(s,a,l,r)<=o&&(i.allGenerated||this.chunkGenQueue.includes(i)||ts.push(i),this.loadedNear.includes(i)||(this.loadedNear[this.loadedNear.length]=i)),this.loaded.includes(i)||(this.loaded[this.loaded.length]=i)}this.chunkGenQueue.push(...ts.sort(os))}}async tick(){let e=performance.now();this.loadedUpdate&&this.loadChunks(),Us=e;let t=0,s=0;for(var a of this.players)a.hidden||(a.sleeping&&t++,s++);let o=s&&t===s;this.settings.dayNightCycle&&(this.time+=o?6.25:.125),this.settings.weatherCycle&&(this.nextWeather-=o?6.25:.125,this.nextWeather<=0&&(this.nextWeather=0,this.weather=this.weather?"":"rain",this.nextWeather=this.weather?1e3*rand(.5,1):1e3*rand(.5,7.5))),"rain"===this.weather||"snow"===this.weather?(this.slowWeatherAmount>=.5&&(this.weatherAmount+=.02,this.weatherAmount>1&&(this.weatherAmount=1)),this.slowWeatherAmount+=.01,this.slowWeatherAmount>1&&(this.slowWeatherAmount=1)):(this.weatherAmount-=.02,this.weatherAmount<0&&(this.weatherAmount=0),this.slowWeatherAmount-=.01,this.slowWeatherAmount<0&&(this.slowWeatherAmount=0));let r=this.time%1e3;this.skyLight=r>725&&r<850?1-(r-725)/125:r>150&&r<275?(r-150)/125:r>=850||r<=150?0:1;for(let e of this.loadedNear)e.tick();for(let e=this.waitingEntities.length-1;e>=0;e--)this.waitingEntities[e].goToChunk()&&this.waitingEntities.splice(e,1);for(let e of this.entities)e.updateAlways&&e.updateAlways();for(let e in this.players)this.players[e].update(),this.players[e].updateLoaded();for(let t=this.timeoutQueue.length-1;t>=0;t--)e-this.timeoutQueue[t].time>=0&&this.timeoutQueue.splice(t,1)[0].func();for(let e=0;e<this.updateQueue.length;e+=7){let t=this.updateQueue[e],s=this.updateQueue[e+1],a=this.updateQueue[e+2],o=this.updateQueue[e+3],r=this.updateQueue[e+4],i=this.updateQueue[e+5],n=this.updateQueue[e+6];this.doBlockUpdate(t,s,a,o,r,i,n)}if(this.updateQueue.length=0,"island"===this.superflat&&this.islandGenerator.stage<10)return this.islandGenerator.promise||(this.islandGenerator.promise=new Promise((e=>this.islandGenerator.promiseResolve=e)),this.loadPromises.push(this.islandGenerator.promise)),this.islandGenerator.Generate(performance.now()),void(this.islandGenerator.stage>=10&&this.islandGenerator.promiseResolve());if(this.ticking)return;this.ticking=!0;let i=!0;for(;i;){if(i=!1,qs.start=performance.now(),this.generateQueue.length){for(let e=0;e<this.generateQueue.length;e++){let t=this.generateQueue[e];t.generated?t.caves||this.usePreBeta?(this.generateQueue.splice(e,1),e--):t.carveCaves():t.generate()}i=!0}if(this.populateQueue.length&&!i){let e=this.populateQueue[this.populateQueue.length-1];e.populated?(this.populateQueue.pop(),this.populateQueue.length&&(i=!0)):(!e.caves&&this.usePreBeta?e.carveCaves():e.populated||await e.populate(),i=!0)}if(this.loadQueue.length&&!i&&(this.loadQueue.pop().load(),i=!0),this.lightingQueue.length&&!i&&(this.lightingQueue.pop().fillLight(),i=!0),this.chunkGenQueue.length&&!i){let e=this.chunkGenQueue[0];this.fillReqs(e.x>>4,e.z>>4,e.type)&&(e.allGenerated=!0,this.chunkGenQueue.shift(),this.generatedChunks++),i=!0}i&&await v()}this.ticking=!1}fillReqs(e,t,s){let a=!0,o="nether"===s?this.netherLoadFrom:"end"===s?this.endLoadFrom:this.loadFrom;for(let o=e-2;o<=e+2;o++)for(let r=t-2;r<=t+2;r++){let i=this.getChunk(16*o,16*r,s);i?(i.generated&&(i.caves||this.usePreBeta)||this.generateQueue.includes(i)||(this.generateQueue.push(i),a=!1),!i.populated&&o>=e-1&&o<=e+1&&r>=t-1&&r<=t+1&&!this.populateQueue.includes(i)&&(this.populateQueue.push(i),a=!1)):a=!1}let r=this.getChunk(16*e,16*t,s);return r.loaded||this.loadQueue.includes(r)||(o[e+","+t]?this.loadQueue.push(r):r.loaded=!0,a=!1),r.lit||this.lightingQueue.includes(r)||(this.lightingQueue.push(r),a=!1),a}getTop(e,t,s){let a=this.getChunk(e,t,s);return a&&a.tops[16*(15&t)+(15&e)]||0}getSolidTop(e,t,s){let a=this.getChunk(e,t,s);return a&&a.solidTops[16*(15&t)+(15&e)]||0}getSaveString(){let e=this.chunks,t=this.netherChunks,s=this.endChunks,a=new Set,o={},r={},i={};for(let t in e)for(let s in e[t]){let n=e[t][s];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],s=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==s[e]||h[e]){a.add(l[e]),d=!0;let s=(e>>8)+t.x,n=(e>>4&15)+t.y-P,c=(15&e)+t.z,p=`${s>>3},${n>>3},${c>>3},0`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&n)<<6|(7&s)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&s]=l[e],o[p][2][(7&s)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&s)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&s)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&s]=l[e],h[e]&&(r[p][(7&n)<<6|(7&s)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),i[p]++)}d||(t.edited=!1)}}for(let e in this.loadFrom){const t=this.loadFrom[e],s=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in s){a.add(s[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},0`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=s[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=s[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=s[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=s[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=s[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=s[e],n[e]&&(r[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),i[p]++)}}for(let e in t)for(let s in t[e]){let n=t[e][s];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],s=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==s[e]||h[e]){a.add(l[e]),d=!0;let s=(e>>8)+t.x,n=(e>>4&15)+t.y-P,c=(15&e)+t.z,p=`${s>>3},${n>>3},${c>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&n)<<6|(7&s)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&s]=l[e],o[p][2][(7&s)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&s)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&s)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&s]=l[e],h[e]&&(r[p][(7&n)<<6|(7&s)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),i[p]++)}d||(t.edited=!1)}}for(let e in this.netherLoadFrom){const t=this.netherLoadFrom[e],s=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in s){a.add(s[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=s[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=s[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=s[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=s[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=s[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=s[e],n[e]&&(r[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),i[p]++)}}for(let e in s)for(let t in s[e]){let n=s[e][t];if(n.edited)for(let e=0;e<n.sections.length;e++){const t=n.sections[e],s=n.cleanSections[e],l=t.blocks,h=t.tags;if(!t.edited)continue;let d=!1;for(let e=0;e<l.length;e++)if(l[e]!==s[e]||h[e]){a.add(l[e]),d=!0;let s=(e>>8)+t.x,n=(e>>4&15)+t.y-P,c=(15&e)+t.z,p=`${s>>3},${n>>3},${c>>3},2`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&n)<<6|(7&s)<<3|7&c]=l[e],o[p][1][(7&n)<<6|(7&c)<<3|7&s]=l[e],o[p][2][(7&s)<<6|(7&n)<<3|7&c]=l[e],o[p][3][(7&s)<<6|(7&c)<<3|7&n]=l[e],o[p][4][(7&c)<<6|(7&s)<<3|7&n]=l[e],o[p][5][(7&c)<<6|(7&n)<<3|7&s]=l[e],h[e]&&(r[p][(7&n)<<6|(7&s)<<3|7&c]="number"==typeof h[e]?h[e]:JSON.stringify(h[e]).substring(0,65535),i[p]++)}d||(t.edited=!1)}}for(let e in this.endLoadFrom){const t=this.endLoadFrom[e],s=t.blocks,n=t.tags;let[l,h]=e.split(",").map(Number);for(let e in s){a.add(s[e]);const t=(15&e)+16*h,d=(e>>4&15)+16*l,c=e>>8&255;let p=`${d>>3},${c>>3},${t>>3},1`;if(!o[p]){o[p]=[];for(let e=0;e<6;e++)o[p].push(new Int32Array(512).fill(-1));r[p]=[],i[p]=0}o[p][0][(7&c)<<6|(7&d)<<3|7&t]=s[e],o[p][1][(7&c)<<6|(7&t)<<3|7&d]=s[e],o[p][2][(7&d)<<6|(7&c)<<3|7&t]=s[e],o[p][3][(7&d)<<6|(7&t)<<3|7&c]=s[e],o[p][4][(7&t)<<6|(7&d)<<3|7&c]=s[e],o[p][5][(7&t)<<6|(7&c)<<3|7&d]=s[e],n[e]&&(r[p][(7&c)<<6|(7&d)<<3|7&t]="number"==typeof n[e]?n[e]:JSON.stringify(n[e]).substring(0,65535),i[p]++)}}let n=Array.from(a),l={};n.forEach(((e,t)=>l[e]=t));let h=ae.bits(n.length),d="island"===this.superflat?2:"void"===this.superflat?3:this.superflat,c=this.usePreBeta?1:0,p="rain"===this.weather?1:"snow"===this.weather?2:0,u=new ae;u.addString(this.name),u.add(this.worldSeed,32),u.add(round(this.time),32),u.add(p,2).add(this.nextWeather,17),u.add(d,2).add(this.caves,1).add(this.trees,1),u.add(version.length,8);for(let e of version)u.add(e.charCodeAt(0),8);u.add(c,1),u.add(n.length,32);for(let e of n)u.add(e,32);let m=Object.entries(o);u.add(m.length,32);for(let[e,t]of m){let[s,a,o,n]=e.split(",").map(Number);u.add(s,16).add(a,8).add(o,16).add(n,3);let d=null;for(let s=0;s<6;s++){let a=new ae,o=t[s];a.add(s,3);let n=null,c=[],p=[];for(let e=0;e<o.length;e++){const t=o[e];t>=0?(!n&&e<o.length-2&&o[e+1]>=0&&o[e+2]>=0&&(n=[e,[]],c.push(n)),n?n[1].length&&t===n[1][n[1].length-1][1]?n[1][n[1].length-1][0]++:n[1].push([1,t]):p.push([e,o[e]])):n=null}a.add(c.length,8),a.add(p.length,9);for(let[e,t]of c){let s=0;for(let e of t)s=Math.max(s,e[0]);let o=ae.bits(s);a.add(e,9).add(t.length,9).add(o,4);for(let[e,s]of t)a.add(e-1,o).add(l[s],h)}for(let[e,t]of p)a.add(e,9).add(l[t],h);if(a.add(i[e],9),i[e])for(let t in r[e]){let s=r[e][t];a.add(t,9),"number"==typeof s?(a.add(0,1),a.add(s,32)):(a.add(1,1),a.addString(s,16))}(!d||a.bitLength<d.bitLength)&&(d=a)}u.append(d)}u.add($.length,8);for(let e of $)u.add(this.settings[e]?1:0,1);let g=this.entities.filter((e=>!e.remote));u.add(g.length,32);let k=performance.now();for(let e of g){let t=this.getEntPos(e,k);u.add(t.bitLength,16),u.append(t)}return u.add(this.survival?"hardcore"===this.survival?2:1:0,2).add(this.cheats?1:0,1),u.add(this.fancyRivers,1),u.array}loadSave(e,t=!1){if("string"==typeof e){if(e.includes("Alpha"))try{return this.loadOldSave(e,t)}catch(e){console.error(e),alert("Unable to load save string.")}try{e=atoarr(e)}catch(e){throw alert("Malformatted save string. Unable to load"),e}}let s=new re(e);this.name=s.readString(),this.setSeed(s.read(32),!0),this.time=s.read(32);let a=s.read(2);this.weather=1===a?"rain":2===a?"snow":"",this.nextWeather=s.read(17);let o=s.read(2);this.caves=s.read(1),this.trees=s.read(1);let r=s.read(8);try{this.version="";for(let e=0;e<r;e++)this.version+=String.fromCharCode(s.read(8));if(!this.version.includes("Alpha")&&!this.version.includes("Beta"))throw""}catch(s){return console.error(s),this.loadCrossSaveCode(e,t)}let i=ht("1.1.0",this.version.replace(/(Alpha|Beta) /,""));if((i?1:s.read(1))&&0===o?(this.superflat=!1,this.usePreBeta=!0):(this.superflat=2===o?"island":3===o?"void":Boolean(o),this.usePreBeta=!1),t)return;let n=s.read(32),l=[],h=ae.bits(n);for(let e=0;e<n;e++)l.push(s.read(32));const d=[(e,t,s,a)=>256*(s+(e>>6&7))+16*(t+(e>>3&7))+a+(e>>0&7),(e,t,s,a)=>256*(s+(e>>6&7))+16*(t+(e>>0&7))+a+(e>>3&7),(e,t,s,a)=>256*(s+(e>>3&7))+16*(t+(e>>6&7))+a+(e>>0&7),(e,t,s,a)=>256*(s+(e>>0&7))+16*(t+(e>>6&7))+a+(e>>3&7),(e,t,s,a)=>256*(s+(e>>0&7))+16*(t+(e>>3&7))+a+(e>>6&7),(e,t,s,a)=>256*(s+(e>>3&7))+16*(t+(e>>0&7))+a+(e>>6&7)];let c=s.read(32),p=[{},{},{}];for(let e=0;e<c;e++){let e=8*s.read(16,!0),t=8*s.read(i?5:8,!1),a=8*s.read(16,!0),o=s.read(3),r=s.read(3);i&&(t-=P);let n=e>>4,c=a>>4;e=e!==16*n?8:0,a=a!==16*c?8:0;let u=`${n},${c}`,m=p[o][u];m||(m={blocks:[],tags:[]},p[o][u]=m);let g=s.read(8),k=s.read(9);for(let o=0;o<g;o++){let o=s.read(9),i=s.read(9),n=s.read(4);for(let c=0;c<i;c++){let i=s.read(n)+1,c=s.read(h);for(let s=0;s<i;s++)m.blocks[d[r](o,e,t,a)]=l[c],o++}}for(let o=0;o<k;o++){let o=s.read(9),i=s.read(h);m.blocks[d[r](o,e,t,a)]=l[i]}let y=s.read(9);for(let o=0;o<y;o++){let o=s.read(9);if(s.read(1)){let r=s.readString(16);try{m.tags[d[0](o,e,t,a)]=JSON.parse(r)}catch(e){console.log(e)}}else m.tags[d[0](o,e,t,a)]=s.read(32)}}this.loadFrom=p[0],this.loadKeys=Object.keys(p[0]),this.netherLoadFrom=p[1],this.netherLoadKeys=Object.keys(p[1]),this.endLoadFrom=p[2],this.endLoadKeys=Object.keys(p[2]);let u=s.read(8);Object.assign(this.settings,J);for(let e=0;e<u;e++)this.settings[$[e]]=!!s.read(1);if(i){let e=this.playersInv[":host"]=this.playersInv[":host"]||{},t=s.read(8);if(t){e.survivStr=s.readToArrayBits(t);let a={};this.loadSurvivStr(new re(e.survivStr,!0),i,a),this.cheats=a.cheats,this.survival=a.survival}let a=s.read(16);a&&(e.inv=s.readToArrayBits(a))}let m=s.read(32);for(let e=0;e<m;e++){let e=s.read(16);this.posEntity(s.readToNew(e,!0),null,i)}i||(this.survival=s.read(2),this.survival=1===this.survival||2===this.survival&&"hardcore",this.cheats=s.read(1),s.canRead?this.fancyRivers=s.read(1):this.fancyRivers=!1),this.findSpawnPoint()}getBlockConvert(){const e=512,t=1024;return["air","grass","dirt","stone","bedrock","sand","gravel","leaves","glass","cobblestone","mossyCobble","stoneBricks","mossyStoneBricks","bricks","coalOre","ironOre","goldOre","diamondOre","redstoneOre","lapisOre","emeraldOre","coalBlock","ironBlock","goldBlock","diamondBlock","redstoneBlock","lapisBlock","emeraldBlock","oakPlanks","oakLog","acaciaPlanks","acaciaLog","birchPlanks","birchLog","darkOakPlanks","darkOakLog","junglePlanks","jungleLog","sprucePlanks","spruceLog","whiteWool","orangeWool","magentaWool","lightBlueWool","yellowWool","limeWool","pinkWool","grayWool","lightGrayWool","cyanWool","purpleWool","blueWool","brownWool","greenWool","redWool","blackWool","whiteConcrete","orangeConcrete","magentaConcrete","lightBlueConcrete","yellowConcrete","limeConcrete","pinkConcrete","grayConcrete","lightGrayConcrete","cyanConcrete","purpleConcrete","blueConcrete","brownConcrete","greenConcrete","redConcrete","blackConcrete","bookshelf","netherrack","soulSand","glowstone","netherWartBlock","netherBricks","redNetherBricks","netherQuartzOre","quartzBlock","quartzPillar","chiseledQuartzBlock","chiseledStoneBricks","smoothStone","andesite","polishedAndesite","diorite","polishedDiorite","granite","polishedGranite","light","water","lava","obsidian","cryingObsidian","endStone","endStoneBricks","chiseledNetherBricks","crackedNetherBricks","crackedPolishedBlackstoneBricks","crackedStoneBricks","polishedBlackstoneBricks","prismarineBricks","quartzBricks","oakDoorTop","oakDoorBottom","warpedDoorTop","warpedDoorBottom","ironTrapdoor"].reduce(((s,a,o)=>({...s,[o]:I[a],[256|o]:I[a]|ce,[256|o|t]:I[a]|_e,[o|e]:I[a]|pe,[o|e|2048]:I[a]|pe|je,[o|e|4096]:I[a]|pe|Ye,[o|e|6144]:I[a]|pe|Ve,[o|e|t]:I[a]|pe|_e,[o|e|2048|t]:I[a]|pe|je|_e,[o|e|4096|t]:I[a]|pe|Ye|_e,[o|e|6144|t]:I[a]|pe|Ve|_e})),{})}loadCrossSaveCode(e,t){const s=this.getBlockConvert();let a=new re(e),o=a.read(8);this.name="";for(let e=0;e<o;e++)this.name+=String.fromCharCode(a.read(8));this.setSeed(a.read(32),!0),this.time=0*a.read(32)+500;let r=this.playersInv[":host"]={};r.customPos=!0,r.x=a.read(20,!0),r.y=a.read(8),r.z=a.read(20,!0),a.skip(11),a.skip(11);for(let e=0;e<9;e++)a.skip(16);if(a.skip(4),a.skip(1),a.skip(1),this.superflat=Boolean(a.read(1)),this.caves=a.read(1),this.trees=a.read(1),this.version="Alpha "+[a.read(8),a.read(8),a.read(8)].join("."),this.usePreBeta=!this.superflat,t)return;let i=a.read(16),n=[],l=ae.bits(i);for(let e=0;e<i;e++)n.push(a.read(16));for(let e=0;e<n.length;e++)s[n[e]]&&(n[e]=s[n[e]]);const h=[(e,t,s,a)=>256*(s+(e>>6&7))+16*(t+(e>>3&7))+a+(e>>0&7),(e,t,s,a)=>256*(s+(e>>6&7))+16*(t+(e>>0&7))+a+(e>>3&7),(e,t,s,a)=>256*(s+(e>>3&7))+16*(t+(e>>6&7))+a+(e>>0&7),(e,t,s,a)=>256*(s+(e>>0&7))+16*(t+(e>>6&7))+a+(e>>3&7),(e,t,s,a)=>256*(s+(e>>0&7))+16*(t+(e>>3&7))+a+(e>>6&7),(e,t,s,a)=>256*(s+(e>>3&7))+16*(t+(e>>0&7))+a+(e>>6&7)];let d=a.read(32),c={};for(let e=0;e<d;e++){let e=8*a.read(16,!0),t=8*a.read(5,!1)-P,s=8*a.read(16,!0),o=a.read(3),r=e>>4,i=s>>4;e=e!==16*r?8:0,s=s!==16*i?8:0;let d=`${r},${i}`,p=c[d];p||(p={blocks:[],tags:[]},c[d]=p);let u=a.read(8),m=a.read(9);for(let r=0;r<u;r++){let r=a.read(9),i=a.read(9),d=a.read(4);for(let c=0;c<i;c++){let i=a.read(d)+1,c=a.read(l);for(let a=0;a<i;a++)p.blocks[h[o](r,e,t,s)]=n[c],r++}}for(let r=0;r<m;r++){let r=a.read(9),i=a.read(l);p.blocks[h[o](r,e,t,s)]=n[i]}}this.loadFrom=c,this.loadKeys=Object.keys(c),this.spawnPoint.y=this.superflat?6:round(this.noiseProfile.noise(8*f.smooth,8*f.smooth)*f.height)+2+f.extra,Object.assign(this.settings,J)}loadOldSave(e,t){let s=e.split(";");if(!e.includes("Alpha "))return alert("too old");this.name=s.shift();let a=s.shift().split(",");this.setSeed(parseInt(a.shift(),36),!0),this.time="string"==typeof a[0]?parseFloat(a.shift()):(a.shift(),375),this.weather=a.shift()||"",this.nextWeather=parseFloat(a.shift())||this.nextWeather;let o=this.playersInv[":host"]={},r=s.shift().split(",");o.customPos=!0,o.x=parseInt(r[0],36),o.y=parseInt(r[1],36),o.z=parseInt(r[2],36);let i=parseInt(r[5],36);s[0].replace("Alpha ","");this.superflat=i>>1&3,0===this.superflat&&(this.superflat=!1),1===this.superflat&&(this.superflat=!0),2===this.superflat&&(this.superflat="island"),3===this.superflat&&(this.superflat="void"),this.caves=i>>4&1,this.trees=i>>5&1,this.survival=!!(i>>6&1),this.cheats=!this.survival;let n=s.shift();if(this.version=n,this.usePreBeta=!this.superflat,t)return;let l=s.shift().split("|"),h=l[0].split(",").map((e=>parseInt(e,36))),d=l[1]?l[1].split(",").map((e=>parseInt(e,36))):"",c=l[2]?l[2].split(",").map((e=>parseInt(e,36))):"",p={},u={},m={};if(!ht(n.replace("Alpha ",""),"0.7.1")){const e=this.getBlockConvert();for(let t=0;t<h.length;t++)e[h[t]]&&(h[t]=e[h[t]])}let g="";for(let e=0;s.length;e++){let e=s.shift().split(",");if(e[0].startsWith("|")&&(e[0]=e[0].substring(1),""===g?g="nether":"nether"===g?g="end":alert("Error: Save string cotains extra dimensions not in this version.")),!e[0])continue;let t=parseInt(e.shift(),36),a=parseInt(e.shift(),36),o=`${t},${parseInt(e.shift(),36)}`;p[o]||(p[o]={blocks:[],tags:[]});let r=p[o];var k="nether"===g?d:"end"===g?c:h;for(let t=0;t<e.length;t++){let s,o;if(e[t].includes("/")){let a=e[t].split("/");s=parseInt(a[0],36);try{o=parseInt(a[1],36)||JSON.parse(a[1].replace(/\\x2f/g,"/").replace(/\\x3b/g,";").replace(/\\x2c/g,",").replace(/\\x7c/g,"|"))}catch(e){console.error(e,a[1])}}else s=parseInt(e[t],36);let i=256*(16*a+(s>>4&15)-P)+16*(s>>8&15)+(15&s),n=s>>12;r.blocks[i]=k[n],r.tags[i]=o}}this.loadFrom=p,this.loadKeys=Object.keys(p),this.netherLoadFrom=u,this.netherLoadKeys=Object.keys(u),this.endLoadFrom=m,this.endLoadKeys=Object.keys(m),this.spawnPoint.y=this.superflat?6:round(this.noiseProfile.noise(8*f.smooth,8*f.smooth)*f.height)+2+f.extra,Object.assign(this.settings,J)}setResourcePacks(e,t){this.activeResourcePacks.length=0,this.activeResourcePacks.push(...t),this.resourcePacks.length=0,this.resourcePacks.push(...e),this.sendAll({type:"resourcePacks",resourcePacks:this.resourcePacks,activeResourcePacks:this.activeResourcePacks})}loadMod(e){this.mod=e,this.modContainer&&(this.modContainer.contentWindow.postMessage({close:!0}),this.modContainer.remove());const t=window.URL.createObjectURL(new Blob(['\n<!doctype html>\n<html><head><meta charset="utf-8"></head><body><script>\nlet worker\naddEventListener(\'message\',e => {\n\tif(e.data.createWorker){\n\t\tconst workerURL = window.URL.createObjectURL(new Blob(e.data.data, { type: "text/javascript" }))\n\t\tworker = new Worker(workerURL)\n\t\tworker.onmessage = e => {\n\t\t\twindow.parent.postMessage(e.data, "*")\n\t\t}\n\t}else if(e.data.close){\n\t\tworker.terminate()\n\t}else{\n\t\tworker.postMessage(e.data)\n\t}\n})\nwindow.parent.postMessage({ready:true}, "*")\n<\/script></body></html>\n'],{type:"text/html"}));let s=this.modContainer=document.createElement("iframe");s.src=t,s.className="hidden",s.sandbox="allow-scripts",doc.body.appendChild(s);let a=this;const o=["getBlock","setBlock","getTags","setTags","getTagByName","setTagByName"],r={showTitle:showTitle,sideMessage:sideMessage,customMenu:customMenu,safeEval:safeEval};s.messageListener=addEventListener("message",(t=>{if(t.source===s.contentWindow)if(t.data.ready)s.contentWindow.postMessage({createWorker:!0,data:[document.querySelector("#modPreCode").text.replace("SAFEFUNCTIONS",JSON.stringify(o)).replace("SAFEGLOBALFUNCTIONS",JSON.stringify(Object.keys(r)))+"\n","const host="+(host?"true":"false")+"\n",e]},"*");else{const{data:e}=t;o.includes(e.action)?s.contentWindow.postMessage({id:e.id,data:a[e.action](...e.data)},"*"):r[e.action]&&s.contentWindow.postMessage({id:e.id,data:r[e.action](...e.data)},"*")}}))}loadSurvivStr(e,t,s){s.targetX=e.read(20,!0),s.targetY=t?e.read(8):e.read(11,!0),s.targetZ=e.read(20,!0);let a=e.read(3);return s.dimension=1===a?"nether":2===a?"end":"",e.skip(11),e.skip(11),e.skip(1),s.spectator=e.read(1),e.read(5),e.skip(8),e.skip(16),e.skip(4),e.skip(20,!0),e.skip(20,!0),e.skip(20,!0),e.skip(5),e.skip(5),e.skip(2),e.skip(5),s.survival=e.read(2),s.survival=1===s.survival||2===s.survival&&"hardcore",s.cheats=Boolean(e.read(1)),s}getSurvivStr(e,t){let s=new oe(e);return s.overwrite(round(t.targetX),20).overwrite(round(t.targetY),11).overwrite(round(t.targetZ),20),s.overwrite("nether"===t.dimension?1:"end"===t.dimension?2:0,3),s.skip(11).skip(11),s.skip(1).overwrite(t.spectator,1),s.skip(5),s.skip(8),s.skip(16),s.skip(4),s.skip(20).skip(20).skip(20),s.skip(5).skip(5).skip(2),s.skip(5),s.overwrite(t.survival?"hardcore"===t.survival?2:1:0,2).overwrite(t.cheats?1:0,1),s.skip(8),s.skip(16).skip(16),s.skip(1),s.skip(11),s}onpos(){this.sendAll({type:"settings",data:this.settings,time:this.time,weather:this.weather})}serverAddPlayer(e,t,s,a=!1,o=!1){let r=new Ct;r.id=t,r.host=a,r.connection=e,r.admin=o,r.loadChunks=[],r.loadDistance=0,r.posUpdated={};for(let e of this.players)e.pos&&e!==r&&(r.posUpdated[e.id]=e.pos);r.lastSendEntities=0,r.updateingLoadedI=0,this.players.push(r);let i=this;function n(e){for(let t of i.players)t!==r&&t.connection.send(e)}e.onmessage=async function(l){if("connect"===l.type){s=r.username=s||l.username,await Promise.all(i.loadPromises),r.cheats=i.cheats;let t=i.playersInv[a?":host":l.USER];t&&("string"==typeof t.inv&&(t.inv=atoarr(t.inv)),"string"==typeof t.survivStr&&(t.survivStr=atoarr(t.survivStr)),i.loadSurvivStr(new re(t.survivStr),!1,r)),e.send({type:"loadSave",name:i.name,mod:i.mod,id:i.id,inv:t,resourcePacks:i.resourcePacks,activeResourcePacks:i.activeResourcePacks,spawnPointX:i.spawnPoint.x,spawnPointZ:i.spawnPoint.z,spawnPointY:i.spawnPoint.y,version:i.version,weather:i.weather,time:i.time,survival:i.survival?"hardcore"===i.survival?2:1:0,cheats:i.cheats}),e.send({type:"serverCmds",data:i.serverCommands}),n(l)}else if("pos"===l.type){let s=l.data;r.setPos(s.x,s.y,s.z,s.velx,s.vely,s.velz),r.setRot(s.rx,s.ry,s.bodyRot),r.sneaking=s.sneaking,r.dimension=s.dimension,r.survival=s.survival,r.harmEffect=s.harmEffect,r.crackPos=s.crackPos,r.crack=s.crack,r.burning=s.burning,r.holding=s.holding||0,r.walking=s.walking,r.sprinting=s.sprinting,r.punchEffect=s.punchEffect,r.eating=s.eating,r.sleeping=s.sleeping,r.sitting=s.sitting,r.swimming=s.swimming,r.usingItem=s.usingItem,r.hidden=s.hidden,r.spectating=s.spectating,r.spectator=s.spectator,r.afk=l.afk,r.scale=s.scale,l.inv&&(l.inv.survivStr=i.getSurvivStr(l.inv.survivStr,r).array,i.playersInv[a?":host":l.USER]=l.inv,e.onGetInv&&(e.onGetInv(),delete e.onGetInv)),r.pos=l,delete r.pos.inv;for(let e of i.players)e!==r&&e.pos&&(e.posUpdated[t]=r.pos);for(let t in r.posUpdated)r.posUpdated[t]&&(e.send(r.posUpdated[t]),r.posUpdated[t]=null);let o=performance.now();if(o-r.lastSendEntities>125){r.lastSendEntities=o;let e=i.getEntities(r),t=[],s=0;for(let a=0;a<e.length;a++){let o=e[a],i=o.length;s+i>1e4&&(r.connection.send({type:"entityPosAll",data:t}),s=0,t.length=0),s+=i,t.push(o)}s&&r.connection.send({type:"entityPosAll",data:t})}e.send({type:"canSendPos"})}else if("loadChunks"===l.type)r.updateingLoadedI++,r.loadDistance=l.loadDistance,r.loadChunks=l.data,r.dimension=l.dimension,i.loadedUpdate=!0;else if("mySkin"===l.type||"particles"===l.type||"achievment"===l.type||"harmEffect"===l.type||"playSound"===l.type||"title"===l.type||"joined"===l.type)n(l);else if("hit"===l.type)if(l.isEntity){let e=i.entities[i.getEntity(l.TO)];e&&e.onhit(l.damage,!1,l.velx,l.velz,l.id)}else sendPlayer(l,l.TO);else if("message"===l.type)l.fromServer=!1,l.username=s,n(l);else if("setBlock"===l.type){let e=l.data;i.setBlock(e.x,e.y,e.z,e.block,!1,!1,!0,e.keepTags,e.dimension),i.sendAllInChunk(l,e.x>>4,e.z>>4,e.dimension)}else if("setTags"===l.type)i.setTags(l.x,l.y,l.z,l.data,!0,l.dimension,l.lazy),n(l);else if("serverChangeBlock"===l.type)i.serverChangeBlock(l.x,l.y,l.z,l.dimension,l.action,l.block,l.p,l.face);else if("entityPos"===l.type)i.posEntity(new re(l.data,!0),!0),n(l);else if("entityDelete"===l.type)i.deleteEntity(l.id,!0),n(l);else if("entEvent"===l.type){var h=i&&i.entities[i.getEntity(l.id)];if(!h)return;"wolfTarget"===l.event&&h.owner===t&&(h.target=l.data)}else if("entClick"===l.type){let e=i.entities[i.getEntity(l.id)];if(l.fromItem){let t=L[l.fromItem.id];t&&t.onserverentityuse&&t.onserverentityuse(e,l.fromItem)}else e&&e.onclick&&e.onclick(l.holding,t)}else"kill"===l.type?"@a"===l.data?n({type:"kill",data:l.message}):i.sendPlayerName({type:"kill",data:l.message},l.data):"die"===l.type?(r.die=!0,n(l),i.poof(r.x,r.y,r.z,void 0,r.dimension,2*r.w,r.height,2*r.w,!0)):"remoteControl"===l.type?(a||o)&&i.sendPlayer(l,l.TO):"diamondsToYou"===l.type?i.sendPlayer(l,l.TO):"serverCmd"===l.type&&yt(l.data,l.args,r,l.scope||{},i,l.id,r.cheats)},e.onclose=function(){let s=i.players.indexOf(r);-1!==s&&i.players.splice(s,1);for(let e of i.players)delete e.posUpdated[t];i.sendAll({type:"dc",data:r.id}),e.onGetInv&&e.onGetInv()},r.updateLoaded=async function(){if(this.updateingLoaded)return;let t=this.updateingLoadedI;this.updateingLoaded=!0;for(let s=0;s<r.loadChunks.length&&this.updateingLoadedI===t;s+=2){let t=r.loadChunks[s],a=r.loadChunks[s+1],o=i.getChunk(16*t,16*a,r.dimension);o&&o.allGenerated&&(e.send({type:"chunkData",x:t,z:a,data:await o.getData(),tops:o.tops,solidTops:o.solidTops,biomes:o.biomes,caveY:o.caveY,caveBiomes:o.caveBiomes}),r.loadChunks.splice(s,2),s-=2)}this.updateingLoaded=!1}}sendAll(e){for(let t of this.players)t.connection.send(e)}sendPlayerName(e,t){for(var s of this.players)s.username===t&&s.connection.send(e)}sendPlayer(e,t){for(var s of this.players)s.id===t&&s.connection.send(e)}sendAllInChunk(e,t,s,a){for(let o of this.players)o.dimension===a&&es(t,s,round(o.x/16),round(o.z/16))<=o.loadDistance&&o.connection.send(e)}requestAllInvs(){let e=[];for(let t of this.players)e.push(new Promise((e=>t.connection.onGetInv=e))),t.connection.send({type:"shouldSendInv"});return Promise.all(e)}close(){S({deleteSeed:this.worldSeed});for(let e of this.players)e.connection.close();clearInterval(this.pos),this.modContainer&&(this.modContainer.contentWindow.postMessage({close:!0}),this.modContainer.remove())}}function js(e){A(),e("Initialized server block data."),nt(),e("Initialized server shapes."),S({blockIds:M,biomeIds:Gs,blockStates:{CROSS:ue,LAYER1:Ae,LAYER2:Oe,LAYER3:Ge,LAYER4:We,LAYER5:Fe,LAYER6:Ee,LAYER7:Ue,LAYER8:qe,isCube:Ze},semiTrans:D})}win.ServerWorld=Hs,win.initServerEverything=js}